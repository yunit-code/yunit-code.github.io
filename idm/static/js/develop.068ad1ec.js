(window["idmcore_webpackJsonp"]=window["idmcore_webpackJsonp"]||[]).push([["develop"],{"02f0":function(e,t,n){},"030f":function(e,t,n){(function(e){(function(){"use strict";var t=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return function(n){return t(n)===e}},r=function(e){return function(t){return typeof t===e}},i=function(e){return function(t){return e===t}},o=n("string"),a=n("object"),s=n("array"),u=r("boolean"),c=i(void 0),l=function(e){return null===e||void 0===e},d=function(e){return!l(e)},f=r("function"),A=r("number"),h=function(e,t){if(s(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},p=function(){},m=function(e){return function(){return e()}},g=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},v=function(e,t){return function(n){return e(t(n))}},y=function(e){return function(){return e}},b=function(e){return e};function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var x=function(e){return function(t){return!e(t)}},C=function(e){return function(){throw new Error(e)}},S=y(!1),k=y(!0),_=tinymce.util.Tools.resolve("tinymce.ThemeManager"),B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B.apply(this,arguments)};function D(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function M(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var E,T=function(){return I},I=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:S,isSome:S,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:n,orThunk:t,map:T,each:p,bind:T,exists:S,forall:k,filter:T,equals:e,equals_:e,toArray:function(){return[]},toString:y("none()")};return r}(),O=function(e){var t=y(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:k,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return O(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:I},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(S,(function(t){return n(e,t)}))}};return i},L=function(e){return null===e||void 0===e?I:O(e)},F={some:O,none:T,from:L},P=Array.prototype.slice,N=Array.prototype.indexOf,U=Array.prototype.push,H=function(e,t){return N.call(e,t)},R=function(e,t){var n=H(e,t);return-1===n?F.none():F.some(n)},V=function(e,t){return H(e,t)>-1},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},j=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},z=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=P.call(e,r,r+t);n.push(i)}return n},G=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},K=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},q=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},W=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i)?n:r;s.push(a)}return{pass:n,fail:r}},$=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},X=function(e,t,n){return q(e,(function(e){n=t(n,e)})),n},Y=function(e,t,n){return K(e,(function(e){n=t(n,e)})),n},J=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return F.some(o);if(n(o,r))break}return F.none()},Z=function(e,t){return J(e,t,S)},ee=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return F.some(n)}return F.none()},te=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);U.apply(t,e[n])}return t},ne=function(e,t){return te(G(e,t))},re=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},ie=function(e){var t=P.call(e,0);return t.reverse(),t},oe=function(e,t){return $(e,(function(e){return!V(t,e)}))},ae=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},se=function(e,t){var n=P.call(e,0);return n.sort(t),n},ue=function(e,t){return t>=0&&t<e.length?F.some(e[t]):F.none()},ce=function(e){return ue(e,0)},le=function(e){return ue(e,e.length-1)},de=f(Array.from)?Array.from:function(e){return P.call(e)},fe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return F.none()},Ae=function(e){var t=function(t){return e===t},n=function(t){return Ae(e)},r=function(t){return Ae(e)},i=function(t){return Ae(t(e))},o=function(t){return Ae(e)},a=function(t){t(e)},s=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},d=function(){return F.some(e)};return{is:t,isValue:k,isError:S,getOr:y(e),getOrThunk:y(e),getOrDie:y(e),or:n,orThunk:r,fold:u,map:i,mapError:o,each:a,bind:s,exists:c,forall:l,toOptional:d}},he=function(e){var t=function(e){return e()},n=function(){return C(String(e))()},r=function(e){return e},i=function(e){return e()},o=function(t){return he(e)},a=function(t){return he(t(e))},s=function(t){return he(e)},u=function(t,n){return t(e)};return{is:S,isValue:S,isError:k,getOr:b,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:u,map:o,mapError:a,each:p,bind:s,exists:S,forall:k,toOptional:F.none}},pe=function(e,t){return e.fold((function(){return he(t)}),Ae)},me={value:Ae,error:he,fromOption:pe};(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(E||(E={}));var ge=function(e,t,n){return e.stype===E.Error?t(e.serror):n(e.svalue)},ve=function(e){var t=[],n=[];return K(e,(function(e){ge(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},ye=function(e,t){return e.stype===E.Error?{stype:E.Error,serror:t(e.serror)}:e},be=function(e,t){return e.stype===E.Value?{stype:E.Value,svalue:t(e.svalue)}:e},we=function(e,t){return e.stype===E.Value?t(e.svalue):e},xe=function(e,t){return e.stype===E.Error?t(e.serror):e},Ce=function(e){return{stype:E.Value,svalue:e}},Se=function(e){return{stype:E.Error,serror:e}},ke=function(e){return ge(e,me.error,me.value)},_e=function(e){return e.fold(Se,Ce)},Be={fromResult:_e,toResult:ke,svalue:Ce,partition:ve,serror:Se,bind:we,bindError:xe,map:be,mapError:ye,fold:ge},De=Object.keys,Me=Object.hasOwnProperty,Ee=function(e,t){for(var n=De(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},Te=function(e,t){return Ie(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ie=function(e,t){var n={};return Ee(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},Oe=function(e){return function(t,n){e[n]=t}},Le=function(e,t,n,r){var i={};return Ee(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Fe=function(e,t){var n={};return Le(e,t,Oe(n),p),n},Pe=function(e,t){var n=[];return Ee(e,(function(e,r){n.push(t(e,r))})),n},Ne=function(e,t){for(var n=De(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];if(t(a,o,e))return F.some(a)}return F.none()},Ue=function(e){return Pe(e,(function(e){return e}))},He=function(e,t){return Re(e,t)?F.from(e[t]):F.none()},Re=function(e,t){return Me.call(e,t)},Ve=function(e,t){return Re(e,t)&&void 0!==e[t]&&null!==e[t]},Qe=function(e){if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return K(e,(function(r,i){var o=De(r);if(1!==o.length)throw new Error("one and only one name per case");var a=o[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n.length;if(o!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+o);var s=function(e){var r=De(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));var i=re(t,(function(e){return V(r,e)}));if(!i)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var o=t[i];return o.apply(null,n)},match:s,log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},je={generate:Qe},ze=Object.prototype.hasOwnProperty,Ge=function(e,t){return t},Ke=function(e,t){var n=a(e)&&a(t);return n?We(e,t):t},qe=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)ze.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},We=qe(Ke),$e=qe(Ge),Xe=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},Ye=je.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Je=function(e){return Ye.defaultedThunk(y(e))},Ze=function(e){return Ye.mergeWithThunk(y(e))},et=Ye.strict,tt=Ye.asOption,nt=Ye.defaultedThunk,rt=(Ye.asDefaultedOptionThunk,Ye.mergeWithThunk),it=(je.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return K(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}),ot=function(e,t){var n={};return Ee(e,(function(e,r){V(t,r)||(n[r]=e)})),n},at=function(e,t){var n;return n={},n[e]=t,n},st=function(e){var t={};return K(e,(function(e){t[e.key]=e.value})),t},ut=function(e,t){return ot(e,t)},ct=function(e,t){return at(e,t)},lt=function(e){return st(e)},dt=function(e,t){return 0===e.length?me.value(t):me.value(We(t,$e.apply(void 0,e)))},ft=function(e){return me.error(te(e))},At=function(e,t){var n=it(e);return n.errors.length>0?ft(n.errors):dt(n.values,t)},ht=function(e,t){return e.length>0?Be.svalue(We(t,$e.apply(void 0,e))):Be.svalue(t)},pt=function(e){return g(Be.serror,te)(e)},mt=function(e,t){var n=Be.partition(e);return n.errors.length>0?pt(n.errors):ht(n.values,t)},gt=function(e){var t=Be.partition(e);return t.errors.length>0?pt(t.errors):Be.svalue(t.values)},vt={consolidateObj:mt,consolidateArr:gt},yt=function(e){return a(e)&&De(e).length>100?" removed due to size":JSON.stringify(e,null,2)},bt=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return G(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))},wt=function(e,t){return Be.serror([{path:e,getErrorInfo:t}])},xt=function(e,t,n){return wt(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+yt(n)}))},Ct=function(e,t){return wt(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))},St=function(e,t,n){return wt(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+yt(t)}))},kt=function(e,t){return wt(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))},_t=function(e,t){return wt(e,(function(){return t}))},Bt=je.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Dt=function(e,t,n){return He(t,n).fold((function(){return xt(e,n,t)}),Be.svalue)},Mt=function(e,t,n){var r=He(e,t).fold((function(){return n(e)}),b);return Be.svalue(r)},Et=function(e,t){return Be.svalue(He(e,t))},Tt=function(e,t,n){var r=He(e,t).map((function(t){return!0===t?n(e):t}));return Be.svalue(r)},It=function(e,t,n,r){return n.fold((function(n,i,o,a){var s=function(t){var o=a.extract(e.concat([n]),r,t);return Be.map(o,(function(e){return at(i,r(e))}))},u=function(t){return t.fold((function(){var e=at(i,r(F.none()));return Be.svalue(e)}),(function(t){var o=a.extract(e.concat([n]),r,t);return Be.map(o,(function(e){return at(i,r(F.some(e)))}))}))};return function(){return o.fold((function(){return Be.bind(Dt(e,t,n),s)}),(function(e){return Be.bind(Mt(t,n,e),s)}),(function(){return Be.bind(Et(t,n),u)}),(function(e){return Be.bind(Tt(t,n,e),u)}),(function(e){var r=e(t),i=Be.map(Mt(t,n,y({})),(function(e){return We(r,e)}));return Be.bind(i,s)}))}()}),(function(e,n){var i=n(t);return Be.svalue(at(e,r(i)))}))},Ot=function(e,t,n,r){var i=G(n,(function(n){return It(e,t,n,r)}));return vt.consolidateObj(i,{})},Lt=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Ft=function(e){var t=function(t,n,r){return Be.bindError(e(r,n),(function(e){return _t(t,e)}))},n=function(){return"val"};return{extract:t,toString:n}},Pt=function(e){return De(Fe(e,(function(e){return void 0!==e&&null!==e})))},Nt=function(e){var t=Ut(e),n=X(e,(function(e,t){return t.fold((function(t){return We(e,ct(t,!0))}),y(e))}),{}),r=function(e,r,i){var o=u(i)?[]:Pt(i),a=$(o,(function(e){return!Ve(n,e)}));return 0===a.length?t.extract(e,r,i):kt(e,a)};return{extract:r,toString:t.toString}},Ut=function(e){var t=function(t,n,r){return Ot(t,r,e,n)},n=function(){var t=G(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},Ht=function(e){var t=function(t,n,r){var i=G(r,(function(r,i){return e.extract(t.concat(["["+i+"]"]),n,r)}));return vt.consolidateArr(i)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},Rt=function(e){var t=function(t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.extract(t,n,r);if(u.stype===E.Value)return u;i.push(u)}return vt.consolidateArr(i)},n=function(){return"oneOf("+G(e,(function(e){return e.toString()})).join(", ")+")"};return{extract:t,toString:n}},Vt=function(e,t){var n=function(t,n){return Ht(Ft(e)).extract(t,b,n)},r=function(e,r,i){var o=De(i),a=n(e,o);return Be.bind(a,(function(n){var o=G(n,(function(e){return Bt.field(e,e,et(),t)}));return Ut(o).extract(e,r,i)}))},i=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:i}},Qt=function(e,t){var n=Xe((function(){return t()})),r=function(e,t,r){return n().extract(e,t,r)},i=function(){return n().toString()};return{extract:r,toString:i}},jt=y(Ft(Be.svalue)),zt=g(Ht,Ut),Gt=Bt.state,Kt=Bt.field,qt=function(e,t,n,r,i){var o=He(r,i);return o.fold((function(){return St(e,r,i)}),(function(r){return r.extract(e.concat(["branch: "+i]),t,n)}))},Wt=function(e,t){var n=function(n,r,i){var o=He(i,e);return o.fold((function(){return Ct(n,e)}),(function(e){return qt(n,r,i,t,e)}))},r=function(){return"chooseOn("+e+"). Possible values: "+De(t)};return{extract:n,toString:r}},$t=Ft(Be.svalue),Xt=function(e){return zt(e)},Yt=function(){return Ht($t)},Jt=Lt,Zt=function(e){return Ft((function(t){return e(t).fold(Be.serror,Be.svalue)}))},en=function(e,t){return Vt((function(t){return Be.fromResult(e(t))}),t)},tn=function(e,t,n,r){var i=t.extract([e],n,r);return Be.mapError(i,(function(e){return{input:r,errors:e}}))},nn=function(e,t,n){return Be.toResult(tn(e,t,b,n))},rn=function(e){return e.fold((function(e){throw new Error(an(e))}),b)},on=function(e,t,n){return rn(nn(e,t,n))},an=function(e){return"Errors: \n"+bt(e.errors).join("\n")+"\n\nInput object: "+yt(e.input)},sn=function(e,t){return Wt(e,t)},un=function(e,t){return Wt(e,Te(t,Ut))},cn=function(e,t){return Qt(e,t)},ln=y($t),dn=function(e,t){return Ft((function(n){var r=typeof n;return e(n)?Be.svalue(n):Be.serror("Expected type: "+t+" but got: "+r)}))},fn=dn(A,"number"),An=dn(o,"string"),hn=dn(u,"boolean"),pn=dn(f,"function"),mn=function(e){var t=function(e,t){var n=e.next();while(!n.done){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return mn(e[t])}));case"Map":return t(e.keys(),mn)&&t(e.values(),mn);case"Set":return t(e.keys(),mn);default:return!1}},gn=Ft((function(e){return mn(e)?Be.svalue(e):Be.serror("Expected value to be acceptable for sending via postMessage")})),vn=function(e){return Zt((function(t){return V(e,t)?me.value(t):me.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},yn=function(e){return Kt(e,e,et(),jt())},bn=function(e,t){return Kt(e,e,et(),t)},wn=function(e){return bn(e,fn)},xn=function(e){return bn(e,An)},Cn=function(e,t){return Kt(e,e,et(),vn(t))},Sn=function(e){return bn(e,hn)},kn=function(e){return bn(e,pn)},_n=function(e,t){return Kt(e,e,tt(),Ft((function(n){return Be.serror("The field: "+e+" is forbidden. "+t)})))},Bn=function(e,t){return Kt(e,e,et(),Ut(t))},Dn=function(e,t){return Kt(e,e,et(),zt(t))},Mn=function(e,t){return Kt(e,e,et(),Ht(t))},En=function(e){return Kt(e,e,tt(),jt())},Tn=function(e,t){return Kt(e,e,tt(),t)},In=function(e){return Tn(e,fn)},On=function(e){return Tn(e,An)},Ln=function(e){return Tn(e,pn)},Fn=function(e,t){return Tn(e,Ht(t))},Pn=function(e,t){return Tn(e,Ut(t))},Nn=function(e,t){return Tn(e,Nt(t))},Un=function(e,t){return Kt(e,e,Je(t),jt())},Hn=function(e,t,n){return Kt(e,e,Je(t),n)},Rn=function(e,t){return Hn(e,t,fn)},Vn=function(e,t){return Hn(e,t,An)},Qn=function(e,t,n){return Hn(e,t,vn(n))},jn=function(e,t){return Hn(e,t,hn)},zn=function(e,t){return Hn(e,t,pn)},Gn=function(e,t){return Hn(e,t,gn)},Kn=function(e,t,n){return Hn(e,t,Ht(n))},qn=function(e,t,n){return Hn(e,t,Ut(n))},Wn=function(e,t){return Gt(e,t)},$n=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Xn=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Zn(r.childNodes[0])},Yn=function(e,t){var n=t||document,r=n.createElement(e);return Zn(r)},Jn=function(e,t){var n=t||document,r=n.createTextNode(e);return Zn(r)},Zn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},er=function(e,t,n){return F.from(e.dom.elementFromPoint(t,n)).map(Zn)},tr={fromHtml:Xn,fromTag:Yn,fromText:Jn,fromDom:Zn,fromPoint:er},nr=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=i||!o&&a&&r("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!u&&!l;return{isiPad:y(i),isiPhone:y(o),isTablet:y(u),isPhone:y(c),isTouch:y(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(l),isDesktop:y(d)}},rr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ir=function(e,t){var n=rr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return sr(r(1),r(2))},or=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ar():ir(e,n)},ar=function(){return sr(0,0)},sr=function(e,t){return{major:e,minor:t}},ur={nu:sr,detect:or,unknown:ar},cr=function(e,t){var n=String(t).toLowerCase();return Z(e,(function(e){return e.search(n)}))},lr=function(e,t){return cr(e,t).map((function(e){var n=ur.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},dr=function(e,t){return cr(e,t).map((function(e){var n=ur.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},fr={detectBrowser:lr,detectOs:dr},Ar=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},hr=function(e,t){return-1!==e.indexOf(t)},pr=function(e,t){return Ar(e,t,e.length-t.length)},mr=function(e){return function(t){return t.replace(e,"")}},gr=mr(/^\s+|\s+$/g),vr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yr=function(e){return function(t){return hr(t,e)}},br=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return hr(e,"edge/")&&hr(e,"chrome")&&hr(e,"safari")&&hr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vr],search:function(e){return hr(e,"chrome")&&!hr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return hr(e,"msie")||hr(e,"trident")}},{name:"Opera",versionRegexes:[vr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yr("firefox")},{name:"Safari",versionRegexes:[vr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(hr(e,"safari")||hr(e,"mobile/"))&&hr(e,"applewebkit")}}],wr=[{name:"Windows",search:yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return hr(e,"iphone")||hr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yr("linux"),versionRegexes:[]},{name:"Solaris",search:yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xr={browsers:y(br),oses:y(wr)},Cr="Edge",Sr="Chrome",kr="IE",_r="Opera",Br="Firefox",Dr="Safari",Mr=function(){return Er({current:void 0,version:ur.unknown()})},Er=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Cr),isChrome:r(Sr),isIE:r(kr),isOpera:r(_r),isFirefox:r(Br),isSafari:r(Dr)}},Tr={unknown:Mr,nu:Er,edge:y(Cr),chrome:y(Sr),ie:y(kr),opera:y(_r),firefox:y(Br),safari:y(Dr)},Ir="Windows",Or="iOS",Lr="Android",Fr="Linux",Pr="OSX",Nr="Solaris",Ur="FreeBSD",Hr="ChromeOS",Rr=function(){return Vr({current:void 0,version:ur.unknown()})},Vr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Ir),isiOS:r(Or),isAndroid:r(Lr),isOSX:r(Pr),isLinux:r(Fr),isSolaris:r(Nr),isFreeBSD:r(Ur),isChromeOS:r(Hr)}},Qr={unknown:Rr,nu:Vr,windows:y(Ir),ios:y(Or),android:y(Lr),linux:y(Fr),osx:y(Pr),solaris:y(Nr),freebsd:y(Ur),chromeos:y(Hr)},jr=function(e,t){var n=xr.browsers(),r=xr.oses(),i=fr.detectBrowser(n,e).fold(Tr.unknown,Tr.nu),o=fr.detectOs(r,e).fold(Qr.unknown,Qr.nu),a=nr(o,i,e,t);return{browser:i,os:o,deviceType:a}},zr={detect:jr},Gr=function(e){return window.matchMedia(e).matches},Kr=Xe((function(){return zr.detect(navigator.userAgent,Gr)})),qr=function(){return Kr()},Wr=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},$r=function(e,t){return Wr(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Xr=9,Yr=11,Jr=1,Zr=3,ei=function(e,t){var n=e.dom;if(n.nodeType!==Jr)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ti=function(e){return e.nodeType!==Jr&&e.nodeType!==Xr&&e.nodeType!==Yr||0===e.childElementCount},ni=function(e,t){var n=void 0===t?document:t.dom;return ti(n)?[]:G(n.querySelectorAll(e),tr.fromDom)},ri=function(e,t){var n=void 0===t?document:t.dom;return ti(n)?F.none():F.from(n.querySelector(e)).map(tr.fromDom)},ii=function(e,t){return e.dom===t.dom},oi=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},ai=function(e,t){return $r(e.dom,t.dom)},si=function(e,t){return qr().browser.isIE()?ai(e,t):oi(e,t)},ui=function(e){return f(e)?e:S},ci=function(e,t,n){var r=e.dom,i=ui(n);while(r.parentNode){r=r.parentNode;var o=tr.fromDom(r),a=t(o);if(a.isSome())return a;if(i(o))break}return F.none()},li=function(e,t,n){var r=t(e),i=ui(n);return r.orThunk((function(){return i(e)?F.none():ci(e,t,i)}))},di=function(e,t){return ii(e.element,t.event.target)},fi=function(e){if(!Ve(e,"can")&&!Ve(e,"abort")&&!Ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return on("Extracting event.handler",Nt([Un("can",k),Un("abort",S),Un("run",p)]),e)},Ai=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Y(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}},hi=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Y(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}},pi=function(e){return f(e)?{can:k,abort:S,run:e}:e},mi=function(e){var t=Ai(e,(function(e){return e.can})),n=hi(e,(function(e){return e.abort})),r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];K(e,(function(e){e.run.apply(void 0,t)}))};return fi({can:t,abort:n,run:r})},gi=y,vi=gi("touchstart"),yi=gi("touchmove"),bi=gi("touchend"),wi=gi("touchcancel"),xi=gi("mousedown"),Ci=gi("mousemove"),Si=gi("mouseout"),ki=gi("mouseup"),_i=gi("mouseover"),Bi=gi("focusin"),Di=gi("focusout"),Mi=gi("keydown"),Ei=gi("keyup"),Ti=gi("input"),Ii=gi("change"),Oi=gi("click"),Li=gi("transitionend"),Fi=gi("selectstart"),Pi=function(e){return y("alloy."+e)},Ni={tap:Pi("tap")},Ui=Pi("focus"),Hi=Pi("blur.post"),Ri=Pi("paste.post"),Vi=Pi("receive"),Qi=Pi("execute"),ji=Pi("focus.item"),zi=Ni.tap,Gi=Pi("longpress"),Ki=Pi("sandbox.close"),qi=Pi("typeahead.cancel"),Wi=Pi("system.init"),$i=Pi("system.touchmove"),Xi=Pi("system.touchend"),Yi=Pi("system.scroll"),Ji=Pi("system.resize"),Zi=Pi("system.attached"),eo=Pi("system.detached"),to=Pi("system.dismissRequested"),no=Pi("system.repositionRequested"),ro=Pi("focusmanager.shifted"),io=Pi("slotcontainer.visibility"),oo=Pi("change.tab"),ao=Pi("dismiss.tab"),so=Pi("highlight"),uo=Pi("dehighlight"),co=function(e,t){ho(e,e.element,t,{})},lo=function(e,t,n){ho(e,e.element,t,n)},fo=function(e){co(e,Qi())},Ao=function(e,t,n){ho(e,t,n,{})},ho=function(e,t,n,r){var i=B({target:t},r);e.getSystem().triggerEvent(n,t,i)},po=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)},mo=function(e){return lt(e)},go=function(e,t){return{key:e,value:fi({abort:t})}},vo=function(e,t){return{key:e,value:fi({can:t})}},yo=function(e){return{key:e,value:fi({run:function(e,t){t.event.prevent()}})}},bo=function(e,t){return{key:e,value:fi({run:t})}},wo=function(e,t,n){return{key:e,value:fi({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},xo=function(e){return function(t){return bo(e,t)}},Co=function(e){return function(t){return{key:e,value:fi({run:function(e,n){di(e,n)&&t(e,n)}})}}},So=function(e,t){return bo(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){po(t,t.element,e,r)}))}))},ko=function(e,t,n){var r=t.partUids[n];return So(e,r)},_o=function(e,t){return bo(e,(function(e,n){var r=n.event,i=e.getSystem().getByDom(r.target).fold((function(){var t=li(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),S);return t.getOr(e)}),(function(e){return e}));t(e,i,n)}))},Bo=function(e){return bo(e,(function(e,t){t.cut()}))},Do=function(e){return bo(e,(function(e,t){t.stop()}))},Mo=function(e,t){return Co(e)(t)},Eo=Co(Zi()),To=Co(eo()),Io=Co(Wi()),Oo=xo(Qi()),Lo=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Fo=function(e){return e.dom.nodeType},Po=function(e){return function(t){return Fo(t)===e}},No=Po(Jr),Uo=Po(Zr),Ho=Po(Xr),Ro=Po(Yr),Vo=function(e){return tr.fromDom(e.dom.ownerDocument)},Qo=function(e){return Ho(e)?e:Vo(e)},jo=function(e){return tr.fromDom(Qo(e).dom.documentElement)},zo=function(e){return tr.fromDom(Qo(e).dom.defaultView)},Go=function(e){return F.from(e.dom.parentNode).map(tr.fromDom)},Ko=function(e){return Go(e)},qo=function(e){return F.from(e.dom.offsetParent).map(tr.fromDom)},Wo=function(e){return F.from(e.dom.nextSibling).map(tr.fromDom)},$o=function(e){return G(e.dom.childNodes,tr.fromDom)},Xo=function(e,t){var n=e.dom.childNodes;return F.from(n[t]).map(tr.fromDom)},Yo=function(e){return Xo(e,0)},Jo=function(e){return Ro(e)&&d(e.dom.host)},Zo=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),ea=y(Zo),ta=Zo?function(e){return tr.fromDom(e.dom.getRootNode())}:Qo,na=function(e){return Jo(e)?e:tr.fromDom(Qo(e).dom.body)},ra=function(e){return ia(e).isSome()},ia=function(e){var t=ta(e);return Jo(t)?F.some(t):F.none()},oa=function(e){return tr.fromDom(e.dom.host)},aa=function(e){if(ea()&&d(e.target)){var t=tr.fromDom(e.target);if(No(t)&&sa(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ce(n)}}return F.from(e.target)},sa=function(e){return d(e.dom.shadowRoot)},ua=function(e,t){var n=Go(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ca=function(e,t){var n=Wo(e);n.fold((function(){var n=Go(e);n.each((function(e){da(e,t)}))}),(function(e){ua(e,t)}))},la=function(e,t){var n=Yo(e);n.fold((function(){da(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},da=function(e,t){e.dom.appendChild(t.dom)},fa=function(e,t,n){Xo(e,n).fold((function(){da(e,t)}),(function(e){ua(e,t)}))},Aa=function(e,t){K(t,(function(t){ua(e,t)}))},ha=function(e,t){K(t,(function(t){da(e,t)}))},pa=function(e){e.dom.textContent="",K($o(e),(function(e){ma(e)}))},ma=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ga=function(e){var t=$o(e);t.length>0&&Aa(e,t),ma(e)},va=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,$o(tr.fromDom(r))},ya=function(e){return e.dom.innerHTML},ba=function(e,t){var n=Vo(e),r=n.dom,i=tr.fromDom(r.createDocumentFragment()),o=va(t,r);ha(i,o),pa(e),da(e,i)},wa=function(e){var t=tr.fromTag("div"),n=tr.fromDom(e.dom.cloneNode(!0));return da(t,n),ya(t)},xa=function(e,t,n){if(!(o(n)||u(n)||A(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ca=function(e,t,n){xa(e.dom,t,n)},Sa=function(e,t){var n=e.dom;Ee(t,(function(e,t){xa(n,t,e)}))},ka=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},_a=function(e,t){return F.from(ka(e,t))},Ba=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Da=function(e,t){e.dom.removeAttribute(t)},Ma=function(e,t){return tr.fromDom(e.dom.cloneNode(t))},Ea=function(e){return Ma(e,!1)},Ta=function(e){if(Jo(e))return"#shadow-root";var t=Ea(e);return wa(t)},Ia=function(e){return Ta(e)},Oa=function(e,t,n){return ii(t,e.element)&&!ii(t,n)},La=mo([vo(Ui(),(function(e,t){var n=t.event,r=n.originator,i=n.target;return!Oa(e,r,i)||(console.warn(Ui()+" did not get interpreted by the desired target. \nOriginator: "+Ia(r)+"\nTarget: "+Ia(i)+"\nCheck the "+Ui()+" event handlers"),!1)}))]),Fa=Object.freeze({__proto__:null,events:La}),Pa=0,Na=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Pa++,e+"_"+r+Pa+String(n)},Ua=y("alloy-id-"),Ha=y("data-alloy-id"),Ra=Ua(),Va=Ha(),Qa=function(e,t){var n=Na(Ra+e);return ja(t,n),n},ja=function(e,t){Object.defineProperty(e.dom,Va,{value:t,writable:!0})},za=function(e){var t=No(e)?e.dom[Va]:null;return F.from(t)},Ga=function(e){return Na(e)},Ka=b,qa=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+Ia(e().element)+" is not in context.":""))}};return{debugInfo:y("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:S}},Wa=qa(),$a=function(e,t,n){var r=n.toString(),i=r.indexOf(")")+1,o=r.indexOf("("),a=r.substring(o+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Xa(a.slice(0,1).concat(a.slice(3)))}},e},Xa=function(e){return G(e,(function(e){return pr(e,"/*")?e.substring(0,e.length-"/*".length):e}))},Ya=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Xa(o)}},e},Ja=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Xa(o.slice(1))}},e},Za=Na("alloy-premade"),es=function(e){return ct(Za,e)},ts=function(e){return He(e,Za)},ns=function(e){return Ja((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,M([t.getApis(),t],n))}),e)},rs={init:function(){return is({readState:function(){return"No State required"}})}},is=function(e){return e},os=function(e,t){var n=G(t,(function(e){return Pn(e.name(),[yn("config"),Un("state",rs)])})),r=nn("component.behaviours",Ut(n),e.behaviours).fold((function(t){throw new Error(an(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}));return{list:t,data:Te(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))}},as=function(e){return e.list},ss=function(e){return e.data},us=function(e,t){var n={};return Ee(e,(function(e,r){Ee(e,(function(e,i){var o=He(n,i).getOr([]);n[i]=o.concat([t(r,e)])}))})),n},cs=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},ls=function(e,t){return B(B({},e),{attributes:B(B({},e.attributes),t.attributes),styles:B(B({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},ds=function(e,t,n,r){var i=B({},t);K(n,(function(t){i[t.name()]=t.exhibit(e,r)}));var o=us(i,(function(e,t){return{name:e,modification:t}})),a=function(e){return X(e,(function(e,t){return B(B({},t.modification),e)}),{})},s=X(o.classes,(function(e,t){return t.modification.concat(e)}),[]),u=a(o.attributes),c=a(o.styles);return cs({classes:s,attributes:u,styles:c})},fs=function(e,t,n,r){try{var i=se(n,(function(n,i){var o=n[t],a=i[t],s=r.indexOf(o),u=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<u?-1:u<s?1:0}));return me.value(i)}catch(o){return me.error([o])}},As=function(e,t){return{handler:e,purpose:t}},hs=function(e,t){return{cHandler:e,purpose:t}},ps=function(e,t){return hs(w.apply(void 0,[e.handler].concat(t)),e.purpose)},ms=function(e){return e.cHandler},gs=function(e,t){return{name:e,handler:t}},vs=function(e,t){var n={};return K(e,(function(e){n[e.name()]=e.handlers(t)})),n},ys=function(e,t,n){var r=B(B({},n),vs(t,e));return us(r,gs)},bs=function(e,t,n,r){var i=ys(e,n,r);return Ss(i,t)},ws=function(e){var t=pi(e);return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=[e,n].concat(r);t.abort.apply(void 0,o)?n.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}},xs=function(e,t){return me.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(G(t,(function(e){return e.name})),null,2)])},Cs=function(e,t,n){var r=t[n];return r?fs("Event: "+n,"name",e,r).map((function(e){var t=G(e,(function(e){return e.handler}));return mi(t)})):xs(n,e)},Ss=function(e,t){var n=Pe(e,(function(e,n){var r=1===e.length?me.value(e[0].handler):Cs(e,t,n);return r.map((function(r){var i=ws(r),o=e.length>1?$(t[n],(function(t){return Q(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return ct(n,As(i,o))}))}));return At(n,{})},ks="alloy.base.behaviour",_s=function(e){var t;return nn("custom.definition",Ut([Kt("dom","dom",et(),Ut([yn("tag"),Un("styles",{}),Un("classes",[]),Un("attributes",{}),En("value"),En("innerHtml")])),yn("components"),yn("uid"),Un("events",{}),Un("apis",{}),Kt("eventOrder","eventOrder",Ze((t={},t[Qi()]=["disabling",ks,"toggling","typeaheadevents"],t[Ui()]=[ks,"focusing","keying"],t[Wi()]=[ks,"disabling","toggling","representing"],t[Ti()]=[ks,"representing","streaming","invalidating"],t[eo()]=[ks,"representing","item-events","tooltipping"],t[xi()]=["focusing",ks,"item-type-events"],t[vi()]=["focusing",ks,"item-type-events"],t[_i()]=["item-type-events","tooltipping"],t[Vi()]=["receiving","reflecting","tooltipping"],t)),ln()),En("domModification")]),e)},Bs=function(e){return B(B({},e.dom),{uid:e.uid,domChildren:G(e.components,(function(e){return e.element}))})},Ds=function(e){return e.domModification.fold((function(){return cs({})}),cs)},Ms=function(e){return e.events},Es=function(e,t){var n=ka(e,t);return void 0===n||""===n?[]:n.split(" ")},Ts=function(e,t,n){var r=Es(e,t),i=r.concat([n]);return Ca(e,t,i.join(" ")),!0},Is=function(e,t,n){var r=$(Es(e,t),(function(e){return e!==n}));return r.length>0?Ca(e,t,r.join(" ")):Da(e,t),!1},Os=function(e){return void 0!==e.dom.classList},Ls=function(e){return Es(e,"class")},Fs=function(e,t){return Ts(e,"class",t)},Ps=function(e,t){return Is(e,"class",t)},Ns=function(e,t){Os(e)?e.dom.classList.add(t):Fs(e,t)},Us=function(e){var t=Os(e)?e.dom.classList:Ls(e);0===t.length&&Da(e,"class")},Hs=function(e,t){if(Os(e)){var n=e.dom.classList;n.remove(t)}else Ps(e,t);Us(e)},Rs=function(e,t){return Os(e)&&e.dom.classList.contains(t)},Vs=function(e,t){K(t,(function(t){Ns(e,t)}))},Qs=function(e,t){K(t,(function(t){Hs(e,t)}))},js=function(e){return void 0!==e.style&&f(e.style.getPropertyValue)},zs=function(e){var t=Uo(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return ia(tr.fromDom(t)).fold((function(){return n.body.contains(t)}),v(zs,oa))},Gs=function(){return Ks(tr.fromDom(document))},Ks=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return tr.fromDom(t)},qs=function(e,t,n){if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);js(e)&&e.style.setProperty(t,n)},Ws=function(e,t){js(e)&&e.style.removeProperty(t)},$s=function(e,t,n){var r=e.dom;qs(r,t,n)},Xs=function(e,t){var n=e.dom;Ee(t,(function(e,t){qs(n,t,e)}))},Ys=function(e,t){var n=e.dom;Ee(t,(function(e,t){e.fold((function(){Ws(n,t)}),(function(e){qs(n,t,e)}))}))},Js=function(e,t){var n=e.dom,r=window.getComputedStyle(n),i=r.getPropertyValue(t);return""!==i||zs(e)?i:Zs(n,t)},Zs=function(e,t){return js(e)?e.style.getPropertyValue(t):""},eu=function(e,t){var n=e.dom,r=Zs(n,t);return F.from(r).filter((function(e){return e.length>0}))},tu=function(e){var t={},n=e.dom;if(js(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},nu=function(e,t,n){var r=tr.fromTag(e);$s(r,t,n);var i=eu(r,t);return i.isSome()},ru=function(e,t){var n=e.dom;Ws(n,t),_a(e,"style").map(gr).is("")&&Da(e,"style")},iu=function(e){return e.dom.offsetWidth},ou=function(e){return e.dom.value},au=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},su=function(e){var t=tr.fromTag(e.tag);Sa(t,e.attributes),Vs(t,e.classes),Xs(t,e.styles),e.innerHtml.each((function(e){return ba(t,e)}));var n=e.domChildren;return ha(t,n),e.value.each((function(e){au(t,e)})),e.uid,ja(t,e.uid),t},uu=function(e){var t=He(e,"behaviours").getOr({}),n=$(De(t),(function(e){return void 0!==t[e]}));return G(n,(function(e){return t[e].me}))},cu=function(e,t){return os(e,t)},lu=function(e){var t=uu(e);return cu(e,t)},du=function(e,t,n){var r=Bs(e),i=Ds(e),o={"alloy.base.modification":i},a=t.length>0?ds(n,o,t,r):i;return ls(r,a)},fu=function(e,t,n){var r={"alloy.base.behaviour":Ms(e)};return bs(n,e.eventOrder,t,r).getOrDie()},Au=function(e){var t=function(){return y},n=$n(Wa),r=rn(_s(e)),i=lu(e),o=as(i),a=ss(i),s=du(r,o,a),u=su(s),c=fu(r,o,a),l=$n(r.components),d=function(e){n.set(e)},A=function(){n.set(qa(t))},h=function(){var e=$o(u),t=ne(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));l.set(t)},p=function(t){var n=a,r=f(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return r()},m=function(e){return f(a[e.name()])},g=function(){return r.apis},v=function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},y={getSystem:n.get,config:p,hasConfigured:m,spec:e,readState:v,getApis:g,connect:d,disconnect:A,element:u,syncComponents:h,components:l.get,events:c};return y},hu=function(e){var t=He(e,"components").getOr([]);return G(t,yu)},pu=function(e){var t=Ka(e),n=t.events,r=D(t,["events"]),i=hu(r),o=B(B({},r),{events:B(B({},Fa),n),components:i});return me.value(Au(o))},mu=function(e){var t=tr.fromText(e);return gu({element:t})},gu=function(e){var t=on("external.component",Nt([yn("element"),En("uid")]),e),n=$n(qa()),r=function(e){n.set(e)},i=function(){n.set(qa((function(){return o})))};t.uid.each((function(e){ja(t.element,e)}));var o={getSystem:n.get,config:F.none,hasConfigured:S,connect:r,disconnect:i,getApis:function(){return{}},element:t.element,spec:e,readState:y("No state"),syncComponents:p,components:y([]),events:{}};return es(o)},vu=Ga,yu=function(e){return ts(e).fold((function(){var t=e.hasOwnProperty("uid")?e:B({uid:vu("")},e);return pu(t).getOrDie()}),(function(e){return e}))},bu=es,wu=function(e,t){var n=function(t,n){if(!A(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;js(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=Js(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return Y(t,(function(t,n){var r=Js(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}},xu=wu("height",(function(e){var t=e.dom;return zs(e)?t.getBoundingClientRect().height:t.offsetHeight})),Cu=function(e){return xu.get(e)},Su=function(e){return xu.getOuter(e)},ku=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=xu.max(e,t,n);$s(e,"max-height",r+"px")},_u=function(e,t){var n=function(n,r){return _u(e+n,t+r)};return{left:e,top:t,translate:n}},Bu=_u,Du=function(e){var t=e.getBoundingClientRect();return Bu(t.left,t.top)},Mu=function(e,t){return void 0!==e?e:void 0!==t?t:0},Eu=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Bu(n.offsetLeft,n.offsetTop);var o=Mu(null===r||void 0===r?void 0:r.pageYOffset,i.scrollTop),a=Mu(null===r||void 0===r?void 0:r.pageXOffset,i.scrollLeft),s=Mu(i.clientTop,n.clientTop),u=Mu(i.clientLeft,n.clientLeft);return Tu(e).translate(a-u,o-s)},Tu=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Bu(r.offsetLeft,r.offsetTop):zs(e)?Du(t):Bu(0,0)},Iu=wu("width",(function(e){return e.dom.offsetWidth})),Ou=function(e,t){return Iu.set(e,t)},Lu=function(e){return Iu.get(e)},Fu=function(e){return Iu.getOuter(e)},Pu=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Iu.max(e,t,n);$s(e,"max-width",r+"px")},Nu=function(e,t,n,r,i,o,a){return{target:e,x:t,y:n,stop:r,prevent:i,kill:o,raw:a}},Uu=function(e){var t=tr.fromDom(aa(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},i=g(r,n);return Nu(t,e.clientX,e.clientY,n,r,i,e)},Hu=function(e,t){return function(n){e(n)&&t(Uu(n))}},Ru=function(e,t,n,r,i){var o=Hu(n,r);return e.dom.addEventListener(t,o,i),{unbind:w(ju,e,t,o,i)}},Vu=function(e,t,n,r){return Ru(e,t,n,r,!1)},Qu=function(e,t,n,r){return Ru(e,t,n,r,!0)},ju=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},zu=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Bu(n,r)},Gu=function(e,t,n){var r=void 0!==n?n.dom:document,i=r.defaultView;i&&i.scrollTo(e,t)},Ku=function(e){var t=void 0===e?window:e;return F.from(t["visualViewport"])},qu=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Wu=function(e){var t=void 0===e?window:e,n=t.document,r=zu(tr.fromDom(n));return Ku(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return qu(r.left,r.top,n,i)}),(function(e){return qu(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},$u=function(e,t){var n=e.view(t);return n.fold(y([]),(function(t){var n=e.owner(t),r=$u(e,n);return[t].concat(r)}))},Xu=function(e,t){var n=t.owner(e),r=$u(t,n);return F.some(r)},Yu=function(e){var t,n=e.dom===document?F.none():F.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(tr.fromDom)},Ju=function(e){return Vo(e)},Zu=Object.freeze({__proto__:null,view:Yu,owner:Ju}),ec=function(e){var t=tr.fromDom(document),n=zu(t),r=Xu(e,Zu);return r.fold(w(Eu,e),(function(t){var r=Tu(e),i=X(t,(function(e,t){var n=Tu(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Bu(i.left+r.left+n.left,i.top+r.top+n.top)}))},tc=function(e,t,n){return{point:e,width:t,height:n}},nc=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},rc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},ic=function(e){var t=Eu(e),n=Fu(e),r=Su(e);return rc(t.left,t.top,n,r)},oc=function(e){var t=ec(e),n=Fu(e),r=Su(e);return rc(t.left,t.top,n,r)},ac=function(){return Wu(window)};function sc(e,t,n,r,i){return e(n,r)?F.some(n):f(i)&&i(n)?F.none():t(n,r,i)}var uc,cc=function(e,t,n){var r=e.dom,i=f(n)?n:S;while(r.parentNode){r=r.parentNode;var o=tr.fromDom(r);if(t(o))return F.some(o);if(i(o))break}return F.none()},lc=function(e,t,n){var r=function(e,t){return t(e)};return sc(r,cc,e,t,n)},dc=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var i=tr.fromDom(e.childNodes[r]);if(t(i))return F.some(i);var o=n(e.childNodes[r]);if(o.isSome())return o}return F.none()};return n(e.dom)},fc=function(e,t,n){return lc(e,t,n).isSome()},Ac=function(e,t,n){return cc(e,(function(e){return ei(e,t)}),n)},hc=function(e,t){return ri(t,e)},pc=function(e,t,n){var r=function(e,t){return ei(e,t)};return sc(r,Ac,e,t,n)},mc=function(e){var t=lc(e,(function(e){if(!No(e))return!1;var t=ka(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}));return t.bind((function(e){var t=ka(e,"id"),n=ta(e);return hc(n,'[aria-owns="'+t+'"]')}))},gc=function(){var e=Na("aria-owns"),t=function(t){Ca(t,"aria-owns",e)},n=function(e){Da(e,"aria-owns")};return{id:e,link:t,unlink:n}},vc=function(e,t){return mc(t).exists((function(t){return yc(e,t)}))},yc=function(e,t){return fc(t,(function(t){return ii(t,e.element)}),S)||vc(e,t)},bc="unknown";(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(uc||(uc={}));var wc,xc=$n({}),Cc=function(e,t){var n=[],r=(new Date).getTime();return{logEventCut:function(e,t,r){n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:function(e,t,r){n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:function(e,t,r){n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,r){n.push({outcome:"response",purpose:r,target:t})},write:function(){var i=(new Date).getTime();V(["mousemove","mouseover","mouseout",Wi()],e)||console.log(e,{event:e,time:i-r,target:t.dom,sequence:G(n,(function(e){return V(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Ia(e.target)+")":e.outcome}))})}}},Sc=function(e,t,n){var r=He(xc.get(),e).orThunk((function(){var t=De(xc.get());return fe(t,(function(t){return e.indexOf(t)>-1?F.some(xc.get()[t]):F.none()}))})).getOr(uc.NORMAL);switch(r){case uc.NORMAL:return n(Mc());case uc.LOGGING:var i=Cc(e,t),o=n(i);return i.write(),o;case uc.STOP:return!0}},kc=["alloy/data/Fields","alloy/debugging/Debugging"],_c=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Z(t,(function(e){return e.indexOf("alloy")>0&&!Q(kc,(function(t){return e.indexOf(t)>-1}))})).getOr(bc)}return bc},Bc={logEventCut:p,logEventStopped:p,logNoParent:p,logEventNoHandlers:p,logEventResponse:p,write:p},Dc=function(e,t,n){return Sc(e,t,n)},Mc=y(Bc),Ec=y([yn("menu"),yn("selectedMenu")]),Tc=y([yn("item"),yn("selectedItem")]),Ic=(y(Ut(Tc().concat(Ec()))),y(Ut(Tc()))),Oc=Bn("initSize",[yn("numColumns"),yn("numRows")]),Lc=function(){return bn("markers",Ic())},Fc=function(){return Bn("markers",[yn("backgroundMenu")].concat(Ec()).concat(Tc()))},Pc=function(e){return Bn("markers",G(e,yn))},Nc=function(e,t,n){_c();return Kt(t,t,n,Zt((function(e){return me.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Uc=function(e){return Nc("onHandler",e,Je(p))},Hc=function(e){return Nc("onKeyboardHandler",e,Je(F.none))},Rc=function(e){return Nc("onHandler",e,et())},Vc=function(e){return Nc("onKeyboardHandler",e,et())},Qc=function(e,t){return Wn(e,y(t))},jc=function(e){return Wn(e,b)},zc=y(Oc),Gc=function(e,t,n,r,i,o){return{x:e,y:t,bubble:n,direction:r,boundsRestriction:i,label:o}},Kc=je.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),qc=function(e,t,n,r,i,o,a,s,u){return e.fold(t,n,r,i,o,a,s,u)},Wc=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},$c=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},Xc=Kc.southeast,Yc=Kc.southwest,Jc=Kc.northeast,Zc=Kc.northwest,el=Kc.south,tl=Kc.north,nl=Kc.east,rl=Kc.west,il=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ol=function(e,t){return ae(["left","right","top","bottom"],(function(n){return He(t,n).map((function(t){return il(e,t)}))}))},al=function(e,t,n){var r=function(e,r){var i="top"===e||"bottom"===e?n.top:n.left;return He(t,e).bind(b).bind((function(t){return"left"===e||"top"===e?t>=r?F.some(t):F.none():t<=r?F.some(t):F.none()})).map((function(e){return e+i})).getOr(r)},i=r("left",e.x),o=r("top",e.y),a=r("right",e.right),s=r("bottom",e.bottom);return rc(i,o,a-i,s-o)},sl=function(e){return e.x},ul=function(e,t){return e.x+e.width/2-t.width/2},cl=function(e,t){return e.x+e.width-t.width},ll=function(e,t){return e.y-t.height},dl=function(e){return e.y+e.height},fl=function(e,t){return e.y+e.height/2-t.height/2},Al=function(e){return e.x+e.width},hl=function(e,t){return e.x-t.width},pl=function(e,t,n){return Gc(sl(e),dl(e),n.southeast(),Xc(),ol(e,{left:1,top:3}),"layout-se")},ml=function(e,t,n){return Gc(cl(e,t),dl(e),n.southwest(),Yc(),ol(e,{right:0,top:3}),"layout-sw")},gl=function(e,t,n){return Gc(sl(e),ll(e,t),n.northeast(),Jc(),ol(e,{left:1,bottom:2}),"layout-ne")},vl=function(e,t,n){return Gc(cl(e,t),ll(e,t),n.northwest(),Zc(),ol(e,{right:0,bottom:2}),"layout-nw")},yl=function(e,t,n){return Gc(ul(e,t),ll(e,t),n.north(),tl(),ol(e,{bottom:2}),"layout-n")},bl=function(e,t,n){return Gc(ul(e,t),dl(e),n.south(),el(),ol(e,{top:3}),"layout-s")},wl=function(e,t,n){return Gc(Al(e),fl(e,t),n.east(),nl(),ol(e,{left:0}),"layout-e")},xl=function(e,t,n){return Gc(hl(e,t),fl(e,t),n.west(),rl(),ol(e,{right:1}),"layout-w")},Cl=function(){return[pl,ml,gl,vl,bl,yl,wl,xl]},Sl=function(){return[ml,pl,vl,gl,bl,yl,wl,xl]},kl=function(){return[gl,vl,pl,ml,yl,bl]},_l=function(){return[vl,gl,ml,pl,yl,bl]},Bl=function(){return[pl,ml,gl,vl,bl,yl]},Dl=function(){return[ml,pl,vl,gl,bl,yl]},Ml=function(e,t){return t.universal?e:$(e,(function(e){return V(t.channels,e)}))},El=function(e){return mo([bo(Vi(),(function(t,n){var r=e.channels,i=De(r),o=n,a=Ml(i,o);K(a,(function(e){var n=r[e],i=n.schema,a=on("channel["+e+"] data\nReceiver: "+Ia(t.element),i,o.data);n.onReceive(t,a)}))}))])},Tl=Object.freeze({__proto__:null,events:El}),Il=[bn("channels",en(me.value,Nt([Rc("onReceive"),Un("schema",ln())])))],Ol=function(e,t,n){return Oo((function(r){n(r,e,t)}))},Ll=function(e,t,n){return Io((function(r,i){n(r,e,t)}))},Fl=function(e,t,n,r,i,o){var a=Nt(e),s=Pn(t,[Nn("config",e)]);return Hl(a,s,t,n,r,i,o)},Pl=function(e,t,n,r,i,o){var a=e,s=Pn(t,[Tn("config",e)]);return Hl(a,s,t,n,r,i,o)},Nl=function(e,t,n){var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=[r].concat(i);return r.config({name:y(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))};return $a(r,n,t)},Ul=function(e){return{key:e,value:void 0}},Hl=function(e,t,n,r,i,o,a){var s=function(e){return Ve(e,n)?e[n]():F.none()},u=Te(i,(function(e,t){return Nl(n,e,t)})),c=Te(o,(function(e,t){return Ya(e,t)})),l=B(B(B({},c),u),{revoke:w(Ul,n),config:function(t){var r=on(n+"-config",e,t);return{key:n,value:{config:r,me:l,configAsRaw:Xe((function(){return on(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:y(t),exhibit:function(e,t){return s(e).bind((function(e){return He(r,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(cs({}))},name:y(n),handlers:function(e){return s(e).map((function(e){var t=He(r,"events").getOr((function(){return{}}));return t(e.config,e.state)})).getOr({})}});return l},Rl=function(e){return lt(e)},Vl=Nt([yn("fields"),yn("name"),Un("active",{}),Un("apis",{}),Un("state",rs),Un("extra",{})]),Ql=function(e){var t=on("Creating behaviour: "+e.name,Vl,e);return Fl(t.fields,t.name,t.active,t.apis,t.extra,t.state)},jl=Nt([yn("branchKey"),yn("branches"),yn("name"),Un("active",{}),Un("apis",{}),Un("state",rs),Un("extra",{})]),zl=function(e){var t=on("Creating behaviour: "+e.name,jl,e);return Pl(un(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Gl=y(void 0),Kl=Ql({fields:Il,name:"receiving",active:Tl}),ql=function(e,t){return cs({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},Wl=Object.freeze({__proto__:null,exhibit:ql}),$l=function(){return tr.fromDom(document)},Xl=function(e){return e.dom.focus()},Yl=function(e){return e.dom.blur()},Jl=function(e){var t=ta(e).dom;return e.dom===t.activeElement},Zl=function(e){return void 0===e&&(e=$l()),F.from(e.dom.activeElement).map(tr.fromDom)},ed=function(e){return Zl(ta(e)).filter((function(t){return e.dom.contains(t.dom)}))},td=function(e,t){var n=ta(t),r=Zl(n).bind((function(e){var n=function(t){return ii(e,t)};return n(t)?F.some(t):dc(t,n)})),i=e(t);return r.each((function(e){Zl(n).filter((function(t){return ii(t,e)})).fold((function(){Xl(e)}),p)})),i},nd=function(e,t,n,r,i){return{position:e,left:t,top:n,right:r,bottom:i}},rd=function(e,t){var n=function(e){return e+"px"};Ys(e,{position:F.some(t.position),left:t.left.map(n),top:t.top.map(n),right:t.right.map(n),bottom:t.bottom.map(n)})},id=je.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),od=function(e,t,n,r,i,o){var a=t.x-n,s=t.y-r,u=t.width,c=t.height,l=i-(a+u),d=o-(s+c),f=F.some(a),A=F.some(s),h=F.some(l),p=F.some(d),m=F.none();return qc(t.direction,(function(){return nd(e,f,A,m,m)}),(function(){return nd(e,m,A,h,m)}),(function(){return nd(e,f,m,m,p)}),(function(){return nd(e,m,m,h,p)}),(function(){return nd(e,f,A,m,m)}),(function(){return nd(e,f,m,m,p)}),(function(){return nd(e,f,A,m,m)}),(function(){return nd(e,m,A,h,m)}))},ad=function(e,t){return e.fold((function(){return nd("absolute",F.some(t.x),F.some(t.y),F.none(),F.none())}),(function(e,n,r,i){return od("absolute",t,e,n,r,i)}),(function(e,n,r,i){return od("fixed",t,e,n,r,i)}))},sd=function(e,t){var n=w(ec,t),r=e.fold(n,n,(function(){var e=zu();return ec(t).translate(-e.left,-e.top)})),i=Fu(t),o=Su(t);return rc(r.left,r.top,i,o)},ud=function(e,t){return t.fold((function(){return e.fold(ac,ac,rc)}),(function(t){return e.fold(t,t,(function(){var n=t(),r=cd(e,n.x,n.y);return rc(r.left,r.top,n.width,n.height)}))}))},cd=function(e,t,n){var r=Bu(t,n),i=function(){var e=zu();return r.translate(-e.left,-e.top)};return e.fold(y(r),y(r),i)},ld=function(e,t,n,r){return e.fold(t,n,r)},dd=(id.none,id.relative),fd=id.fixed,Ad=function(e,t){return{anchorBox:e,origin:t}},hd=function(e,t){return Ad(e,t)},pd=function(e,t,n,r){var i=e+t;return i>r?n:i<n?r:i},md=function(e,t,n){return Math.min(Math.max(e,t),n)},gd=je.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),vd=function(e,t,n,r,i){var o=i.x,a=i.y,s=i.width,u=i.height,c=e>=o,l=t>=a,d=c&&l,f=e+n<=o+s,A=t+r<=a+u,h=f&&A,p=Math.abs(Math.min(n,c?o+s-e:o-(e+n))),m=Math.abs(Math.min(r,l?a+u-t:a-(t+r))),g=Math.max(i.x,i.right-n),v=Math.max(i.y,i.bottom-r),y=md(e,i.x,g),b=md(t,i.y,v);return{originInBounds:d,sizeInBounds:h,limitX:y,limitY:b,deltaW:p,deltaH:m}},yd=function(e,t,n,r){var i=e.x,o=e.y,a=e.bubble.offset,s=a.left,u=a.top,c=al(r,e.boundsRestriction,a),l=c.y,d=c.bottom,f=c.x,A=c.right,h=i+s,p=o+u,m=vd(h,p,t,n,c),g=m.originInBounds,v=m.sizeInBounds,b=m.limitX,w=m.limitY,x=m.deltaW,C=m.deltaH,S=y(w+C-l),k=y(d-w),_=Wc(e.direction,k,k,S),B=y(b+x-f),D=y(A-b),M=$c(e.direction,D,D,B),E={x:b,y:w,width:x,height:C,maxHeight:_,maxWidth:M,direction:e.direction,classes:{on:e.bubble.classesOn,off:e.bubble.classesOff},label:e.label,candidateYforTest:p};return g&&v?gd.fit(E):gd.nofit(E,x,C)},bd=function(e,t,n,r,i){var o=n.width,a=n.height,s=function(e,s,u,c){var l=e(t,n,r),d=yd(l,o,a,i);return d.fold(gd.fit,(function(e,t,n){var r=n>c||t>u;return r?gd.nofit(e,t,n):gd.nofit(s,u,c)}))},u=Y(e,(function(e,t){var n=w(s,t);return e.fold(gd.fit,n)}),gd.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Xc(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1));return u.fold(b,b)},wd=function(e){return{width:Fu(e),height:Su(e)}},xd=function(e,t,n,r){ru(t,"max-height"),ru(t,"max-width");var i=wd(t);return bd(r.preference,e,i,n,r.bounds)},Cd=function(e,t){var n=t.classes;Qs(e,n.off),Vs(e,n.on)},Sd=function(e,t,n){var r=n.maxHeightFunction;r(e,t.maxHeight)},kd=function(e,t,n){var r=n.maxWidthFunction;r(e,t.maxWidth)},_d=function(e,t,n){rd(e,ad(n.origin,t))},Bd=function(e,t){ku(e,Math.floor(t))},Dd=y((function(e,t){Bd(e,t),Xs(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Md=y((function(e,t){Bd(e,t)})),Ed=function(e,t,n){return void 0===e[t]?n:e[t]},Td=function(e,t,n,r,i,o){var a=Ed(o,"maxHeightFunction",Dd()),s=Ed(o,"maxWidthFunction",p),u=e.anchorBox,c=e.origin,l={bounds:ud(c,i),origin:c,preference:r,maxHeightFunction:a,maxWidthFunction:s};Id(u,t,n,l)},Id=function(e,t,n,r){var i=xd(e,t,n,r);_d(t,i,r),Cd(t,i),Sd(t,i,r),kd(t,i,r)},Od=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Ld=function(e,t,n){var r=function(e){return He(n,e).getOr([])},i=function(e,t,n){var i=oe(Od,n);return{offset:Bu(e,t),classesOn:ne(n,r),classesOff:ne(i,r)}};return{southeast:function(){return i(-e,t,["top","alignLeft"])},southwest:function(){return i(e,t,["top","alignRight"])},south:function(){return i(-e/2,t,["top","alignCentre"])},northeast:function(){return i(-e,-t,["bottom","alignLeft"])},northwest:function(){return i(e,-t,["bottom","alignRight"])},north:function(){return i(-e/2,-t,["bottom","alignCentre"])},east:function(){return i(e,-t/2,["valignCentre","left"])},west:function(){return i(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return i(-e,t,["top","alignRight"])},innerNortheast:function(){return i(e,t,["top","alignLeft"])},innerNorth:function(){return i(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return i(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return i(e,-t,["bottom","alignLeft"])},innerSouth:function(){return i(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return i(e,-t/2,["valignCentre","right"])},innerEast:function(){return i(-e,-t/2,["valignCentre","left"])}}},Fd=function(){return Ld(0,0,{})},Pd=function(e){return e},Nd=function(e,t){return function(n){return"rtl"===Ud(n)?t:e}},Ud=function(e){return"rtl"===Js(e,"direction")?"rtl":"ltr"};(function(e){e["TopToBottom"]="toptobottom",e["BottomToTop"]="bottomtotop"})(wc||(wc={}));var Hd,Rd="data-alloy-vertical-dir",Vd=function(e){return fc(e,(function(e){return No(e)&&ka(e,"data-alloy-vertical-dir")===wc.BottomToTop}))},Qd=function(){return Pn("layouts",[yn("onLtr"),yn("onRtl"),En("onBottomLtr"),En("onBottomRtl")])},jd=function(e,t,n,r,i,o,a){var s=a.map(Vd).getOr(!1),u=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)})),l=s?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(u).getOr(i):u.getOr(n),d=s?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(o):c.getOr(r),f=Nd(l,d);return f(e)},zd=function(e,t,n){var r=t.hotspot,i=sd(n,r.element),o=jd(e.element,t,Bl(),Dl(),kl(),_l(),F.some(t.hotspot.element));return F.some(Pd({anchorBox:i,bubble:t.bubble.getOr(Fd()),overrides:t.overrides,layouts:o,placer:F.none()}))},Gd=[yn("hotspot"),En("bubble"),Un("overrides",{}),Qd(),Qc("placement",zd)],Kd=function(e,t,n){var r=cd(n,t.x,t.y),i=rc(r.left,r.top,t.width,t.height),o=jd(e.element,t,Cl(),Sl(),Cl(),Sl(),F.none());return F.some(Pd({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:o,placer:F.none()}))},qd=[yn("x"),yn("y"),Un("height",0),Un("width",0),Un("bubble",Fd()),Un("overrides",{}),Qd(),Qc("placement",Kd)],Wd=je.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),$d=function(e){return e.fold(b,(function(e,t,n){return e.translate(-t,-n)}))},Xd=function(e){return e.fold(b,b)},Yd=function(e){return Y(e,(function(e,t){return e.translate(t.left,t.top)}),Bu(0,0))},Jd=function(e){var t=G(e,$d);return Yd(t)},Zd=function(e){var t=G(e,Xd);return Yd(t)},ef=Wd.screen,tf=Wd.absolute,nf=function(e,t,n){var r=zo(n.root).dom,i=function(t){var n=Vo(t),r=Vo(e.element);return ii(n,r)};return F.from(r.frameElement).map(tr.fromDom).filter(i).map(Eu)},rf=function(e,t,n){var r=Vo(e.element),i=zu(r),o=nf(e,t,n).getOr(i);return tf(o,i.left,i.top)},of=function(e,t,n,r){var i=e,o=t,a=n,s=r;e<0&&(i=0,a=n+e),t<0&&(o=0,s=r+t);var u=ef(Bu(i,o));return F.some(tc(u,a,s))},af=function(e,t,n,r,i){return e.map((function(e){var o=[t,e.point],a=ld(r,(function(){return Zd(o)}),(function(){return Zd(o)}),(function(){return Jd(o)})),s=nc(a.left,a.top,e.width,e.height),u=n.showAbove?kl():Bl(),c=n.showAbove?_l():Dl(),l=jd(i,n,u,c,u,c,F.none());return Pd({anchorBox:s,bubble:n.bubble.getOr(Fd()),overrides:n.overrides,layouts:l,placer:F.none()})}))},sf=function(e,t,n){var r=rf(e,n,t);return t.node.filter(zs).bind((function(i){var o=i.dom.getBoundingClientRect(),a=of(o.left,o.top,o.width,o.height),s=t.node.getOr(e.element);return af(a,r,t,n,s)}))},uf=[yn("node"),yn("root"),En("bubble"),Qd(),Un("overrides",{}),Un("showAbove",!1),Qc("placement",sf)],cf="\ufeff",lf=" ",df=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},ff={create:df},Af=je.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hf=function(e,t,n,r){return e.fold(t,n,r)},pf=function(e){return e.fold(b,b,b)},mf=Af.before,gf=Af.on,vf=Af.after,yf={before:mf,on:gf,after:vf,cata:hf,getStart:pf},bf=je.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wf=function(e){return bf.exact(e.start,e.soffset,e.finish,e.foffset)},xf=function(e){return e.match({domRange:function(e){return tr.fromDom(e.startContainer)},relative:function(e,t){return yf.getStart(e)},exact:function(e,t,n,r){return e}})},Cf=bf.domRange,Sf=bf.relative,kf=bf.exact,_f=function(e){var t=xf(e);return zo(t)},Bf=ff.create,Df={domRange:Cf,relative:Sf,exact:kf,exactFromRange:wf,getWin:_f,range:Bf},Mf=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))},Ef=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))},Tf=function(e,t,n){var r=e.document.createRange();return Mf(r,t),Ef(r,n),r},If=function(e,t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,i),o},Of=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Lf=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?F.some(n).map(Of):F.none()},Ff=je.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pf=function(e,t,n){return t(tr.fromDom(n.startContainer),n.startOffset,tr.fromDom(n.endContainer),n.endOffset)},Nf=function(e,t){return t.match({domRange:function(e){return{ltr:y(e),rtl:F.none}},relative:function(t,n){return{ltr:Xe((function(){return Tf(e,t,n)})),rtl:Xe((function(){return F.some(Tf(e,n,t))}))}},exact:function(t,n,r,i){return{ltr:Xe((function(){return If(e,t,n,r,i)})),rtl:Xe((function(){return F.some(If(e,r,i,t,n))}))}}})},Uf=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return Ff.rtl(tr.fromDom(e.endContainer),e.endOffset,tr.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Pf(e,Ff.ltr,n)}))}return Pf(e,Ff.ltr,n)},Hf=function(e,t){var n=Nf(e,t);return Uf(e,n)},Rf=function(e,t){var n=Hf(e,t);return n.match({ltr:function(t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,i),o},rtl:function(t,n,r,i){var o=e.document.createRange();return o.setStart(r.dom,i),o.setEnd(t.dom,n),o}})},Vf=(Ff.ltr,Ff.rtl,function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?F.from(t.dom.nodeValue):F.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:i}}),Qf=Vf(Uo,"text"),jf=function(e){return Qf.get(e)},zf=function(e){return Qf.getOption(e)},Gf=function(e){return"img"===Lo(e)?1:zf(e).fold((function(){return $o(e).length}),(function(e){return e.length}))},Kf=function(e){return zf(e).filter((function(e){return 0!==e.trim().length||e.indexOf(lf)>-1})).isSome()},qf=["img","br"],Wf=function(e){var t=Kf(e);return t||V(qf,Lo(e))},$f=function(e){return Xf(e,Wf)},Xf=function(e,t){var n=function(e){for(var r=$o(e),i=r.length-1;i>=0;i--){var o=r[i];if(t(o))return F.some(o);var a=n(o);if(a.isSome())return a}return F.none()};return n(e)},Yf=function(e,t){return ni(t,e)},Jf=function(e,t,n,r){var i=Vo(e),o=i.dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o},Zf=function(e,t,n,r){var i=Jf(e,t,n,r),o=ii(e,n)&&t===r;return i.collapsed&&!o},eA=function(e){return F.from(e.getSelection())},tA=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return F.some(ff.create(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(n.endContainer),n.endOffset))}return F.none()},nA=function(e){if(null===e.anchorNode||null===e.focusNode)return tA(e);var t=tr.fromDom(e.anchorNode),n=tr.fromDom(e.focusNode);return Zf(t,e.anchorOffset,n,e.focusOffset)?F.some(ff.create(t,e.anchorOffset,n,e.focusOffset)):tA(e)},rA=function(e){return eA(e).filter((function(e){return e.rangeCount>0})).bind(nA)},iA=function(e,t){var n=Rf(e,t);return Lf(n)},oA=function(e,t){return{element:e,offset:t}},aA=function(e,t){var n=$o(e);if(0===n.length)return oA(e,t);if(t<n.length)return oA(n[t],0);var r=n[n.length-1],i=Uo(r)?jf(r).length:$o(r).length;return oA(r,i)},sA=function(e,t){return Uo(e)?oA(e,t):aA(e,t)},uA=function(e,t){var n=t.getSelection.getOrThunk((function(){return function(){return rA(e)}}));return n().map((function(e){var t=sA(e.start,e.soffset),n=sA(e.finish,e.foffset);return Df.range(t.element,t.offset,n.element,n.offset)}))},cA=function(e,t,n){var r=zo(t.root).dom,i=rf(e,n,t),o=uA(r,t).bind((function(e){var t=iA(r,Df.exactFromRange(e)).orThunk((function(){var t=tr.fromText(cf);return ua(e.start,t),iA(r,Df.exact(t,0,t,1)).map((function(e){return ma(t),e}))}));return t.bind((function(e){return of(e.left,e.top,e.width,e.height)}))})),a=uA(r,t).bind((function(e){return No(e.start)?F.some(e.start):Ko(e.start)})),s=a.getOr(e.element);return af(o,i,t,n,s)},lA=[En("getSelection"),yn("root"),En("bubble"),Qd(),Un("overrides",{}),Un("showAbove",!1),Qc("placement",cA)],dA=function(e){return e.x+e.width},fA=function(e,t){return e.x-t.width},AA=function(e,t){return e.y-t.height+e.height},hA=function(e){return e.y},pA=function(e,t,n){return Gc(dA(e),hA(e),n.southeast(),Xc(),ol(e,{left:0,top:2}),"link-layout-se")},mA=function(e,t,n){return Gc(fA(e,t),hA(e),n.southwest(),Yc(),ol(e,{right:1,top:2}),"link-layout-sw")},gA=function(e,t,n){return Gc(dA(e),AA(e,t),n.northeast(),Jc(),ol(e,{left:0,bottom:3}),"link-layout-ne")},vA=function(e,t,n){return Gc(fA(e,t),AA(e,t),n.northwest(),Zc(),ol(e,{right:1,bottom:3}),"link-layout-nw")},yA=function(){return[pA,mA,gA,vA]},bA=function(){return[mA,pA,vA,gA]},wA=function(e,t,n){var r=sd(n,t.item.element),i=jd(e.element,t,yA(),bA(),yA(),bA(),F.none());return F.some(Pd({anchorBox:r,bubble:Fd(),overrides:t.overrides,layouts:i,placer:F.none()}))},xA=[yn("item"),Qd(),Un("overrides",{}),Qc("placement",wA)],CA=un("anchor",{selection:lA,node:uf,hotspot:Gd,submenu:xA,makeshift:qd}),SA=function(){var e=document.documentElement;return fd(0,0,e.clientWidth,e.clientHeight)},kA=function(e){var t=Eu(e.element),n=e.element.dom.getBoundingClientRect();return dd(t.left,t.top,n.width,n.height)},_A=function(e,t,n,r,i){var o=hd(n.anchorBox,t);Td(o,i.element,n.bubble,n.layouts,r,n.overrides)},BA=function(e,t,n,r,i){DA(e,t,n,r,i,F.none())},DA=function(e,t,n,r,i,o){var a=o.map(ic);return MA(e,t,n,r,i,a)},MA=function(e,t,n,r,i,o){var a=on("positioning anchor.info",CA,r);td((function(){$s(i.element,"position","fixed");var n=eu(i.element,"visibility");$s(i.element,"visibility","hidden");var r=t.useFixed()?SA():kA(e),s=a.placement,u=o.map(y).or(t.getBounds);s(e,a,r).each((function(t){var n=t.placer.getOr(_A);n(e,r,t,u,i)})),n.fold((function(){ru(i.element,"visibility")}),(function(e){$s(i.element,"visibility",e)})),eu(i.element,"left").isNone()&&eu(i.element,"top").isNone()&&eu(i.element,"right").isNone()&&eu(i.element,"bottom").isNone()&&eu(i.element,"position").is("fixed")&&ru(i.element,"position")}),i.element)},EA=function(e,t,n){return t.useFixed()?"fixed":"absolute"},TA=Object.freeze({__proto__:null,position:BA,positionWithin:DA,positionWithinBounds:MA,getMode:EA}),IA=[Un("useFixed",S),En("getBounds")],OA=Ql({fields:IA,name:"positioning",active:Wl,apis:TA}),LA=function(e){co(e,eo());var t=e.components();K(t,LA)},FA=function(e){var t=e.components();K(t,FA),co(e,Zi())},PA=function(e,t){da(e.element,t.element)},NA=function(e){K(e.components(),(function(e){return ma(e.element)})),pa(e.element),e.syncComponents()},UA=function(e,t){var n=e.components();NA(e);var r=oe(n,t);K(r,(function(t){LA(t),e.getSystem().removeFromWorld(t)})),K(t,(function(t){t.getSystem().isConnected()?PA(e,t):(e.getSystem().addToWorld(t),PA(e,t),zs(e.element)&&FA(t)),e.syncComponents()}))},HA=function(e,t){RA(e,t,da)},RA=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),zs(e.element)&&FA(t),e.syncComponents()},VA=function(e){LA(e),ma(e.element),e.getSystem().removeFromWorld(e)},QA=function(e){var t=Go(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));VA(e),t.each((function(e){e.syncComponents()}))},jA=function(e){var t=e.components();K(t,VA),pa(e.element),e.syncComponents()},zA=function(e,t){KA(e,t,da)},GA=function(e,t){KA(e,t,ca)},KA=function(e,t,n){n(e,t.element);var r=$o(t.element);K(r,(function(e){t.getByDom(e).each(FA)}))},qA=function(e){var t=$o(e.element);K(t,(function(t){e.getByDom(t).each(LA)})),ma(e.element)},WA=function(e,t,n,r){n.get().each((function(t){jA(e)}));var i=t.getAttachPoint(e);HA(i,e);var o=e.getSystem().build(r);return HA(e,o),n.set(o),o},$A=function(e,t,n,r){var i=WA(e,t,n,r);return t.onOpen(e,i),i},XA=function(e,t,n,r){return n.get().map((function(){return WA(e,t,n,r)}))},YA=function(e,t,n,r,i){ih(e,t),$A(e,t,n,r),i(),ah(e,t)},JA=function(e,t,n){n.get().each((function(r){jA(e),QA(e),t.onClose(e,r),n.clear()}))},ZA=function(e,t,n){return n.isOpen()},eh=function(e,t,n,r){return ZA(e,t,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},th=function(e,t,n){return n.get()},nh=function(e,t,n,r){eu(e.element,t).fold((function(){Da(e.element,n)}),(function(t){Ca(e.element,n,t)})),$s(e.element,t,r)},rh=function(e,t,n){_a(e.element,n).fold((function(){return ru(e.element,t)}),(function(n){return $s(e.element,t,n)}))},ih=function(e,t,n){var r=t.getAttachPoint(e);$s(e.element,"position",OA.getMode(r)),nh(e,"visibility",t.cloakVisibilityAttr,"hidden")},oh=function(e){return Q(["top","left","right","bottom"],(function(t){return eu(e,t).isSome()}))},ah=function(e,t,n){oh(e.element)||ru(e.element,"position"),rh(e,"visibility",t.cloakVisibilityAttr)},sh=Object.freeze({__proto__:null,cloak:ih,decloak:ah,open:$A,openWhileCloaked:YA,close:JA,isOpen:ZA,isPartOf:eh,getState:th,setContent:XA}),uh=function(e,t){return mo([bo(Ki(),(function(n,r){JA(n,e,t)}))])},ch=Object.freeze({__proto__:null,events:uh}),lh=[Uc("onOpen"),Uc("onClose"),yn("isPartOf"),yn("getAttachPoint"),Un("cloakVisibilityAttr","data-precloak-visibility")],dh=function(){var e=$n(F.none()),t=y("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(F.some(t))},i=function(){return e.get()},o=function(){e.set(F.none())};return is({readState:t,isOpen:n,clear:o,set:r,get:i})},fh=Object.freeze({__proto__:null,init:dh}),Ah=Ql({fields:lh,name:"sandboxing",active:ch,apis:sh,state:fh}),hh=y("dismiss.popups"),ph=y("reposition.popups"),mh=y("mouse.released"),gh=Nt([Un("isExtraPart",S),Pn("fireEventInstead",[Un("event",to())])]),vh=function(e){var t,n=on("Dismissal",gh,e);return t={},t[hh()]={schema:Nt([yn("target")]),onReceive:function(e,t){if(Ah.isOpen(e)){var r=Ah.isPartOf(e,t.target)||n.isExtraPart(e,t.target);r||n.fireEventInstead.fold((function(){return Ah.close(e)}),(function(t){return co(e,t.event)}))}}},t},yh=Nt([Pn("fireEventInstead",[Un("event",no())]),kn("doReposition")]),bh=function(e){var t,n=on("Reposition",yh,e);return t={},t[ph()]={onReceive:function(e){Ah.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return co(e,t.event)}))}},t},wh=function(e,t,n){t.store.manager.onLoad(e,t,n)},xh=function(e,t,n){t.store.manager.onUnload(e,t,n)},Ch=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Sh=function(e,t,n){return t.store.manager.getValue(e,t,n)},kh=function(e,t,n){return n},_h=Object.freeze({__proto__:null,onLoad:wh,onUnload:xh,setValue:Ch,getValue:Sh,getState:kh}),Bh=function(e,t){var n=e.resetOnDom?[Eo((function(n,r){wh(n,e,t)})),To((function(n,r){xh(n,e,t)}))]:[Ll(e,t,wh)];return mo(n)},Dh=Object.freeze({__proto__:null,events:Bh}),Mh=function(){var e=$n(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return is({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},Eh=function(){var e=p;return is({readState:e})},Th=function(){var e=$n({}),t=$n({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})},i=function(n){return He(e.get(),n).orThunk((function(){return He(t.get(),n)}))},o=function(n){var r=e.get(),i=t.get(),o={},a={};K(n,(function(e){o[e.value]=e,He(e,"meta").each((function(t){He(t,"text").each((function(t){a[t]=e}))}))})),e.set(B(B({},r),o)),t.set(B(B({},i),a))};return is({readState:n,lookup:i,update:o,clear:r})},Ih=function(e){return e.store.manager.state(e)},Oh=Object.freeze({__proto__:null,memory:Mh,dataset:Th,manual:Eh,init:Ih}),Lh=function(e,t,n,r){var i=t.store;n.update([r]),i.setValue(e,r),t.onSetValue(e,r)},Fh=function(e,t,n){var r=t.store,i=r.getDataKey(e);return n.lookup(i).fold((function(){return r.getFallbackEntry(i)}),(function(e){return e}))},Ph=function(e,t,n){var r=t.store;r.initialValue.each((function(r){Lh(e,t,n,r)}))},Nh=function(e,t,n){n.clear()},Uh=[En("initialValue"),yn("getFallbackEntry"),yn("getDataKey"),yn("setValue"),Qc("manager",{setValue:Lh,getValue:Fh,onLoad:Ph,onUnload:Nh,state:Th})],Hh=function(e,t,n){return t.store.getValue(e)},Rh=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Vh=function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},Qh=[yn("getValue"),Un("setValue",p),En("initialValue"),Qc("manager",{setValue:Rh,getValue:Hh,onLoad:Vh,onUnload:p,state:rs.init})],jh=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},zh=function(e,t,n){return n.get()},Gh=function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},Kh=function(e,t,n){n.clear()},qh=[En("initialValue"),Qc("manager",{setValue:jh,getValue:zh,onLoad:Gh,onUnload:Kh,state:Mh})],Wh=[Hn("store",{mode:"memory"},un("mode",{memory:qh,manual:Qh,dataset:Uh})),Uc("onSetValue"),Un("resetOnDom",!1)],$h=Ql({fields:Wh,name:"representing",active:Dh,apis:_h,extra:{setValueFrom:function(e,t){var n=$h.getValue(t);$h.setValue(e,n)}},state:Oh}),Xh=function(e,t){return qn(e,{},G(t,(function(t){return _n(t.name(),"Cannot configure "+t.name()+" for "+e)})).concat([Wn("dump",b)]))},Yh=function(e){return e.dump},Jh=function(e,t){return B(B({},e.dump),Rl(t))},Zh={field:Xh,augment:Jh,get:Yh},ep="placeholder",tp=je.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),np=function(e){return Re(e,"uiType")},rp=function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?tp.single(!0,y(n)):He(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+De(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))},ip=function(e,t,n,r){return np(n)&&n.uiType===ep?rp(e,t,n,r):tp.single(!1,y(n))},op=function(e,t,n,r){var i=ip(e,t,n,r);return i.fold((function(i,o){var a=np(n)?o(t,n.config,n.validated):o(t),s=He(a,"components").getOr([]),u=ne(s,(function(n){return op(e,t,n,r)}));return[B(B({},a),{components:u})]}),(function(e,r){if(np(n)){var i=r(t,n.config,n.validated),o=n.validated.preprocess.getOr(b);return o(i)}return r(t)}))},ap=function(e,t,n,r){return ne(n,(function(n){return op(e,t,n,r)}))},sp=function(e,t){var n=!1,r=function(){return n},i=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},o=function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))};return{name:y(e),required:o,used:r,replace:i}},up=function(e,t,n,r){var i=Te(r,(function(e,t){return sp(t,e)})),o=ap(e,t,n,i);return Ee(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),o},cp=tp.single,lp=tp.multiple,dp=y(ep),fp=je.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ap=Un("factory",{sketch:b}),hp=Un("schema",[]),pp=yn("name"),mp=Kt("pname","pname",nt((function(e){return"<alloy."+Na(e.name)+">"})),ln()),gp=Wn("schema",(function(){return[En("preprocess")]})),vp=Un("defaults",y({})),yp=Un("overrides",y({})),bp=Ut([Ap,hp,pp,mp,vp,yp]),wp=Ut([Ap,hp,pp,vp,yp]),xp=Ut([Ap,hp,pp,mp,vp,yp]),Cp=Ut([Ap,gp,pp,yn("unit"),mp,vp,yp]),Sp=function(e){return e.fold(F.some,F.none,F.some,F.some)},kp=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},_p=function(e){return e.fold(b,b,b,b)},Bp=function(e,t){return function(n){var r=on("Converting part type",t,n);return e(r)}},Dp=Bp(fp.required,bp),Mp=Bp(fp.external,wp),Ep=Bp(fp.optional,xp),Tp=Bp(fp.group,Cp),Ip=y("entirety"),Op=Object.freeze({__proto__:null,required:Dp,external:Mp,optional:Ep,group:Tp,asNamedPart:Sp,name:kp,asCommon:_p,original:Ip}),Lp=function(e,t,n,r){return We(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},Fp=function(e,t,n){var r={},i={};return K(n,(function(e){e.fold((function(e){r[e.pname]=cp(!0,(function(t,n,r){return e.factory.sketch(Lp(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];i[e.name]=y(e.factory.sketch(Lp(t,e,n[Ip()]),n))}),(function(e){r[e.pname]=cp(!1,(function(t,n,r){return e.factory.sketch(Lp(t,e,n,r))}))}),(function(e){r[e.pname]=lp(!0,(function(t,n,r){var i=t[e.name];return G(i,(function(n){return e.factory.sketch(We(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:y(r),externals:y(i)}},Pp=function(e,t){var n={};return K(t,(function(t){Sp(t).each((function(t){var r=Np(e,t.pname);n[t.name]=function(n){var i=on("Part: "+t.name+" in "+e,Ut(t.schema),n);return B(B({},r),{config:n,validated:i})}}))})),n},Np=function(e,t){return{uiType:dp(),owner:e,name:t}},Up=function(e,t,n){return{uiType:dp(),owner:e,name:t,config:n,validated:{}}},Hp=function(e){return ne(e,(function(e){return e.fold(F.none,F.some,F.none,F.none).map((function(e){return Bn(e.name,e.schema.concat([jc(Ip())]))})).toArray()}))},Rp=function(e){return G(e,kp)},Vp=function(e,t,n){return Fp(e,t,n)},Qp=function(e,t,n){return up(F.some(e),t,t.components,n)},jp=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},zp=function(e,t,n){return jp(e,t,n).getOrDie("Could not find part: "+n)},Gp=function(e,t,n){var r={},i=t.partUids,o=e.getSystem();return K(n,(function(e){r[e]=y(o.getByUid(i[e]))})),r},Kp=function(e,t){var n=e.getSystem();return Te(t.partUids,(function(e,t){return y(n.getByUid(e))}))},qp=function(e){return De(e.partUids)},Wp=function(e,t,n){var r={},i=t.partUids,o=e.getSystem();return K(n,(function(e){r[e]=y(o.getByUid(i[e]).getOrDie())})),r},$p=function(e,t){var n=Rp(t);return lt(G(n,(function(t){return{key:t,value:e+"-"+t}})))},Xp=function(e){return Kt("partUids","partUids",rt((function(t){return $p(t.uid,e)})),ln())},Yp=Object.freeze({__proto__:null,generate:Pp,generateOne:Up,schemas:Hp,names:Rp,substitutes:Vp,components:Qp,defaultUids:$p,defaultUidsSchema:Xp,getAllParts:Kp,getAllPartNames:qp,getPart:jp,getPartOrDie:zp,getParts:Gp,getPartsOrDie:Wp}),Jp=function(e,t){var n=e.length>0?[Bn("parts",e)]:[];return n.concat([yn("uid"),Un("dom",{}),Un("components",[]),jc("originalSpec"),Un("debug.sketcher",{})]).concat(t)},Zp=function(e,t,n,r,i){var o=Jp(r,i);return on(e+" [SpecSchema]",Nt(o.concat(t)),n)},em=function(e,t,n,r){var i=rm(r),o=Zp(e,t,i,[],[]);return n(o,i)},tm=function(e,t,n,r,i){var o=rm(i),a=Hp(n),s=Xp(n),u=Zp(e,t,o,a,[s]),c=Vp(e,u,n),l=Qp(e,u,c.internals());return r(u,l,o,c.externals())},nm=function(e){return Re(e,"uid")},rm=function(e){return nm(e)?e:B(B({},e),{uid:Ga("uid")})},im=function(e){return void 0!==e.uid},om=Nt([yn("name"),yn("factory"),yn("configFields"),Un("apis",{}),Un("extraApis",{})]),am=Nt([yn("name"),yn("factory"),yn("configFields"),yn("partFields"),Un("apis",{}),Un("extraApis",{})]),sm=function(e){var t=on("Sketcher for "+e.name,om,e),n=function(e){return em(t.name,t.configFields,t.factory,e)},r=Te(t.apis,ns),i=Te(t.extraApis,(function(e,t){return Ya(e,t)}));return B(B({name:t.name,configFields:t.configFields,sketch:n},r),i)},um=function(e){var t=on("Sketcher for "+e.name,am,e),n=function(e){return tm(t.name,t.configFields,t.partFields,t.factory,e)},r=Pp(t.name,t.partFields),i=Te(t.apis,ns),o=Te(t.extraApis,(function(e,t){return Ya(e,t)}));return B(B({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:r},i),o)},cm=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},lm=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return F.none();t.push(r.getOrDie())}return F.some(t)},dm=function(e,t,n){return e.isSome()&&t.isSome()?F.some(n(e.getOrDie(),t.getOrDie())):F.none()},fm=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?F.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):F.none()},Am=function(e,t){return void 0!==e&&null!==e?F.some(t(e)):F.none()},hm=function(e,t){return e?F.some(t):F.none()},pm=function(e){return"input"===Lo(e)&&"radio"!==ka(e,"type")||"textarea"===Lo(e)},mm=function(e,t,n){return t.find(e)},gm=Object.freeze({__proto__:null,getCurrent:mm}),vm=[yn("find")],ym=Ql({fields:vm,name:"composing",apis:gm}),bm=function(e,t,n,r){var i=Yf(e.element,"."+t.highlightClass);K(i,(function(n){Q(r,(function(e){return e.element===n}))||(Hs(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),co(n,uo())})))}))},wm=function(e,t,n){return bm(e,t,n,[])},xm=function(e,t,n,r){Dm(e,t,n,r)&&(Hs(r.element,t.highlightClass),t.onDehighlight(e,r),co(r,uo()))},Cm=function(e,t,n,r){bm(e,t,n,[r]),Dm(e,t,n,r)||(Ns(r.element,t.highlightClass),t.onHighlight(e,r),co(r,so()))},Sm=function(e,t,n){Tm(e,t).each((function(r){Cm(e,t,n,r)}))},km=function(e,t,n){Im(e,t).each((function(r){Cm(e,t,n,r)}))},_m=function(e,t,n,r){Em(e,t,n,r).fold((function(e){throw e}),(function(r){Cm(e,t,n,r)}))},Bm=function(e,t,n,r){var i=Pm(e,t),o=Z(i,r);o.each((function(r){Cm(e,t,n,r)}))},Dm=function(e,t,n,r){return Rs(r.element,t.highlightClass)},Mm=function(e,t,n){return hc(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Em=function(e,t,n,r){var i=Yf(e.element,"."+t.itemClass);return F.from(i[r]).fold((function(){return me.error(new Error("No element found with index "+r))}),e.getSystem().getByDom)},Tm=function(e,t,n){return hc(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Im=function(e,t,n){var r=Yf(e.element,"."+t.itemClass),i=r.length>0?F.some(r[r.length-1]):F.none();return i.bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Om=function(e,t,n,r){var i=Yf(e.element,"."+t.itemClass),o=ee(i,(function(e){return Rs(e,t.highlightClass)}));return o.bind((function(t){var n=pd(t,r,0,i.length-1);return e.getSystem().getByDom(i[n]).toOptional()}))},Lm=function(e,t,n){return Om(e,t,n,-1)},Fm=function(e,t,n){return Om(e,t,n,1)},Pm=function(e,t,n){var r=Yf(e.element,"."+t.itemClass);return cm(G(r,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Nm=Object.freeze({__proto__:null,dehighlightAll:wm,dehighlight:xm,highlight:Cm,highlightFirst:Sm,highlightLast:km,highlightAt:_m,highlightBy:Bm,isHighlighted:Dm,getHighlighted:Mm,getFirst:Tm,getLast:Im,getPrevious:Lm,getNext:Fm,getCandidates:Pm}),Um=[yn("highlightClass"),yn("itemClass"),Uc("onHighlight"),Uc("onDehighlight")],Hm=Ql({fields:Um,name:"highlighting",apis:Nm}),Rm=[8],Vm=[9],Qm=[13],jm=[27],zm=[32],Gm=[37],Km=[38],qm=[39],Wm=[40],$m=function(e,t,n){var r=ie(e.slice(0,t)),i=ie(e.slice(t+1));return Z(r.concat(i),n)},Xm=function(e,t,n){var r=ie(e.slice(0,t));return Z(r,n)},Ym=function(e,t,n){var r=e.slice(0,t),i=e.slice(t+1);return Z(i.concat(r),n)},Jm=function(e,t,n){var r=e.slice(t+1);return Z(r,n)},Zm=function(e){return function(t){var n=t.raw;return V(e,n.which)}},eg=function(e){return function(t){return re(e,(function(e){return e(t)}))}},tg=function(e){var t=e.raw;return!0===t.shiftKey},ng=function(e){var t=e.raw;return!0===t.ctrlKey},rg=x(tg),ig=function(e,t){return{matches:e,classification:t}},og=function(e,t){var n=Z(e,(function(e){return e.matches(t)}));return n.map((function(e){return e.classification}))},ag=function(e,t,n){var r=t.exists((function(e){return n.exists((function(t){return ii(t,e)}))}));r||lo(e,ro(),{prevFocus:t,newFocus:n})},sg=function(){var e=function(e){return ed(e.element)},t=function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element);var i=e(t);ag(t,r,i)};return{get:e,set:t}},ug=function(){var e=function(e){return Hm.getHighlighted(e).map((function(e){return e.element}))},t=function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(p,(function(e){Hm.highlight(t,e)}));var i=e(t);ag(t,r,i)};return{get:e,set:t}};(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(Hd||(Hd={}));var cg=function(e,t,n,r,i){var o=function(){return e.concat([Un("focusManager",sg()),Hn("focusInside","onFocus",Zt((function(e){return V(["onFocus","onEnterOrSpace","onApi"],e)?me.value(e):me.error("Invalid value for focusInside")}))),Qc("handler",u),Qc("state",t),Qc("sendFocusIn",i)])},a=function(e,t,n,r,i){var o=n(e,t,r,i);return og(o,t.event).bind((function(n){return n(e,t,r,i)}))},s=function(e,t){var o=e.focusInside!==Hd.OnFocusMode?F.none():i(e).map((function(n){return bo(Ui(),(function(r,i){n(r,e,t),i.stop()}))})),s=function(n,r){var o=Zm(zm.concat(Qm))(r.event);e.focusInside===Hd.OnEnterOrSpaceMode&&o&&di(n,r)&&i(e).each((function(i){i(n,e,t),r.stop()}))},u=[bo(Mi(),(function(r,i){a(r,i,n,e,t).fold((function(){s(r,i)}),(function(e){i.stop()}))})),bo(Ei(),(function(n,i){a(n,i,r,e,t).each((function(e){i.stop()}))}))];return mo(o.toArray().concat(u))},u={schema:o,processKey:a,toEvents:s};return u},lg=function(e){var t=[En("onEscape"),En("onEnter"),Un("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Un("firstTabstop",0),Un("useTabstopAt",k),En("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return pc(t,e)})).getOr(t);return Cu(n)>0},r=function(e,t){var r=Yf(e.element,t.selector),i=$(r,(function(e){return n(t,e)}));return F.from(i[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind((function(e){return pc(e,t.selector)}))},o=function(e,t){return n(e,t)&&e.useTabstopAt(t)},a=function(e,t,n){r(e,t).each((function(n){t.focusManager.set(e,n)}))},s=function(e,t,n,r,i){return i(t,n,(function(e){return o(r,e)})).fold((function(){return r.cyclic?F.some(!0):F.none()}),(function(t){return r.focusManager.set(e,t),F.some(!0)}))},u=function(e,t,n,r){var o=Yf(e.element,n.selector);return i(e,n).bind((function(t){var i=ee(o,w(ii,t));return i.bind((function(t){return s(e,o,t,n,r)}))}))},c=function(e,t,n){var r=n.cyclic?$m:Xm;return u(e,t,n,r)},l=function(e,t,n){var r=n.cyclic?Ym:Jm;return u(e,t,n,r)},d=function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))},f=function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))},A=y([ig(eg([tg,Zm(Vm)]),c),ig(Zm(Vm),l),ig(Zm(jm),f),ig(eg([rg,Zm(Qm)]),d)]),h=y([]);return cg(t,rs.init,A,h,(function(){return F.some(a)}))},dg=lg(Wn("cyclic",S)),fg=lg(Wn("cyclic",k)),Ag=function(e,t,n){return Ao(e,n,Qi()),F.some(!0)},hg=function(e,t,n){var r=pm(n)&&Zm(zm)(t.event);return r?F.none():Ag(e,t,n)},pg=function(e,t){return F.some(!0)},mg=[Un("execute",hg),Un("useSpace",!1),Un("useEnter",!0),Un("useControlEnter",!1),Un("useDown",!1)],gg=function(e,t,n){return n.execute(e,t,e.element)},vg=function(e,t,n,r){var i=n.useSpace&&!pm(e.element)?zm:[],o=n.useEnter?Qm:[],a=n.useDown?Wm:[],s=i.concat(o).concat(a);return[ig(Zm(s),gg)].concat(n.useControlEnter?[ig(eg([ng,Zm(Qm)]),gg)]:[])},yg=function(e,t,n,r){return n.useSpace&&!pm(e.element)?[ig(Zm(zm),pg)]:[]},bg=cg(mg,rs.init,vg,yg,(function(){return F.none()})),wg=function(){var e=$n(F.none()),t=function(t,n){e.set(F.some({numRows:t,numColumns:n}))},n=function(){return e.get().map((function(e){return e.numRows}))},r=function(){return e.get().map((function(e){return e.numColumns}))};return is({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},xg=function(e){return e.state(e)},Cg=Object.freeze({__proto__:null,flatgrid:wg,init:xg}),Sg=function(e){return function(t,n,r,i){var o=e(t.element);return Dg(o,t,n,r,i)}},kg=function(e,t){var n=Nd(e,t);return Sg(n)},_g=function(e,t){var n=Nd(t,e);return Sg(n)},Bg=function(e){return function(t,n,r,i){return Dg(e,t,n,r,i)}},Dg=function(e,t,n,r,i){var o=r.focusManager.get(t).bind((function(n){return e(t.element,n,r,i)}));return o.map((function(e){return r.focusManager.set(t,e),!0}))},Mg=Bg,Eg=Bg,Tg=Bg,Ig=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Og=function(e){return!Ig(e.dom)},Lg=function(e,t){return ee(e,t).map((function(t){return{index:t,candidates:e}}))},Fg=function(e,t,n){var r=function(e){return ii(e,t)},i=Yf(e,n),o=$(i,Og);return Lg(o,r)},Pg=function(e,t){return ee(e,(function(e){return ii(t,e)}))},Ng=function(e,t,n,r){var i=Math.floor(t/n),o=t%n;return r(i,o).bind((function(t){var r=t.row*n+t.column;return r>=0&&r<e.length?F.some(e[r]):F.none()}))},Ug=function(e,t,n,r,i){return Ng(e,t,r,(function(t,o){var a=t===n-1,s=a?e.length-t*r:r,u=pd(o,i,0,s-1);return F.some({row:t,column:u})}))},Hg=function(e,t,n,r,i){return Ng(e,t,r,(function(t,o){var a=pd(t,i,0,n-1),s=a===n-1,u=s?e.length-a*r:r,c=md(o,0,u-1);return F.some({row:a,column:c})}))},Rg=function(e,t,n,r){return Ug(e,t,n,r,1)},Vg=function(e,t,n,r){return Ug(e,t,n,r,-1)},Qg=function(e,t,n,r){return Hg(e,t,n,r,-1)},jg=function(e,t,n,r){return Hg(e,t,n,r,1)},zg=[yn("selector"),Un("execute",hg),Hc("onEscape"),Un("captureTab",!1),zc()],Gg=function(e,t,n){hc(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Kg=function(e,t){return t.focusManager.get(e).bind((function(e){return pc(e,t.selector)}))},qg=function(e,t,n,r){return Kg(e,n).bind((function(r){return n.execute(e,t,r)}))},Wg=function(e){return function(t,n,r,i){return Fg(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,i.getNumRows().getOr(r.initSize.numRows),i.getNumColumns().getOr(r.initSize.numColumns))}))}},$g=function(e,t,n){return n.captureTab?F.some(!0):F.none()},Xg=function(e,t,n){return n.onEscape(e,t)},Yg=Wg(Vg),Jg=Wg(Rg),Zg=Wg(Qg),ev=Wg(jg),tv=y([ig(Zm(Gm),kg(Yg,Jg)),ig(Zm(qm),_g(Yg,Jg)),ig(Zm(Km),Mg(Zg)),ig(Zm(Wm),Eg(ev)),ig(eg([tg,Zm(Vm)]),$g),ig(eg([rg,Zm(Vm)]),$g),ig(Zm(jm),Xg),ig(Zm(zm.concat(Qm)),qg)]),nv=y([ig(Zm(zm),pg)]),rv=cg(zg,wg,tv,nv,(function(){return F.some(Gg)})),iv=function(e,t,n,r){var i=function(e){return"button"===Lo(e)&&"disabled"===ka(e,"disabled")},o=function(e,t,n){var a=pd(t,r,0,n.length-1);return a===e?F.none():i(n[a])?o(e,a,n):F.from(n[a])};return Fg(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return o(t,t,n)}))},ov=[yn("selector"),Un("getInitial",F.none),Un("execute",hg),Hc("onEscape"),Un("executeOnMove",!1),Un("allowVertical",!0)],av=function(e,t){return t.focusManager.get(e).bind((function(e){return pc(e,t.selector)}))},sv=function(e,t,n){return av(e,n).bind((function(r){return n.execute(e,t,r)}))},uv=function(e,t,n){t.getInitial(e).orThunk((function(){return hc(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},cv=function(e,t,n){return iv(e,n.selector,t,-1)},lv=function(e,t,n){return iv(e,n.selector,t,1)},dv=function(e){return function(t,n,r,i){return e(t,n,r,i).bind((function(){return r.executeOnMove?sv(t,n,r):F.some(!0)}))}},fv=function(e,t,n){return n.onEscape(e,t)},Av=function(e,t,n,r){var i=Gm.concat(n.allowVertical?Km:[]),o=qm.concat(n.allowVertical?Wm:[]);return[ig(Zm(i),dv(kg(cv,lv))),ig(Zm(o),dv(_g(cv,lv))),ig(Zm(Qm),sv),ig(Zm(zm),sv),ig(Zm(jm),fv)]},hv=y([ig(Zm(zm),pg)]),pv=cg(ov,rs.init,Av,hv,(function(){return F.some(uv)})),mv=function(e,t,n){return F.from(e[t]).bind((function(e){return F.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},gv=function(e,t,n,r){var i=e[t],o=i.length,a=pd(n,r,0,o-1);return mv(e,t,a)},vv=function(e,t,n,r){var i=pd(n,r,0,e.length-1),o=e[i].length,a=md(t,0,o-1);return mv(e,i,a)},yv=function(e,t,n,r){var i=e[t],o=i.length,a=md(n+r,0,o-1);return mv(e,t,a)},bv=function(e,t,n,r){var i=md(n+r,0,e.length-1),o=e[i].length,a=md(t,0,o-1);return mv(e,i,a)},wv=function(e,t,n){return gv(e,t,n,1)},xv=function(e,t,n){return gv(e,t,n,-1)},Cv=function(e,t,n){return vv(e,n,t,-1)},Sv=function(e,t,n){return vv(e,n,t,1)},kv=function(e,t,n){return yv(e,t,n,-1)},_v=function(e,t,n){return yv(e,t,n,1)},Bv=function(e,t,n){return bv(e,n,t,-1)},Dv=function(e,t,n){return bv(e,n,t,1)},Mv=[Bn("selectors",[yn("row"),yn("cell")]),Un("cycles",!0),Un("previousSelector",F.none),Un("execute",hg)],Ev=function(e,t,n){var r=t.previousSelector(e).orThunk((function(){var n=t.selectors;return hc(e.element,n.cell)}));r.each((function(n){t.focusManager.set(e,n)}))},Tv=function(e,t,n){return ed(e.element).bind((function(r){return n.execute(e,t,r)}))},Iv=function(e,t){return G(e,(function(e){return Yf(e,t.selectors.cell)}))},Ov=function(e,t){return function(n,r,i){var o=i.cycles?e:t;return pc(r,i.selectors.row).bind((function(e){var t=Yf(e,i.selectors.cell);return Pg(t,r).bind((function(t){var r=Yf(n,i.selectors.row);return Pg(r,e).bind((function(e){var n=Iv(r,i);return o(n,e,t).map((function(e){return e.cell}))}))}))}))}},Lv=Ov(xv,kv),Fv=Ov(wv,_v),Pv=Ov(Cv,Bv),Nv=Ov(Sv,Dv),Uv=y([ig(Zm(Gm),kg(Lv,Fv)),ig(Zm(qm),_g(Lv,Fv)),ig(Zm(Km),Mg(Pv)),ig(Zm(Wm),Eg(Nv)),ig(Zm(zm.concat(Qm)),Tv)]),Hv=y([ig(Zm(zm),pg)]),Rv=cg(Mv,rs.init,Uv,Hv,(function(){return F.some(Ev)})),Vv=[yn("selector"),Un("execute",hg),Un("moveOnTab",!1)],Qv=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},jv=function(e,t,n){hc(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},zv=function(e,t,n){return iv(e,n.selector,t,-1)},Gv=function(e,t,n){return iv(e,n.selector,t,1)},Kv=function(e,t,n,r){return n.moveOnTab?Tg(zv)(e,t,n,r):F.none()},qv=function(e,t,n,r){return n.moveOnTab?Tg(Gv)(e,t,n,r):F.none()},Wv=y([ig(Zm(Km),Tg(zv)),ig(Zm(Wm),Tg(Gv)),ig(eg([tg,Zm(Vm)]),Kv),ig(eg([rg,Zm(Vm)]),qv),ig(Zm(Qm),Qv),ig(Zm(zm),Qv)]),$v=y([ig(Zm(zm),pg)]),Xv=cg(Vv,rs.init,Wv,$v,(function(){return F.some(jv)})),Yv=[Hc("onSpace"),Hc("onEnter"),Hc("onShiftEnter"),Hc("onLeft"),Hc("onRight"),Hc("onTab"),Hc("onShiftTab"),Hc("onUp"),Hc("onDown"),Hc("onEscape"),Un("stopSpaceKeyup",!1),En("focusIn")],Jv=function(e,t,n){return[ig(Zm(zm),n.onSpace),ig(eg([rg,Zm(Qm)]),n.onEnter),ig(eg([tg,Zm(Qm)]),n.onShiftEnter),ig(eg([tg,Zm(Vm)]),n.onShiftTab),ig(eg([rg,Zm(Vm)]),n.onTab),ig(Zm(Km),n.onUp),ig(Zm(Wm),n.onDown),ig(Zm(Gm),n.onLeft),ig(Zm(qm),n.onRight),ig(Zm(zm),n.onSpace),ig(Zm(jm),n.onEscape)]},Zv=function(e,t,n){return n.stopSpaceKeyup?[ig(Zm(zm),pg)]:[]},ey=cg(Yv,rs.init,Jv,Zv,(function(e){return e.focusIn})),ty=dg.schema(),ny=fg.schema(),ry=pv.schema(),iy=rv.schema(),oy=Rv.schema(),ay=bg.schema(),sy=Xv.schema(),uy=ey.schema(),cy=Object.freeze({__proto__:null,acyclic:ty,cyclic:ny,flow:ry,flatgrid:iy,matrix:oy,execution:ay,menu:sy,special:uy}),ly=function(e){return Ve(e,"setGridSize")},dy=zl({branchKey:"mode",branches:cy,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,i){ly(n)?n.setGridSize(r,i):console.error("Layout does not support setGridSize")}},state:Cg}),fy=function(e,t,n,r){td((function(){var t=G(r,e.getSystem().build);UA(e,t)}),e.element)},Ay=function(e,t,n,r){var i=e.getSystem().build(r);RA(e,i,n)},hy=function(e,t,n,r){Ay(e,t,da,r)},py=function(e,t,n,r){Ay(e,t,la,r)},my=function(e,t,n,r){var i=gy(e),o=Z(i,(function(e){return ii(r.element,e.element)}));o.each(QA)},gy=function(e,t){return e.components()},vy=function(e,t,n,r,i){var o=gy(e);return F.from(o[r]).map((function(o){return my(e,t,n,o),i.each((function(n){Ay(e,t,(function(e,t){fa(e,t,r)}),n)})),o}))},yy=function(e,t,n,r,i){var o=gy(e);return ee(o,r).bind((function(r){return vy(e,t,n,r,i)}))},by=Object.freeze({__proto__:null,append:hy,prepend:py,remove:my,replaceAt:vy,replaceBy:yy,set:fy,contents:gy}),wy=Ql({fields:[],name:"replacing",apis:by}),xy=function(e,t){var n=mo(t);return Ql({fields:[yn("enabled")],name:e,active:{events:y(n)}})},Cy=function(e,t){var n=xy(e,t);return{key:e,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:rs}}},Sy=function(e,t){t.ignore||(Xl(e.element),t.onFocus(e))},ky=function(e,t){t.ignore||Yl(e.element)},_y=function(e){return Jl(e.element)},By=Object.freeze({__proto__:null,focus:Sy,blur:ky,isFocused:_y}),Dy=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return cs(n)},My=function(e){return mo([bo(Ui(),(function(t,n){Sy(t,e),n.stop()}))].concat(e.stopMousedown?[bo(xi(),(function(e,t){t.event.prevent()}))]:[]))},Ey=Object.freeze({__proto__:null,exhibit:Dy,events:My}),Ty=[Uc("onFocus"),Un("stopMousedown",!1),Un("ignore",!1)],Iy=Ql({fields:Ty,name:"focusing",active:Ey,apis:By}),Oy=function(e){var t=function(){var t=$n(e),n=function(){return t.get()},r=function(e){return t.set(e)},i=function(){return t.set(e)},o=function(){return t.get()};return{get:n,set:r,clear:i,readState:o}};return{init:t}},Ly=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},Fy=function(e,t,n){t.toggleClass.each((function(t){n.get()?Ns(e.element,t):Hs(e.element,t)}))},Py=function(e,t,n){Hy(e,t,n,!n.get())},Ny=function(e,t,n){n.set(!0),Fy(e,t,n),Ly(e,t,n)},Uy=function(e,t,n){n.set(!1),Fy(e,t,n),Ly(e,t,n)},Hy=function(e,t,n,r){var i=r?Ny:Uy;i(e,t,n)},Ry=function(e,t,n){return n.get()},Vy=function(e,t,n){Hy(e,t,n,t.selected)},Qy=Object.freeze({__proto__:null,onLoad:Vy,toggle:Py,isOn:Ry,on:Ny,off:Uy,set:Hy}),jy=function(){return cs({})},zy=function(e,t){var n=Ol(e,t,Py),r=Ll(e,t,Vy);return mo(te([e.toggleOnExecute?[n]:[],[r]]))},Gy=Object.freeze({__proto__:null,exhibit:jy,events:zy}),Ky=function(e,t,n){Ca(e.element,"aria-pressed",n),t.syncWithExpanded&&$y(e,t,n)},qy=function(e,t,n){Ca(e.element,"aria-selected",n)},Wy=function(e,t,n){Ca(e.element,"aria-checked",n)},$y=function(e,t,n){Ca(e.element,"aria-expanded",n)},Xy=[Un("selected",!1),En("toggleClass"),Un("toggleOnExecute",!0),Hn("aria",{mode:"none"},un("mode",{pressed:[Un("syncWithExpanded",!1),Qc("update",Ky)],checked:[Qc("update",Wy)],expanded:[Qc("update",$y)],selected:[Qc("update",qy)],none:[Qc("update",p)]}))],Yy=Ql({fields:Xy,name:"toggling",active:Gy,apis:Qy,state:Oy(!1)}),Jy=function(){var e=function(e,t){t.stop(),fo(e)};return[bo(Oi(),e),bo(zi(),e),Bo(vi()),Bo(xi())]},Zy=function(e){var t=function(e){return Oo((function(t,n){e(t),n.stop()}))};return mo(te([e.map(t).toArray(),Jy()]))},eb="alloy.item-hover",tb="alloy.item-focus",nb=function(e){(ed(e.element).isNone()||Iy.isFocused(e))&&(Iy.isFocused(e)||Iy.focus(e),lo(e,eb,{item:e}))},rb=function(e){lo(e,tb,{item:e})},ib=y(eb),ob=y(tb),ab=function(e){return{dom:e.dom,domModification:B(B({},e.domModification),{attributes:B(B(B({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Zh.augment(e.itemBehaviours,[e.toggling.fold(Yy.revoke,(function(e){return Yy.config(B({aria:{mode:"checked"}},e))})),Iy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){rb(e)}}),dy.config({mode:"execution"}),$h.config({store:{mode:"memory",initialValue:e.data}}),Cy("item-type-events",M(Jy(),[bo(_i(),nb),bo(ji(),Iy.focus)]))]),components:e.components,eventOrder:e.eventOrder}},sb=[yn("data"),yn("components"),yn("dom"),Un("hasSubmenu",!1),En("toggling"),Zh.field("itemBehaviours",[Yy,Iy,dy,$h]),Un("ignoreFocus",!1),Un("domModification",{}),Qc("builder",ab),Un("eventOrder",{})],ub=function(e){return{dom:e.dom,components:e.components,events:mo([Do(ji())])}},cb=[yn("dom"),yn("components"),Qc("builder",ub)],lb=y("item-widget"),db=y([Dp({name:"widget",overrides:function(e){return{behaviours:Rl([$h.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:p}})])}}})]),fb=function(e){var t=Vp(lb(),e,db()),n=Qp(lb(),e,t.internals()),r=function(t){return jp(t,e,"widget").map((function(e){return dy.focusIn(e),e}))},i=function(t,n){return pm(n.event.target)?F.none():function(){return e.autofocus?(n.setSource(t.element),F.none()):F.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:mo([Oo((function(e,t){r(e).each((function(e){t.stop()}))})),bo(_i(),nb),bo(ji(),(function(t,n){e.autofocus?r(t):Iy.focus(t)}))]),behaviours:Zh.augment(e.widgetBehaviours,[$h.config({store:{mode:"memory",initialValue:e.data}}),Iy.config({ignore:e.ignoreFocus,onFocus:function(e){rb(e)}}),dy.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Gl(),onLeft:i,onRight:i,onEscape:function(t,n){return Iy.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),F.none()):F.none():(Iy.focus(t),F.some(!0))}})])}},Ab=[yn("uid"),yn("data"),yn("components"),yn("dom"),Un("autofocus",!1),Un("ignoreFocus",!1),Zh.field("widgetBehaviours",[$h,Iy,dy]),Un("domModification",{}),Xp(db()),Qc("builder",fb)],hb=un("type",{widget:Ab,item:sb,separator:cb}),pb=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},mb=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},gb=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},vb=y([Tp({factory:{sketch:function(e){var t=on("menu.spec item",hb,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:B(B({},t),{uid:Ga("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),yb=y([yn("value"),yn("items"),yn("dom"),yn("components"),Un("eventOrder",{}),Xh("menuBehaviours",[Hm,$h,ym,dy]),Hn("movement",{mode:"menu",moveOnTab:!0},un("mode",{grid:[zc(),Qc("config",pb)],matrix:[Qc("config",mb),yn("rowSelector")],menu:[Un("moveOnTab",!0),Qc("config",gb)]})),Lc(),Un("fakeFocus",!1),Un("focusManager",sg()),Uc("onHighlight")]),bb=y("alloy.menu-focus"),wb=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jh(e.menuBehaviours,[Hm.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),$h.config({store:{mode:"memory",initialValue:e.value}}),ym.config({find:F.some}),dy.config(e.movement.config(e,e.movement))]),events:mo([bo(ob(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Hm.highlight(e,n),t.stop(),lo(e,bb(),{menu:e,item:n})}))})),bo(ib(),(function(e,t){var n=t.event.item;Hm.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},xb=um({name:"Menu",configFields:yb(),partFields:vb(),factory:wb}),Cb=function(e){return Ie(e,(function(e,t){return{k:e,v:t}}))},Sb=function(e,t,n,r){return He(n,r).bind((function(r){return He(e,r).bind((function(r){var i=Sb(e,t,n,r);return F.some([r].concat(i))}))})).getOr([])},kb=function(e,t){var n={};Ee(e,(function(e,t){K(e,(function(e){n[e]=t}))}));var r=t,i=Cb(t),o=Te(i,(function(e,t){return[t].concat(Sb(n,r,i,t))}));return Te(n,(function(e){return He(o,e).getOr([e])}))},_b=function(){var e=$n({}),t=$n({}),n=$n({}),r=$n(F.none()),i=$n({}),o=function(){e.set({}),t.set({}),n.set({}),r.set(F.none())},a=function(){return r.get().isNone()},s=function(e,n){var r;t.set(B(B({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},u=function(o,a,s,u){r.set(F.some(o)),e.set(s),t.set(a),i.set(u);var c=kb(u,s);n.set(c)},c=function(t){return Ne(e.get(),(function(e,n){return e===t}))},l=function(e,t,n){return p(e).bind((function(r){return c(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))},d=function(e,t){var i=$(g(e).toArray(),(function(e){return p(e).isSome()}));return He(n.get(),e).bind((function(e){var n=ie(i.concat(e)),o=ne(n,(function(e,i){return l(e,t,n.slice(0,i+1)).fold((function(){return r.get().is(e)?[]:[F.none()]}),(function(e){return[F.some(e)]}))}));return lm(o)}))},f=function(t){return He(e.get(),t).map((function(e){var r=He(n.get(),t).getOr([]);return[e].concat(r)}))},A=function(e){return He(n.get(),e).bind((function(e){return e.length>1?F.some(e.slice(1)):F.none()}))},h=function(e){return He(n.get(),e)},p=function(e){return m(e).bind(Bb)},m=function(e){return He(t.get(),e)},g=function(t){return He(e.get(),t)},v=function(e){var t=i.get();return oe(De(t),e)},y=function(){return r.get().bind(p)},b=function(){return t.get()};return{setMenuBuilt:s,setContents:u,expand:f,refresh:h,collapse:A,lookupMenu:m,lookupItem:g,otherMenus:v,getPrimary:y,getMenus:b,clear:o,isClear:a,getTriggeringPath:d}},Bb=function(e){return"prepared"===e.type?F.some(e.menu):F.none()},Db={init:_b,extractPreparedMenu:Bb},Mb=function(e,t){var n,r=$n(F.none()),i=function(t,n,r){return Te(r,(function(r,i){var o=function(){return xb.sketch(B(B({},r),{value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?ug():sg()}))};return i===n?{type:"prepared",menu:t.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}}))},o=Db.init(),a=function(t){var n=i(t,e.data.primary,e.data.menus),r=c();return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()},s=function(e){return $h.getValue(e).value},u=function(e,t,n){return fe(t,(function(e){if(!e.getSystem().isConnected())return F.none();var t=Hm.getCandidates(e);return Z(t,(function(e){return s(e)===n}))}))},c=function(t){return Te(e.data.menus,(function(e,t){return ne(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},l=function(e,t){Hm.highlight(e,t),Hm.getHighlighted(t).orThunk((function(){return Hm.getFirst(t)})).each((function(t){Ao(e,t.element,ji())}))},d=function(e,t){return cm(G(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?F.some(e.menu):F.none()}))})))},f=function(t,n,r){var i=d(n,n.otherMenus(r));K(i,(function(n){Qs(n.element,[e.markers.backgroundMenu]),e.stayInDom||wy.remove(t,n)}))},A=function(t){return r.get().getOrThunk((function(){var n={},i=Yf(t.element,"."+e.markers.item),o=$(i,(function(e){return"true"===ka(e,"aria-haspopup")}));return K(o,(function(e){t.getSystem().getByDom(e).each((function(e){var t=s(e);n[t]=e}))})),r.set(F.some(n)),n}))},h=function(e,t){var n=A(e);Ee(n,(function(e,n){var r=V(t,n);Ca(e.element,"aria-expanded",r)}))},m=function(t,n,r){return F.from(r[0]).bind((function(i){return n.lookupMenu(i).bind((function(i){if("notbuilt"===i.type)return F.none();var o=i.menu,a=d(n,r.slice(1));return K(a,(function(t){Ns(t.element,e.markers.backgroundMenu)})),zs(o.element)||wy.append(t,bu(o)),Qs(o.element,[e.markers.backgroundMenu]),l(t,o),f(t,n,r),F.some(o)}))}))};(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var g=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu},v=function(t,r,i){void 0===i&&(i=n.HighlightSubmenu);var a=s(r);return o.expand(a).bind((function(a){return h(t,a),F.from(a[0]).bind((function(s){return o.lookupMenu(s).bind((function(u){var c=g(t,s,u);return zs(c.element)||wy.append(t,bu(c)),e.onOpenSubmenu(t,r,c,ie(a)),i===n.HighlightSubmenu?(Hm.highlightFirst(c),m(t,o,a)):(Hm.dehighlightAll(c),F.some(r))}))}))}))},y=function(t,n){var r=s(n);return o.collapse(r).bind((function(r){return h(t,r),m(t,o,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},b=function(e,t){var n=s(t);return o.refresh(n).bind((function(t){return h(e,t),m(e,o,t)}))},w=function(e,t){return pm(t.element)?F.none():v(e,t,n.HighlightSubmenu)},x=function(e,t){return pm(t.element)?F.none():y(e,t)},C=function(t,n){return y(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))},S=function(t){return function(n,r){return pc(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(k)}))}))}},_=mo([bo(bb(),(function(e,t){var n=t.event.item;o.lookupItem(s(n)).each((function(){var n=t.event.menu;Hm.highlight(e,n);var r=s(t.event.item);o.refresh(r).each((function(t){return f(e,o,t)}))}))})),Oo((function(t,r){var i=r.event.target;t.getSystem().getByDom(i).each((function(r){var i=s(r);0===i.indexOf("collapse-item")&&y(t,r),v(t,r,n.HighlightSubmenu).fold((function(){e.onExecute(t,r)}),p)}))})),Eo((function(t,n){a(t).each((function(n){wy.append(t,bu(n)),e.onOpenMenu(t,n),e.highlightImmediately&&l(t,n)}))}))].concat(e.navigateOnHover?[bo(ib(),(function(t,r){var i=r.event.item;b(t,i),v(t,i,n.HighlightParent),e.onHover(t,i)}))]:[])),D=function(e){return Hm.getHighlighted(e).bind(Hm.getHighlighted)},M=function(e){D(e).each((function(t){y(e,t)}))},E=function(e){o.getPrimary().each((function(t){l(e,t)}))},T=function(e){return F.from(e.components()[0]).filter((function(e){return"menu"===ka(e.element,"role")}))},I=function(t){var n=o.getPrimary().bind((function(e){return D(t).bind((function(e){var n=s(e),r=Ue(o.getMenus()),i=cm(G(r,Db.extractPreparedMenu));return o.getTriggeringPath(n,(function(e){return u(t,i,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}));n.fold((function(){T(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,i=n.triggeringPath;e.onRepositionMenu(t,r,i)}))},O={collapseMenu:M,highlightPrimary:E,repositionMenus:I};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jh(e.tmenuBehaviours,[dy.config({mode:"special",onRight:S(w),onLeft:S(x),onEscape:S(C),focusIn:function(e,t){o.getPrimary().each((function(t){Ao(e,t.element,ji())}))}}),Hm.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),ym.config({find:function(e){return Hm.getHighlighted(e)}}),wy.config({})]),eventOrder:e.eventOrder,apis:O,events:_}},Eb=y("collapse-item"),Tb=function(e,t,n){return{primary:e,menus:t,expansions:n}},Ib=function(e,t){return{primary:e,menus:ct(e,t),expansions:{}}},Ob=function(e){return{value:Na(Eb()),meta:{text:e}}},Lb=sm({name:"TieredMenu",configFields:[Vc("onExecute"),Vc("onEscape"),Rc("onOpenMenu"),Rc("onOpenSubmenu"),Uc("onRepositionMenu"),Uc("onCollapseMenu"),Un("highlightImmediately",!0),Bn("data",[yn("primary"),yn("menus"),yn("expansions")]),Un("fakeFocus",!1),Uc("onHighlight"),Uc("onHover"),Fc(),yn("dom"),Un("navigateOnHover",!0),Un("stayInDom",!1),Xh("tmenuBehaviours",[dy,Hm,ym,wy]),Un("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:Mb,extraApis:{tieredData:Tb,singleData:Ib,collapseItem:Ob}}),Fb=function(e,t,n,r,i){var o=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Bl()},onRtl:function(){return Dl()}}}:{},s=function(e){return 2===e.length},u=function(e){return s(e)?a:{}};return Lb.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return Ah.close(t),e.onEscape.map((function(e){return e(t)})),F.some(!0)},onExecute:function(){return F.some(!0)},onOpenMenu:function(e,t){OA.positionWithinBounds(o().getOrDie(),n,t,i())},onOpenSubmenu:function(e,t,n,r){var i=o().getOrDie();OA.position(i,B({anchor:"submenu",item:t},u(r)),n)},onRepositionMenu:function(e,t,r){var a=o().getOrDie();OA.positionWithinBounds(a,n,t,i()),K(r,(function(e){var t=u(e.triggeringPath);OA.position(a,B({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})},Pb=function(e,t){var n=function(t,n){var r=e.getRelated(t);return r.exists((function(e){return yc(e,n)}))},r=function(e,t){Ah.setContent(e,t)},i=function(e,t,n){o(e,t,n,F.none())},o=function(e,t,n,r){a(e,t,n,(function(){return r.map((function(e){return ic(e)}))}))},a=function(t,n,r,i){var o=e.lazySink(t).getOrDie();Ah.openWhileCloaked(t,r,(function(){return OA.positionWithinBounds(o,n,t,i())})),$h.setValue(t,F.some({mode:"position",anchor:n,getBounds:i}))},s=function(e,t,n){u(e,t,n,(function(){return F.none()}))},u=function(t,n,r,i){var o=Fb(e,t,n,r,i);Ah.open(t,o),$h.setValue(t,F.some({mode:"menu",menu:o}))},c=function(e){Ah.isOpen(e)&&($h.setValue(e,F.none()),Ah.close(e))},l=function(e){return Ah.getState(e)},d=function(t){Ah.isOpen(t)&&$h.getValue(t).each((function(n){switch(n.mode){case"menu":Ah.getState(t).each((function(e){Lb.repositionMenus(e)}));break;case"position":var r=e.lazySink(t).getOrDie();OA.positionWithinBounds(r,n.anchor,t,n.getBounds());break}}))},f={setContent:r,showAt:i,showWithin:o,showWithinBounds:a,showMenuAt:s,showMenuWithinBounds:u,hide:c,getContent:l,reposition:d,isOpen:Ah.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Jh(e.inlineBehaviours,[Ah.config({isPartOf:function(e,t,r){return yc(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),$h.config({store:{mode:"memory",initialValue:F.none()}}),Kl.config({channels:B(B({},vh(B({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),bh(B(B({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:d})))})]),eventOrder:e.eventOrder,apis:f}},Nb=sm({name:"InlineView",configFields:[yn("lazySink"),Uc("onShow"),Uc("onHide"),Ln("onEscape"),Xh("inlineBehaviours",[Ah,$h,Kl]),Pn("fireDismissalEventInstead",[Un("event",to())]),Pn("fireRepositionEventInstead",[Un("event",no())]),Un("getRelated",F.none),Un("isExtraPart",S),Un("eventOrder",F.none)],factory:Pb,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,i){e.showWithin(t,n,r,i)},showWithinBounds:function(e,t,n,r,i){e.showWithinBounds(t,n,r,i)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,i){e.showMenuWithinBounds(t,n,r,i)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Ub=function(e){return e.x},Hb=function(e,t){return e.x+e.width/2-t.width/2},Rb=function(e,t){return e.x+e.width-t.width},Vb=function(e){return e.y},Qb=function(e,t){return e.y+e.height-t.height},jb=function(e,t,n){return Gc(Rb(e,t),Qb(e,t),n.innerSoutheast(),Zc(),ol(e,{right:0,bottom:3}),"layout-inner-se")},zb=function(e,t,n){return Gc(Ub(e),Qb(e,t),n.innerSouthwest(),Jc(),ol(e,{left:1,bottom:3}),"layout-inner-sw")},Gb=function(e,t,n){return Gc(Rb(e,t),Vb(e),n.innerNortheast(),Yc(),ol(e,{right:0,top:2}),"layout-inner-ne")},Kb=function(e,t,n){return Gc(Ub(e),Vb(e),n.innerNorthwest(),Xc(),ol(e,{left:1,top:2}),"layout-inner-nw")},qb=function(e,t,n){return Gc(Hb(e,t),Vb(e),n.innerNorth(),el(),ol(e,{top:2}),"layout-inner-n")},Wb=function(e,t,n){return Gc(Hb(e,t),Qb(e,t),n.innerSouth(),tl(),ol(e,{bottom:3}),"layout-inner-s")},$b=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xb=function(e){var t=Zy(e.action),n=e.dom.tag,r=function(t){return He(e.dom,"attributes").bind((function(e){return He(e,t)}))},i=function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map((function(e){return{role:e}})).getOr({});return B({type:e},t)}var i=r("role").getOr("button");return{role:i}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Zh.augment(e.buttonBehaviours,[Iy.config({}),dy.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i()},eventOrder:e.eventOrder}},Yb=sm({name:"Button",factory:Xb,configFields:[Un("uid",void 0),yn("dom"),Un("components",[]),Zh.field("buttonBehaviours",[Iy,dy]),En("action"),En("role"),Un("eventOrder",{})]}),Jb=function(e){var t=im(e)&&Ve(e,"uid")?e.uid:Ga("memento"),n=function(e){return e.getSystem().getByUid(t).getOrDie()},r=function(e){return e.getSystem().getByUid(t).toOptional()},i=function(){return B(B({},e),{uid:t})};return{get:n,getOpt:r,asSpec:i}},Zb=function(e){return F.from(e()["temporary-placeholder"]).getOr("!not found!")},ew=function(e,t){return F.from(t()[e.toLowerCase()]).getOrThunk((function(){return Zb(t)}))},tw=function(e,t,n){return F.from(t()[e.toLowerCase()]).or(n).getOrThunk((function(){return Zb(t)}))},nw=function(e,t){return fe(e,(function(e){return F.from(t()[e.toLowerCase()])})).getOrThunk((function(){return Zb(t)}))},rw={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iw=function(e){var t=Jb({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Rl([wy.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},i=Jb({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Rl([wy.config({})])}),o=function(e,t){e.getSystem().isConnected()&&i.getOpt(e).each((function(e){wy.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);wy.set(r,[mu(n)])}},s={updateProgress:o,updateText:a},u=te([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return F.from(rw[e])})).toArray()]),c=Jb(Yb.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ew("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nw(u,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Rl([wy.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Rl([Iy.config({}),Cy("notification-events",[bo(Bi(),(function(e){c.getOpt(e).each(Iy.focus)}))])]),components:l.concat(e.progress?[i.asSpec()]:[]).concat(e.closeButton?[c.asSpec()]:[]),apis:s}},ow=sm({name:"Notification",factory:iw,configFields:[En("level"),yn("progress"),yn("icon"),yn("onAction"),yn("text"),yn("iconProvider"),yn("translationProvider"),jn("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function aw(e,t,n){var r=t.backstage,i=function(e){switch(e){case"bc-bc":return Wb;case"tc-tc":return qb;case"tc-bc":return yl;case"bc-tc":default:return bl}},o=function(e){K(e,(function(e){return e.moveTo(0,0)}))},a=function(e){e.length>0&&(ce(e).each((function(e){return e.moveRel(null,"banner")})),K(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")})))},s=function(e){o(e),a(e)},u=function(e,o){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),s=function(){o(),Nb.hide(c)},u=yu(ow.sketch({text:e.text,level:V(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:F.from(e.icon),closeButton:!a,onAction:s,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=yu(Nb.sketch(B({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),e.timeout>0&&$b.setTimeout((function(){s()}),e.timeout),{close:s,moveTo:function(e,t){Nb.showAt(c,{anchor:"makeshift",x:e,y:t},bu(u))},moveRel:function(e,n){if("banner"!==n){var r=i(n),o={anchor:"node",root:Gs(),node:F.some(tr.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Nb.showAt(c,o,bu(u))}else Nb.showAt(c,t.backstage.shared.anchors.banner(),bu(u))},text:function(e){ow.updateText(u,e)},settings:e,getEl:function(){return u.element.dom},progressBar:{value:function(e){ow.updateProgress(u,e)}}}},c=function(e){e.close()},l=function(e){return e.settings};return{open:u,close:c,reposition:s,getArgs:l}}var sw,uw=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},i=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))};return{cancel:r,throttle:i}},cw=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},i=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:i}},lw=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),dw=function(e,t){return e.isBlock(t)||V(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},fw=function(e,t,n,r,i){var o=lw(e,(function(t){return dw(e,t)}));return F.from(o.backwards(t,n,r,i))},Aw="[data-mce-autocompleter]",hw=function(e,t){return pw(tr.fromDom(e.selection.getNode())).getOrThunk((function(){var n=tr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return da(n,tr.fromDom(t.extractContents())),t.insertNode(n.dom),Go(n).each((function(e){return e.dom.normalize()})),$f(n).map((function(t){e.selection.setCursorLocation(t.dom,Gf(t))})),n}))},pw=function(e){return pc(e,Aw)},mw=function(e){return e.collapsed&&3===e.startContainer.nodeType},gw=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},vw=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},yw=function(e,t){return e.substring(t.length)},bw=function(e,t,n){var r;for(r=t-1;r>=0;r--){var i=e.charAt(r);if(vw(i))return F.none();if(i===n)break}return F.some(r)},ww=function(e,t,n,r){if(void 0===r&&(r=0),!mw(t))return F.none();var i=function(e,t,r){return bw(r,t,n).getOr(t)},o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return fw(e,t.startContainer,t.startOffset,i,o).bind((function(e){var i=t.cloneRange();if(i.setStart(e.container,e.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return F.none();var o=gw(i),a=o.lastIndexOf(n);return 0!==a||yw(o,n).length<r?F.none():F.some({text:yw(o,n),range:i,triggerChar:n})}))},xw=function(e,t,n,r){return void 0===r&&(r=0),pw(tr.fromDom(t.startContainer)).fold((function(){return ww(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom);var i=gw(r);return F.some({range:r,text:yw(i,n),triggerChar:n})}))},Cw=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){lo(e,Mi(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(Hm.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(fo),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(Hm.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&pw(tr.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Sw={setup:Cw},kw=tinymce.util.Tools.resolve("tinymce.util.Promise"),_w=function(e,t){return{container:e,offset:t}},Bw=function(e){return e.nodeType===Zr},Dw=function(e){return e.nodeType===Jr},Mw=function(e){if(Bw(e))return _w(e,e.data.length);var t=e.childNodes;return t.length>0?Mw(t[t.length-1]):_w(e,t.length)},Ew=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Ew(n[t],0):n.length>0&&Dw(e)&&n.length===t?Mw(n[n.length-1]):_w(e,t)},Tw=function(e,t){return fw(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!vw(t)})).isSome()},Iw=function(e){return function(t){var n=Ew(t.startContainer,t.startOffset);return!Tw(e,n)}},Ow=function(e,t,n){return fe(n.triggerChars,(function(n){return xw(e,t,n)}))},Lw=function(e,t){var n=t(),r=e.selection.getRng();return Ow(e.dom,r,n).bind((function(n){return Fw(e,t,n)}))},Fw=function(e,t,n,r){void 0===r&&(r={});var i=t(),o=e.selection.getRng(),a=o.startContainer.nodeValue,s=$(i.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Iw(e.dom)}))(n.range,a,n.text)}));if(0===s.length)return F.none();var u=kw.all(G(s,(function(e){var t=e.fetch(n.text,e.maxResults,r);return t.then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return F.some({lookupData:u,context:n})},Pw=Ut([xn("type"),On("text")]),Nw=function(e){return nn("separatormenuitem",Pw,e)},Uw=Ut([Un("type","autocompleteitem"),Un("active",!1),Un("disabled",!1),Un("meta",{}),xn("value"),On("text"),On("icon")]),Hw=Ut([xn("type"),xn("ch"),Rn("minChars",1),Un("columns",1),Rn("maxResults",10),Ln("matches"),kn("fetch"),kn("onAction"),Kn("highlightOn",[],An)]),Rw=function(e){return nn("Autocompleter.Separator",Pw,e)},Vw=function(e){return nn("Autocompleter.Item",Uw,e)},Qw=function(e){return nn("Autocompleter",Hw,e)},jw=[jn("disabled",!1),On("tooltip"),On("icon"),On("text"),zn("onSetup",(function(){return p}))],zw=Ut([xn("type"),kn("onAction")].concat(jw)),Gw=function(e){return nn("toolbarbutton",zw,e)},Kw=[jn("active",!1)].concat(jw),qw=Ut(Kw.concat([xn("type"),kn("onAction")])),Ww=function(e){return nn("ToggleButton",qw,e)},$w=[zn("predicate",S),Qn("scope","node",["node","editor"]),Qn("position","selection",["node","selection","line"])],Xw=jw.concat([Un("type","contextformbutton"),Un("primary",!1),kn("onAction"),Wn("original",b)]),Yw=Kw.concat([Un("type","contextformbutton"),Un("primary",!1),kn("onAction"),Wn("original",b)]),Jw=jw.concat([Un("type","contextformbutton")]),Zw=Kw.concat([Un("type","contextformtogglebutton")]),ex=un("type",{contextformbutton:Xw,contextformtogglebutton:Yw}),tx=Ut([Un("type","contextform"),zn("initValue",(function(){return""})),On("label"),Mn("commands",ex),Tn("launch",un("type",{contextformbutton:Jw,contextformtogglebutton:Zw}))].concat($w)),nx=function(e){return nn("ContextForm",tx,e)},rx=Ut([Un("type","contexttoolbar"),xn("items")].concat($w)),ix=function(e){return nn("ContextToolbar",rx,e)},ox=function(e){var t={};return K(e,(function(e){t[e]={}})),De(t)},ax=function(e){var t=e.ui.registry.getAll().popups,n=Te(t,(function(e){return Qw(e).fold((function(e){throw new Error(an(e))}),(function(e){return e}))})),r=ox(Pe(n,(function(e){return e.ch}))),i=Ue(n),o=function(e){return $(i,(function(t){return t.ch===e}))};return{dataset:n,triggerChars:r,lookupByChar:o}};(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(sw||(sw={}));var sx,ux=sw,cx="tox-menu-nav__js",lx="tox-collection__item",dx="tox-swatch",fx={normal:cx,color:dx},Ax="tox-collection__item--enabled",hx="tox-collection__group-heading",px="tox-collection__item-icon",mx="tox-collection__item-label",gx="tox-collection__item-accessory",vx="tox-collection__item-caret",yx="tox-collection__item-checkmark",bx="tox-collection__item--active",wx="tox-collection__item-icon-rtl",xx="tox-collection__item-container",Cx="tox-collection__item-container--column",Sx="tox-collection__item-container--row",kx="tox-collection__item-container--align-right",_x="tox-collection__item-container--align-left",Bx="tox-collection__item-container--valign-top",Dx="tox-collection__item-container--valign-middle",Mx="tox-collection__item-container--valign-bottom",Ex=function(e){return He(fx,e).getOr(cx)},Tx=function(e){return"color"===e?"tox-swatches":"tox-menu"},Ix=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Tx(e),tieredMenu:"tox-tiered-menu"}},Ox=function(e){var t=Ix(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Ex(e)}},Lx=function(e,t,n){var r=Ix(n);return{tag:"div",classes:te([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Fx=[xb.parts.items({})],Px=function(e,t,n){var r=Ix(n),i={tag:"div",classes:te([[r.tieredMenu]])};return{dom:i,markers:Ox(n)}},Nx=function(e,t){return function(n){var r=z(n,t);return G(r,(function(t){return{dom:e,components:t}}))}},Ux=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xb.parts.items({preprocess:"auto"!==e?Nx({tag:"div",classes:["tox-swatches__row"]},e):b})]}]}},Hx=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xb.parts.items({preprocess:Nx({tag:"div",classes:["tox-collection__group"]},e)})]}},Rx=function(e,t){var n=[],r=[];return K(e,(function(e,i){t(e,i)?(r.length>0&&n.push(r),r=[],Re(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),G(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},Vx=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[xb.parts.items({preprocess:function(n){return"auto"!==e&&e>1?Nx({tag:"div",classes:["tox-collection__group"]},e)(n):Rx(n,(function(e,n){return"separator"===t[n].type}))}})]}},Qx=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xb.parts.items({preprocess:function(t){return Rx(t,(function(t,n){return"separator"===e[n].type}))}})]}},jx=function(e){return Q(e,(function(e){return"icon"in e&&void 0!==e.icon}))},zx=function(e){return console.error(an(e)),console.log(e),F.none()},Gx=function(e,t,n,r,i){var o=Qx(n);return{value:e,dom:o.dom,components:o.components,items:n}},Kx=function(e,t,n,r,i){if("color"===i){var o=Ux(r);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i&&"auto"===r){o=Vx(r,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i&&1===r){o=Vx(1,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i){o=Vx(r,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("listpreview"===i&&"auto"!==r){o=Hx(r);return{value:e,dom:o.dom,components:o.components,items:n}}return{value:e,dom:Lx(t,r,i),components:Fx,items:n}},qx=[xn("type"),xn("src"),On("alt"),Kn("classes",[],An)],Wx=Ut(qx),$x=[xn("type"),xn("text"),On("name"),Kn("classes",["tox-collection__item-label"],An)],Xx=Ut($x),Yx=Jt((function(){return sn("type",{cardimage:Wx,cardtext:Xx,cardcontainer:Jx})})),Jx=Ut([xn("type"),Vn("direction","horizontal"),Vn("align","left"),Vn("valign","middle"),Mn("items",Yx)]),Zx=[jn("disabled",!1),On("text"),On("shortcut"),Kt("value","value",nt((function(){return Na("menuitem-value")})),ln()),Un("meta",{})],eC=Ut([xn("type"),On("label"),Mn("items",Yx),zn("onSetup",(function(){return p})),zn("onAction",p)].concat(Zx)),tC=function(e){return nn("cardmenuitem",eC,e)},nC=Ut([xn("type"),jn("active",!1),On("icon")].concat(Zx)),rC=function(e){return nn("choicemenuitem",nC,e)},iC=["inserttable","colorswatch"],oC=Ut([xn("type"),Cn("fancytype",iC),zn("onAction",p)]),aC=function(e){return nn("fancymenuitem",oC,e)},sC=Ut([xn("type"),zn("onSetup",(function(){return p})),zn("onAction",p),On("icon")].concat(Zx)),uC=function(e){return nn("menuitem",sC,e)},cC=Ut([xn("type"),kn("getSubmenuItems"),zn("onSetup",(function(){return p})),On("icon")].concat(Zx)),lC=function(e){return nn("nestedmenuitem",cC,e)},dC=Ut([xn("type"),On("icon"),jn("active",!1),zn("onSetup",(function(){return p})),kn("onAction")].concat(Zx)),fC=function(e){return nn("togglemenuitem",dC,e)},AC=function(e,t,n){var r=Yf(e.element,"."+n);if(r.length>0){var i=ee(r,(function(e){var n=e.dom.getBoundingClientRect().top,i=r[0].dom.getBoundingClientRect().top;return Math.abs(n-i)>t})).getOr(r.length);return F.some({numColumns:i,numRows:Math.ceil(r.length/i)})}return F.none()},hC=function(e,t){return Rl([Cy(e,t)])},pC=function(e){return hC(Na("unnamed-events"),e)},mC={namedEvents:hC,unnamedEvents:pC},gC=Na("tooltip.exclusive"),vC=Na("tooltip.show"),yC=Na("tooltip.hide"),bC=function(e,t,n){e.getSystem().broadcastOn([gC],{})},wC=function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&wy.set(e,r)}))},xC=Object.freeze({__proto__:null,hideAllExclusive:bC,setComponents:wC}),CC=function(e,t){var n=function(n){t.getTooltip().each((function(r){QA(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()},r=function(n){if(!t.isShowing()){bC(n);var r=e.lazySink(n).getOrDie(),i=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:mo("normal"===e.mode?[bo(_i(),(function(e){co(n,vC)})),bo(Si(),(function(e){co(n,yC)}))]:[]),behaviours:Rl([wy.config({})])});t.setTooltip(i),HA(r,i),e.onShow(n,i),OA.position(r,e.anchor(n),i)}};return mo(te([[bo(vC,(function(n){t.resetTimer((function(){r(n)}),e.delay)})),bo(yC,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),bo(Vi(),(function(e,t){var r=t;r.universal||V(r.channels,gC)&&n(e)})),To((function(e){n(e)}))],"normal"===e.mode?[bo(Bi(),(function(e){co(e,vC)})),bo(Hi(),(function(e){co(e,yC)})),bo(_i(),(function(e){co(e,vC)})),bo(Si(),(function(e){co(e,yC)}))]:[bo(so(),(function(e,t){co(e,vC)})),bo(uo(),(function(e){co(e,yC)}))]]))},SC=Object.freeze({__proto__:null,events:CC}),kC=[yn("lazySink"),yn("tooltipDom"),Un("exclusive",!0),Un("tooltipComponents",[]),Un("delay",300),Qn("mode","normal",["normal","follow-highlight"]),Un("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:y([bl,yl,pl,gl,ml,vl]),onRtl:y([bl,yl,pl,gl,ml,vl])}}})),Uc("onHide"),Uc("onShow")],_C=function(){var e=$n(F.none()),t=$n(F.none()),n=function(){return t.get()},r=function(e){t.set(F.some(e))},i=function(){t.set(F.none())},o=function(){e.get().each((function(e){clearTimeout(e)}))},a=function(t,n){o(),e.set(F.some(setTimeout((function(){t()}),n)))},s=function(){return t.get().isSome()},u=y("not-implemented");return is({getTooltip:n,isShowing:s,setTooltip:r,clearTooltip:i,clearTimer:o,resetTimer:a,readState:u})},BC=Object.freeze({__proto__:null,init:_C}),DC=Ql({fields:kC,name:"tooltipping",active:SC,state:BC,apis:xC}),MC=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},EC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),TC=tinymce.util.Tools.resolve("tinymce.util.I18n"),IC=["input","button","textarea","select"],OC=function(e,t,n){var r=t.disabled()?VC:QC;r(e,t)},LC=function(e,t){return!0===t.useNative&&V(IC,Lo(e.element))},FC=function(e){return Ba(e.element,"disabled")},PC=function(e){Ca(e.element,"disabled","disabled")},NC=function(e){Da(e.element,"disabled")},UC=function(e){return"true"===ka(e.element,"aria-disabled")},HC=function(e){Ca(e.element,"aria-disabled","true")},RC=function(e){Ca(e.element,"aria-disabled","false")},VC=function(e,t,n){t.disableClass.each((function(t){Ns(e.element,t)}));var r=LC(e,t)?PC:HC;r(e),t.onDisabled(e)},QC=function(e,t,n){t.disableClass.each((function(t){Hs(e.element,t)}));var r=LC(e,t)?NC:RC;r(e),t.onEnabled(e)},jC=function(e,t){return LC(e,t)?FC(e):UC(e)},zC=function(e,t,n,r){var i=r?VC:QC;i(e,t)},GC=Object.freeze({__proto__:null,enable:QC,disable:VC,isDisabled:jC,onLoad:OC,set:zC}),KC=function(e,t){return cs({classes:t.disabled()?t.disableClass.toArray():[]})},qC=function(e,t){return mo([go(Qi(),(function(t,n){return jC(t,e)})),Ll(e,t,OC)])},WC=Object.freeze({__proto__:null,exhibit:KC,events:qC}),$C=[zn("disabled",S),Un("useNative",!0),En("disableClass"),Uc("onDisabled"),Uc("onEnabled")],XC=Ql({fields:$C,name:"disabling",active:WC,apis:GC}),YC=tinymce.util.Tools.resolve("tinymce.EditorManager"),JC=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):YC.baseURL+"/skins/ui/"+r}return n},ZC=function(e){return e.getParam("readonly",!1,"boolean")},eS=function(e){return!1===e.getParam("skin")},tS=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},nS=function(e){return e.getParam("width",EC.DOM.getStyle(e.getElement(),"width"))},rS=function(e){return F.from(e.getParam("min_width")).filter(A)},iS=function(e){return F.from(e.getParam("min_height")).filter(A)},oS=function(e){return F.from(e.getParam("max_width")).filter(A)},aS=function(e){return F.from(e.getParam("max_height")).filter(A)},sS=function(e){return F.from(e.getParam("style_formats")).filter(s)},uS=function(e){return e.getParam("style_formats_merge",!1,"boolean")},cS=function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},lS=function(e){return e.getParam("removed_menuitems","")},dS=function(e){return!1!==e.getParam("menubar",!0,"boolean")},fS=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=o(t),i=s(t)&&t.length>0;return!hS(e)&&(i||r||n)},AS=function(e){var t=j(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=$(t,(function(e){return"string"===typeof e}));return n.length>0?F.some(n):F.none()},hS=function(e){return AS(e).fold((function(){var t=e.getParam("toolbar",[],"string[]");return t.length>0}),k)};(function(e){e["default"]="wrap",e["floating"]="floating",e["sliding"]="sliding",e["scrolling"]="scrolling"})(sx||(sx={}));var pS,mS=function(e){return e.getParam("toolbar_mode","","string")};(function(e){e["auto"]="auto",e["top"]="top",e["bottom"]="bottom"})(pS||(pS={}));var gS,vS=function(e){return e.getParam("toolbar_groups",{},"object")},yS=function(e){return e.getParam("toolbar_location",pS.auto,"string")},bS=function(e){return yS(e)===pS.bottom},wS=function(e){return e.getParam("fixed_toolbar_container","","string")},xS=function(e){return e.getParam("fixed_toolbar_container_target")},CS=function(e){return e.getParam("toolbar_persist",!1,"boolean")},SS=function(e){if(!e.inline)return F.none();var t=wS(e);if(t.length>0)return hc(Gs(),t);var n=xS(e);return d(n)?F.some(tr.fromDom(n)):F.none()},kS=function(e){return e.inline&&SS(e).isSome()},_S=function(e){var t=SS(e);return t.getOrThunk((function(){return na(ta(tr.fromDom(e.getElement())))}))},BS=function(e){return e.inline&&!dS(e)&&!fS(e)&&!hS(e)},DS=function(e){var t=e.getParam("toolbar_sticky",!1,"boolean");return(t||e.inline)&&!kS(e)&&!BS(e)},MS=function(e){return e.getParam("draggable_modal",!1,"boolean")},ES=function(e){var t=e.getParam("menu");return t?Te(t,(function(e){return B(B({},e),{items:e.items})})):{}},TS=function(e){return e.getParam("menubar")},IS=function(e){return e.getParam("toolbar",!0)},OS=function(e){return e.getParam("file_picker_callback")},LS=function(e){return e.getParam("file_picker_types")},FS=function(e){return e.getParam("file_browser_callback_types")},PS=function(e){return!1===e.getParam("typeahead_urls")},NS=function(e){return e.getParam("anchor_top","#top")},US=function(e){return e.getParam("anchor_bottom","#bottom")},HS=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},RS="silver.readonly",VS=Ut([Sn("readonly")]),QS=function(e,t){var n=e.outerContainer,r=n.element;t&&(e.mothership.broadcastOn([hh()],{target:r}),e.uiMothership.broadcastOn([hh()],{target:r})),e.mothership.broadcastOn([RS],{readonly:t}),e.uiMothership.broadcastOn([RS],{readonly:t})},jS=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&QS(t,!0)})),e.on("SwitchMode",(function(){return QS(t,e.mode.isReadOnly())})),ZC(e)&&e.setMode("readonly")},zS=function(){var e;return Kl.config({channels:(e={},e[RS]={schema:VS,onReceive:function(e,t){XC.set(e,t.readonly)}},e)})},GS=function(e){return XC.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},KS=function(e){return XC.config({disabled:e})},qS=function(e){return XC.config({disabled:e,disableClass:"tox-tbtn--disabled"})},WS=function(e){return XC.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},$S={item:GS,button:KS,splitButton:qS,toolbarButton:WS},XS=function(e,t){var n=e.getApi(t);return function(e){e(n)}},YS=function(e,t){return Eo((function(n){var r=XS(e,n);r((function(n){var r=e.onSetup(n);f(r)&&t.set(r)}))}))},JS=function(e,t){return To((function(n){return XS(e,n)(t.get())}))},ZS=function(e,t){return Oo((function(n,r){XS(e,n)(e.onAction),e.triggersSubmenu||t!==ux.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&co(n,Ki()),r.stop())}))},ek=(gS={},gS[Qi()]=["disabling","alloy.base.behaviour","toggling","item-events"],gS),tk=function(e){return ne(e,(function(e){return e.toArray()}))},nk=function(e,t,n,r){var i=$n(p);return{type:"item",dom:t.dom,components:tk(t.optComponents),data:e.data,eventOrder:ek,hasSubmenu:e.triggersSubmenu,itemBehaviours:Rl([Cy("item-events",[ZS(e,n),YS(e,i),JS(e,i)]),$S.item((function(){return e.disabled||r.isDisabled()})),zS(),wy.config({})].concat(e.itemBehaviours))}},rk=function(e){return{value:e.value,meta:B({text:e.text.getOr("")},e.meta)}},ik=tinymce.util.Tools.resolve("tinymce.Env"),ok=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=ik.mac?t:n,i=e.split("+"),o=G(i,(function(e){var t=e.toLowerCase().trim();return Re(r,t)?r[t]:e}));return ik.mac?o.join(""):o.join("+")},ak=function(e){return{dom:{tag:"div",classes:[px],innerHtml:e}}},sk=function(e){return{dom:{tag:"div",classes:[mx]},components:[mu(TC.translate(e))]}},uk=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},ck=function(e,t){return{dom:{tag:"div",classes:[mx]},components:[{dom:{tag:e.tag,styles:e.styles},components:[mu(TC.translate(t))]}]}},lk=function(e){return{dom:{tag:"div",classes:[gx],innerHtml:ok(e)}}},dk=function(e){return{dom:{tag:"div",classes:[yx],innerHtml:ew("checkmark",e)}}},fk=function(e){return{dom:{tag:"div",classes:[vx],innerHtml:ew("chevron-right",e)}}},Ak=function(e){return{dom:{tag:"div",classes:[vx],innerHtml:ew("chevron-down",e)}}},hk=function(e,t){var n="vertical"===e.direction?Cx:Sx,r="left"===e.align?_x:kx,i=function(){switch(e.valign){case"top":return Bx;case"middle":return Dx;case"bottom":return Mx}};return{dom:{tag:"div",classes:[xx,n,r,i()]},components:t}},pk=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}},mk=function(e,t,n,r){var i="custom",o="remove",a=function(){var a=dx,s=n.getOr(""),u=e.map((function(e){return{title:r.translate(e)}})).getOr({}),c={tag:"div",attributes:u,classes:[a]};return B(B({},c),t===i?{tag:"button",classes:M(c.classes,["tox-swatches__picker-btn"]),innerHtml:s}:t===o?{classes:M(c.classes,["tox-swatch--remove"]),innerHtml:s}:{attributes:B(B({},c.attributes),{"data-mce-color":t}),styles:{"background-color":t}})};return{dom:a(),optComponents:[]}},gk=function(e,t){var n=t.map((function(e){return{attributes:{title:TC.translate(e)}}})).getOr({});return B({tag:"div",classes:[cx,lx].concat(e?[wx]:[])},n)},vk=function(e,t,n,r,i){var o=n?t.or(F.some("")).map(ak):F.none(),a=e.checkMark,s=e.htmlContent.fold((function(){return e.textContent.map(r)}),(function(e){return F.some(uk(e,[mx]))})),u={dom:gk(i,e.ariaLabel),optComponents:[o,s,e.shortcutContent.map(lk),a,e.caret]};return u},yk=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],bk=["list-bull-circle","list-bull-default","list-bull-square"],wk=function(e,t,n,r){void 0===r&&(r=F.none());var i=function(e){return e.map((function(e){return TC.isRtl()&&V(yk,e)?e+"-rtl":e}))},o=TC.isRtl()&&e.iconContent.exists((function(e){return V(bk,e)})),a=i(e.iconContent).map((function(e){return tw(e,t.icons,r)})),s=F.from(e.meta).fold((function(){return sk}),(function(e){return Re(e,"style")?w(ck,e.style):sk}));return"color"===e.presets?mk(e.ariaLabel,e.value,a,t):vk(e,a,n,s,o)},xk=function(e,t){return He(e,"tooltipWorker").map((function(e){return[DC.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Md}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){DC.setComponents(t,[gu({element:tr.fromDom(e)})])}))}})]})).getOr([])},Ck=function(e){return EC.DOM.encode(e)},Sk=function(e,t){var n=TC.translate(e),r=Ck(n);if(t.length>0){var i=new RegExp(MC(t),"gi");return r.replace(i,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return r},kk=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!0);var u=wk({presets:r,textContent:F.none(),htmlContent:n?e.text.map((function(e){return Sk(e,t)})):F.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:e.value},a.providers,s,e.icon);return nk({data:rk(e),disabled:e.disabled,getApi:y({}),onAction:function(t){return i(e.value,e.meta)},onSetup:y(p),triggersSubmenu:!1,itemBehaviours:xk(e.meta,a)},u,o,a.providers)},_k=function(e,t){return G(e,(function(e){switch(e.type){case"cardcontainer":return hk(e,_k(e.items,t));case"cardimage":return pk(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return V(t.cardText.highlightOn,e)})),r=n?F.from(t.cardText.matchText).getOr(""):"";return uk(Sk(e.text,r),e.classes)}}))},Bk=function(e,t,n,r){var i=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){XC.set(e,t),K(Yf(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(XC)&&XC.set(e,t)}))}))}}},o={dom:gk(!1,e.label),optComponents:[F.some({dom:{tag:"div",classes:[xx,Sx]},components:_k(e.items,r)})]};return nk({data:rk(B({text:F.none()},e)),disabled:e.disabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(r.itemBehaviours).getOr([])},o,t,n.providers)},Dk=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!0);var u=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},c=wk({presets:n,textContent:t?e.text:F.none(),htmlContent:F.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:F.none(),checkMark:t?F.some(dk(a.icons)):F.none(),caret:F.none(),value:e.value},a,s);return We(nk({data:rk(e),disabled:e.disabled,getApi:u,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(i),p},triggersSubmenu:!1,itemBehaviours:[]},c,o,a),{toggling:{toggleClass:Ax,toggleOnExecute:!1,selected:e.active}})},Mk=Pp(lb(),db()),Ek=function(e){return{value:e}},Tk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ik=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ok=function(e){return Tk.test(e)||Ik.test(e)},Lk=function(e){var t=e.value.replace(Tk,(function(e,t,n,r){return t+t+n+n+r+r}));return{value:t}},Fk=function(e){var t=Lk(e),n=Ik.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Pk=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Nk=function(e){var t=Pk(e.red)+Pk(e.green)+Pk(e.blue);return Ek(t)},Uk=Math.min,Hk=Math.max,Rk=Math.round,Vk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Qk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,jk=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},zk=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Gk=function(e){var t,n,r,i=(e.hue||0)%360,o=e.saturation/100,a=e.value/100;if(o=Hk(0,Uk(o,1)),a=Hk(0,Uk(a,1)),0===o)return t=n=r=Rk(255*a),jk(t,n,r,1);var s=i/60,u=a*o,c=u*(1-Math.abs(s%2-1)),l=a-u;switch(Math.floor(s)){case 0:t=u,n=c,r=0;break;case 1:t=c,n=u,r=0;break;case 2:t=0,n=u,r=c;break;case 3:t=0,n=c,r=u;break;case 4:t=c,n=0,r=u;break;case 5:t=u,n=0,r=c;break;default:t=n=r=0}return t=Rk(255*(t+l)),n=Rk(255*(n+l)),r=Rk(255*(r+l)),jk(t,n,r,1)},Kk=function(e){var t=Fk(e),n=parseInt(t[1],16),r=parseInt(t[2],16),i=parseInt(t[3],16);return jk(n,r,i,1)},qk=function(e,t,n,r){var i=parseInt(e,10),o=parseInt(t,10),a=parseInt(n,10),s=parseFloat(r);return jk(i,o,a,s)},Wk=function(e){if("transparent"===e)return F.some(jk(0,0,0,0));var t=Vk.exec(e);if(null!==t)return F.some(qk(t[1],t[2],t[3],"1"));var n=Qk.exec(e);return null!==n?F.some(qk(n[1],n[2],n[3],n[4])):F.none()},$k=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},Xk=jk(255,0,0,1),Yk=function(e){return e.fire("SkinLoaded")},Jk=function(e,t){return e.fire("SkinLoadError",t)},Zk=function(e){return e.fire("ResizeEditor")},e_=function(e,t){return e.fire("ResizeContent",t)},t_=function(e,t){return e.fire("ScrollContent",t)},n_=function(e,t){return e.fire("TextColorChange",t)},r_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),i_="tinymce-custom-colors";function o_(e){void 0===e&&(e=10);var t=r_.getItem(i_),n=o(t)?JSON.parse(t):[],r=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},i=r(n),a=function(t){R(i,t).each(s),i.unshift(t),i.length>e&&i.pop(),r_.setItem(i_,JSON.stringify(i))},s=function(e){i.splice(e,1)},u=function(){return i.slice(0)};return{add:a,state:u}}var a_,s_="choiceitem",u_=[{type:s_,text:"Light Green",value:"#BFEDD2"},{type:s_,text:"Light Yellow",value:"#FBEEB8"},{type:s_,text:"Light Red",value:"#F8CAC6"},{type:s_,text:"Light Purple",value:"#ECCAFA"},{type:s_,text:"Light Blue",value:"#C2E0F4"},{type:s_,text:"Green",value:"#2DC26B"},{type:s_,text:"Yellow",value:"#F1C40F"},{type:s_,text:"Red",value:"#E03E2D"},{type:s_,text:"Purple",value:"#B96AD9"},{type:s_,text:"Blue",value:"#3598DB"},{type:s_,text:"Dark Turquoise",value:"#169179"},{type:s_,text:"Orange",value:"#E67E23"},{type:s_,text:"Dark Red",value:"#BA372A"},{type:s_,text:"Dark Purple",value:"#843FA1"},{type:s_,text:"Dark Blue",value:"#236FA1"},{type:s_,text:"Light Gray",value:"#ECF0F1"},{type:s_,text:"Medium Gray",value:"#CED4D9"},{type:s_,text:"Gray",value:"#95A5A6"},{type:s_,text:"Dark Gray",value:"#7E8C8D"},{type:s_,text:"Navy Blue",value:"#34495E"},{type:s_,text:"Black",value:"#000000"},{type:s_,text:"White",value:"#ffffff"}],c_=o_(10),l_=function(e){var t=[],n=document.createElement("canvas");n.height=1,n.width=1;for(var r=n.getContext("2d"),i=function(e,t){var n=255,r=t/255,i=Math.round(e*r+n*(1-r));return("0"+i.toString(16)).slice(-2).toUpperCase()},o=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();r.clearRect(0,0,n.width,n.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);var t=r.getImageData(0,0,1,1).data,o=t[0],a=t[1],s=t[2],u=t[3];return"#"+i(o,u)+i(a,u)+i(s,u)},a=0;a<e.length;a+=2)t.push({text:e[a+1],value:o(e[a]),type:"choiceitem"});return t},d_=function(e,t){return e.getParam("color_cols",t,"number")},f_=function(e){return!1!==e.getParam("custom_colors")},A_=function(e){return e.getParam("color_map")},h_=function(e){var t=A_(e);return void 0!==t?l_(t):u_},p_=function(){return G(c_.state(),(function(e){return{type:s_,text:e,value:e}}))},m_=function(e){c_.add(e)},g_=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)})),n},v_=function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))},y_=function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))},b_=function(e){e.addCommand("mceApplyTextcolor",(function(t,n){v_(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){y_(e,t)}))},w_=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},x_=function(e){var t=h_(e),n=w_(t.length);return d_(e,n)},C_=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,r]:[n]},S_=function(e,t,n,r){if("custom"===n){var i=E_(e);i((function(n){n.each((function(n){m_(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},k_=function(e,t){return e.concat(p_().concat(C_(t)))},__=function(e,t){return function(n){n(k_(e,t))}},B_=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(r,n)},D_=function(e,t,n,r,i){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r=F.from(g_(e,n));return r.bind((function(e){return Wk(e).map((function(e){var n=Nk(e).value;return hr(t.toLowerCase(),n)}))})).getOr(!1)},columns:x_(e),fetch:__(h_(e),f_(e)),onAction:function(t){null!==i.get()&&S_(e,n,i.get(),p)},onItemAction:function(r,o){S_(e,n,o,(function(n){i.set(n),n_(e,{name:t,color:n})}))},onSetup:function(n){null!==i.get()&&B_(n,t,i.get());var r=function(e){e.name===t&&B_(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},M_=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){S_(e,n,t.value,p)}}]}})},E_=function(e){return function(t,n){var r=!1,i=function(n){var i=n.getData(),o=i.colorpicker;r?(t(F.from(o)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},o=function(e,t){"hex-valid"===t.name&&(r=t.value)},a={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:o,onSubmit:i,onClose:p,onCancel:function(){t(F.none())}})}},T_=function(e){b_(e);var t=$n(null),n=$n(null);D_(e,"forecolor","forecolor","Text color",t),D_(e,"backcolor","hilitecolor","Background color",n),M_(e,"forecolor","forecolor","Text color"),M_(e,"backcolor","hilitecolor","Background color")},I_=function(e,t,n,r,i,o,a,s){var u=jx(t),c="color"!==i?"normal":"color",l=O_(t,n,r,c,o,a,s);return Kx(e,u,l,r,i)},O_=function(e,t,n,r,i,o,a){return cm(G(e,(function(s){return"choiceitem"===s.type?rC(s).fold(zx,(function(u){return F.some(Dk(u,1===n,r,t,o(s.value),i,a,jx(e)))})):F.none()})))},L_=function(e,t){var n=Ox(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},F_=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?"."+dx:"."+lx}}},P_=function(e,t){var n=k_(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),i="color",o=I_(Na("menu-value"),n,(function(t){e.onAction({value:t})}),r,i,ux.CLOSE_ON_EXECUTE,S,t.shared.providers),a=B(B({},o),{markers:Ox(i),movement:L_(r,i)});return{type:"widget",data:{value:Na("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Mk.widget(xb.sketch(a))]}},N_=Na("cell-over"),U_=Na("cell-execute"),H_=function(e,t,n){var r,i=function(n){return lo(n,N_,{row:e,col:t})},o=function(n){return lo(n,U_,{row:e,col:t})},a=function(e,t){t.stop(),o(e)};return yu({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Rl([Cy("insert-table-picker-cell",[bo(_i(),Iy.focus),bo(Qi(),o),bo(Oi(),a),bo(zi(),a)]),Yy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Iy.config({onFocus:i})])})},R_=function(e,t,n){for(var r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)o.push(H_(i,a,e));r.push(o)}return r},V_=function(e,t,n,r,i){for(var o=0;o<r;o++)for(var a=0;a<i;a++)Yy.set(e[o][a],o<=t&&a<=n)},Q_=function(e){return ne(e,(function(e){return G(e,bu)}))},j_=function(e,t){return mu(t+1+"x"+(e+1))},z_=function(e){var t=10,n=10,r=Na("size-label"),i=R_(r,t,n),o=Jb({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[mu("0x0")],behaviours:Rl([wy.config({})])});return{type:"widget",data:{value:Na("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Mk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Q_(i).concat(o.asSpec()),behaviours:Rl([Cy("insert-table-picker",[_o(N_,(function(e,r,a){var s=a.event.row,u=a.event.col;V_(i,s,u,t,n),wy.set(o.get(e),[j_(s,u)])})),_o(U_,(function(t,n,r){e.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),co(t,Ki())}))]),dy.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},G_={inserttable:z_,colorswatch:P_},K_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?F.some(e[t]):F.none()},q_=function(e,t){return K_(G_,e.fancytype).map((function(n){return n(e,t)}))},W_=function(e,t,n,r,i){void 0===r&&(r=!0),void 0===i&&(i=!1);var o=i?Ak(n.icons):fk(n.icons),a=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},s=wk({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,caret:F.some(o),checkMark:F.none(),shortcutContent:e.shortcut},n,r);return nk({data:rk(e),getApi:a,disabled:e.disabled,onAction:p,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t,n)},$_=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},o=wk({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,caret:F.none(),checkMark:F.none(),shortcutContent:e.shortcut},n,r);return nk({data:rk(e),getApi:i,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n)},X_=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:B({tag:"div",classes:[lx,hx]},t),components:[]}},Y_=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},o=wk({iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,checkMark:F.some(dk(n.icons)),caret:F.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return We(nk({data:rk(e),disabled:e.disabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n),{toggling:{toggleClass:Ax,toggleOnExecute:!1,selected:e.active}})},J_=kk,Z_=X_,eB=$_,tB=W_,nB=Y_,rB=q_,iB=Bk;(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(a_||(a_={}));var oB=function(e,t,n,r,i){var o=n.shared.providers,a=function(e){return i?B(B({},e),{shortcut:F.none(),icon:e.text.isSome()?F.none():e.icon}):e};switch(e.type){case"menuitem":return uC(e).fold(zx,(function(e){return F.some(eB(a(e),t,o,r))}));case"nestedmenuitem":return lC(e).fold(zx,(function(e){return F.some(tB(a(e),t,o,r,i))}));case"togglemenuitem":return fC(e).fold(zx,(function(e){return F.some(nB(a(e),t,o,r))}));case"separator":return Nw(e).fold(zx,(function(e){return F.some(Z_(e))}));case"fancymenuitem":return aC(e).fold(zx,(function(e){return rB(a(e),n)}));default:return console.error("Unknown item in general menu",e),F.none()}},aB=function(e,t,n,r,i,o,a){var s=1===r,u=!s||jx(e);return cm(G(e,(function(e){switch(e.type){case"separator":return Rw(e).fold(zx,(function(e){return F.some(Z_(e))}));case"cardmenuitem":return tC(e).fold(zx,(function(e){return F.some(iB(B(B({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),i,o,{itemBehaviours:xk(e.meta,o),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return Vw(e).fold(zx,(function(e){return F.some(J_(e,t,s,"normal",n,i,o,u))}))}})))},sB=function(e,t,n,r,i){var o=jx(t),a=cm(G(t,(function(e){var t=function(e){return i?!e.hasOwnProperty("text"):o},a=function(e){return oB(e,n,r,t(e),i)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?a(B(B({},e),{disabled:!0})):a(e)}))),s=i?Gx:Kx;return s(e,o,a,1,"normal")},uB=function(e){return Lb.singleData(e.value,e)},cB=function(e,t,n,r){var i=n===a_.ContentFocus?ug():sg(),o=L_(t,r),a=Ox(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:o,fakeFocus:n===a_.ContentFocus,focusManager:i,menuBehaviours:mC.unnamedEvents("auto"!==t?[]:[Eo((function(e,t){AC(e,4,a.item).each((function(t){var n=t.numColumns,r=t.numRows;dy.setGridSize(e,r,n)}))}))])}},lB=function(e,t){var n=$n(F.none()),r=$n(!1),i=yu(Nb.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Rl([Cy("dismissAutocompleter",[bo(to(),(function(){return u()}))])]),lazySink:t.getSink})),o=function(){return Nb.isOpen(i)},a=function(){return n.get().isSome()},s=function(){a()&&Nb.hide(i)},u=function(){if(a()){var t=n.get().map((function(e){return e.element}));pw(t.getOr(tr.fromDom(e.selection.getNode()))).each(ga),s(),n.set(F.none()),r.set(!1)}},c=Xe((function(){return ax(e)})),l=function(n,i){var o=fe(i,(function(e){return F.from(e.columns)})).getOr(1);return ne(i,(function(i){var a=i.items;return aB(a,i.matchText,(function(t,o){var a=e.selection.getRng();xw(e.dom,a,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var n=e.range,a={hide:function(){u()},reload:function(e){s(),h(e)}};r.set(!0),i.onAction(a,n,t,o),r.set(!1)}))}),o,ux.BUBBLE_TO_SANDBOX,t,i.highlightOn)}))},d=function(t){if(!a()){var i=hw(e,t.range);n.set(F.some({triggerChar:t.triggerChar,element:i,matchLength:t.text.length})),r.set(!1)}},f=function(t,n,r,o){t.matchLength=n.text.length;var a=fe(r,(function(e){return F.from(e.columns)})).getOr(1);Nb.showAt(i,{anchor:"node",root:tr.fromDom(e.getBody()),node:F.from(t.element)},xb.sketch(cB(Kx("autocompleter-value",!0,o,a,"normal"),a,a_.ContentFocus,"normal"))),Nb.getContent(i).each(Hm.highlightFirst)},A=function(t){return n.get().map((function(n){return xw(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Fw(e,c,n,t)}))})).getOrThunk((function(){return Lw(e,c)}))},h=function(e){A(e).fold(u,(function(e){d(e.context),e.lookupData.then((function(t){n.get().map((function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var i=l(r.triggerChar,t);i.length>0?f(n,r,t,i):r.text.length-n.matchLength>=10?u():s()}}))}))}))},p=cw((function(e){27!==e.which&&h()}),50),m={onKeypress:p,cancelIfNecessary:u,isMenuOpen:o,isActive:a,isProcessingAction:r.get,getView:function(){return Nb.getContent(i)}};!1===e.hasPlugin("rtc")&&Sw.setup(m,e)},dB={register:lB},fB=k,AB=function(e,t,n){return Vu(e,t,fB,n)},hB=function(e,t,n){return Qu(e,t,fB,n)},pB=Uu,mB=function(e,t,n){return pc(e,t,n).isSome()},gB=function(e,t){var n=null,r=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n=setTimeout((function(){e.apply(null,r),n=null}),t)},i=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:i,schedule:r}},vB=5,yB=400,bB=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?F.none():F.some(t.touches[0])},wB=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>vB||r>vB},xB=function(e){var t=$n(F.none()),n=$n(!1),r=gB((function(t){e.triggerEvent(Gi(),t),n.set(!0)}),yB),i=function(e){return bB(e).each((function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(F.some(o))})),F.none()},o=function(e){return r.cancel(),bB(e).each((function(e){t.get().each((function(n){wB(e,n)&&t.set(F.none())}))})),F.none()},a=function(i){r.cancel();var o=function(e){return ii(e.target,i.target)};return t.get().filter(o).map((function(t){return n.get()?(i.prevent(),!1):e.triggerEvent(zi(),i)}))},s=lt([{key:vi(),value:i},{key:yi(),value:o},{key:bi(),value:a}]),u=function(e,t){return He(s,t).bind((function(t){return t(e)}))};return{fireIfReady:u}},CB=function(e){var t=e.raw;return t.which===Rm[0]&&!V(["input","textarea"],Lo(e.target))&&!mB(e.target,'[contenteditable="true"]')},SB=function(){return qr().browser.isFirefox()},kB=Nt([kn("triggerEvent"),Un("stopBackspace",!0)]),_B=function(e,t){return SB()?hB(e,"focus",t):AB(e,"focusin",t)},BB=function(e,t){return SB()?hB(e,"blur",t):AB(e,"focusout",t)},DB=function(e,t){var n=on("Getting GUI events settings",kB,t),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=xB(n),o=G(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return AB(e,t,(function(e){i.fireIfReady(e,t).each((function(t){t&&e.kill()}));var r=n.triggerEvent(t,e);r&&e.kill()}))})),a=$n(F.none()),s=AB(e,"paste",(function(e){i.fireIfReady(e,"paste").each((function(t){t&&e.kill()}));var t=n.triggerEvent("paste",e);t&&e.kill(),a.set(F.some(setTimeout((function(){n.triggerEvent(Ri(),e)}),0)))})),u=AB(e,"keydown",(function(e){var t=n.triggerEvent("keydown",e);t?e.kill():!0===n.stopBackspace&&CB(e)&&e.prevent()})),c=_B(e,(function(e){var t=n.triggerEvent("focusin",e);t&&e.kill()})),l=$n(F.none()),d=BB(e,(function(e){var t=n.triggerEvent("focusout",e);t&&e.kill(),l.set(F.some(setTimeout((function(){n.triggerEvent(Hi(),e)}),0)))})),f=function(){K(o,(function(e){e.unbind()})),u.unbind(),c.unbind(),d.unbind(),s.unbind(),a.get().each(clearTimeout),l.get().each(clearTimeout)};return{unbind:f}},MB=function(e,t){var n=He(e,"target").getOr(t);return $n(n)},EB=function(e,t){var n=$n(!1),r=$n(!1),i=function(){n.set(!0)},o=function(){r.set(!0)};return{stop:i,cut:o,isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}},TB=function(e){var t=$n(!1),n=function(){t.set(!0)};return{stop:n,cut:p,isStopped:t.get,isCut:S,event:e,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")}},IB=je.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),OB=function(e,t,n,r,i,o){var a=e(t,r),s=EB(n,i);return a.fold((function(){return o.logEventNoHandlers(t,r),IB.complete()}),(function(e){var n=e.descHandler,r=ms(n);return r(s),s.isStopped()?(o.logEventStopped(t,e.element,n.purpose),IB.stopped()):s.isCut()?(o.logEventCut(t,e.element,n.purpose),IB.complete()):Go(e.element).fold((function(){return o.logNoParent(t,e.element,n.purpose),IB.complete()}),(function(r){return o.logEventResponse(t,e.element,n.purpose),IB.resume(r)}))}))},LB=function(e,t,n,r,i,o){return OB(e,t,n,r,i,o).fold(k,(function(r){return LB(e,t,n,r,i,o)}),S)},FB=function(e,t,n,r,i){var o=MB(n,r);return OB(e,t,n,r,o,i)},PB=function(e,t,n){var r=TB(t);return K(e,(function(e){var t=e.descHandler,n=ms(t);n(r)})),r.isStopped()},NB=function(e,t,n,r){return UB(e,t,n,n.target,r)},UB=function(e,t,n,r,i){var o=MB(n,r);return LB(e,t,n,r,o,i)},HB=function(e,t){return{element:e,descHandler:t}},RB=function(e,t){return{id:e,descHandler:t}},VB=function(){var e={},t=function(t,n,r){Ee(r,(function(r,i){var o=void 0!==e[i]?e[i]:{};o[n]=ps(r,t),e[i]=o}))},n=function(e,t){return za(t).fold((function(){return F.none()}),(function(n){return e.bind((function(e){return He(e,n)})).map((function(e){return HB(t,e)}))}))},r=function(t){return He(e,t).map((function(e){return Pe(e,(function(e,t){return RB(t,e)}))})).getOr([])},i=function(t,r,i){var o=He(e,r);return li(i,(function(e){return n(o,e)}),t)},o=function(t){Ee(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))};return{registerId:t,unregisterId:o,filterByType:r,find:i}},QB=function(){var e=VB(),t={},n=function(e){var t=e.element;return za(t).fold((function(){return Qa("uid-",e.element)}),(function(e){return e}))},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Ia(r.element)+"\nCannot use it for: "+Ia(e.element)+"\nThe conflicting element is"+(zs(r.element)?" ":" not ")+"already in the DOM");o(e)},i=function(i){var o=n(i);Ve(t,o)&&r(i,o);var a=[i];e.registerId(a,o,i.events),t[o]=i},o=function(n){za(n.element).each((function(n){delete t[n],e.unregisterId(n)}))},a=function(t){return e.filterByType(t)},s=function(t,n,r){return e.find(t,n,r)},u=function(e){return He(t,e)};return{find:s,filter:a,register:i,unregister:o,getById:u}},jB=function(e){var t=e.dom,n=t.attributes,r=D(t,["attributes"]);return{uid:e.uid,dom:B({tag:"div",attributes:B({role:"presentation"},n)},r),components:e.components,behaviours:Yh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},zB=sm({name:"Container",factory:jB,configFields:[Un("components",[]),Xh("containerBehaviours",[]),Un("events",{}),Un("domModification",{}),Un("eventOrder",{})]}),GB=function(e){var t=function(t){return Go(e.element).fold(k,(function(e){return ii(t,e)}))},n=QB(),r=function(e,r){return n.find(t,e,r)},i=DB(e.element,{triggerEvent:function(e,t){return Dc(e,t.target,(function(n){return NB(r,e,t,n)}))}}),o={debugInfo:y("real"),triggerEvent:function(e,t,n){Dc(e,t,(function(i){return UB(r,e,n,t,i)}))},triggerFocus:function(e,t){za(e).fold((function(){Xl(e)}),(function(n){Dc(Ui(),e,(function(n){return FB(r,Ui(),{originator:t,kill:p,prevent:p,target:e},e,n),!1}))}))},triggerEscape:function(e,t){o.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return m(e)},getByDom:function(e){return g(e)},build:yu,addToGui:function(e){u(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){s(e)},broadcast:function(e){f(e)},broadcastOn:function(e,t){A(e,t)},broadcastEvent:function(e,t){h(e,t)},isConnected:k},a=function(e){e.connect(o),Uo(e.element)||(n.register(e),K(e.components(),a),o.triggerEvent(Wi(),e.element,{target:e.element}))},s=function(e){Uo(e.element)||(K(e.components(),s),n.unregister(e)),e.disconnect()},u=function(t){HA(e,t)},c=function(e){QA(e)},l=function(){i.unbind(),ma(e.element)},d=function(e){var t=n.filter(Vi());K(t,(function(t){var n=t.descHandler,r=ms(n);r(e)}))},f=function(e){d({universal:!0,data:e})},A=function(e,t){d({universal:!1,channels:e,data:t})},h=function(e,t){var r=n.filter(e);return PB(r,t)},m=function(e){return n.getById(e).fold((function(){return me.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),me.value)},g=function(e){var t=za(e).getOr("not found");return m(t)};return a(e),{root:e,element:e.element,destroy:l,add:u,remove:c,getByUid:m,getByDom:g,addToWorld:a,removeFromWorld:s,broadcast:f,broadcastOn:A,broadcastEvent:h}},KB=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:G(e.items,t.interpreter)}},qB=y([Un("prefix","form-field"),Xh("fieldBehaviours",[ym,$h])]),WB=y([Ep({schema:[yn("dom")],name:"label"}),Ep({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[yn("text")],name:"aria-descriptor"}),Dp({factory:{sketch:function(e){var t=ut(e,["factory"]);return e.factory.sketch(t)}},schema:[yn("factory")],name:"field"})]),$B=function(e,t,n,r){var i=Jh(e.fieldBehaviours,[ym.config({find:function(t){return jp(t,e,"field")}}),$h.config({store:{mode:"manual",getValue:function(e){return ym.getCurrent(e).bind($h.getValue)},setValue:function(e,t){ym.getCurrent(e).each((function(e){$h.setValue(e,t)}))}}})]),o=mo([Eo((function(t,n){var r=Gp(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=Na(e.prefix);r.label().each((function(e){Ca(e.element,"for",n),Ca(t.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Na(e.prefix);Ca(n.element,"id",r),Ca(t.element,"aria-describedby",r)}))}))}))]),a={getField:function(t){return jp(t,e,"field")},getLabel:function(t){return jp(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:o,apis:a}},XB=um({name:"FormField",configFields:qB(),partFields:WB(),factory:$B,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),YB=function(e,t){return cs({attributes:lt([{key:t.tabAttr,value:"true"}])})},JB=Object.freeze({__proto__:null,exhibit:YB}),ZB=[Un("tabAttr","data-alloy-tabstop")],eD=Ql({fields:ZB,name:"tabstopping",active:JB}),tD=tinymce.util.Tools.resolve("tinymce.html.Entities"),nD=function(e,t,n,r){var i=iD(e,t,n,r);return XB.sketch(i)},rD=function(e,t){return nD(e,t,[],[])},iD=function(e,t,n,r){return{dom:aD(n),components:e.toArray().concat([t]),fieldBehaviours:Rl(r)}},oD=function(){return aD([])},aD=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},sD=function(e,t){return XB.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},uD=Na("form-component-change"),cD=Na("form-close"),lD=Na("form-cancel"),dD=Na("form-action"),fD=Na("form-submit"),AD=Na("form-block"),hD=Na("form-unblock"),pD=Na("form-tabchange"),mD=Na("form-resize"),gD=function(e,t){var n,r=e.label.map((function(e){return sD(e,t)})),i=function(e){return function(t,n){pc(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,ka(r,"data-collection-item-value"))}))}},o=function(n,r){var i=G(r,(function(n){var r=TC.translate(n.text),i=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",o='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},s=r.replace(/\_| \- |\-/g,(function(e){return a[e]})),u=t.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+u+'" tabindex="-1" data-collection-item-value="'+tD.encodeAllRaw(n.value)+'" title="'+s+'" aria-label="'+s+'">'+o+i+"</div>"})),o="auto"!==e.columns&&e.columns>1?z(i,e.columns):[i],a=G(o,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));ba(n.element,a.join(""))},a=i((function(n,r,i,o){r.stop(),t.isDisabled()||lo(n,dD,{name:e.name,value:o})})),s=[bo(_i(),i((function(e,t,n){Xl(n)}))),bo(Oi(),a),bo(zi(),a),bo(Bi(),i((function(e,t,n){hc(e.element,"."+bx).each((function(e){Hs(e,bx)})),Ns(n,bx)}))),bo(Di(),i((function(e){hc(e.element,"."+bx).each((function(e){Hs(e,bx)}))}))),Oo(i((function(t,n,r,i){lo(t,dD,{name:e.name,value:i})})))],u=function(e,t){return G(Yf(e.element,".tox-collection__item"),t)},c=XB.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:b},behaviours:Rl([XC.config({disabled:t.isDisabled,onDisabled:function(e){u(e,(function(e){Ns(e,"tox-collection__item--state-disabled"),Ca(e,"aria-disabled",!0)}))},onEnabled:function(e){u(e,(function(e){Hs(e,"tox-collection__item--state-disabled"),Da(e,"aria-disabled")}))}}),zS(),wy.config({}),$h.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){o(t,n),"auto"===e.columns&&AC(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns;dy.setGridSize(t,n,r)})),co(t,mD)}}),eD.config({}),dy.config(F_(e.columns,"normal")),Cy("collection-events",s)]),eventOrder:(n={},n[Qi()]=["disabling","alloy.base.behaviour","collection-events"],n)}),l=["tox-form__group--collection"];return nD(r,c,l,[])},vD=y([En("data"),Un("inputAttributes",{}),Un("inputStyles",{}),Un("tag","input"),Un("inputClasses",[]),Uc("onSetValue"),Un("styles",{}),Un("eventOrder",{}),Xh("inputBehaviours",[$h,Iy]),Un("selectOnFocus",!0)]),yD=function(e){return Rl([Iy.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=ou(t);t.dom.setSelectionRange(0,n.length)}:p})])},bD=function(e){return B(B({},yD(e)),Jh(e.inputBehaviours,[$h.config({store:B(B({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return ou(e.element)},setValue:function(e,t){var n=ou(e.element);n!==t&&au(e.element,t)}}),onSetValue:e.onSetValue})]))},wD=function(e){return{tag:e.tag,attributes:B({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},xD=function(e,t){return{uid:e.uid,dom:wD(e),components:[],behaviours:bD(e),eventOrder:e.eventOrder}},CD=sm({name:"Input",configFields:vD(),factory:xD}),SD={},kD={exports:SD};(function(t,n,r,i){(function(i){if("object"===typeof n&&"undefined"!==typeof r)r.exports=i();else if("function"===typeof t&&t.amd)t([],i);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=i()}})((function(){return function(){function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return o(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var l,d=[],f=!1,A=-1;function h(){f&&l&&(f=!1,l.length?d=l.concat(d):A=-1,d.length&&p())}function p(){if(!f){var e=u(h);f=!0;var t=d.length;while(t){l=d,d=[];while(++A<t)l&&l[A].run();A=-1,t=d.length}l=null,f=!1,c(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new m(e,t)),1!==d.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void c(t.promise,i)}u(t.promise,r)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"===typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,l(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(r){if(n)return;n=!0,c(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}t[o]=a,0===--r&&e(t)}catch(u){n(u)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,SD,kD,void 0);var _D,BD=kD.exports.boltExport,DD=function(e){var t=F.none(),n=[],r=function(e){return DD((function(t){i((function(n){t(e(n))}))}))},i=function(e){a()?u(e):n.push(e)},o=function(e){a()||(t=F.some(e),s(n),n=[])},a=function(){return t.isSome()},s=function(e){K(e,u)},u=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e(o),{get:i,map:r,isReady:a}},MD=function(e){return DD((function(t){t(e)}))},ED={nu:DD,pure:MD},TD=function(e){setTimeout((function(){throw e}),0)},ID=function(e){var t=function(t){e().then(t,TD)},n=function(t){return ID((function(){return e().then(t)}))},r=function(t){return ID((function(){return e().then((function(e){return t(e).toPromise()}))}))},i=function(t){return ID((function(){return e().then((function(){return t.toPromise()}))}))},o=function(){return ED.nu(t)},a=function(){var t=null;return ID((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:i,toLazy:o,toCached:a,toPromise:s,get:t}},OD=function(e){return ID((function(){return new BD(e)}))},LD=function(e){return ID((function(){return BD.resolve(e)}))},FD={nu:OD,pure:LD},PD=["input","textarea"],ND=function(e){var t=Lo(e);return V(PD,t)},UD=function(e,t){var n=t.getRoot(e).getOr(e.element);Hs(n,t.invalidClass),t.notify.each((function(t){ND(e.element)&&Ca(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){ba(e,t.validHtml)})),t.onValid(e)}))},HD=function(e,t,n,r){var i=t.getRoot(e).getOr(e.element);Ns(i,t.invalidClass),t.notify.each((function(t){ND(e.element)&&Ca(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){ba(e,r)})),t.onInvalid(e,r)}))},RD=function(e,t,n){return t.validator.fold((function(){return FD.pure(me.value(!0))}),(function(t){return t.validate(e)}))},VD=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),RD(e,t).map((function(r){return e.getSystem().isConnected()?r.fold((function(r){return HD(e,t,n,r),me.error(r)}),(function(n){return UD(e,t),me.value(n)})):me.error("No longer in system")}))},QD=function(e,t){var n=t.getRoot(e).getOr(e.element);return Rs(n,t.invalidClass)},jD=Object.freeze({__proto__:null,markValid:UD,markInvalid:HD,query:RD,run:VD,isInvalid:QD}),zD=function(e,t){return e.validator.map((function(n){return mo([bo(n.onEvent,(function(n){VD(n,e,t).get(b)}))].concat(n.validateOnLoad?[Eo((function(n){VD(n,e,t).get(p)}))]:[]))})).getOr({})},GD=Object.freeze({__proto__:null,events:zD}),KD=[yn("invalidClass"),Un("getRoot",F.none),Pn("notify",[Un("aria","alert"),Un("getContainer",F.none),Un("validHtml",""),Uc("onValid"),Uc("onInvalid"),Uc("onValidate")]),Pn("validator",[yn("validate"),Un("onEvent","input"),Un("validateOnLoad",!0)])],qD=Ql({fields:KD,name:"invalidating",active:GD,apis:jD,extra:{validation:function(e){return function(t){var n=$h.getValue(t);return FD.pure(e(n))}}}}),WD=function(e,t,n,r){return n.getOrCreate(e,t,r)},$D=Object.freeze({__proto__:null,getCoupled:WD}),XD=[bn("others",en(me.value,ln()))],YD=function(){var e={},t=function(t,n,r){var i=De(n.others);if(i)return He(e,r).getOrThunk((function(){var i=He(n.others,r).getOrDie("No information found for coupled component: "+r),o=i(t),a=t.getSystem().build(o);return e[r]=a,a}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(i,null,2))},n=y({});return is({readState:n,getOrCreate:t})},JD=Object.freeze({__proto__:null,init:YD}),ZD=Ql({fields:XD,name:"coupling",apis:$D,state:JD}),eM=y("sink"),tM=y(Ep({name:eM(),overrides:y({dom:{tag:"div"},behaviours:Rl([OA.config({useFixed:k})]),events:mo([Bo(Mi()),Bo(xi()),Bo(Oi())])})}));(function(e){e[e["HighlightFirst"]=0]="HighlightFirst",e[e["HighlightNone"]=1]="HighlightNone"})(_D||(_D={}));var nM,rM=function(e,t){var n=e.getHotspot(t).getOr(t),r="hotspot",i=e.getAnchorOverrides();return e.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:i}}),(function(e){return{anchor:r,hotspot:n,overrides:i,layouts:e}}))},iM=function(e,t,n){var r=e.fetch;return r(n).map(t)},oM=function(e,t,n,r,i,o,a){var s=iM(e,t,r),u=lM(r,e);return s.map((function(e){return e.bind((function(e){return F.from(Lb.sketch(B(B({},o.menu()),{uid:Ga(""),data:e,highlightImmediately:a===_D.HighlightFirst,onOpenMenu:function(e,t){var r=u().getOrDie();OA.position(r,n,t),Ah.decloak(i)},onOpenSubmenu:function(e,t,n){var r=u().getOrDie();OA.position(r,{anchor:"submenu",item:t},n),Ah.decloak(i)},onRepositionMenu:function(e,t,r){var i=u().getOrDie();OA.position(i,n,t),K(r,(function(e){OA.position(i,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){return Iy.focus(r),Ah.close(i),F.some(!0)}})))}))}))},aM=function(e,t,n,r,i,o,a){var s=rM(e,n),u=oM(e,t,s,n,r,i,a);return u.map((function(e){return e.fold((function(){Ah.isOpen(r)&&Ah.close(r)}),(function(e){Ah.cloak(r),Ah.open(r,e),o(r)})),r}))},sM=function(e,t,n,r,i,o,a){return Ah.close(r),FD.pure(r)},uM=function(e,t,n,r,i,o){var a=ZD.getCoupled(n,"sandbox"),s=Ah.isOpen(a),u=s?sM:aM;return u(e,t,n,a,r,i,o)},cM=function(e,t,n){var r=ym.getCurrent(t).getOr(t),i=Lu(e.element);n?$s(r.element,"min-width",i+"px"):Ou(r.element,i)},lM=function(e,t){return e.getSystem().getByUid(t.uid+"-"+eM()).map((function(e){return function(){return me.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return me.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},dM=function(e){Ah.getState(e).each((function(e){Lb.repositionMenus(e)}))},fM=function(e,t,n){var r=gc(),i=function(i,o){var a=rM(e,t);r.link(t.element),e.matchWidth&&cM(a.hotspot,o,e.useMinWidth),e.onOpen(a,i,o),void 0!==n&&void 0!==n.onOpen&&n.onOpen(i,o)},o=function(e,i){r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,i)},a=lM(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Zh.augment(e.sandboxBehaviours,[$h.config({store:{mode:"memory",initialValue:t}}),Ah.config({onOpen:i,onClose:o,isPartOf:function(e,n,r){return yc(n,r)||yc(t,r)},getAttachPoint:function(){return a().getOrDie()}}),ym.config({find:function(e){return Ah.getState(e).bind((function(e){return ym.getCurrent(e)}))}}),Kl.config({channels:B(B({},vh({isExtraPart:S})),bh({doReposition:dM}))})])}},AM=function(e){var t=ZD.getCoupled(e,"sandbox");dM(t)},hM=function(){return[Un("sandboxClasses",[]),Zh.field("sandboxBehaviours",[ym,Kl,Ah,$h])]},pM=y([yn("dom"),yn("fetch"),Uc("onOpen"),Hc("onExecute"),Un("getHotspot",F.some),Un("getAnchorOverrides",y({})),Qd(),Xh("dropdownBehaviours",[Yy,ZD,dy,Iy]),yn("toggleClass"),Un("eventOrder",{}),En("lazySink"),Un("matchWidth",!1),Un("useMinWidth",!1),En("role")].concat(hM())),mM=y([Mp({schema:[Fc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),tM()]),gM=function(e,t,n,r){var i,o=function(t){return He(e.dom,"attributes").bind((function(e){return He(e,t)}))},a=function(e){Ah.getState(e).each((function(e){Lb.highlightPrimary(e)}))},s=function(t){var n=a;uM(e,(function(e){return e}),t,r,n,_D.HighlightFirst).get(p)},u={expand:function(t){Yy.isOn(t)||uM(e,(function(e){return e}),t,r,p,_D.HighlightNone).get(p)},open:function(t){Yy.isOn(t)||uM(e,(function(e){return e}),t,r,p,_D.HighlightFirst).get(p)},isOpen:Yy.isOn,close:function(t){Yy.isOn(t)&&uM(e,(function(e){return e}),t,r,p,_D.HighlightFirst).get(p)},repositionMenus:function(e){Yy.isOn(e)&&AM(e)}},c=function(e,t){return fo(e),F.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.dropdownBehaviours,[Yy.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),ZD.config({others:{sandbox:function(t){return fM(e,t,{onOpen:function(){return Yy.on(t)},onClose:function(){return Yy.off(t)}})}}}),dy.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){if(vM.isOpen(e)){var n=ZD.getCoupled(e,"sandbox");a(n)}else vM.open(e);return F.some(!0)},onEscape:function(e,t){return vM.isOpen(e)?(vM.close(e),F.some(!0)):F.none()}}),Iy.config({})]),events:Zy(F.some(s)),eventOrder:B(B({},e.eventOrder),(i={},i[Qi()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:u,domModification:{attributes:B(B({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:o("type").getOr("button")}:{})}}},vM=um({name:"Dropdown",configFields:pM(),partFields:mM(),factory:gM,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),yM=function(){return cs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},bM=function(){return mo([go(Fi(),k)])},wM=Object.freeze({__proto__:null,events:bM,exhibit:yM}),xM=Ql({fields:[],name:"unselecting",active:wM}),CM=function(e,t){return vM.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Rl([$S.button(t.providers.isDisabled),zS(),xM.config({}),eD.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return FD.nu((function(t){return e.fetch(t)})).map((function(r){return F.from(uB(We(I_(Na("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,ux.CLOSE_ON_EXECUTE,S,t.providers),{movement:L_(e.columns,e.presets)})))}))},parts:{menu:Px(!1,1,e.presets)}})},SM=Na("color-input-change"),kM=Na("color-swatch-change"),_M=Na("color-picker-cancel"),BM=function(e,t,n){var r=XB.parts.field({factory:CD,inputClasses:["tox-textfield"],onSetValue:function(e){return qD.run(e).get(p)},inputBehaviours:Rl([XC.config({disabled:t.providers.isDisabled}),zS(),eD.config({}),qD.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return Go(e.element)},notify:{onValid:function(e){var t=$h.getValue(e);lo(e,SM,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=$h.getValue(e);if(0===t.length)return FD.pure(me.value(!0));var n=tr.fromTag("span");$s(n,"background-color",t);var r=eu(n,"background-color").fold((function(){return me.error("blah")}),(function(e){return me.value(t)}));return FD.pure(r)}}})]),selectOnFocus:!1}),i=e.label.map((function(e){return sD(e,t.providers)})),o=function(e,t){lo(e,kM,{value:t})},a=function(e,t){s.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return co(e,_M)}),(function(t){o(e,t),m_(t)}))}),"#ffffff"):o(e,"remove"===t?"":t)}))},s=Jb(CM({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ml,pl,bl]},onLtr:function(){return[pl,ml,bl]}},components:[],fetch:__(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return XB.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:Rl([Cy("form-field-events",[bo(SM,(function(t,n){s.getOpt(t).each((function(e){$s(e.element,"background-color",n.event.color)})),lo(t,uD,{name:e.name})})),bo(kM,(function(e,t){XB.getField(e).each((function(n){$h.setValue(n,t.event.value),ym.getCurrent(e).each(Iy.focus)}))})),bo(_M,(function(e,t){XB.getField(e).each((function(t){ym.getCurrent(e).each(Iy.focus)}))}))])])})},DM=Ep({schema:[yn("dom")],name:"label"}),MM=function(e){return Ep({name:e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold((function(){return{}}),(function(e){return{events:mo([wo(vi(),(function(t,n,r){return e(t,r)}),[t]),wo(xi(),(function(t,n,r){return e(t,r)}),[t]),wo(Ci(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},EM=MM("top-left"),TM=MM("top"),IM=MM("top-right"),OM=MM("right"),LM=MM("bottom-right"),FM=MM("bottom"),PM=MM("bottom-left"),NM=MM("left"),UM=Dp({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:mo([ko(vi(),e,"spectrum"),ko(yi(),e,"spectrum"),ko(bi(),e,"spectrum"),ko(xi(),e,"spectrum"),ko(Ci(),e,"spectrum"),ko(ki(),e,"spectrum")])}}}),HM=Dp({schema:[Wn("mouseIsDown",(function(){return $n(!1)}))],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))};return{behaviours:Rl([dy.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Iy.config({})]),events:mo([bo(vi(),r),bo(yi(),r),bo(xi(),r),bo(Ci(),(function(t,n){e.mouseIsDown.get()&&r(t,n)}))])}}}),RM=[DM,NM,OM,TM,FM,EM,IM,PM,LM,UM,HM],VM="slider.change.value",QM=y(VM),jM=function(e){return-1!==e.type.indexOf("touch")},zM=function(e){var t=e.event.raw;if(jM(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?F.some(n.touches[0]).map((function(e){return Bu(e.clientX,e.clientY)})):F.none()}var r=t;return void 0!==r.clientX?F.some(r).map((function(e){return Bu(e.clientX,e.clientY)})):F.none()},GM="top",KM="right",qM="bottom",WM="left",$M=function(e){return e.model.minX},XM=function(e){return e.model.minY},YM=function(e){return e.model.minX-1},JM=function(e){return e.model.minY-1},ZM=function(e){return e.model.maxX},eE=function(e){return e.model.maxY},tE=function(e){return e.model.maxX+1},nE=function(e){return e.model.maxY+1},rE=function(e,t,n){return t(e)-n(e)},iE=function(e){return rE(e,ZM,$M)},oE=function(e){return rE(e,eE,XM)},aE=function(e){return iE(e)/2},sE=function(e){return oE(e)/2},uE=function(e){return e.stepSize},cE=function(e){return e.snapToGrid},lE=function(e){return e.snapStart},dE=function(e){return e.rounded},fE=function(e,t){return void 0!==e[t+"-edge"]},AE=function(e){return fE(e,WM)},hE=function(e){return fE(e,KM)},pE=function(e){return fE(e,GM)},mE=function(e){return fE(e,qM)},gE=function(e){return e.model.value.get()},vE=function(e){return{x:e}},yE=function(e){return{y:e}},bE=function(e,t){return{x:e,y:t}},wE=function(e,t){lo(e,QM(),{value:t})},xE=function(e,t){wE(e,bE(YM(t),JM(t)))},CE=function(e,t){wE(e,yE(JM(t)))},SE=function(e,t){wE(e,bE(aE(t),JM(t)))},kE=function(e,t){wE(e,bE(tE(t),JM(t)))},_E=function(e,t){wE(e,vE(tE(t)))},BE=function(e,t){wE(e,bE(tE(t),sE(t)))},DE=function(e,t){wE(e,bE(tE(t),nE(t)))},ME=function(e,t){wE(e,yE(nE(t)))},EE=function(e,t){wE(e,bE(aE(t),nE(t)))},TE=function(e,t){wE(e,bE(YM(t),nE(t)))},IE=function(e,t){wE(e,vE(YM(t)))},OE=function(e,t){wE(e,bE(YM(t),sE(t)))},LE=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},FE=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},PE=function(e,t,n){return Math.max(t,Math.min(n,e))},NE=function(e,t,n,r,i){return i.fold((function(){var i=e-t,o=Math.round(i/r)*r;return PE(t+o,t-1,n+1)}),(function(t){var i=(e-t)%r,o=Math.round(i/r),a=Math.floor((e-t)/r),s=Math.floor((n-t)/r),u=Math.min(s,a+o),c=t+u*r;return Math.max(t,c)}))},UE=function(e,t,n){return Math.min(n,Math.max(e,t))-t},HE=function(e){var t=e.min,n=e.max,r=e.range,i=e.value,o=e.step,a=e.snap,s=e.snapStart,u=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,d=e.minBound,f=e.maxBound,A=e.screenRange,h=c?t-1:t,p=l?n+1:n;if(i<d)return h;if(i>f)return p;var m=UE(i,d,f),g=PE(m/A*r+t,h,p);return a&&g>=t&&g<=n?NE(g,t,n,o,s):u?Math.round(g):g},RE=function(e){var t=e.min,n=e.max,r=e.range,i=e.value,o=e.hasMinEdge,a=e.hasMaxEdge,s=e.maxBound,u=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return i<t?o?0:c:i>n?a?s:l:(i-t)/r*u},VE="top",QE="right",jE="bottom",zE="left",GE="width",KE="height",qE=function(e){return e.element.dom.getBoundingClientRect()},WE=function(e,t){return e[t]},$E=function(e){var t=qE(e);return WE(t,zE)},XE=function(e){var t=qE(e);return WE(t,QE)},YE=function(e){var t=qE(e);return WE(t,VE)},JE=function(e){var t=qE(e);return WE(t,jE)},ZE=function(e){var t=qE(e);return WE(t,GE)},eT=function(e){var t=qE(e);return WE(t,KE)},tT=function(e,t,n){return(e+t)/2-n},nT=function(e,t){var n=qE(e),r=qE(t),i=WE(n,zE),o=WE(n,QE),a=WE(r,zE);return tT(i,o,a)},rT=function(e,t){var n=qE(e),r=qE(t),i=WE(n,VE),o=WE(n,jE),a=WE(r,VE);return tT(i,o,a)},iT=function(e,t){lo(e,QM(),{value:t})},oT=function(e){return{x:e}},aT=function(e,t,n){var r={min:$M(t),max:ZM(t),range:iE(t),value:n,step:uE(t),snap:cE(t),snapStart:lE(t),rounded:dE(t),hasMinEdge:AE(t),hasMaxEdge:hE(t),minBound:$E(e),maxBound:XE(e),screenRange:ZE(e)};return HE(r)},sT=function(e,t,n){var r=aT(e,t,n),i=oT(r);return iT(e,i),r},uT=function(e,t){var n=$M(t);iT(e,oT(n))},cT=function(e,t){var n=ZM(t);iT(e,oT(n))},lT=function(e,t,n){var r=e>0?FE:LE,i=r(gE(n).x,$M(n),ZM(n),uE(n));return iT(t,oT(i)),F.some(i)},dT=function(e){return function(t,n){return lT(e,t,n).map(k)}},fT=function(e){var t=zM(e);return t.map((function(e){return e.left}))},AT=function(e,t,n,r,i){var o=0,a=ZE(e),s=r.bind((function(t){return F.some(nT(t,e))})).getOr(o),u=i.bind((function(t){return F.some(nT(t,e))})).getOr(a),c={min:$M(t),max:ZM(t),range:iE(t),value:n,hasMinEdge:AE(t),hasMaxEdge:hE(t),minBound:$E(e),minOffset:o,maxBound:XE(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:u};return RE(c)},hT=function(e,t,n,r,i,o){var a=AT(t,o,n,r,i);return $E(t)-$E(e)+a},pT=function(e,t,n,r){var i=gE(n),o=hT(e,r.getSpectrum(e),i.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=Lu(t.element)/2;$s(t.element,"left",o-a+"px")},mT=dT(-1),gT=dT(1),vT=F.none,yT=F.none,bT={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(_E),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(IE)},wT=Object.freeze({__proto__:null,setValueFrom:sT,setToMin:uT,setToMax:cT,findValueOfOffset:aT,getValueFromEvent:fT,findPositionOfValue:hT,setPositionFromValue:pT,onLeft:mT,onRight:gT,onUp:vT,onDown:yT,edgeActions:bT}),xT=function(e,t){lo(e,QM(),{value:t})},CT=function(e){return{y:e}},ST=function(e,t,n){var r={min:XM(t),max:eE(t),range:oE(t),value:n,step:uE(t),snap:cE(t),snapStart:lE(t),rounded:dE(t),hasMinEdge:pE(t),hasMaxEdge:mE(t),minBound:YE(e),maxBound:JE(e),screenRange:eT(e)};return HE(r)},kT=function(e,t,n){var r=ST(e,t,n),i=CT(r);return xT(e,i),r},_T=function(e,t){var n=XM(t);xT(e,CT(n))},BT=function(e,t){var n=eE(t);xT(e,CT(n))},DT=function(e,t,n){var r=e>0?FE:LE,i=r(gE(n).y,XM(n),eE(n),uE(n));return xT(t,CT(i)),F.some(i)},MT=function(e){return function(t,n){return DT(e,t,n).map(k)}},ET=function(e){var t=zM(e);return t.map((function(e){return e.top}))},TT=function(e,t,n,r,i){var o=0,a=eT(e),s=r.bind((function(t){return F.some(rT(t,e))})).getOr(o),u=i.bind((function(t){return F.some(rT(t,e))})).getOr(a),c={min:XM(t),max:eE(t),range:oE(t),value:n,hasMinEdge:pE(t),hasMaxEdge:mE(t),minBound:YE(e),minOffset:o,maxBound:JE(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:u};return RE(c)},IT=function(e,t,n,r,i,o){var a=TT(t,o,n,r,i);return YE(t)-YE(e)+a},OT=function(e,t,n,r){var i=gE(n),o=IT(e,r.getSpectrum(e),i.y,r.getTopEdge(e),r.getBottomEdge(e),n),a=Cu(t.element)/2;$s(t.element,"top",o-a+"px")},LT=F.none,FT=F.none,PT=MT(-1),NT=MT(1),UT={"top-left":F.none(),top:F.some(CE),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(ME),"bottom-left":F.none(),left:F.none()},HT=Object.freeze({__proto__:null,setValueFrom:kT,setToMin:_T,setToMax:BT,findValueOfOffset:ST,getValueFromEvent:ET,findPositionOfValue:IT,setPositionFromValue:OT,onLeft:LT,onRight:FT,onUp:PT,onDown:NT,edgeActions:UT}),RT=function(e,t){lo(e,QM(),{value:t})},VT=function(e,t){return{x:e,y:t}},QT=function(e,t,n){var r=aT(e,t,n.left),i=ST(e,t,n.top),o=VT(r,i);return RT(e,o),o},jT=function(e,t,n,r){var i=e>0?FE:LE,o=t?gE(r).x:i(gE(r).x,$M(r),ZM(r),uE(r)),a=t?i(gE(r).y,XM(r),eE(r),uE(r)):gE(r).y;return RT(n,VT(o,a)),F.some(o)},zT=function(e,t){return function(n,r){return jT(e,t,n,r).map(k)}},GT=function(e,t){var n=$M(t),r=XM(t);RT(e,VT(n,r))},KT=function(e,t){var n=ZM(t),r=eE(t);RT(e,VT(n,r))},qT=function(e){return zM(e)},WT=function(e,t,n,r){var i=gE(n),o=hT(e,r.getSpectrum(e),i.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=IT(e,r.getSpectrum(e),i.y,r.getTopEdge(e),r.getBottomEdge(e),n),s=Lu(t.element)/2,u=Cu(t.element)/2;$s(t.element,"left",o-s+"px"),$s(t.element,"top",a-u+"px")},$T=zT(-1,!1),XT=zT(1,!1),YT=zT(-1,!0),JT=zT(1,!0),ZT={"top-left":F.some(xE),top:F.some(SE),"top-right":F.some(kE),right:F.some(BE),"bottom-right":F.some(DE),bottom:F.some(EE),"bottom-left":F.some(TE),left:F.some(OE)},eI=Object.freeze({__proto__:null,setValueFrom:QT,setToMin:GT,setToMax:KT,getValueFromEvent:qT,setPositionFromValue:WT,onLeft:$T,onRight:XT,onUp:YT,onDown:JT,edgeActions:ZT}),tI=[Un("stepSize",1),Un("onChange",p),Un("onChoose",p),Un("onInit",p),Un("onDragStart",p),Un("onDragEnd",p),Un("snapToGrid",!1),Un("rounded",!0),En("snapStart"),bn("model",un("mode",{x:[Un("minX",0),Un("maxX",100),Wn("value",(function(e){return $n(e.mode.minX)})),yn("getInitialValue"),Qc("manager",wT)],y:[Un("minY",0),Un("maxY",100),Wn("value",(function(e){return $n(e.mode.minY)})),yn("getInitialValue"),Qc("manager",HT)],xy:[Un("minX",0),Un("maxX",100),Un("minY",0),Un("maxY",100),Wn("value",(function(e){return $n({x:e.mode.minX,y:e.mode.minY})})),yn("getInitialValue"),Qc("manager",eI)]})),Xh("sliderBehaviours",[dy,$h]),Wn("mouseIsDown",(function(){return $n(!1)}))],nI=function(e,t,n,r){var i,o=function(t){return zp(t,e,"thumb")},a=function(t){return zp(t,e,"spectrum")},s=function(t){return jp(t,e,"left-edge")},u=function(t){return jp(t,e,"right-edge")},c=function(t){return jp(t,e,"top-edge")},l=function(t){return jp(t,e,"bottom-edge")},d=e.model,f=d.manager,A=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:u,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},h=function(e,t){d.value.set(t);var n=o(e);A(e,n)},p=function(t,n){h(t,n);var r=o(t);return e.onChange(t,r,n),F.some(!0)},m=function(t){f.setToMin(t,e)},g=function(t){f.setToMax(t,e)},v=function(t){var n=function(){jp(t,e,"thumb").each((function(n){var r=d.value.get();e.onChoose(t,n,r)}))},r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&n()},y=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},b=function(t,n){n.stop(),e.onDragEnd(t,o(t)),v(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.sliderBehaviours,[dy.config({mode:"special",focusIn:function(t){return jp(t,e,"spectrum").map(dy.focusIn).map(k)}}),$h.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),Kl.config({channels:(i={},i[mh()]={onReceive:v},i)})]),events:mo([bo(QM(),(function(e,t){p(e,t.event.value)})),Eo((function(t,n){var r=d.getInitialValue();d.value.set(r);var i=o(t);A(t,i);var s=a(t);e.onInit(t,i,s,d.value.get())})),bo(vi(),y),bo(bi(),b),bo(xi(),y),bo(ki(),b)]),apis:{resetToMin:m,resetToMax:g,setValue:h,refresh:A},domModification:{styles:{position:"relative"}}}},rI=um({name:"Slider",configFields:tI,partFields:RM,factory:nI,apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),iI=function(e,t,n){return{hue:e,saturation:t,value:n}},oI=function(e){var t=0,n=0,r=0,i=e.red/255,o=e.green/255,a=e.blue/255,s=Math.min(i,Math.min(o,a)),u=Math.max(i,Math.max(o,a));if(s===u)return r=s,iI(0,0,100*r);var c=i===s?o-a:a===s?i-o:a-i;return t=i===s?3:a===s?1:5,t=60*(t-c/(u-s)),n=(u-s)/u,r=u,iI(Math.round(t),Math.round(100*n),Math.round(100*r))},aI=function(e){return oI(Kk(e))},sI=function(e){return Nk(Gk(e))},uI=Na("rgb-hex-update"),cI=Na("slider-update"),lI=Na("palette-update"),dI=function(e,t){var n=rI.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=rI.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return rI.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:y({y:0})},components:[n,r],sliderBehaviours:Rl([Iy.config({})]),onChange:function(e,t,n){lo(e,cI,{value:n})}})},fI="form",AI=[Xh("formBehaviours",[$h])],hI=function(e){return"<alloy.field."+e+">"},pI=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Up(fI,hI(t),n)};return{field:t,record:function(){return e}}}(),n=e(t),r=t.record(),i=G(r,(function(e){return Dp({name:e,pname:hI(e)})}));return tm(fI,AI,i,gI,n)},mI=function(e,t){return e.fold((function(){return me.error(t)}),me.value)},gI=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.formBehaviours,[$h.config({store:{mode:"manual",getValue:function(t){var n=Kp(t,e);return Te(n,(function(e,t){return e().bind((function(e){var n=ym.getCurrent(e);return mI(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Ia(e.element)))})).map($h.getValue)}))},setValue:function(t,n){Ee(n,(function(n,r){jp(t,e,r).each((function(e){ym.getCurrent(e).each((function(e){$h.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return jp(t,e,n).bind(ym.getCurrent)}}}},vI={getField:ns((function(e,t,n){return e.getField(t,n)})),sketch:pI},yI=Na("valid-input"),bI=Na("invalid-input"),wI=Na("validating-input"),xI="colorcustom.rgb.",CI=function(e,t,n,r){var i=function(n,r){return qD.config({invalidClass:t("invalid"),notify:{onValidate:function(e){lo(e,wI,{type:n})},onValid:function(e){lo(e,yI,{type:n,value:$h.getValue(e)})},onInvalid:function(e){lo(e,bI,{type:n,value:$h.getValue(e)})}},validator:{validate:function(t){var n=$h.getValue(t),i=r(n)?me.value(!0):me.error(e("aria.input.invalid"));return FD.pure(i)},validateOnLoad:!1}})},o=function(n,r,o,a,s){var u=e(xI+"range"),c=XB.parts.label({dom:{tag:"label",innerHtml:o,attributes:{"aria-label":a}}}),l=XB.parts.field({data:s,factory:CD,inputAttributes:B({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Rl([i(r,n),eD.config({})]),onSetValue:function(e){if(qD.isInvalid(e)){var t=qD.run(e);t.get(p)}}}),d=[c,l],f="hex"!==r?[XB.parts["aria-descriptor"]({text:u})]:[],A=d.concat(f);return{dom:{tag:"div",attributes:{role:"presentation"}},components:A}},a=function(e,t){var n=Nk(t);return vI.getField(e,"hex").each((function(t){Iy.isFocused(t)||$h.setValue(e,{hex:n.value})})),n},s=function(e,t){var n=t.red,r=t.green,i=t.blue;$h.setValue(e,{red:n,green:r,blue:i})},u=Jb({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(e,t){u.getOpt(e).each((function(e){$s(e.element,"background-color","#"+t.value)}))},l=function(){var i={red:$n(F.some(255)),green:$n(F.some(255)),blue:$n(F.some(255)),hex:$n(F.some("ffffff"))},l=function(e,t){var n=Kk(t);s(e,n),h(n)},d=function(e){return i[e].get()},f=function(e,t){i[e].set(t)},A=function(){return d("red").bind((function(e){return d("green").bind((function(t){return d("blue").map((function(n){return jk(e,t,n,1)}))}))}))},h=function(e){var t=e.red,n=e.green,r=e.blue;f("red",F.some(t)),f("green",F.some(n)),f("blue",F.some(r))},p=function(e,t){var n=t.event;"hex"!==n.type?f(n.type,F.none()):r(e)},m=function(e,t){n(e);var r=Ek(t);f("hex",F.some(t));var i=Kk(r);s(e,i),h(i),lo(e,uI,{hex:r}),c(e,r)},g=function(e,t,n){var r=parseInt(n,10);f(t,F.some(r)),A().each((function(t){var n=a(e,t);lo(e,uI,{hex:n}),c(e,n)}))},v=function(e){return"hex"===e.type},y=function(e,t){var n=t.event;v(n)?m(e,n.value):g(e,n.type,n.value)},b=function(t){return{label:e(xI+t+".label"),description:e(xI+t+".description")}},w=b("red"),x=b("green"),C=b("blue"),S=b("hex");return We(vI.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",XB.sketch(o(zk,"red",w.label,w.description,255))),n.field("green",XB.sketch(o(zk,"green",x.label,x.description,255))),n.field("blue",XB.sketch(o(zk,"blue",C.label,C.description,255))),n.field("hex",XB.sketch(o(Ok,"hex",S.label,S.description,"ffffff"))),u.asSpec()],formBehaviours:Rl([qD.config({invalidClass:t("form-invalid")}),Cy("rgb-form-events",[bo(yI,y),bo(bI,p),bo(wI,p)])])}})),{apis:{updateHex:function(e,t){$h.setValue(e,{hex:t.value}),l(e,t),c(e,t)}}})},d=sm({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return d},SI=function(e,t){var n=rI.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=rI.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(e,t){var n=e.width,r=e.height,i=e.getContext("2d");if(null!==i){i.fillStyle=t,i.fillRect(0,0,n,r);var o=i.createLinearGradient(0,0,n,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=o,i.fillRect(0,0,n,r);var a=i.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=a,i.fillRect(0,0,n,r)}},o=function(e,t){var n=e.components()[0].element.dom,r=iI(t,100,100),o=Gk(r);i(n,$k(o))},a=function(e,t){var n=oI(Kk(t));rI.setValue(e,{x:n.saturation,y:100-n.value})},s=function(e){var o=y({x:0,y:0}),a=function(e,t,n){lo(e,lI,{value:n})},s=function(e,t,n,r){i(n.element.dom,$k(Xk))},u=Rl([ym.config({find:F.some}),Iy.config({})]);return rI.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:o},rounded:!1,components:[n,r],onChange:a,onInit:s,sliderBehaviours:u})},u=sm({factory:s,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){o(t,n)},setThumb:function(e,t,n){a(t,n)}},extraApis:{}});return u},kI=function(e,t){var n=function(n){var r=CI(e,t,n.onValidHex,n.onInvalidHex),i=SI(e,t),o=function(e){return(100-e)/100*360},a=function(e){return 100-e/360*100},s={paletteRgba:$n(Xk),paletteHue:$n(0)},u=Jb(dI(e,t)),c=Jb(i.sketch({})),l=Jb(r.sketch({})),d=function(e,t,n){c.getOpt(e).each((function(e){i.setHue(e,n)}))},f=function(e,t){l.getOpt(e).each((function(e){r.updateHex(e,t)}))},A=function(e,t,n){u.getOpt(e).each((function(e){rI.setValue(e,{y:a(n)})}))},h=function(e,t){c.getOpt(e).each((function(e){i.setThumb(e,t)}))},p=function(e,t){var n=Kk(e);s.paletteRgba.set(n),s.paletteHue.set(t)},m=function(e,t,n,r){p(t,n),K(r,(function(r){r(e,t,n)}))},g=function(){var e=[f];return function(t,n){var r=n.event.value,i=s.paletteHue.get(),o=iI(i,r.x,100-r.y),a=sI(o);m(t,a,i,e)}},v=function(){var e=[d,f];return function(t,n){var r=o(n.event.value.y),i=s.paletteRgba.get(),a=oI(i),u=iI(r,a.saturation,a.value),c=sI(u);m(t,c,r,e)}},y=function(){var e=[d,A,h];return function(t,n){var r=n.event.hex,i=aI(r);m(t,r,i.hue,e)}};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),u.asSpec(),l.asSpec()],behaviours:Rl([Cy("colour-picker-events",[bo(uI,y()),bo(lI,g()),bo(cI,v())]),ym.config({find:function(e){return l.getOpt(e)}}),dy.config({mode:"acyclic"})])}},r=sm({name:"ColourPicker",configFields:[yn("dom"),Un("onValidHex",p),Un("onInvalidHex",p)],factory:n});return r},_I=function(){return ym.config({find:F.some})},BI=function(e){return ym.config({find:e.getOpt})},DI=function(e){return ym.config({find:function(t){return Xo(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},MI={self:_I,memento:BI,childAt:DI},EI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},TI=function(e){return EI[e]},II=function(e){return TI(e)},OI=function(e){var t=function(e){return"tox-"+e},n=kI(II,t),r=function(e){lo(e,dD,{name:"hex-valid",value:!0})},i=function(e){lo(e,dD,{name:"hex-valid",value:!1})},o=Jb(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:i}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Rl([$h.config({store:{mode:"manual",getValue:function(e){var t=o.get(e),n=ym.getCurrent(t),r=n.bind((function(e){var t=$h.getValue(e);return t.hex}));return r.map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=n.exec(t),i=o.get(e),a=ym.getCurrent(i);a.fold((function(){console.log("Can not find form")}),(function(e){$h.setValue(e,{hex:F.from(r[1]).getOr("")}),vI.getField(e,"hex").each((function(e){co(e,Ti())}))}))}}}),MI.self()])}},LI=tinymce.util.Tools.resolve("tinymce.Resource"),FI=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},PI=function(e){var t=$n(F.none()),n=Jb({dom:{tag:e.tag}}),r=$n(F.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Rl([Cy("custom-editor-events",[Eo((function(i){n.getOpt(i).each((function(n){(FI(e)?e.init(n.element.dom):LI.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.get().each((function(t){e.setValue(t)})),r.set(F.none()),t.set(F.some(e))}))}))}))]),$h.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(F.some(n))}),(function(e){return e.setValue(n)}))}}}),MI.self()]),components:[n.asSpec()]}},NI=tinymce.util.Tools.resolve("tinymce.util.Tools"),UI=Ut([Un("preprocess",b),Un("postprocess",b)]),HI=function(e,t){var n=on("RepresentingConfigs.memento processors",UI,t);return $h.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),i=$h.getValue(r);return n.postprocess(i)},setValue:function(t,r){var i=n.preprocess(r),o=e.get(t);$h.setValue(o,i)}}})},RI=function(e,t,n){return $h.config(We({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},VI=function(e,t,n){return RI(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},QI=function(e){return VI(e,ou,au)},jI=function(e){return VI(e,ya,ba)},zI=function(e){return $h.config({store:{mode:"memory",initialValue:e}})},GI={memento:HI,withElement:VI,withComp:RI,domValue:QI,domHtml:jI,memory:zI},KI="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",qI=function(e,t){var n=NI.explode(t.getSetting("images_file_types",KI,"string")),r=function(e){return Q(n,(function(t){return pr(e.name.toLowerCase(),"."+t.toLowerCase())}))};return $(de(e),r)},WI=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){K(e,(function(e){e(t,n)}))}},i=function(e,t){if(!XC.isDisabled(e)){var n=t.event.raw;a(e,n.dataTransfer.files)}},o=function(e,t){var n=t.event.raw.target;a(e,n.files)},a=function(n,r){$h.setValue(n,qI(r,t)),lo(n,uD,{name:e.name})},s=Jb({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Rl([Cy("input-file-events",[Bo(Oi()),Bo(zi())])])}),u=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Rl([GI.memory([]),MI.self(),XC.config({}),Yy.config({toggleClass:"dragenter",toggleOnExecute:!1}),Cy("dropzone-events",[bo("dragenter",r([n,Yy.toggle])),bo("dragleave",r([n,Yy.toggle])),bo("dragover",n),bo("drop",r([n,i])),bo(Ii(),o)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Yb.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){var t=s.get(e);t.element.dom.click()},buttonBehaviours:Rl([eD.config({}),$S.button(t.isDisabled),zS()])})]}]}},c=e.label.map((function(e){return sD(e,t)})),l=XB.parts.field({factory:{sketch:u}});return nD(c,l,["tox-form__group--stretched"],[])},$I=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:G(e.items,t.interpreter)}},XI=Na("alloy-fake-before-tabstop"),YI=Na("alloy-fake-after-tabstop"),JI=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Rl([Iy.config({ignore:!0}),eD.config({})])}},ZI=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[JI([XI]),e,JI([YI])],behaviours:Rl([MI.childAt(1)])}},eO=function(e,t){lo(e,Mi(),{raw:{which:9,shiftKey:t}})},tO=function(e,t){var n=t.element;Rs(n,XI)?eO(e,!0):Rs(n,YI)&&eO(e,!1)},nO=function(e){return mB(e,["."+XI,"."+YI].join(","),S)},rO=!(qr().browser.isIE()||qr().browser.isEdge()),iO=function(e){var t=$n("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Ca(n.element,"srcdoc",r);else{Ca(n.element,"src","javascript:''");var i=n.element.dom.contentWindow.document;i.open(),i.write(r),i.close()}t.set(r)}}},oO=function(e,t){var n=rO&&e.sandboxed,r=B(B({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),i=iO(n),o=e.label.map((function(e){return sD(e,t)})),a=function(e){return ZI({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Rl([eD.config({}),Iy.config({}),GI.withComp(F.none(),i.getValue,i.setValue)])})},s=XB.parts.field({factory:{sketch:a}});return nD(o,s,["tox-form__group--stretched"],[])},aO=function(e,t){return cO(document.createElement("canvas"),e,t)},sO=function(e){var t=aO(e.width,e.height),n=uO(t);return n.drawImage(e,0,0),t},uO=function(e){return e.getContext("2d")},cO=function(e,t,n){return e.width=t,e.height=n,e},lO=function(e){return e.naturalWidth||e.width},dO=function(e){return e.naturalHeight||e.height},fO=function(){var e=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(a,this),r(s,this))},t=window,n=e.immediateFn||"function"===typeof t.setImmediate&&t.setImmediate||function(e){return setTimeout(e,1)},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(t,n)}},i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void l(r(t,e),r(a,this),r(s,this))}this._state=!0,this._value=e,u.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];o.call(this,n)}this._deferreds=[]}function c(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}var l=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){o.call(r,new c(t,n,e,i))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&i(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);for(var n=r.length,i=function(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),t)}r[o]=a,0===--n&&e(r)}catch(u){t(u)}},o=0;o<r.length;o++)i(o,r[o])}))},e.resolve=function(t){return t&&"object"===typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];o.then(e,n)}}))},e},AO=window.Promise?window.Promise:fO(),hO=function(e){return new AO((function(t,n){var r=URL.createObjectURL(e),i=new Image,o=function(){i.removeEventListener("load",a),i.removeEventListener("error",s)},a=function(){o(),t(i)},s=function(){o(),n("Unable to load data of type "+e.type+": "+r)};i.addEventListener("load",a),i.addEventListener("error",s),i.src=r,i.complete&&setTimeout(a,0)}))},pO=function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return F.none();for(var r=n[1],i=t[1],o=1024,a=atob(i),s=a.length,u=Math.ceil(s/o),c=new Array(u),l=0;l<u;++l){for(var d=l*o,f=Math.min(d+o,s),A=new Array(f-d),h=d,p=0;h<f;++p,++h)A[p]=a[h].charCodeAt(0);c[l]=new Uint8Array(A)}return F.some(new Blob(c,{type:r}))},mO=function(e){return new AO((function(t,n){pO(e).fold((function(){n("uri is not base64: "+e)}),t)}))},gO=function(e,t,n){return t=t||"image/png",f(HTMLCanvasElement.prototype.toBlob)?new AO((function(r,i){e.toBlob((function(e){e?r(e):i()}),t,n)})):mO(e.toDataURL(t,n))},vO=function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)},yO=function(e){return hO(e).then((function(e){wO(e);var t=aO(lO(e),dO(e)),n=uO(t);return n.drawImage(e,0,0),t}))},bO=function(e){return new AO((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))},wO=function(e){URL.revokeObjectURL(e.src)},xO=function(e,t,n){var r=t.type,i=y(r),o=function(){return AO.resolve(t)},a=y(n),s=function(){return n.split(",")[1]},u=function(t,n){return e.then((function(e){return gO(e,t,n)}))},c=function(t,n){return e.then((function(e){return vO(e,t,n)}))},l=function(e,t){return c(e,t).then((function(e){return e.split(",")[1]}))},d=function(){return e.then(sO)};return{getType:i,toBlob:o,toDataURL:a,toBase64:s,toAdjustedBlob:u,toAdjustedDataURL:c,toAdjustedBase64:l,toCanvas:d}},CO=function(e){return bO(e).then((function(t){return xO(yO(e),e,t)}))},SO=function(e,t){return gO(e,t).then((function(t){return xO(AO.resolve(e),t,e.toDataURL())}))},kO=function(e){return CO(e)},_O=function(e,t,n){var r="string"===typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r},BO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},DO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],MO=function(e,t){for(var n,r=[],i=new Array(25),o=0;o<5;o++){for(var a=0;a<5;a++)r[a]=t[a+5*o];for(a=0;a<5;a++){n=0;for(var s=0;s<5;s++)n+=e[a+5*s]*r[s];i[a+5*o]=n}}return i},EO=function(e,t){var n;return t=_O(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?DO[t]:DO[Math.floor(t)]*(1-n)+DO[Math.floor(t)+1]*n,n=127*n+127),MO(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},TO=function(e,t){return t=_O(255*t,-255,255),MO(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])},IO=function(e,t,n,r){return t=_O(t,0,2),n=_O(n,0,2),r=_O(r,0,2),MO(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])},OO=function(e,t){return e.toCanvas().then((function(n){return LO(n,e.getType(),t)}))},LO=function(e,t,n){var r=uO(e),i=function(e,t){for(var n,r,i,o,a=e.data,s=t[0],u=t[1],c=t[2],l=t[3],d=t[4],f=t[5],A=t[6],h=t[7],p=t[8],m=t[9],g=t[10],v=t[11],y=t[12],b=t[13],w=t[14],x=t[15],C=t[16],S=t[17],k=t[18],_=t[19],B=0;B<a.length;B+=4)n=a[B],r=a[B+1],i=a[B+2],o=a[B+3],a[B]=n*s+r*u+i*c+o*l+d,a[B+1]=n*f+r*A+i*h+o*p+m,a[B+2]=n*g+r*v+i*y+o*b+w,a[B+3]=n*x+r*C+i*S+o*k+_;return e},o=i(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),SO(e,t)},FO=function(e,t){return e.toCanvas().then((function(n){return PO(n,e.getType(),t)}))},PO=function(e,t,n){var r=uO(e),i=function(e,t,n){for(var r=function(e,t,n){return e>n?e=n:e<t&&(e=t),e},i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),a=e.data,s=t.data,u=e.width,c=e.height,l=0;l<c;l++)for(var d=0;d<u;d++){for(var f=0,A=0,h=0,p=0;p<i;p++)for(var m=0;m<i;m++){var g=r(d+m-o,0,u-1),v=r(l+p-o,0,c-1),y=4*(v*u+g),b=n[p*i+m];f+=a[y]*b,A+=a[y+1]*b,h+=a[y+2]*b}var w=4*(l*u+d);s[w]=r(f,0,255),s[w+1]=r(A,0,255),s[w+2]=r(h,0,255)}return t},o=r.getImageData(0,0,e.width,e.height),a=r.getImageData(0,0,e.width,e.height);return a=i(o,a,n),r.putImageData(a,0,0),SO(e,t)},NO=function(e){var t=function(t,n,r){for(var i=uO(t),o=new Array(256),a=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e},s=0;s<o.length;s++)o[s]=e(s,r);var u=a(i.getImageData(0,0,t.width,t.height),o);return i.putImageData(u,0,0),SO(t,n)};return function(e,n){return e.toCanvas().then((function(r){return t(r,e.getType(),n)}))}},UO=function(e){return function(t,n){return OO(t,e(BO(),n))}},HO=function(e){return function(t){return OO(t,e)}},RO=function(e){return function(t){return FO(t,e)}},VO=HO([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),QO=UO(TO),jO=UO(EO),zO=function(e,t,n,r){return OO(e,IO(BO(),t,n,r))},GO=RO([0,-1,0,-1,5,-1,0,-1,0]),KO=NO((function(e,t){return 255*Math.pow(e/255,1-t)})),qO=function(e,t,n){var r=lO(e),i=dO(e),o=t/r,a=n/i,s=!1;(o<.5||o>2)&&(o=o<.5?.5:2,s=!0),(a<.5||a>2)&&(a=a<.5?.5:2,s=!0);var u=WO(e,o,a);return s?u.then((function(e){return qO(e,t,n)})):u},WO=function(e,t,n){return new AO((function(r){var i=lO(e),o=dO(e),a=Math.floor(i*t),s=Math.floor(o*n),u=aO(a,s),c=uO(u);c.drawImage(e,0,0,i,o,0,0,a,s),r(u)}))},$O=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),r=Math.round(e*n);return Math.ceil(r/n)},XO=function(e,t){return e.toCanvas().then((function(n){return YO(n,e.getType(),t)}))},YO=function(e,t,n){var r=n<0?360+n:n,i=r*Math.PI/180,o=e.width,a=e.height,s=Math.sin(i),u=Math.cos(i),c=$O(Math.abs(o*u)+Math.abs(a*s)),l=$O(Math.abs(o*s)+Math.abs(a*u)),d=aO(c,l),f=uO(d);return f.translate(c/2,l/2),f.rotate(i),f.drawImage(e,-o/2,-a/2),SO(d,t)},JO=function(e,t){return e.toCanvas().then((function(n){return ZO(n,e.getType(),t)}))},ZO=function(e,t,n){var r=aO(e.width,e.height),i=uO(r);return"v"===n?(i.scale(1,-1),i.drawImage(e,0,-r.height)):(i.scale(-1,1),i.drawImage(e,-r.width,0)),SO(r,t)},eL=function(e,t,n,r,i){return e.toCanvas().then((function(o){return tL(o,e.getType(),t,n,r,i)}))},tL=function(e,t,n,r,i,o){var a=aO(i,o),s=uO(a);return s.drawImage(e,-n,-r),SO(a,t)},nL=function(e,t,n){return e.toCanvas().then((function(r){return qO(r,t,n).then((function(t){return SO(t,e.getType())}))}))},rL=function(e){return VO(e)},iL=function(e){return GO(e)},oL=function(e,t){return KO(e,t)},aL=function(e,t,n,r){return zO(e,t,n,r)},sL=function(e,t){return QO(e,t)},uL=function(e,t){return jO(e,t)},cL=function(e,t){return JO(e,t)},lL=function(e,t,n,r,i){return eL(e,t,n,r,i)},dL=function(e,t,n){return nL(e,t,n)},fL=function(e,t){return XO(e,t)},AL=function(e,t){return B({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},hL=function(e,t){return AL(ew(e,t),{})},pL=function(e,t){return AL(ew(e,t),{behaviours:Rl([wy.config({})])})},mL=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Rl([wy.config({})])}},gL=Na("toolbar.button.execute"),vL=function(e){return Oo((function(t,n){XS(e,t)((function(n){lo(t,gL,{buttonApi:n}),e.onAction(n)}))}))},yL=(nM={},nM[Qi()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],nM),bL=Na("update-menu-text"),wL=Na("update-menu-icon"),xL=function(e,t,n){var r=$n(p),i=e.text.map((function(e){return Jb(mL(e,t,n.providers))})),o=e.icon.map((function(e){return Jb(pL(e,n.providers.icons))})),a=function(e,t){var n=$h.getValue(e);return Iy.focus(n),lo(n,"keydown",{raw:t.event.raw}),vM.close(n),F.some(!0)},s=e.role.fold((function(){return{}}),(function(e){return{role:e}})),u=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=Jb(vM.sketch(B(B(B({},e.uid?{uid:e.uid}:{}),s),{dom:{tag:"button",classes:[t,t+"--select"].concat(G(e.classes,(function(e){return t+"--"+e}))),attributes:B({},u)},components:tk([o.map((function(e){return e.asSpec()})),i.map((function(e){return e.asSpec()})),F.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ew("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Rl(M(e.dropdownBehaviours,[$S.button((function(){return e.disabled||n.providers.isDisabled()})),zS(),xM.config({}),wy.config({}),Cy("dropdown-events",[YS(e,r),JS(e,r)]),Cy("menubutton-update-display-text",[bo(bL,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){wy.set(e,[mu(n.providers.translate(t.event.text))])}))})),bo(wL,(function(e,t){o.bind((function(t){return t.getOpt(e)})).each((function(e){wy.set(e,[pL(t.event.icon,n.providers.icons)])}))}))])])),eventOrder:We(yL,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Rl([dy.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:Px(!1,e.columns,e.presets)},fetch:function(t){return FD.nu(w(e.fetch,t))}})));return c.asSpec()},CL=function(e){return o(e)},SL=function(e){return"separator"===e.type},kL=function(e){return Re(e,"getSubmenuItems")},_L={type:"separator"},BL=function(e,t){var n=Y(e,(function(e,n){return CL(n)?""===n?e:"|"===n?e.length>0&&!SL(e[e.length-1])?e.concat([_L]):e:Re(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&SL(n[n.length-1])&&n.pop(),n},DL=function(e,t){var n=e.getSubmenuItems(),r=TL(n,t),i=We(r.menus,ct(e.value,r.items)),o=We(r.expansions,ct(e.value,e.value));return{item:e,menus:i,expansions:o}},ML=function(e,t){return kL(e)?DL(e,t):{item:e,menus:{},expansions:{}}},EL=function(e){if(SL(e))return e;var t=He(e,"value").getOrThunk((function(){return Na("generated-menu-item")}));return We({value:t},e)},TL=function(e,t){var n=BL(o(e)?e.split(" "):e,t);return X(n,(function(e,n){var r=EL(n),i=ML(r,t);return{menus:We(e.menus,i.menus),items:[i.item].concat(e.items),expansions:We(e.expansions,i.expansions)}}),{menus:{},expansions:{},items:[]})},IL=function(e,t,n,r){var i=Na("primary-menu"),o=TL(e,n.shared.providers.menuItems());if(0===o.items.length)return F.none();var a=sB(i,o.items,t,n,r),s=Te(o.menus,(function(e,r){return sB(r,e,t,n,!1)})),u=We(s,ct(i,a));return F.from(Lb.tieredData(i,u,o.expansions))},OL=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)},setActive:function(t){var n=e.element;t?(Ns(n,"tox-tbtn--enabled"),Ca(n,"aria-pressed",!0)):(Hs(n,"tox-tbtn--enabled"),Da(n,"aria-pressed"))},isActive:function(){return Rs(e.element,"tox-tbtn--enabled")}}},LL=function(e,t,n,r){return xL({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(IL(e,ux.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:OL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[eD.config({})]},t,n.shared)},FL=function(e,t,n){var r=function(e){return function(r){var i=!r.isActive();r.setActive(i),e.storage.set(i),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Xl(t.element),lo(t,dD,{name:e.name,value:e.storage.get()})}))}))}},i=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(G(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return B(B({type:e.type,active:!1},t),{onAction:r(e),onSetup:i(e)})})))}},PL=function(e,t,n,r,i,o){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),s=B({buttonBehaviours:Rl([$S.button((function(){return e.disabled||o.isDisabled()})),zS(),eD.config({}),Cy("button press",[yo("click"),yo("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),u=We(s,{dom:r});return We(u,{components:i})},NL=function(e,t,n,r){void 0===r&&(r=[]);var i=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({}),o={tag:"button",classes:["tox-tbtn"],attributes:i},a=e.icon.map((function(e){return hL(e,n.icons)})),s=tk([a]);return PL(e,t,r,o,s,n)},UL=function(e,t,n,r){void 0===r&&(r=[]);var i=NL(e,F.some(t),n,r);return Yb.sketch(i)},HL=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=n.translate(e.text),a=e.icon?e.icon.map((function(e){return hL(e,n.icons)})):F.none(),s=a.isSome()?tk([a]):[],u=a.isSome()?{}:{innerHtml:o},c=M(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),l=B(B({tag:"button",classes:c},u),{attributes:{title:o}});return PL(e,t,r,l,s,n)},RL=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=HL(e,F.some(t),n,r,i);return Yb.sketch(o)},VL=function(e,t){return function(n){"custom"===t?lo(n,dD,{name:e,value:{}}):"submit"===t?co(n,fD):"cancel"===t?co(n,lD):console.error("Unknown button type: ",t)}},QL=function(e,t){return"menu"===t},jL=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},zL=function(e,t,n){if(QL(e,t)){var r=function(){return a},i=e,o=B(B({},e),{onSetup:function(t){return t.setDisabled(e.disabled),p},fetch:FL(i.items,r,n)}),a=Jb(LL(o,"tox-tbtn",n,F.none()));return a.asSpec()}if(jL(e,t)){var s=VL(e.name,t),u=B(B({},e),{borderless:!1});return RL(u,s,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},GL=function(e,t){var n=VL(e.name,"custom");return rD(F.none(),XB.parts.field(B({factory:Yb},HL(e,F.some(n),t,[GI.memory(""),MI.self()]))))},KL=y([Un("field1Name","field1"),Un("field2Name","field2"),Rc("onLockedChange"),Pc(["lockClass"]),Un("locked",!1),Zh.field("coupledFieldBehaviours",[ym,$h])]),qL=function(e,t,n){return jp(e,t,n).bind(ym.getCurrent)},WL=function(e,t){return Dp({factory:XB,name:e,overrides:function(e){return{fieldBehaviours:Rl([Cy("coupled-input-behaviour",[bo(Ti(),(function(n){qL(n,e,t).each((function(t){jp(n,e,"lock").each((function(r){Yy.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},$L=y([WL("field1","field2"),WL("field2","field1"),Dp({factory:Yb,schema:[yn("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Rl([Yy.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),XL=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Zh.augment(e.coupledFieldBehaviours,[ym.config({find:F.some}),$h.config({store:{mode:"manual",getValue:function(t){var n,r=Wp(t,e,["field1","field2"]);return n={},n[e.field1Name]=$h.getValue(r.field1()),n[e.field2Name]=$h.getValue(r.field2()),n},setValue:function(t,n){var r=Wp(t,e,["field1","field2"]);Ve(n,e.field1Name)&&$h.setValue(r.field1(),n[e.field1Name]),Ve(n,e.field2Name)&&$h.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return jp(t,e,"field1")},getField2:function(t){return jp(t,e,"field2")},getLock:function(t){return jp(t,e,"lock")}}}},YL=um({name:"FormCoupledInputs",configFields:KL(),partFields:$L(),factory:XL,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),JL=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(e){return e in t?t[e]:1},r=e.value.toFixed(n(e.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit},ZL=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),i=n[2];return me.value({value:r,unit:i})}return me.error(e)},eF=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?F.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?F.some(e.value):F.some(e.value/n[e.unit]*n[t]):F.none()},tF=function(e){return F.none()},nF=function(e,t){return function(n){return eF(n,t).map((function(n){return{value:n*e,unit:t}}))}},rF=function(e,t){var n=ZL(e).toOptional(),r=ZL(t).toOptional();return dm(n,r,(function(e,t){return eF(e,t.unit).map((function(e){return t.value/e})).map((function(e){return nF(e,t.unit)})).getOr(tF)})).getOr(tF)},iF=function(e,t){var n=tF,r=Na("ratio-event"),i=YL.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ew("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ew("unlock",t.icons)}}],buttonBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()}}),zS(),eD.config({})])}),o=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return XB.parts.field({factory:CD,inputClasses:["tox-textfield"],inputBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()}}),zS(),eD.config({}),Cy("size-input-events",[bo(Bi(),(function(e,t){lo(e,r,{isField1:n})})),bo(Ii(),(function(t,n){lo(t,uD,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},u=YL.parts.field1(o([XB.parts.label(s("Width")),a(!0)])),c=YL.parts.field2(o([XB.parts.label(s("Height")),a(!1)]));return YL.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[u,c,o([s("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){ZL($h.getValue(e)).each((function(e){n(e).each((function(e){$h.setValue(t,JL(e))}))}))},coupledFieldBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){YL.getField1(e).bind(XB.getField).each(XC.disable),YL.getField2(e).bind(XB.getField).each(XC.disable),YL.getLock(e).each(XC.disable)},onEnabled:function(e){YL.getField1(e).bind(XB.getField).each(XC.enable),YL.getField2(e).bind(XB.getField).each(XC.enable),YL.getLock(e).each(XC.enable)}}),zS(),Cy("size-input-events2",[bo(r,(function(e,t){var r=t.event.isField1,i=r?YL.getField1(e):YL.getField2(e),o=r?YL.getField2(e):YL.getField1(e),a=i.map($h.getValue).getOr(""),s=o.map($h.getValue).getOr("");n=rF(a,s)}))])])})},oF=y(Na("undo")),aF=y(Na("redo")),sF=y(Na("zoom")),uF=y(Na("back")),cF=y(Na("apply")),lF=y(Na("swap")),dF=y(Na("transform")),fF=y(Na("temp-transform")),AF=y(Na("transform-apply")),hF={undo:oF,redo:aF,zoom:sF,back:uF,apply:cF,swap:lF,transform:dF,tempTransform:fF,transformApply:AF},pF=y("save-state"),mF=y("disable"),gF=y("enable"),vF={formActionEvent:dD,saveState:pF,disable:mF,enable:gF},yF=function(e,t){var n=function(e,n,r,i){return Jb(RL({name:e,text:e,disabled:r,primary:i,icon:F.none(),borderless:!1},n,t))},r=function(e,n,r,i){return Jb(UL({name:e,icon:F.some(e),tooltip:F.some(n),disabled:i,primary:!1,borderless:!1},r,t))},i=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(XC)&&XC.disable(n)}))},o=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(XC)&&XC.enable(n)}))},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},s=p,u=function(e,t,n){lo(e,t,n)},c=function(e){return co(e,vF.disable())},l=function(e){return co(e,vF.enable())},d=function(e,t){c(e),u(e,hF.transform(),{transform:t}),l(e)},f=function(e,t){c(e),u(e,hF.tempTransform(),{transform:t}),l(e)},A=function(e){return function(){ae.getOpt(e).each((function(e){wy.set(e,[ie])}))}},h=function(e,t){c(e),u(e,hF.transformApply(),{transform:t,swap:A(e)}),l(e)},m=function(){return n("Back",(function(e){return u(e,hF.back(),{swap:A(e)})}),!1,!1)},g=function(){return Jb({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Rl([XC.config({})])})},v=function(){return n("Apply",(function(e){return u(e,hF.apply(),{swap:A(e)})}),!0,!0)},b=function(){return function(t){var n=e.getRect();return lL(t,n.x,n.y,n.w,n.h)}},w=[m(),g(),n("Apply",(function(t){var n=b();h(t,n),e.hideCrop()}),!1,!0)],x=zB.sketch({dom:a,components:w.map((function(e){return e.asSpec()})),containerBehaviours:Rl([Cy("image-tools-crop-buttons-events",[bo(vF.disable(),(function(e,t){i(w,e)})),bo(vF.enable(),(function(e,t){o(w,e)}))])])}),C=Jb(iF({name:"size",label:F.none(),constrain:!0,disabled:!1},t)),S=function(e,t){return function(n){return dL(n,e,t)}},k=[m(),g(),C,g(),n("Apply",(function(e){C.getOpt(e).each((function(t){var n=$h.getValue(t),r=parseInt(n.width,10),i=parseInt(n.height,10),o=S(r,i);h(e,o)}))}),!1,!0)],_=zB.sketch({dom:a,components:k.map((function(e){return e.asSpec()})),containerBehaviours:Rl([Cy("image-tools-resize-buttons-events",[bo(vF.disable(),(function(e,t){i(k,e)})),bo(vF.enable(),(function(e,t){o(k,e)}))])])}),B=function(e,t){return function(n){return e(n,t)}},D=B(cL,"h"),M=B(cL,"v"),E=B(fL,-90),T=B(fL,90),I=function(e,t){f(e,t)},O=[m(),g(),r("flip-horizontally","Flip horizontally",(function(e){I(e,D)}),!1),r("flip-vertically","Flip vertically",(function(e){I(e,M)}),!1),r("rotate-left","Rotate counterclockwise",(function(e){I(e,E)}),!1),r("rotate-right","Rotate clockwise",(function(e){I(e,T)}),!1),g(),v()],L=zB.sketch({dom:a,components:O.map((function(e){return e.asSpec()})),containerBehaviours:Rl([Cy("image-tools-fliprotate-buttons-events",[bo(vF.disable(),(function(e,t){i(O,e)})),bo(vF.enable(),(function(e,t){o(O,e)}))])])}),P=function(e,n,r,i,o){var a=rI.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),s=rI.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),u=rI.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jb(rI.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:o,getInitialValue:y({x:i})},components:[a,s,u],sliderBehaviours:Rl([Iy.config({})]),onChoose:n}))},N=function(e,t,n,r,i){var o=function(e,n,r){var i=B(t,r.x/100);d(e,i)};return P(e,o,n,r,i)},U=function(e,t,n,r,i){return[m(),N(e,t,n,r,i),v()]},H=function(e,t,n,r,s){var u=U(e,t,n,r,s);return zB.sketch({dom:a,components:u.map((function(e){return e.asSpec()})),containerBehaviours:Rl([Cy("image-tools-filter-panel-buttons-events",[bo(vF.disable(),(function(e,t){i(u,e)})),bo(vF.enable(),(function(e,t){o(u,e)}))])])})},R=[m(),g(),v()],V=zB.sketch({dom:a,components:R.map((function(e){return e.asSpec()}))}),Q=H("Brightness",sL,-100,0,100),j=H("Contrast",uL,-100,0,100),z=H("Gamma",oL,-100,0,100),G=function(e,t,n){return function(r){return aL(r,e,t,n)}},K=function(e){var t=function(e,t,n){var r=q.getOpt(e),i=$.getOpt(e),o=W.getOpt(e);r.each((function(t){i.each((function(n){o.each((function(r){var i=$h.getValue(t).x/100,o=$h.getValue(r).x/100,a=$h.getValue(n).x/100,s=G(i,o,a);d(e,s)}))}))}))};return P(e,t,0,100,200)},q=K("R"),W=K("G"),$=K("B"),X=[m(),q,W,$,v()],Y=zB.sketch({dom:a,components:X.map((function(e){return e.asSpec()}))}),J=function(e,t,n){return function(r){var i=function(){ae.getOpt(r).each((function(t){wy.set(t,[e]),n(t)}))};u(r,hF.swap(),{transform:t,swap:i})}},Z=function(t){e.showCrop()},ee=function(t){C.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width,i=n.height;$h.setValue(t,{width:r,height:i})}))},te=F.some(iL),ne=F.some(rL),re=[r("crop","Crop",J(x,F.none(),Z),!1),r("resize","Resize",J(_,F.none(),ee),!1),r("orientation","Orientation",J(L,F.none(),s),!1),r("brightness","Brightness",J(Q,F.none(),s),!1),r("sharpen","Sharpen",J(V,te,s),!1),r("contrast","Contrast",J(j,F.none(),s),!1),r("color-levels","Color levels",J(Y,F.none(),s),!1),r("gamma","Gamma",J(z,F.none(),s),!1),r("invert","Invert",J(V,ne,s),!1)],ie=zB.sketch({dom:a,components:re.map((function(e){return e.asSpec()}))}),oe=zB.sketch({dom:{tag:"div"},components:[ie],containerBehaviours:Rl([wy.config({})])}),ae=Jb(oe),se=function(e){return ae.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))};return{memContainer:ae,getApplyButton:se}},bF=tinymce.util.Tools.resolve("tinymce.geom.Rect"),wF=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),xF=tinymce.util.Tools.resolve("tinymce.util.Observable"),CF=tinymce.util.Tools.resolve("tinymce.util.VK"),SF=function(e){var t=Math.max,n=e.documentElement,r=e.body,i=t(n.scrollWidth,r.scrollWidth),o=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),s=t(n.scrollHeight,r.scrollHeight),u=t(n.clientHeight,r.clientHeight),c=t(n.offsetHeight,r.offsetHeight);return{width:i<a?o:i,height:s<c?u:s}},kF=function(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function _F(e,t){var n,r,i,o,a=t.document||document,s=a.getElementById(t.handle||e),u=function(e){var u,d=SF(a);kF(e),e.preventDefault(),r=e.button;var f=s;i=e.screenX,o=e.screenY,u=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,n=wF("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:u}).appendTo(a.body),wF(a).on("mousemove touchmove",c).on("mouseup touchend",l),t.start(e)},c=function(e){if(kF(e),e.button!==r)return l(e);e.deltaX=e.screenX-i,e.deltaY=e.screenY-o,e.preventDefault(),t.drag(e)},l=function(e){kF(e),wF(a).off("mousemove touchmove",c).off("mouseup touchend",l),n.remove(),t.stop&&t.stop(e)},d=function(){wF(s).off()};return wF(s).on("mousedown touchstart",u),{destroy:d}}var BF=0,DF=function(e,t,n,r,i){var o,a="tox-",s=a+"crid-"+BF++,u=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],c=["top","right","bottom","left"],l=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},f=function(){return d(n,e)},A=function(t,r,i,o){var a,s,u,c,l;a=r.x,s=r.y,u=r.w,c=r.h,a+=i*t.deltaX,s+=o*t.deltaY,u+=i*t.deltaW,c+=o*t.deltaH,u<20&&(u=20),c<20&&(c=20),l=e=bF.clamp({x:a,y:s,w:u,h:c},n,"move"===t.name),l=d(n,l),x.fire("updateRect",{rect:l}),y(l)},h=function(){var t=function(t){var n;return _F(s,{document:r.ownerDocument,handle:s+"-"+t.name,start:function(){n=e},drag:function(e){A(t,n,e.deltaX,e.deltaY)}})};wF('<div id="'+s+'" class="'+a+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),NI.each(c,(function(e){wF("#"+s,r).append('<div id="'+s+"-"+e+'"class="'+a+'croprect-block" style="display: none" data-mce-bogus="all">')})),NI.each(u,(function(e){wF("#"+s,r).append('<div id="'+s+"-"+e.name+'" class="'+a+"croprect-handle "+a+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),o=NI.map(u,t),m(e),wF(r).on("focusin focusout",(function(e){wF(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),wF(r).on("keydown",(function(t){var n;NI.each(u,(function(e){if(t.target.id===s+"-"+e.name)return n=e,!1}));var r=function(e,t,r,i,o){e.stopPropagation(),e.preventDefault(),A(n,r,i,o)};switch(t.keyCode){case CF.LEFT:r(t,n,e,-10,0);break;case CF.RIGHT:r(t,n,e,10,0);break;case CF.UP:r(t,n,e,0,-10);break;case CF.DOWN:r(t,n,e,0,10);break;case CF.ENTER:case CF.SPACEBAR:t.preventDefault(),i();break}}))},p=function(e){var t=NI.map(u,(function(e){return"#"+s+"-"+e.name})).concat(NI.map(c,(function(e){return"#"+s+"-"+e}))).join(",");e?wF(t,r).show():wF(t,r).hide()},m=function(e){var n=function(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),wF("#"+s+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})};NI.each(u,(function(t){wF("#"+s+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)},g=function(t){e=t,m(e)},v=function(n){t=n,m(e)},y=function(e){g(l(n,e))},b=function(t){n=t,m(e)},w=function(){NI.each(o,(function(e){e.destroy()})),o=[]};h();var x=NI.extend({toggleVisibility:p,setClampRect:b,setRect:g,getInnerRect:f,setInnerRect:y,setViewPortRect:v,destroy:w},xF);return x},MF={create:DF},EF=function(e){return new kw((function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)}))},TF=function(e){var t=Jb({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=$n(1),r=$n(F.none()),i=$n({x:0,y:0,w:1,h:1}),o=$n({x:0,y:0,w:1,h:1}),a=function(e,o){h.getOpt(e).each((function(e){var a=n.get(),s=Lu(e.element),u=Cu(e.element),c=o.dom.naturalWidth*a,l=o.dom.naturalHeight*a,d=Math.max(0,s/2-c/2),f=Math.max(0,u/2-l/2),A={left:d.toString()+"px",top:f.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};Xs(o,A),t.getOpt(e).each((function(e){Xs(e.element,A)})),r.get().each((function(e){var t=i.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:s,h:u})}))}))},s=function(e,t){h.getOpt(e).each((function(e){var r=Lu(e.element),i=Cu(e.element),o=t.dom.naturalWidth,a=t.dom.naturalHeight,s=Math.min(r/o,i/a);s>=1?n.set(1):n.set(s)}))},u=function(e,t){var n=tr.fromTag("img");return Ca(n,"src",t),EF(n.dom).then((function(){return h.getOpt(e).map((function(e){var t=gu({element:n});wy.replaceAt(e,1,F.some(t));var r=o.get(),u={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight};o.set(u);var c=bF.inflate(u,-20,-20);return i.set(c),r.w===u.w&&r.h===u.h||s(e,n),a(e,n),n}))}))},c=function(e,t){var r=n.get(),i=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(i),h.getOpt(e).each((function(e){var t=e.components()[1].element;a(e,t)}))},l=function(){r.get().each((function(e){e.toggleVisibility(!0)}))},d=function(){r.get().each((function(e){e.toggleVisibility(!1)}))},f=function(){return i.get()},A=zB.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Rl([Cy("image-panel-crop-events",[Eo((function(e){h.getOpt(e).each((function(e){var t=e.element.dom,o=MF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,p);o.toggleVisibility(!1),o.on("updateRect",(function(e){var t=e.rect,r=n.get(),o={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};i.set(o)})),r.set(F.some(o))}))}))])])}],containerBehaviours:Rl([wy.config({}),Cy("image-panel-events",[Eo((function(t){u(t,e)}))])])}),h=Jb(A),m=function(){var e=o.get();return{width:e.w,height:e.h}};return{memContainer:h,updateSrc:u,zoom:c,showCrop:l,hideCrop:d,getRect:f,getMeasurements:m}},IF=function(e,t,n,r,i){return UL({name:e,icon:F.some(t),disabled:n,tooltip:F.some(e),primary:!1,borderless:!1},r,i)},OF=function(e,t){t?XC.enable(e):XC.disable(e)},LF=function(e){var t=function(e,t,i){n.getOpt(e).each((function(e){OF(e,t)})),r.getOpt(e).each((function(e){OF(e,i)}))},n=Jb(IF("Undo","undo",!0,(function(e){lo(e,hF.undo(),{direction:1})}),e)),r=Jb(IF("Redo","redo",!0,(function(e){lo(e,hF.redo(),{direction:1})}),e)),i=zB.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),IF("Zoom in","zoom-in",!1,(function(e){lo(e,hF.zoom(),{direction:1})}),e),IF("Zoom out","zoom-out",!1,(function(e){lo(e,hF.zoom(),{direction:-1})}),e)]});return{container:i,updateButtonUndoStates:t}};function FF(){var e=[],t=-1,n=function(n){var r=e.splice(++t);return e.push(n),{state:n,removed:r}},r=function(){if(o())return e[--t]},i=function(){if(a())return e[++t]},o=function(){return t>0},a=function(){return-1!==t&&t<e.length-1};return{data:e,add:n,undo:r,redo:i,canUndo:o,canRedo:a}}var PF,NF=function(e){var t=$n(e),n=$n(F.none()),r=FF();r.add(e);var i=function(){return t.get()},o=function(e){t.set(e)},a=function(){return n.get().fold((function(){return t.get()}),(function(e){return e}))},s=function(e){var t=u(e);return d(),n.set(F.some(t)),t.url},u=function(e){return{blob:e,url:URL.createObjectURL(e)}},c=function(e){URL.revokeObjectURL(e.url)},l=function(e){NI.each(e,c)},d=function(){n.get().each(c),n.set(F.none())},f=function(e){var t=u(e);o(t);var n=r.add(t).removed;return l(n),t.url},A=function(e){var t=u(e);return n.set(F.some(t)),t.url},h=function(e){return n.get().fold(p,(function(t){f(t.blob),e()}))},m=function(){var e=r.undo();return o(e),e.url},g=function(){var e=r.redo();return o(e),e.url},v=function(){var e=r.canUndo(),t=r.canRedo();return{undoEnabled:e,redoEnabled:t}};return{getBlobState:i,setBlobState:o,addBlobState:f,getTempState:a,updateTempState:s,addTempState:A,applyTempState:h,destroyTempState:d,undo:m,redo:g,getHistoryStates:v}},UF=function(e,t){var n=NF(e.currentState),r=function(e,t){var n=t.event.direction;S.zoom(e,n)},i=function(e){var t=n.getHistoryStates();k.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),lo(e,vF.formActionEvent,{name:vF.saveState(),value:t.undoEnabled})},o=function(e){k.updateButtonUndoStates(e,!1,!1)},a=function(e,t){var r=n.undo();d(e,r).then((function(t){l(e),i(e)}))},s=function(e,t){var r=n.redo();d(e,r).then((function(t){l(e),i(e)}))},u=function(e){return e.toBlob()},c=function(e){lo(e,vF.formActionEvent,{name:vF.disable(),value:{}})},l=function(e){_.getApplyButton(e).each((function(e){XC.enable(e)})),lo(e,vF.formActionEvent,{name:vF.enable(),value:{}})},d=function(e,t){return c(e),S.updateSrc(e,t)},f=function(e,t,n,r,o){return c(e),kO(t).then(n).then(u).then(r).then((function(t){return d(e,t).then((function(t){return i(e),o(),l(e),t}))})).catch((function(t){return console.log(t),l(e),t}))},A=function(e,t,r){var i=n.getBlobState().blob,o=function(e){return n.updateTempState(e)};f(e,i,t,o,r)},h=function(e,t){var r=n.getTempState().blob,i=function(e){return n.addTempState(e)};f(e,r,t,i,p)},m=function(e,t,r){var i=n.getBlobState().blob,o=function(t){var r=n.addBlobState(t);return v(e),r};f(e,i,t,o,r)},g=function(e,t){var r=function(){v(e);var n=t.event.swap;n()};n.applyTempState(r)},v=function(e){var t=n.getBlobState().url;return n.destroyTempState(),i(e),t},y=function(e){var t=v(e);d(e,t).then((function(t){l(e)}))},b=function(e,t){y(e);var n=t.event.swap;n(),S.hideCrop()},w=function(e,t){return A(e,t.event.transform,p)},x=function(e,t){return h(e,t.event.transform)},C=function(e,t){return m(e,t.event.transform,t.event.swap)},S=TF(e.currentState.url),k=LF(t),_=yF(S,t),B=function(e,t){o(e);var n=t.event.transform,r=t.event.swap;n.fold((function(){r()}),(function(t){A(e,t,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[_.memContainer.asSpec(),S.memContainer.asSpec(),k.container],behaviours:Rl([$h.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Cy("image-tools-events",[bo(hF.undo(),a),bo(hF.redo(),s),bo(hF.zoom(),r),bo(hF.back(),b),bo(hF.apply(),g),bo(hF.transform(),w),bo(hF.tempTransform(),x),bo(hF.transformApply(),C),bo(hF.swap(),B)]),MI.self()])}},HF=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=G(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Rl([MI.self(),wy.config({}),GI.domHtml(F.none()),dy.config({mode:"acyclic"})])}},RF=function(e){return!Re(e,"items")},VF="data-value",QF=function(e,t,n,r){return G(n,(function(n){return RF(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){$h.setValue(e,n.value),lo(e,uD,{name:t}),Iy.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return QF(e,t,n.items,r)}}}))},jF=function(e,t){return fe(e,(function(e){return RF(e)?hm(e.value===t,e):jF(e.items,t)}))},zF=function(e,t){var n=t.shared.providers,r=ce(e.items).filter(RF),i=e.label.map((function(e){return sD(e,n)})),o=XB.parts.field({dom:{},factory:{sketch:function(n){return xL({uid:n.uid,text:r.map((function(e){return e.text})),icon:F.none(),tooltip:e.label,role:F.none(),fetch:function(n,r){var i=QF(n,e.name,e.items,$h.getValue(n));r(IL(i,ux.CLOSE_ON_EXECUTE,t,!1))},onSetup:y(p),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[eD.config({}),$h.config({store:{mode:"manual",initialValue:r.map((function(e){return e.value})).getOr(""),getValue:function(e){return ka(e.element,VF)},setValue:function(t,n){jF(e.items,n).each((function(e){Ca(t.element,VF,e.value),lo(t,bL,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[o]};return XB.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:te([i.toArray(),[a]]),fieldBehaviours:Rl([XC.config({disabled:y(e.disabled),onDisabled:function(e){XB.getField(e).each(XC.disable)},onEnabled:function(e){XB.getField(e).each(XC.enable)}})])})},GF=function(e,t){return{dom:{tag:"div",classes:e.classes},components:G(e.items,t.shared.interpreter)}},KF=function(e,t){var n=G(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return ct("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Jh(e.selectBehaviours,[Iy.config({}),$h.config({store:B({mode:"manual",getValue:function(e){return ou(e.element)},setValue:function(t,n){var r=Z(e.options,(function(e){return e.value===n}));r.isSome()&&au(t.element,n)}},r)})])}},qF=sm({name:"HtmlSelect",configFields:[yn("options"),Xh("selectBehaviours",[Iy,$h]),Un("selectClasses",[]),Un("selectAttributes",{}),En("data")],factory:KF}),WF=function(e,t){var n=G(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),r=e.label.map((function(e){return sD(e,t)})),i=XB.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:qF,selectBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()}}),eD.config({}),Cy("selectbox-change",[bo(Ii(),(function(t,n){lo(t,uD,{name:e.name})}))])])}),o=e.size>1?F.none():F.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ew("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:te([[i],o.toArray()])};return XB.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:te([r.toArray(),[a]]),fieldBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){XB.getField(e).each(XC.disable)},onEnabled:function(e){XB.getField(e).each(XC.enable)}}),zS()])})},$F=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:G(e,n)}]}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:G(e,i)}},a=function(e){return{dom:{tag:"tbody"},components:G(e,o)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),a(e.cells)],behaviours:Rl([eD.config({}),Iy.config({})])}},XF=function(e,t){var n=e.label.map((function(e){return sD(e,t)})),r=[XC.config({disabled:function(){return e.disabled||t.isDisabled()}}),zS(),dy.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return co(e,fD),F.some(!0)}}),Cy("textfield-change",[bo(Ti(),(function(t,n){lo(t,uD,{name:e.name})})),bo(Ri(),(function(t,n){lo(t,uD,{name:e.name})}))]),eD.config({})],i=e.validation.map((function(e){return qD.config({getRoot:function(e){return Go(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=$h.getValue(t),r=e.validator(n);return FD.pure(!0===r?me.value(n):me.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray(),o=e.placeholder.fold(y({}),(function(e){return{placeholder:t.translate(e)}})),a=e.inputMode.fold(y({}),(function(e){return{inputmode:e}})),s=B(B({},o),a),u=XB.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Rl(te([r,i])),selectOnFocus:!1,factory:CD}),c=e.flex?["tox-form__group--stretched"]:[],l=c.concat(e.maximized?["tox-form-group--maximize"]:[]),d=[XC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){XB.getField(e).each(XC.disable)},onEnabled:function(e){XB.getField(e).each(XC.enable)}}),zS()];return nD(n,u,l,d)},YF=function(e,t){return XF({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:F.none(),maximized:e.maximized},t)},JF=function(e,t){return XF({name:e.name,multiline:!0,label:e.label,inputMode:F.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:F.none(),maximized:e.maximized},t)},ZF=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return mo([bo(e.event,r),To((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[bo(e,(function(){return t.cancel()}))]})).getOr([])))},eP=Object.freeze({__proto__:null,events:ZF}),tP=function(e){var t=$n(null),n=function(){return{timer:null!==t.get()?"set":"unset"}},r=function(e){t.set(e)},i=function(){var e=t.get();null!==e&&e.cancel()};return is({readState:n,setTimer:r,cancel:i})},nP=function(e){return e.stream.streams.state(e)},rP=Object.freeze({__proto__:null,throttle:tP,init:nP}),iP=function(e,t){var n=e.stream,r=cw(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},oP=[bn("stream",un("mode",{throttle:[yn("delay"),Un("stopEvent",!0),Qc("streams",{setup:iP,state:tP})]})),Un("event","input"),En("cancelEvent"),Rc("onStream")],aP=Ql({fields:oP,name:"streaming",active:eP,state:rP}),sP=function(e,t,n){var r=$h.getValue(n);$h.setValue(t,r),cP(t)},uP=function(e,t){var n=e.element,r=ou(n),i=n.dom;"number"!==ka(n,"type")&&t(i,r)},cP=function(e){uP(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},lP=function(e,t){uP(e,(function(e,n){return e.setSelectionRange(t,n.length)}))},dP=function(e,t,n){if(e.selectsOver){var r=$h.getValue(t),i=e.getDisplayText(r),o=$h.getValue(n),a=e.getDisplayText(o);return 0===a.indexOf(i)?F.some((function(){sP(e,t,n),lP(t,i.length)})):F.none()}return F.none()},fP=y("alloy.typeahead.itemexecute"),AP=function(e,t,n,r){var i=function(t,n,i){e.previewing.set(!1);var o=ZD.getCoupled(t,"sandbox");if(Ah.isOpen(o))ym.getCurrent(o).each((function(e){Hm.getHighlighted(e).fold((function(){i(e)}),(function(){po(o,e.element,"keydown",n)}))}));else{var s=function(e){ym.getCurrent(e).each(i)};aM(e,a(t),t,o,r,s,_D.HighlightFirst).get(p)}},o=yD(e),a=function(e){return function(t){return t.map((function(t){var n=Ue(t.menus),r=ne(n,(function(e){return $(e.items,(function(e){return"item"===e.type}))})),i=$h.getState(e);return i.update(G(r,(function(e){return e.data}))),t}))}},s=[Iy.config({}),$h.config({onSetValue:e.onSetValue,store:B({mode:"dataset",getDataKey:function(e){return ou(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){au(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return ct("initialValue",e)})).getOr({}))}),aP.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var i=ZD.getCoupled(t,"sandbox"),o=Iy.isFocused(t);if(o&&ou(t.element).length>=e.minChars){var s=ym.getCurrent(i).bind((function(e){return Hm.getHighlighted(e).map($h.getValue)}));e.previewing.set(!0);var u=function(t){ym.getCurrent(i).each((function(t){s.fold((function(){e.model.selectsOver&&Hm.highlightFirst(t)}),(function(e){Hm.highlightBy(t,(function(t){var n=$h.getValue(t);return n.value===e.value})),Hm.getHighlighted(t).orThunk((function(){return Hm.highlightFirst(t),F.none()}))}))}))};aM(e,a(t),t,i,r,u,_D.HighlightFirst).get(p)}},cancelEvent:qi()}),dy.config({mode:"special",onDown:function(e,t){return i(e,t,Hm.highlightFirst),F.some(!0)},onEscape:function(e){var t=ZD.getCoupled(e,"sandbox");return Ah.isOpen(t)?(Ah.close(t),F.some(!0)):F.none()},onUp:function(e,t){return i(e,t,Hm.highlightLast),F.some(!0)},onEnter:function(t){var n=ZD.getCoupled(t,"sandbox"),r=Ah.isOpen(n);if(r&&!e.previewing.get())return ym.getCurrent(n).bind((function(e){return Hm.getHighlighted(e)})).map((function(e){return lo(t,fP(),{item:e}),!0}));var i=$h.getValue(t);return co(t,qi()),e.onExecute(n,t,i),r&&Ah.close(n),F.some(!0)}}),Yy.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),ZD.config({others:{sandbox:function(t){return fM(e,t,{onOpen:function(){return Yy.on(t)},onClose:function(){return Yy.off(t)}})}}}),Cy("typeaheadevents",[Oo((function(t){var n=p;uM(e,a(t),t,r,n,_D.HighlightFirst).get(p)})),bo(fP(),(function(t,n){var r=ZD.getCoupled(t,"sandbox");sP(e.model,t,n.event.item),co(t,qi()),e.onItemExecute(t,r,n.event.item,$h.getValue(t)),Ah.close(r),cP(t)}))].concat(e.dismissOnBlur?[bo(Hi(),(function(e){var t=ZD.getCoupled(e,"sandbox");ed(t.element).isNone()&&Ah.close(t)}))]:[]))];return{uid:e.uid,dom:wD(We(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:B(B({},o),Jh(e.typeaheadBehaviours,s)),eventOrder:e.eventOrder}},hP=y([En("lazySink"),yn("fetch"),Un("minChars",5),Un("responseTime",1e3),Uc("onOpen"),Un("getHotspot",F.some),Un("getAnchorOverrides",y({})),Un("layouts",F.none()),Un("eventOrder",{}),qn("model",{},[Un("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Un("selectsOver",!0),Un("populateFromBrowse",!0)]),Uc("onSetValue"),Hc("onExecute"),Uc("onItemExecute"),Un("inputClasses",[]),Un("inputAttributes",{}),Un("inputStyles",{}),Un("matchWidth",!0),Un("useMinWidth",!1),Un("dismissOnBlur",!0),Pc(["openClass"]),En("initialData"),Xh("typeaheadBehaviours",[Iy,$h,aP,dy,Yy,ZD]),Wn("previewing",(function(){return $n(!0)}))].concat(vD()).concat(hM())),pP=y([Mp({schema:[Fc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){dP(e.model,r,n).fold((function(){return Hm.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&sP(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return lo(e,fP(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&sP(e.model,t,n)}))}}}})]),mP=um({name:"Typeahead",configFields:hP(),partFields:pP(),factory:AP}),gP=function(e){var t=function(){return gP(e.toCached())},n=function(t){return gP(e.bind((function(e){return e.fold((function(e){return FD.pure(me.error(e))}),(function(e){return t(e)}))})))},r=function(t){return gP(e.map((function(e){return e.bind(t)})))},i=function(t){return gP(e.map((function(e){return e.map(t)})))},o=function(t){return gP(e.map((function(e){return e.mapError(t)})))},a=function(t,n){return e.map((function(e){return e.fold(t,n)}))},s=function(t,n){return gP(FD.nu((function(r){var i=!1,o=setTimeout((function(){i=!0,r(me.error(n()))}),t);e.get((function(e){i||(clearTimeout(o),r(e))}))})))};return B(B({},e),{toCached:t,bindFuture:n,bindResult:r,mapResult:i,mapError:o,foldResult:a,withTimeout:s})},vP=function(e){return gP(FD.nu(e))},yP=function(e){return gP(FD.pure(me.value(e)))},bP=function(e){return gP(FD.pure(me.error(e)))},wP=function(e){return gP(FD.pure(e))},xP=function(e){return gP(e.map(me.value))},CP=function(e){return vP((function(t){e.then((function(e){t(me.value(e))}),(function(e){t(me.error(e))}))}))},SP={nu:vP,wrap:gP,pure:yP,value:yP,error:bP,fromResult:wP,fromFuture:xP,fromPromise:CP},kP={type:"separator"},_P=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:p}},BP=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:p}},DP=function(e){return G(e,_P)},MP=function(e,t){return $(t,(function(t){return t.type===e}))},EP=function(e,t){return DP(MP(e,t))},TP=function(e){return EP("header",e.targets)},IP=function(e){return EP("anchor",e.targets)},OP=function(e){return F.from(e.anchorTop).map((function(e){return BP("<top>",e)})).toArray()},LP=function(e){return F.from(e.anchorBottom).map((function(e){return BP("<bottom>",e)})).toArray()},FP=function(e){return G(e,(function(e){return BP(e,e)}))},PP=function(e){return Y(e,(function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(kP,t)}),[])},NP=function(e,t){var n=e.toLowerCase();return $(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return hr(t.toLowerCase(),n)||hr(e.value.toLowerCase(),n)}))},UP=function(e,t,n){var r=$h.getValue(t),i=void 0!==r.meta.text?r.meta.text:r.value,o=n.getLinkInformation();return o.fold((function(){return[]}),(function(t){var r=NP(i,FP(n.getHistory(e)));return"file"===e?PP([r,NP(i,TP(t)),NP(i,te([OP(t),IP(t),LP(t)]))]):r}))},HP=Na("aria-invalid"),RP=function(e,t,n){var r,i=t.shared.providers,o=function(t){var r=$h.getValue(t);n.addToHistory(r.value,e.filetype)},a=XB.parts.field({factory:mP,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":HP,type:"url"},minChars:0,responseTime:0,fetch:function(r){var i=UP(e.filetype,r,n),o=IL(i,ux.BUBBLE_TO_SANDBOX,t,!1);return FD.pure(o)},getHotspot:function(e){return A.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(qD)&&qD.run(e).get(p)},typeaheadBehaviours:Rl(te([n.getValidationHandler().map((function(t){return qD.config({getRoot:function(e){return Go(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){c.getOpt(e).each((function(e){Ca(e.element,"title",i.translate(t))}))}},validator:{validate:function(n){var r=$h.getValue(n);return SP.nu((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=me.error(e.message);n(t)}else{var r=me.value(e.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[XC.config({disabled:function(){return e.disabled||i.isDisabled()}}),eD.config({}),Cy("urlinput-events",te(["file"===e.filetype?[bo(Ti(),(function(t){lo(t,uD,{name:e.name})}))]:[],[bo(Ii(),(function(t){lo(t,uD,{name:e.name}),o(t)})),bo(Ri(),(function(t){lo(t,uD,{name:e.name}),o(t)}))]]))]])),eventOrder:(r={},r[Ti()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Px(!1,1,"normal")},onExecute:function(e,t,n){lo(t,fD,{})},onItemExecute:function(t,n,r,i){o(t),lo(t,uD,{name:e.name})}}),s=e.label.map((function(e){return sD(e,i)})),u=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ew(n,i.icons),attributes:B({title:i.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))}}},c=Jb(u("invalid",F.some(HP),"warning")),l=Jb({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=n.getUrlPicker(e.filetype),f=Na("browser.url.event"),A=Jb({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,l.asSpec()],behaviours:Rl([XC.config({disabled:function(){return e.disabled||i.isDisabled()}})])}),h=Jb(RL({name:e.name,icon:F.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return co(e,f)}),i,[],["tox-browse-url"])),m=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:te([[A.asSpec()],d.map((function(){return h.asSpec()})).toArray()])}},g=function(t){ym.getCurrent(t).each((function(n){var r=$h.getValue(n),i=B({fieldname:e.name},r);d.each((function(r){r(i).get((function(r){$h.setValue(n,r),lo(t,uD,{name:e.name})}))}))}))};return XB.sketch({dom:oD(),components:s.toArray().concat([m()]),fieldBehaviours:Rl([XC.config({disabled:function(){return e.disabled||i.isDisabled()},onDisabled:function(e){XB.getField(e).each(XC.disable),h.getOpt(e).each(XC.disable)},onEnabled:function(e){XB.getField(e).each(XC.enable),h.getOpt(e).each(XC.enable)}}),zS(),Cy("url-input-events",[bo(f,g)])])})},VP=function(e,t){return zB.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Yb.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ew(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){lo(t,dD,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},QP=function(e,t){var n=$h.config({store:{mode:"manual",getValue:function(e){var t=e.element.dom;return t.checked},setValue:function(e,t){var n=e.element.dom;n.checked=t}}}),r=function(e){return e.element.dom.click(),F.some(!0)},i=XB.parts.field({factory:{sketch:b},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Rl([MI.self(),XC.config({disabled:function(){return e.disabled||t.isDisabled()}}),eD.config({}),Iy.config({}),n,dy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Cy("checkbox-events",[bo(Ii(),(function(t,n){lo(t,uD,{name:e.name})}))])])}),o=XB.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Rl([xM.config({})])}),a=function(e){var n="checked"===e?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ew(n,t.icons)}}},s=Jb({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return XB.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,s.asSpec(),o],fieldBehaviours:Rl([XC.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){XB.getField(e).each(XC.disable)},onEnabled:function(e){XB.getField(e).each(XC.enable)}}),zS()])})},jP=function(e){return"presentation"===e.presets?zB.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):zB.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Rl([eD.config({}),Iy.config({})])})},zP=function(e){return function(t,n,r){return He(n,"name").fold((function(){return e(n,r)}),(function(i){return t.field(i,e(n,r))}))}},GP=function(e){return function(t,n,r){var i=We(n,{source:"dynamic"});return zP(e)(t,i,r)}},KP={bar:zP((function(e,t){return KB(e,t.shared)})),collection:zP((function(e,t){return gD(e,t.shared.providers)})),alertbanner:zP((function(e,t){return VP(e,t.shared.providers)})),input:zP((function(e,t){return YF(e,t.shared.providers)})),textarea:zP((function(e,t){return JF(e,t.shared.providers)})),label:zP((function(e,t){return HF(e,t.shared)})),iframe:GP((function(e,t){return oO(e,t.shared.providers)})),button:zP((function(e,t){return GL(e,t.shared.providers)})),checkbox:zP((function(e,t){return QP(e,t.shared.providers)})),colorinput:zP((function(e,t){return BM(e,t.shared,t.colorinput)})),colorpicker:zP(OI),dropzone:zP((function(e,t){return WI(e,t.shared.providers)})),grid:zP((function(e,t){return $I(e,t.shared)})),listbox:zP((function(e,t){return zF(e,t)})),selectbox:zP((function(e,t){return WF(e,t.shared.providers)})),sizeinput:zP((function(e,t){return iF(e,t.shared.providers)})),urlinput:zP((function(e,t){return RP(e,t,t.urlinput)})),customeditor:zP(PI),htmlpanel:zP(jP),imagetools:zP((function(e,t){return UF(e,t.shared.providers)})),table:zP((function(e,t){return $F(e,t.shared.providers)})),panel:zP((function(e,t){return GF(e,t)}))},qP={field:function(e,t){return t}},WP=function(e,t,n){var r=We(n,{shared:{interpreter:function(t){return $P(e,t,r)}}});return $P(e,t,r)},$P=function(e,t,n){return He(KP,t.type).fold((function(){return console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t),t}),(function(r){return r(e,t,n)}))},XP=function(e,t){var n=qP;return $P(n,e,t)},YP={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},JP=function(e,t,n){var r=Ld(-12,12,YP),i={maxHeightFunction:Md()},o=function(){return{anchor:"node",root:na(e()),node:F.from(e()),bubble:r,layouts:{onRtl:function(){return[Kb]},onLtr:function(){return[Gb]}},overrides:i}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[pl]},onLtr:function(){return[ml]}},overrides:i}};return function(){return n()?o():a()}},ZP=function(e,t,n){var r=function(){return{anchor:"node",root:na(e()),node:F.from(e()),layouts:{onRtl:function(){return[qb]},onLtr:function(){return[qb]}}}},i=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[bl]},onLtr:function(){return[bl]}}}};return function(){return n()?r():i()}},eN=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return F.some(Df.range(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(t.endContainer),t.endOffset))}}}},tN=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},nN=function(e,t,n){var r=kS(e),i=function(){return tr.fromDom(e.getBody())},o=function(){return tr.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:JP(o,t,a),banner:ZP(o,t,a),cursor:eN(e,i),node:tN(i)}},rN=function(e){return function(t,n){var r=E_(e);r(t,n)}},iN=function(e){return function(){return f_(e)}},oN=function(e){return function(){return h_(e)}},aN=function(e){return function(){return x_(e)}},sN=function(e){return{colorPicker:rN(e),hasCustomColors:iN(e),getColors:oN(e),getColorCols:aN(e)}},uN=function(e){return function(){return MS(e)}},cN=function(e){return{isDraggableModal:uN(e)}},lN=function(e){var t=$n(bS(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},dN=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],fN=function(e){return Re(e,"items")},AN=function(e){return Re(e,"block")},hN=function(e){return Re(e,"inline")},pN=function(e){return Re(e,"selector")},mN=function(e){return Y(e,(function(e,t){if(fN(t)){var n=mN(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(hN(t)||AN(t)||pN(t)){var r=o(t.name)?t.name:t.title.toLowerCase(),i="custom-"+r;return{customFormats:e.customFormats.concat([{name:i,format:t}]),formats:e.formats.concat([{title:t.title,format:i,icon:t.icon}])}}return B(B({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},gN=function(e,t){var n=mN(t),r=function(t){K(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)})),n.formats},vN=function(e){return sS(e).map((function(t){var n=gN(e,t);return uS(e)?dN.concat(n):n})).getOr(dN)},yN=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return We(e,r)},bN=function(e,t,n,r){var i=function(e){return yN(e,n,r)},a=function(e){var t={type:"submenu"};return We(e,t)},s=function(t){var i=o(t.name)?t.name:Na(t.title),a="custom-"+i,s={type:"formatter",format:a,isSelected:n(a),getStylePreview:r(a)},u=We(t,s);return e.formatter.register(i,u),u},u=function(e){return G(e,(function(e){var t=De(e);if(Ve(e,"items")){var n=u(e.items);return We(a(e),{getStyleItems:function(){return n}})}return Ve(e,"format")?i(e):1===t.length&&V(t,"title")?We(e,{type:"separator"}):s(e)}))};return u(t)},wN=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?F.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):F.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?ne(t,r):[e.format]},i=$n([]),o=$n([]),a=$n([]),s=$n([]),u=$n(!1);e.on("PreInit",(function(a){var s=vN(e),u=bN(e,s,t,n);i.set(u),o.set(ne(u,r))})),e.on("addStyleModifications",(function(i){var o=bN(e,i.items,t,n);a.set(o),u.set(i.replace),s.set(ne(o,r))}));var c=function(){var e=u.get()?[]:i.get(),t=a.get();return e.concat(t)},l=function(){var e=u.get()?[]:o.get(),t=s.get();return e.concat(t)};return{getData:c,getFlattenedKeys:l}},xN=function(e){return d(e)&&1===e.nodeType},CN=NI.trim,SN=function(e){return function(t){if(xN(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},kN=SN("true"),_N=SN("false"),BN=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},DN=function(e){while(e=e.parentNode){var t=e.contentEditable;if(t&&"inherit"!==t)return kN(e)}return!1},MN=function(e,t){return G(Yf(tr.fromDom(t),e),(function(e){return e.dom}))},EN=function(e){return e.innerText||e.textContent},TN=function(e){return e.id?e.id:Na("h")},IN=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},ON=function(e){return IN(e)&&FN(e)},LN=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},FN=function(e){return DN(e)&&!_N(e)},PN=function(e){return LN(e)&&FN(e)},NN=function(e){return LN(e)?parseInt(e.nodeName.substr(1),10):0},UN=function(e){var t=TN(e),n=function(){e.id=t};return BN("header",EN(e),"#"+t,NN(e),n)},HN=function(e){var t=e.id||e.name,n=EN(e);return BN("anchor",n||"#"+t,"#"+t,0,p)},RN=function(e){return G($(e,PN),UN)},VN=function(e){return G($(e,ON),HN)},QN=function(e){var t=MN("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},jN=function(e){return CN(e.title).length>0},zN=function(e){var t=QN(e);return $(RN(t).concat(VN(t)),jN)},GN={find:zN},KN="tinymce-url-history",qN=5,WN=function(e){return o(e)&&/^https?/.test(e)},$N=function(e){return s(e)&&e.length<=qN&&re(e,WN)},XN=function(e){return a(e)&&Ne(e,(function(e){return!$N(e)})).isNone()},YN=function(){var e,t=r_.getItem(KN);if(null===t)return{};try{e=JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+KN+" was not valid JSON",n),{};throw n}return XN(e)?e:(console.log("Local storage "+KN+" was not valid format",e),{})},JN=function(e){if(!XN(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));r_.setItem(KN,JSON.stringify(e))},ZN=function(e){var t=YN();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},eU=function(e,t){if(WN(e)){var n=YN(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],i=$(r,(function(t){return t!==e}));n[t]=[e].concat(i).slice(0,qN),JN(n)}},tU=function(e){return!!e},nU=function(e){return Te(NI.makeMap(e,/[, ]/),tU)},rU=function(e){return F.from(OS(e)).filter(f)},iU=function(e){var t=F.some(LS(e)).filter(tU),n=F.some(FS(e)).filter(tU),r=t.or(n).map(nU);return rU(e).fold(S,(function(e){return r.fold(k,(function(e){return De(e).length>0&&e}))}))},oU=function(e,t){var n=iU(e);return u(n)?n?rU(e):F.none():n[t]?rU(e):F.none()},aU=function(e,t){return oU(e,t).map((function(n){return function(r){return FD.nu((function(i){var s=function(e,t){if(!o(e))throw new Error("Expected value to be string");if(void 0!==t&&!a(t))throw new Error("Expected meta to be a object");var n={value:e,meta:t};i(n)},u=B({filetype:t,fieldname:r.fieldname},F.from(r.meta).getOr({}));n.call(e,s,r.value,u)}))}}))},sU=function(e){return F.from(e).filter(o).getOrUndefined()},uU=function(e){return PS(e)?F.none():F.some({targets:GN.find(e.getBody()),anchorTop:sU(NS(e)),anchorBottom:sU(US(e))})},cU=function(e){return F.from(HS(e))},lU=function(e){return{getHistory:ZN,addToHistory:eU,getLinkInformation:function(){return uU(e)},getValidationHandler:function(){return cU(e)},getUrlPicker:function(t){return aU(e,t)}}},dU=function(e,t,n){var r=$n(!1),i=lN(t),o={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:TC.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return XP(e,o)},anchors:nN(t,n,i.isPositionedAtTop),header:i,getSink:function(){return me.value(e)}},urlinput:lU(t),styleselect:wN(t),colorinput:sN(t),dialog:cN(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return o},fU=y((function(e,t){Pu(e,Math.floor(t))})),AU="contexttoolbar-show",hU="contexttoolbar-hide",pU=y([yn("dom"),Un("shell",!0),Xh("toolbarBehaviours",[wy])]),mU=function(){return{behaviours:Rl([wy.config({})])}},gU=y([Ep({name:"groups",overrides:mU})]),vU=function(e,t,n,r){var i=function(e,t){o(e).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){wy.set(e,t)}))},o=function(t){return e.shell?F.some(t):jp(t,e,"groups")},a=e.shell?{behaviours:[wy.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Jh(e.toolbarBehaviours,a.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},yU=um({name:"Toolbar",configFields:pU(),partFields:gU(),factory:vU,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),bU=function(e,t){var n={len:0,list:[]},r=Y(e,(function(e,n){var r=t(n,e.len);return r.fold(y(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),n);return r.list},wU=function(e,t,n){return{within:e,extra:t,withinWidth:n}},xU=function(e,t,n){var r=bU(e,(function(e,t){var r=n(e);return F.some({element:e,start:t,finish:t+r,width:r})})),i=$(r,(function(e){return e.finish<=t})),o=X(i,(function(e,t){return e+t.width}),0),a=r.slice(i.length);return{within:i,extra:a,withinWidth:o}},CU=function(e){return G(e,(function(e){return e.element}))},SU=function(e,t,n){var r=CU(e.concat(t));return wU(r,[],n)},kU=function(e,t,n,r){var i=CU(e).concat([n]);return wU(i,CU(t),r)},_U=function(e,t,n){return wU(CU(e),[],n)},BU=function(e,t,n){var r=xU(t,e,n);return 0===r.extra.length?F.some(r):F.none()},DU=function(e,t,n,r){var i=BU(e,t,n).getOrThunk((function(){return xU(t,e-n(r),n)})),o=i.within,a=i.extra,s=i.withinWidth;return 1===a.length&&a[0].width<=n(r)?SU(o,a,s):a.length>=1?kU(o,a,r,s):_U(o,a,s)},MU=function(e,t){var n=G(t,(function(e){return bu(e)}));yU.setGroups(e,n)},EU=function(e){return fe(e,(function(e){return ed(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}))},TU=function(e,t,n){var r=zp(e,t,"primary"),i=ZD.getCoupled(e,"overflowGroup");$s(r.element,"visibility","hidden");var o=t.builtGroups.get().concat([i]),a=EU(o);n([]),MU(r,o);var s=Lu(r.element),u=DU(s,t.builtGroups.get(),(function(e){return Lu(e.element)}),i);0===u.extra.length?(wy.remove(r,i),n([])):(MU(r,u.within),n(u.extra)),ru(r.element,"visibility"),iu(r.element),a.each(Iy.focus)},IU=y([Xh("splitToolbarBehaviours",[ZD]),Wn("builtGroups",(function(){return $n([])}))]),OU=y([Pc(["overflowToggledClass"]),Ln("getOverflowBounds"),yn("lazySink"),Wn("overflowGroups",(function(){return $n([])}))].concat(IU())),LU=y([Dp({factory:yU,schema:pU(),name:"primary"}),Mp({schema:pU(),name:"overflow"}),Mp({name:"overflow-button"}),Mp({name:"overflow-group"})]),FU=y([Pc(["toggledClass"]),yn("lazySink"),kn("fetch"),Ln("getBounds"),Pn("fireDismissalEventInstead",[Un("event",to())]),Qd()]),PU=y([Mp({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Rl([Yy.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Mp({factory:yU,schema:pU(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Rl([dy.config({mode:"cyclic",onEscape:function(t){return jp(t,e,"button").each(Iy.focus),F.none()}})])}}})]),NU=function(e,t){var n=ZD.getCoupled(e,"toolbarSandbox");Ah.isOpen(n)?Ah.close(n):Ah.open(n,t.toolbar())},UU=function(e,t,n,r){var i=n.getBounds.map((function(e){return e()})),o=n.lazySink(e).getOrDie();OA.positionWithinBounds(o,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:fU()}},t,i)},HU=function(e,t,n,r,i){yU.setGroups(t,i),UU(e,t,n,r),Yy.on(e)},RU=function(e,t,n){var r=gc(),i=function(i,o){n.fetch().get((function(i){HU(e,o,n,t.layouts,i),r.link(e.element),dy.focusIn(o)}))},o=function(){Yy.off(e),Iy.focus(e),r.unlink(e.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Rl([dy.config({mode:"special",onEscape:function(e){return Ah.close(e),F.some(!0)}}),Ah.config({onOpen:i,onClose:o,isPartOf:function(t,n,r){return yc(n,r)||yc(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),Kl.config({channels:B(B({},vh(B({isExtraPart:S},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),bh({doReposition:function(){Ah.getState(ZD.getCoupled(e,"toolbarSandbox")).each((function(r){UU(e,r,n,t.layouts)}))}}))})])}},VU=function(e,t,n,r){return B(B({},Yb.sketch(B(B({},r.button()),{action:function(e){NU(e,r)},buttonBehaviours:Zh.augment({dump:r.button().buttonBehaviours},[ZD.config({others:{toolbarSandbox:function(t){return RU(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){Ah.getState(ZD.getCoupled(t,"toolbarSandbox")).each((function(i){HU(t,i,e,n.layouts,r)}))},reposition:function(t){Ah.getState(ZD.getCoupled(t,"toolbarSandbox")).each((function(r){UU(t,r,e,n.layouts)}))},toggle:function(e){NU(e,r)},getToolbar:function(e){return Ah.getState(ZD.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return Ah.isOpen(ZD.getCoupled(e,"toolbarSandbox"))}}})},QU=um({name:"FloatingToolbarButton",factory:VU,configFields:FU(),partFields:PU(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),jU=y([yn("items"),Pc(["itemSelector"]),Xh("tgroupBehaviours",[dy])]),zU=y([Tp({name:"items",unit:"item"})]),GU=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.tgroupBehaviours,[dy.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},KU=um({name:"ToolbarGroup",configFields:jU(),partFields:zU(),factory:GU}),qU=function(e){return G(e,(function(e){return bu(e)}))},WU=function(e,t,n){TU(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){QU.setGroups(e,qU(r))}))}))},$U=function(e,t,n,r){var i=Jb(QU.sketch({fetch:function(){return FD.nu((function(t){t(qU(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[ml,pl]},onRtl:function(){return[pl,ml]},onBottomLtr:function(){return[vl,gl]},onBottomRtl:function(){return[gl,vl]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.splitToolbarBehaviours,[ZD.config({others:{overflowGroup:function(){return KU.sketch(B(B({},r["overflow-group"]()),{items:[i.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(G(n,t.getSystem().build)),WU(t,i,e)},refresh:function(t){return WU(t,i,e)},toggle:function(e){i.getOpt(e).each((function(e){QU.toggle(e)}))},isOpen:function(e){return i.getOpt(e).map(QU.isOpen).getOr(!1)},reposition:function(e){i.getOpt(e).each((function(e){QU.reposition(e)}))},getOverflow:function(e){return i.getOpt(e).bind(QU.getToolbar)}},domModification:{attributes:{role:"group"}}}},XU=um({name:"SplitFloatingToolbar",configFields:OU(),partFields:LU(),factory:$U,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),YU=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},JU=function(e){return e.dimension.property},ZU=function(e,t){return e.dimension.getDimension(t)},eH=function(e,t){var n=YU(e,t);Qs(n,[t.shrinkingClass,t.growingClass])},tH=function(e,t){Hs(e.element,t.openClass),Ns(e.element,t.closedClass),$s(e.element,JU(t),"0px"),iu(e.element)},nH=function(e,t){Hs(e.element,t.closedClass),Ns(e.element,t.openClass),ru(e.element,JU(t))},rH=function(e,t,n,r){n.setCollapsed(),$s(e.element,JU(t),ZU(t,e.element)),iu(e.element),eH(e,t),tH(e,t),t.onStartShrink(e),t.onShrunk(e)},iH=function(e,t,n,r){var i=r.getOrThunk((function(){return ZU(t,e.element)}));n.setCollapsed(),$s(e.element,JU(t),i),iu(e.element);var o=YU(e,t);Hs(o,t.growingClass),Ns(o,t.shrinkingClass),tH(e,t),t.onStartShrink(e)},oH=function(e,t,n){var r=ZU(t,e.element),i="0px"===r?rH:iH;i(e,t,n,F.some(r))},aH=function(e,t,n){var r=YU(e,t),i=Rs(r,t.shrinkingClass),o=ZU(t,e.element);nH(e,t);var a=ZU(t,e.element),s=function(){$s(e.element,JU(t),o),iu(e.element)},u=function(){tH(e,t)},c=i?s:u;c(),Hs(r,t.shrinkingClass),Ns(r,t.growingClass),nH(e,t),$s(e.element,JU(t),a),n.setExpanded(),t.onStartGrow(e)},sH=function(e,t,n){if(n.isExpanded()){ru(e.element,JU(t));var r=ZU(t,e.element);$s(e.element,JU(t),r)}},uH=function(e,t,n){n.isExpanded()||aH(e,t,n)},cH=function(e,t,n){n.isExpanded()&&oH(e,t,n)},lH=function(e,t,n){n.isExpanded()&&rH(e,t,n,F.none())},dH=function(e,t,n){return n.isExpanded()},fH=function(e,t,n){return n.isCollapsed()},AH=function(e,t,n){var r=YU(e,t);return!0===Rs(r,t.growingClass)},hH=function(e,t,n){var r=YU(e,t);return!0===Rs(r,t.shrinkingClass)},pH=function(e,t,n){return AH(e,t)||hH(e,t)},mH=function(e,t,n){var r=n.isExpanded()?oH:aH;r(e,t,n)},gH=Object.freeze({__proto__:null,refresh:sH,grow:uH,shrink:cH,immediateShrink:lH,hasGrown:dH,hasShrunk:fH,isGrowing:AH,isShrinking:hH,isTransitioning:pH,toggleGrow:mH,disableTransitions:eH}),vH=function(e,t,n){var r=t.expanded;return cs(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:ct(t.dimension.property,"0px")})},yH=function(e,t){return mo([Mo(Li(),(function(n,r){var i=r.event.raw;if(i.propertyName===e.dimension.property){eH(n,e),t.isExpanded()&&ru(n.element,e.dimension.property);var o=t.isExpanded()?e.onGrown:e.onShrunk;o(n)}}))])},bH=Object.freeze({__proto__:null,exhibit:vH,events:yH}),wH=[yn("closedClass"),yn("openClass"),yn("shrinkingClass"),yn("growingClass"),En("getAnimationRoot"),Uc("onShrunk"),Uc("onStartShrink"),Uc("onGrown"),Uc("onStartGrow"),Un("expanded",!1),bn("dimension",un("property",{width:[Qc("property","width"),Qc("getDimension",(function(e){return Lu(e)+"px"}))],height:[Qc("property","height"),Qc("getDimension",(function(e){return Cu(e)+"px"}))]}))],xH=function(e){var t=$n(e.expanded),n=function(){return"expanded: "+t.get()};return is({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:w(t.set,!1),setExpanded:w(t.set,!0),readState:n})},CH=Object.freeze({__proto__:null,init:xH}),SH=Ql({fields:wH,name:"sliding",active:bH,apis:gH,state:CH}),kH=y([Pc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Uc("onOpened"),Uc("onClosed")].concat(IU())),_H=y([Dp({factory:yU,schema:pU(),name:"primary"}),Dp({factory:yU,schema:pU(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Rl([SH.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){jp(t,e,"overflow-button").each((function(e){Yy.off(e),Iy.focus(e)})),e.onClosed(t)},onGrown:function(t){dy.focusIn(t),e.onOpened(t)},onStartGrow:function(t){jp(t,e,"overflow-button").each(Yy.on)}}),dy.config({mode:"acyclic",onEscape:function(t){return jp(t,e,"overflow-button").each(Iy.focus),F.some(!0)}})])}}}),Mp({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Rl([Yy.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Mp({name:"overflow-group"})]),BH=function(e,t){return jp(e,t,"overflow").map(SH.hasGrown).getOr(!1)},DH=function(e,t){jp(e,t,"overflow-button").bind((function(){return jp(e,t,"overflow")})).each((function(n){MH(e,t),SH.toggleGrow(n)}))},MH=function(e,t){jp(e,t,"overflow").each((function(n){TU(e,t,(function(e){var t=G(e,(function(e){return bu(e)}));yU.setGroups(n,t)})),jp(e,t,"overflow-button").each((function(e){SH.hasGrown(n)&&Yy.on(e)})),SH.refresh(n)}))},EH=function(e,t,n,r){var i="alloy.toolbar.toggle",o=function(t,n){var r=G(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.splitToolbarBehaviours,[ZD.config({others:{overflowGroup:function(e){return KU.sketch(B(B({},r["overflow-group"]()),{items:[Yb.sketch(B(B({},r["overflow-button"]()),{action:function(t){co(e,i)}}))]}))}}}),Cy("toolbar-toggle-events",[bo(i,(function(t){DH(t,e)}))])]),apis:{setGroups:function(t,n){o(t,n),MH(t,e)},refresh:function(t){return MH(t,e)},toggle:function(t){return DH(t,e)},isOpen:function(t){return BH(t,e)}},domModification:{attributes:{role:"group"}}}},TH=um({name:"SplitSlidingToolbar",configFields:kH(),partFields:_H(),factory:EH,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),IH=y(Na("toolbar-height-change")),OH=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:B({tag:"div",classes:["tox-toolbar__group"]},t),components:[KU.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Rl([eD.config({}),Iy.config({})])}},LH=function(e){return KU.sketch(OH(e))},FH=function(e,t){var n=Eo((function(t){var n=G(e.initGroups,LH);yU.setGroups(t,n)}));return Rl([$S.toolbarButton(e.providers.isDisabled),zS(),dy.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Cy("toolbar-events",[n])])},PH=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":OH({title:F.none(),items:[]}),"overflow-button":NL({name:"more",icon:F.some("more-drawer"),disabled:!1,tooltip:F.some("More..."),primary:!1,borderless:!1},F.none(),e.providers)},splitToolbarBehaviours:FH(e,t)}},NH=function(e){var t=PH(e),n=4,r=XU.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return XU.sketch(B(B({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,r=oc(t),i=jo(t),o=oc(i),a=Math.max(i.dom.scrollHeight,o.height);return rc(r.x+n,o.y,r.width-2*n,a)},parts:B(B({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},UH=function(e){var t=TH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=TH.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=PH(e);return TH.sketch(B(B({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([IH()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([IH()],{type:"closed"})}}))},HH=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return yU.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===sx.scrolling?["tox-toolbar--scrolling"]:[])},components:[yU.parts.groups({})],toolbarBehaviours:FH(e,t)})},RH=Ut([xn("type"),bn("items",Rt([Xt([xn("name"),Mn("items",An)]),An]))].concat(jw)),VH=function(e){return nn("GroupToolbarButton",RH,e)},QH=[On("text"),On("tooltip"),On("icon"),kn("fetch"),zn("onSetup",(function(){return p}))],jH=Ut(M([xn("type")],QH)),zH=function(e){return nn("menubutton",jH,e)},GH=Ut([xn("type"),On("tooltip"),On("icon"),On("text"),Ln("select"),kn("fetch"),zn("onSetup",(function(){return p})),Qn("presets","normal",["normal","color","listpreview"]),Un("columns",1),kn("onAction"),kn("onItemAction")]),KH=function(e){return nn("SplitButton",GH,e)},qH=function(e,t){var n=function(n,r){e.updateState.each((function(e){var i=e(n,r);t.set(i)})),e.renderComponents.each((function(e){var i=e(r,t.get()),o=G(i,n.getSystem().build);UA(n,o)}))};return mo([bo(Vi(),(function(t,r){var i=r;if(!i.universal){var o=e.channel;V(i.channels,o)&&n(t,i.data)}})),Eo((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])},WH=Object.freeze({__proto__:null,events:qH}),$H=function(e,t,n){return n},XH=Object.freeze({__proto__:null,getState:$H}),YH=[yn("channel"),En("renderComponents"),En("updateState"),En("initialData")],JH=function(){var e=$n(F.none()),t=function(t){return e.set(t)},n=function(){return e.set(F.none())},r=function(){return e.get()},i=function(){return e.get().fold((function(){return"none"}),(function(e){return e}))};return{readState:i,get:r,set:t,clear:n}},ZH=Object.freeze({__proto__:null,init:JH}),eR=Ql({fields:YH,name:"reflecting",active:WH,apis:XH,state:ZH}),tR=y([yn("toggleClass"),yn("fetch"),Rc("onExecute"),Un("getHotspot",F.some),Un("getAnchorOverrides",y({})),Qd(),Rc("onItemExecute"),En("lazySink"),yn("dom"),Uc("onOpen"),Xh("splitDropdownBehaviours",[ZD,dy,Iy]),Un("matchWidth",!1),Un("useMinWidth",!1),Un("eventOrder",{}),En("role")].concat(hM())),nR=Dp({factory:Yb,schema:[yn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Rl([Iy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(fo)},buttonBehaviours:Rl([Yy.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),rR=Dp({factory:Yb,schema:[yn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Rl([Iy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),iR=y([nR,rR,Ep({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[yn("text")],name:"aria-descriptor"}),Mp({schema:[Fc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),tM()]),oR=function(e,t,n,r){var i,o=function(e){ym.getCurrent(e).each((function(e){Hm.highlightFirst(e),dy.focusIn(e)}))},a=function(t){var n=o;uM(e,(function(e){return e}),t,r,n,_D.HighlightFirst).get(p)},s=function(e){return a(e),F.some(!0)},u=function(t){var n=zp(t,e,"button");return fo(n),F.some(!0)},c=B(B({},mo([Eo((function(t,n){var r=jp(t,e,"aria-descriptor");r.each((function(e){var n=Na("aria");Ca(e.element,"id",n),Ca(t.element,"aria-describedby",n)}))}))])),Zy(F.some(a))),l={repositionMenus:function(e){Yy.isOn(e)&&AM(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:B(B({},e.eventOrder),(i={},i[Qi()]=["disabling","toggling","alloy.base.behaviour"],i)),events:c,behaviours:Jh(e.splitDropdownBehaviours,[ZD.config({others:{sandbox:function(t){var n=zp(t,e,"arrow"),r={onOpen:function(){Yy.on(n),Yy.on(t)},onClose:function(){Yy.off(n),Yy.off(t)}};return fM(e,t,r)}}}),dy.config({mode:"special",onSpace:u,onEnter:u,onDown:s}),Iy.config({}),Yy.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},aR=um({name:"SplitDropdown",configFields:tR(),partFields:iR(),factory:oR,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),sR=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},uR=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)}}},cR=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},lR=Na("focus-button"),dR=["checklist","ordered-list"],fR=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],AR=function(e,t,n,r,i,o){var a,s=function(e){return TC.isRtl()&&V(dR,e)?e+"-rtl":e},u=TC.isRtl()&&e.exists((function(e){return V(fR,e)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(u?["tox-tbtn__icon-rtl"]:[]),attributes:cR(n,o)},components:tk([e.map((function(e){return hL(s(e),o.icons)})),t.map((function(e){return mL(e,"tox-tbtn",o)}))]),eventOrder:(a={},a[xi()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Rl([$S.toolbarButton(o.isDisabled),zS(),Cy("common-button-display-events",[bo(xi(),(function(e,t){t.event.prevent(),co(e,lR)}))])].concat(r.map((function(n){return eR.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return tk([e.icon.map((function(e){return hL(s(e),o.icons)})),e.text.map((function(e){return mL(e,"tox-tbtn",o)}))])}})})).toArray()).concat(i.getOr([])))}},hR=function(e,t,n,r){var i=t.shared;return QU.sketch({lazySink:i.getSink,fetch:function(){return FD.nu((function(t){t(G(n(e.items),LH))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:AR(e.icon,e.text,e.tooltip,F.none(),F.none(),i.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},pR=function(e,t,n){var r=$n(p),i=AR(e.icon,e.text,e.tooltip,F.none(),F.none(),n);return Yb.sketch({dom:i.dom,components:i.components,eventOrder:yL,buttonBehaviours:Rl([Cy("toolbar-button-events",[vL({onAction:e.onAction,getApi:t.getApi}),YS(t,r),JS(t,r)]),$S.toolbarButton((function(){return e.disabled||n.isDisabled()})),zS()].concat(t.toolbarButtonBehaviours))})},mR=function(e,t){return gR(e,t,[])},gR=function(e,t,n){return pR(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Cy("toolbarButtonWith",n)]:[]),getApi:sR,onSetup:e.onSetup},t)},vR=function(e,t){return yR(e,t,[])},yR=function(e,t,n){return We(pR(e,{toolbarButtonBehaviours:[wy.config({}),Yy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Cy("toolbarToggleButtonWith",n)]:[]),getApi:uR,onSetup:e.onSetup},t))},bR=function(e,t,n){return function(r){return FD.nu((function(e){return t.fetch(e)})).map((function(i){return F.from(uB(We(I_(Na("menu-value"),i,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,ux.CLOSE_ON_EXECUTE,t.select.getOr(S),n),{movement:L_(t.columns,t.presets),menuBehaviours:mC.unnamedEvents("auto"!==t.columns?[]:[Eo((function(e,n){AC(e,4,Ex(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;dy.setGridSize(e,n,r)}))}))])})))}))}},wR=function(e,t){var n,r=Na("channel-update-split-dropdown-display"),i=function(e){return{isDisabled:function(){return XC.isDisabled(e)},setDisabled:function(t){return XC.set(e,t)},setIconFill:function(t,n){hc(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Ca(e,"fill",n)}))},setIconStroke:function(t,n){hc(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Ca(e,"stroke",n)}))},setActive:function(t){e.getSystem().isConnected()&&(Ca(e.element,"aria-pressed",t),hc(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Yy.set(e,t)}))})))},isActive:function(){return hc(e.element,"span").exists((function(t){return!!e.getSystem().isConnected()&&e.getSystem().getByDom(t).exists(Yy.isOn)}))}}},o=$n(p),a={getApi:i,onSetup:e.onSetup};return aR.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:B({"aria-pressed":!1},cR(e.tooltip,t.providers))},onExecute:function(t){e.onAction(i(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Rl([$S.splitButton(t.providers.isDisabled),zS(),Cy("split-dropdown-events",[bo(lR,Iy.focus),YS(a,o),JS(a,o)]),xM.config({})]),eventOrder:(n={},n[Zi()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:bR(i,e,t.providers),parts:{menu:Px(!1,e.columns,e.presets)},components:[aR.parts.button(AR(e.icon,e.text,F.none(),F.some(r),F.some([Yy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),aR.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ew("chevron-down",t.providers.icons)},buttonBehaviours:Rl([$S.splitButton(t.providers.isDisabled),zS()])}),aR.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},xR=function(e){return{hide:function(){return co(e,Ki())},getValue:function(){return $h.getValue(e)}}},CR=function(e,t){return bo(gL,(function(n,r){var i=e.get(n),o=xR(i);t.onAction(o,r.event.buttonApi)}))},SR=function(e,t,n){var r=t.original,i=(r.primary,D(r,["primary"])),o=rn(Gw(B(B({},i),{type:"button",onAction:p})));return gR(o,n.backstage.shared.providers,[CR(e,t)])},kR=function(e,t,n){var r=t.original,i=(r.primary,D(r,["primary"])),o=rn(Ww(B(B({},i),{type:"togglebutton",onAction:p})));return yR(o,n.backstage.shared.providers,[CR(e,t)])},_R=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?kR(e,t,r):SR(e,t,r)},BR=function(e,t,n){var r=G(t,(function(t){return Jb(_R(e,t,n))})),i=function(){return G(r,(function(e){return e.asSpec()}))},o=function(e){return fe(t,(function(t,n){return t.primary?F.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(x(XC.isDisabled)):F.none()}))};return{asSpecs:i,findPrimary:o}},DR=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),r=Jb(CD.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Rl([dy.config({mode:"special",onEnter:function(e){return i.findPrimary(e).map((function(e){return fo(e),!0}))},onLeft:function(e,t){return t.cut(),F.none()},onRight:function(e,t){return t.cut(),F.none()}})])})),i=BR(r,e.commands,t);return[{title:F.none(),items:[r.asSpec()]},{title:F.none(),items:i.asSpecs()}]},MR=function(e,t,n){return HH({type:e,uid:Na("context-toolbar"),initGroups:DR(t,n),onEscape:F.none,cyclicKeying:!0,providers:n})},ER={renderContextForm:MR,buildInitGroups:DR},TR=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,i=t.width-(n-t.x),o=Math.min(r,i);return{x:n,width:o}},IR=function(e,t,n,r){var i=tr.fromDom(e.getContainer()),o=hc(i,".tox-editor-header").getOr(i),a=ic(o),s=a.y>=t.bottom,u=r&&!s;if(e.inline&&u)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!u)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var c=ic(i);return u?{y:Math.max(a.bottom,n.y),bottom:Math.min(c.bottom,n.bottom)}:{y:Math.max(c.y,n.y),bottom:Math.min(a.y,n.bottom)}},OR=function(e,t){var n=Wu(window),r=ic(tr.fromDom(e.getContentAreaContainer())),i=dS(e)||fS(e)||hS(e),o=TR(r,n),a=o.x,s=o.width;if(e.inline&&!i)return rc(a,n.y,s,n.height);var u=t.header.isPositionedAtTop(),c=IR(e,r,n,u),l=c.y,d=c.bottom;return rc(a,l,s,d-l)},LR=function(e,t){var n=$(t,(function(t){return t.predicate(e.dom)})),r=W(n,(function(e){return"contexttoolbar"===e.type})),i=r.pass,o=r.fail;return{contextToolbars:i,contextForms:o}},FR=function(e){if(e.length<=1)return e;var t=function(t){return Q(e,(function(e){return e.position===t}))},n=function(t){return $(e,(function(e){return e.position===t}))},r=t("selection"),i=t("node");if(r||i){if(i&&r){var o=n("node"),a=G(n("selection"),(function(e){return B(B({},e),{position:"node"})}));return o.concat(a)}return n(r?"selection":"node")}return n("line")},PR=function(e){if(e.length<=1)return e;var t=function(t){return Z(e,(function(e){return e.position===t}))},n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}));return n.fold((function(){return[]}),(function(t){return $(e,(function(e){return e.position===t}))}))},NR=function(e,t,n){var r=LR(e,t);if(r.contextForms.length>0)return F.some({elem:e,toolbars:[r.contextForms[0]]});var i=LR(e,n);if(i.contextForms.length>0)return F.some({elem:e,toolbars:[i.contextForms[0]]});if(r.contextToolbars.length>0||i.contextToolbars.length>0){var o=FR(r.contextToolbars.concat(i.contextToolbars));return F.some({elem:e,toolbars:o})}return F.none()},UR=function(e,t,n){return e(t)?F.none():ci(t,(function(e){var t=LR(e,n.inNodeScope),r=t.contextToolbars,i=t.contextForms,o=i.length>0?i:PR(r);return o.length>0?F.some({elem:e,toolbars:o}):F.none()}),e)},HR=function(e,t){var n=tr.fromDom(t.getBody()),r=function(e){return ii(e,n)},i=function(e){return!r(e)&&!si(n,e)},o=tr.fromDom(t.selection.getNode());return i(o)?F.none():NR(o,e.inNodeScope,e.inEditorScope).orThunk((function(){return UR(r,o,e)}))},RR=function(e,t){var n={},r=[],i=[],o={},a={},s=function(e,s){var u=rn(nx(s));n[e]=u,u.launch.map((function(n){o["form:"+e]=B(B({},s.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(u)}})})),"editor"===u.scope?i.push(u):r.push(u),a[e]=u},u=function(e,t){ix(t).each((function(n){"editor"===t.scope?i.push(n):r.push(n),a[e]=n}))},c=De(e);return K(c,(function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&u(t,n)})),{forms:n,inNodeScope:r,inEditorScope:i,lookupTable:a,formNavigators:o}},VR=Na("forward-slide"),QR=Na("backward-slide"),jR=Na("change-slide-event"),zR="tox-pop--resizing",GR=function(e){var t=$n([]);return Nb.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),Nb.getContent(e).each((function(e){ru(e.element,"visibility")})),Hs(e.element,zR),ru(e.element,"width")},inlineBehaviours:Rl([Cy("context-toolbar-events",[Mo(Li(),(function(e,t){Hs(e.element,zR),ru(e.element,"width")})),bo(jR,(function(e,t){var n=e.element;ru(n,"width");var r=Lu(n);Nb.setContent(e,t.event.contents),Ns(n,zR);var i=Lu(n);$s(n,"width",r+"px"),Nb.getContent(e).each((function(e){t.event.focus.bind((function(e){return Xl(e),ed(n)})).orThunk((function(){return dy.focusIn(e),Zl(ta(n))}))})),$b.setTimeout((function(){$s(e.element,"width",i+"px")}),0)})),bo(VR,(function(e,n){Nb.getContent(e).each((function(n){t.set(t.get().concat([{bar:n,focus:Zl(ta(e.element))}]))})),lo(e,jR,{contents:n.event.forwardContents,focus:F.none()})})),bo(QR,(function(e,n){le(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1)),lo(e,jR,{contents:bu(n.bar),focus:n.focus})}))}))]),dy.config({mode:"special",onEscape:function(n){return le(t.get()).fold((function(){return e.onEscape()}),(function(e){return co(n,QR),F.some(!0)}))}})]),lazySink:function(){return me.value(e.sink)}})},KR=function(e,t,n){var r=function(e,r,o,a){var s=t.shared.providers.translate(e.title);if("separator"===e.type)return F.some({type:"separator",text:s});if("submenu"===e.type){var u=ne(e.getStyleItems(),(function(e){return i(e,r,a)}));return 0===r&&u.length<=0?F.none():F.some({type:"nestedmenuitem",text:s,disabled:u.length<=0,getSubmenuItems:function(){return ne(e.getStyleItems(),(function(e){return i(e,r,a)}))}})}return F.some(B({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(a),disabled:o,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},i=function(e,t,i){var o="formatter"===e.type&&n.isInvalid(e);return 0===t?o?[]:r(e,t,!1,i).toArray():r(e,t,o,i).toArray()},o=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return ne(e,(function(e){return i(e,r,t)}))},a=function(e,t){return function(n,r){var i=t(),a=o(i),s=IL(a,ux.CLOSE_ON_EXECUTE,e,!1);r(s)}};return{validateItems:o,getFetch:a}},qR=function(e,t,n){var r=n.dataset,i="basic"===r.type?function(){return G(r.data,(function(e){return yN(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:KR(e,t,n),getStyleItems:i}},WR=function(e,t,n){var r=qR(e,t,n),i=r.items,o=r.getStyleItems,a=function(e){return{getComponent:y(e)}},s=function(t){var r=function(){var e=t.getComponent();e.getSystem().isConnected()&&n.updateText(e)};return r(),e.on("NodeChange",r),function(){e.off("NodeChange",r)}};return xL({text:n.icon.isSome()?F.none():F.some(""),icon:n.icon,tooltip:F.from(n.tooltip),role:F.none(),fetch:i.getFetch(t,o),onSetup:s,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},$R=function(e){return G(e,(function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}))},XR=function(e){return{type:"basic",data:e}};(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})(PF||(PF={}));var YR,JR=function(e,t){return t===PF.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},ZR=function(e,t,n,r){var i=e.getParam(t,n,"string"),o=$R(JR(i,r));return{type:"basic",data:o}},eV=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],tV=function(e){var t=function(){return Z(eV,(function(t){return e.formatter.match(t.format)}))},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return F.none()}},i=function(e){var n=t(),r=n.fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}));lo(e,wL,{icon:"align-"+r})},o=XR(eV),a=function(t){return function(){return Z(eV,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}};return{tooltip:"Align",icon:F.some("align-left"),isSelectedFor:n,getCurrentValue:F.none,getPreviewFor:r,onAction:a,updateText:i,dataset:o,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},nV=function(e,t){return WR(e,t,tV(e))},rV=function(e,t){var n=qR(e,t,tV(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},iV="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",oV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],aV=function(e){var t=e.split(/\s*,\s*/);return G(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},sV=function(e){var t=function(){var t=aV(e.toLowerCase());return re(oV,(function(e){return t.indexOf(e.toLowerCase())>-1}))};return 0===e.indexOf("-apple-system")&&t()},uV=function(e){var t=function(){var t=function(e){return e?aV(e)[0]:""},n=e.queryCommandValue("FontName"),r=s.data,i=n?n.toLowerCase():"",o=Z(r,(function(e){var n=e.format;return n.toLowerCase()===i||t(n).toLowerCase()===t(i).toLowerCase()})).orThunk((function(){return sV(i)?F.from({title:"System Font",format:i}):F.none()}));return{matchOpt:o,font:n}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},i=function(e){return function(){return F.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},o=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},a=function(e){var n=t(),r=n.matchOpt,i=n.font,o=r.fold((function(){return i}),(function(e){return e.title}));lo(e,bL,{text:o})},s=ZR(e,"font_formats",iV,PF.SemiColon);return{tooltip:"Fonts",icon:F.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:i,onAction:o,updateText:a,dataset:s,shouldHide:!1,isInvalid:S}},cV=function(e,t){return WR(e,t,uV(e))},lV=function(e,t){var n=qR(e,t,uV(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},dV="8pt 10pt 12pt 14pt 18pt 24pt 36pt",fV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},AV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},hV=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},pV=function(e,t){return/[0-9.]+px$/.test(e)?hV(72*parseInt(e,10)/96,t||0)+"pt":He(AV,e).getOr(e)},mV=function(e){return He(fV,e).getOr("")},gV=function(e){var t=function(){var t=F.none(),n=s.data,r=e.queryCommandValue("FontSize");if(r)for(var i=function(e){var i=pV(r,e),o=mV(i);t=Z(n,(function(e){return e.format===r||e.format===i||e.format===o}))},o=3;t.isNone()&&o>=0;o--)i(o);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},i=y(F.none),o=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},a=function(e){var n=t(),r=n.matchOpt,i=n.size,o=r.fold((function(){return i}),(function(e){return e.title}));lo(e,bL,{text:o})},s=ZR(e,"fontsize_formats",dV,PF.Space);return{tooltip:"Font sizes",icon:F.none(),isSelectedFor:n,getPreviewFor:i,getCurrentValue:r,onAction:o,updateText:a,dataset:s,shouldHide:!1,isInvalid:S}},vV=function(e,t){return WR(e,t,gV(e))},yV=function(e,t){var n=qR(e,t,gV(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},bV=function(e,t){var n=t(),r=G(n,(function(e){return e.format}));return F.from(e.formatter.closest(r)).bind((function(e){return Z(n,(function(t){return t.format===e}))})).orThunk((function(){return hm(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},wV=function(e){var t=$n(F.none()),n=function(){return t.get().each(e)},r=function(){n(),t.set(F.none())},i=function(){return t.get().isSome()},o=function(e){n(),t.set(F.some(e))};return{clear:r,isSet:i,set:o}},xV=function(){return wV((function(e){return e.destroy()}))},CV=function(){return wV((function(e){return e.unbind()}))},SV=function(){var e=$n(F.none()),t=function(){return e.set(F.none())},n=function(t){return e.set(F.some(t))},r=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:i}},kV=function(e,t){return function(n){var r=CV(),i=function(){n.setActive(e.formatter.match(t));var i=e.formatter.formatChanged(t,n.setActive);r.set(i)};return e.initialized?i():e.on("init",i),r.clear}},_V=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},BV="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",DV=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return F.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},r=function(t){var n=bV(e,(function(){return i.data})),r=n.fold((function(){return"Paragraph"}),(function(e){return e.title}));lo(t,bL,{text:r})},i=ZR(e,"block_formats",BV,PF.SemiColon);return{tooltip:"Blocks",icon:F.none(),isSelectedFor:t,getCurrentValue:F.none,getPreviewFor:n,onAction:_V(e),updateText:r,dataset:i,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},MV=function(e,t){return WR(e,t,DV(e))},EV=function(e,t){var n=qR(e,t,DV(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},TV=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?F.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):F.none()}},i=function(t){var n=function(e){var t=e.items;return void 0!==t&&t.length>0?ne(t,n):[{title:e.title,format:e.format}]},r=ne(vN(e),n),i=bV(e,(function(){return r})),o=i.fold((function(){return"Paragraph"}),(function(e){return e.title}));lo(t,bL,{text:o})};return{tooltip:"Formats",icon:F.none(),isSelectedFor:n,getCurrentValue:F.none,getPreviewFor:r,onAction:_V(e),updateText:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},IV=function(e,t){var n=B({type:"advanced"},t.styleselect);return WR(e,t,TV(e,n))},OV=function(e,t){var n=B({type:"advanced"},t.styleselect),r=qR(e,t,TV(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},LV=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],FV=function(e,t){return function(n,r,i){var o=e(n).mapError((function(e){return an(e)})).getOrDie();return t(o,r,i)}},PV={button:FV(Gw,(function(e,t){return mR(e,t.backstage.shared.providers)})),togglebutton:FV(Ww,(function(e,t){return vR(e,t.backstage.shared.providers)})),menubutton:FV(zH,(function(e,t){return LL(e,"tox-tbtn",t.backstage,F.none())})),splitbutton:FV(KH,(function(e,t){return wR(e,t.backstage.shared)})),grouptoolbarbutton:FV(VH,(function(e,t,n){var r,i=n.ui.registry.getAll().buttons,o=function(e){return zV(n,{buttons:i,toolbar:e,allowToolbarGroups:!1},t,F.none())},a=(r={},r[Rd]=t.backstage.shared.header.isPositionedAtTop()?wc.TopToBottom:wc.BottomToTop,r);switch(mS(n)){case sx.floating:return hR(e,t.backstage,o,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return IV(e,t.backstage)},fontsizeSelectButton:function(e,t){return vV(e,t.backstage)},fontSelectButton:function(e,t){return cV(e,t.backstage)},formatButton:function(e,t){return MV(e,t.backstage)},alignMenuButton:function(e,t){return nV(e,t.backstage)}},NV=function(e,t,n){return He(PV,e.type).fold((function(){return console.error("skipping button defined by",e),F.none()}),(function(r){return F.some(r(e,t,n))}))},UV={styleselect:PV.styleSelectButton,fontsizeselect:PV.fontsizeSelectButton,fontselect:PV.fontSelectButton,formatselect:PV.formatButton,align:PV.alignMenuButton},HV=function(e){var t=G(LV,(function(t){var n=$(t.items,(function(t){return Re(e,t)||Re(UV,t)}));return{name:t.name,items:n}}));return $(t,(function(e){return e.items.length>0}))},RV=function(e){var t=e.split("|");return G(t,(function(e){return{items:e.trim().split(" ")}}))},VV=function(e){return h(e,(function(e){return Re(e,"name")&&Re(e,"items")}))},QV=function(e){var t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?HV(n):o(t)?RV(t):VV(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},jV=function(e,t,n,r,i,o){return He(t,n.toLowerCase()).orThunk((function(){return o.bind((function(e){return fe(e,(function(e){return He(t,e+n.toLowerCase())}))}))})).fold((function(){return He(UV,n.toLowerCase()).map((function(t){return t(e,i)})).orThunk((function(){return F.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||r?NV(t,i,e):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),F.none())}))},zV=function(e,t,n,r){var i=QV(t),o=G(i,(function(i){var o=ne(i.items,(function(i){return 0===i.trim().length?[]:jV(e,t.buttons,i,t.allowToolbarGroups,n,r).toArray()}));return{title:F.from(e.translate(i.name)),items:o}}));return $(o,(function(e){return e.items.length>0}))},GV=12,KV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},qV={maxHeightFunction:Md(),maxWidthFunction:fU()},WV={onLtr:function(){return[yl,bl,gl,pl,vl,ml,qb,Wb,Gb,jb,Kb,zb]},onRtl:function(){return[yl,bl,vl,ml,gl,pl,qb,Wb,Kb,zb,Gb,jb]}},$V={onLtr:function(){return[bl,pl,ml,gl,vl,yl,qb,Wb,Gb,jb,Kb,zb]},onRtl:function(){return[bl,ml,pl,vl,gl,yl,qb,Wb,Kb,zb,Gb,jb]}},XV=function(e,t){return"line"===e?{bubble:Ld(GV,0,KV),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[xl]}},overrides:qV}:{bubble:Ld(0,GV,KV),layouts:t?$V:WV,overrides:qV}},YV=function(e,t,n,r){var i=qr().deviceType.isTouch,o=yu(GR({sink:n,onEscape:function(){return e.focus(),F.some(!0)}})),a=function(){return OR(e,r.backstage.shared)},s=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},u=function(){var t=h.get().filter((function(e){return zs(tr.fromDom(e))})).map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()})),n=e.inline?zu().top:oc(tr.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},c=function(){if(i()&&r.backstage.isContextMenuOpen())return!0;var e=u(),t=a();return!s(e.y,e.bottom,t.y,t.bottom)},l=function(){A.set(F.none()),Nb.hide(o)},d=function(){Nb.hide(o)},f=function(){A.get().each((function(e){var t=o.element;ru(t,"display"),c()?$s(t,"display","none"):OA.positionWithinBounds(n,e,o,F.some(a()))}))},A=$n(F.none()),h=$n(F.none()),m=$n(null),g=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Rl([dy.config({mode:"acyclic"}),Cy("pop-dialog-wrap-events",[Eo((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return dy.focusIn(t)}))})),To((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},v=Xe((function(){return RR(t,(function(e){var t=w([e]);lo(o,VR,{forwardContents:g(t)})}))})),y=function(t,n){return zV(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,F.some(["form:"]))},b=function(e,t){return ER.buildInitGroups(e,t)},w=function(t){var n=e.ui.registry.getAll().buttons,i=v(),o=B(B({},n),i.formNavigators),a=mS(e)===sx.scrolling?sx.scrolling:sx.default,s=te(G(t,(function(e){return"contexttoolbar"===e.type?y(o,e):b(e,r.backstage.shared.providers)})));return HH({type:a,uid:Na("context-toolbar"),initGroups:s,onEscape:F.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on(AU,(function(t){var n=v();He(n.lookupTable,t.toolbarKey).each((function(n){C([n],t.target===e?F.none():F.some(t)),Nb.getContent(o).each(dy.focusIn)}))}));var x=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return We(n,XV(e,i()))},C=function(e,t){if(k(),!i()||!r.backstage.isContextMenuOpen()){var n=w(e),s=t.map(tr.fromDom),u=x(e[0].position,s);A.set(F.some(u)),h.set(t);var l=o.element;ru(l,"display"),Nb.showWithinBounds(o,u,g(n),(function(){return F.some(a())})),c()&&$s(l,"display","none")}},S=function(){if(e.hasFocus()){var t=v();HR(t,e).fold(l,(function(e){C(e.toolbars,F.some(e.elem.dom))}))}},k=function(){var e=m.get();null!==e&&($b.clearTimeout(e),m.set(null))},_=function(){k(),m.set($b.setEditorTimeout(e,S,0))};e.on("init",(function(){e.on(hU,d),e.on("ScrollContent ScrollWindow longpress",f),e.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){_()})),e.on("focusout",(function(t){$b.setEditorTimeout(e,(function(){ed(n.element).isNone()&&ed(o.element).isNone()&&l()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&l()})),e.on("AfterProgressState",(function(t){t.state?l():e.hasFocus()&&_()})),e.on("NodeChange",(function(e){ed(o.element).fold(_,p)}))}))},JV=function(e,t,n){var r=function(e,r){K([t,n],(function(t){t.broadcastEvent(e,r)}))},i=function(e,r){K([t,n],(function(t){t.broadcastOn([e],r)}))},o=function(e){return i(hh(),{target:e.target})},a=AB(tr.fromDom(document),"touchstart",o),s=AB(tr.fromDom(document),"touchmove",(function(e){return r($i(),e)})),u=AB(tr.fromDom(document),"touchend",(function(e){return r(Xi(),e)})),c=AB(tr.fromDom(document),"mousedown",o),l=AB(tr.fromDom(document),"mouseup",(function(e){0===e.raw.button&&i(mh(),{target:e.target})})),d=function(e){return i(hh(),{target:tr.fromDom(e.target)})},f=function(e){0===e.button&&i(mh(),{target:tr.fromDom(e.target)})},A=function(e){return r(Yi(),pB(e))},h=function(e){i(ph(),{}),r(Ji(),pB(e))},p=function(){return i(ph(),{})},m=function(t){t.state&&i(hh(),{target:tr.fromDom(e.getContainer())})};e.on("PostRender",(function(){e.on("click",d),e.on("tap",d),e.on("mouseup",f),e.on("ScrollWindow",A),e.on("ResizeWindow",h),e.on("ResizeEditor",p),e.on("AfterProgressState",m)})),e.on("remove",(function(){e.off("click",d),e.off("tap",d),e.off("mouseup",f),e.off("ScrollWindow",A),e.off("ResizeWindow",h),e.off("ResizeEditor",p),e.off("AfterProgressState",m),c.unbind(),a.unbind(),s.unbind(),u.unbind(),l.unbind()})),e.on("detach",(function(){qA(t),qA(n),t.destroy(),n.destroy()}))},ZV=Yp,eQ=Op,tQ=y([Un("shell",!1),yn("makeItem"),Un("setupItem",p),Zh.field("listBehaviours",[wy])]),nQ=function(){return{behaviours:Rl([wy.config({})])}},rQ=Ep({name:"items",overrides:nQ}),iQ=y([rQ]),oQ=y("CustomList"),aQ=function(e,t,n,r){var i=function(t,n){a(t).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var i=wy.contents(r),o=n.length,a=o-i.length,s=a>0?j(a,(function(){return e.makeItem()})):[],u=i.slice(o);K(u,(function(e){return wy.remove(r,e)})),K(s,(function(e){return wy.append(r,e)}));var c=wy.contents(r);K(c,(function(r,i){e.setupItem(t,r,n[i],i)}))}))},o=e.shell?{behaviours:[wy.config({})],components:[]}:{behaviours:[],components:t},a=function(t){return e.shell?F.some(t):jp(t,e,"items")};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:Jh(e.listBehaviours,o.behaviours),apis:{setItems:i}}},sQ=um({name:oQ(),configFields:tQ(),partFields:iQ(),factory:aQ,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),uQ=p,cQ=S,lQ=y([]),dQ=Object.freeze({__proto__:null,setup:uQ,isDocked:cQ,getBehaviours:lQ}),fQ=function(e){var t=eu(e,"position").is("fixed"),n=t?F.none():qo(e);return n.orThunk((function(){var t=tr.fromTag("span");return Go(e).bind((function(e){da(e,t);var n=qo(t);return ma(t),n}))}))},AQ=function(e){return fQ(e).map(Eu).getOrThunk((function(){return Bu(0,0)}))},hQ=je.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),pQ=function(e,t){var n=e.element;Ns(n,t.transitionClass),Hs(n,t.fadeOutClass),Ns(n,t.fadeInClass),t.onShow(e)},mQ=function(e,t){var n=e.element;Ns(n,t.transitionClass),Hs(n,t.fadeInClass),Ns(n,t.fadeOutClass),t.onHide(e)},gQ=function(e,t){return e.y<t.bottom&&e.bottom>t.y},vQ=function(e,t){return e.y>=t.y},yQ=function(e,t){return e.bottom<=t.bottom},bQ=function(e,t,n){return re(e,(function(e){switch(e){case"bottom":return yQ(t,n);case"top":return vQ(t,n)}}))},wQ=function(e,t){return t.getInitialPosition().map((function(t){return rc(t.bounds.x,t.bounds.y,Lu(e),Cu(e))}))},xQ=function(e,t,n){n.setInitialPosition(F.some({style:tu(e),position:Js(e,"position")||"static",bounds:t}))},CQ=function(e,t,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(F.none()),r.position){case"static":return F.some(hQ.static());case"absolute":var i=fQ(e).map(ic).getOrThunk((function(){return ic(Gs())}));return F.some(hQ.absolute(nd("absolute",He(r.style,"left").map((function(e){return t.x-i.x})),He(r.style,"top").map((function(e){return t.y-i.y})),He(r.style,"right").map((function(e){return i.right-t.right})),He(r.style,"bottom").map((function(e){return i.bottom-t.bottom})))));default:return F.none()}}))},SQ=function(e,t,n){return wQ(e,n).filter((function(e){return bQ(n.getModes(),e,t)})).bind((function(t){return CQ(e,t,n)}))},kQ=function(e,t,n){var r=ic(e);if(bQ(n.getModes(),r,t))return F.none();xQ(e,r,n);var i=ac(),o=r.x-i.x,a=t.y-i.y,s=i.bottom-t.bottom,u=r.y<=t.y;return F.some(hQ.fixed(nd("fixed",F.some(o),u?F.some(a):F.none(),F.none(),u?F.none():F.some(s))))},_Q=function(e,t,n){var r=e.element,i=eu(r,"position").is("fixed");return i?SQ(r,t,n):kQ(r,t,n)},BQ=function(e,t){var n=e.element;return wQ(n,t).bind((function(e){return CQ(n,e,t)}))},DQ=function(e,t){K(["left","right","top","bottom","position"],(function(t){return ru(e.element,t)})),t.onUndocked(e)},MQ=function(e,t,n){rd(e.element,n);var r="fixed"===n.position?t.onDocked:t.onUndocked;r(e)},EQ=function(e,t,n,r,i){void 0===i&&(i=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(o){var a=gQ(o,r);if(a!==n.isVisible())if(n.setVisible(a),i&&!a)Vs(e.element,[t.fadeOutClass]),t.onHide(e);else{var s=a?pQ:mQ;s(e,t)}}))}))},TQ=function(e,t,n){var r=t.lazyViewport(e),i=n.isDocked();i&&EQ(e,t,n,r),_Q(e,r,n).each((function(o){n.setDocked(!i),o.fold((function(){return DQ(e,t)}),(function(n){return MQ(e,t,n)}),(function(i){EQ(e,t,n,r,!0),MQ(e,t,i)}))}))},IQ=function(e,t,n){var r=e.element;n.setDocked(!1),BQ(e,n).each((function(n){n.fold((function(){return DQ(e,t)}),(function(n){return MQ(e,t,n)}),p)})),n.setVisible(!0),t.contextual.each((function(t){Qs(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),OQ(e,t,n)},OQ=function(e,t,n){e.getSystem().isConnected()&&TQ(e,t,n)},LQ=function(e,t,n){n.isDocked()&&IQ(e,t,n)},FQ=function(e,t,n){return n.isDocked()},PQ=function(e,t,n,r){return n.setModes(r)},NQ=function(e,t,n){return n.getModes()},UQ=Object.freeze({__proto__:null,refresh:OQ,reset:LQ,isDocked:FQ,getModes:NQ,setModes:PQ}),HQ=function(e,t){return mo([Mo(Li(),(function(n,r){e.contextual.each((function(e){if(Rs(n.element,e.transitionClass)){Qs(n.element,[e.transitionClass,e.fadeInClass]);var i=t.isVisible()?e.onShown:e.onHidden;i(n)}r.stop()}))})),bo(Yi(),(function(n,r){OQ(n,e,t)})),bo(Ji(),(function(n,r){LQ(n,e,t)}))])},RQ=Object.freeze({__proto__:null,events:HQ}),VQ=[Pn("contextual",[xn("fadeInClass"),xn("fadeOutClass"),xn("transitionClass"),kn("lazyContext"),Uc("onShow"),Uc("onShown"),Uc("onHide"),Uc("onHidden")]),zn("lazyViewport",ac),Kn("modes",["top","bottom"],An),Uc("onDocked"),Uc("onUndocked")],QQ=function(e){var t=$n(!1),n=$n(!0),r=$n(F.none()),i=$n(e.modes),o=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+i.get().join(",")};return is({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:o})},jQ=Object.freeze({__proto__:null,init:QQ}),zQ=Ql({fields:VQ,name:"docking",active:RQ,apis:UQ,state:jQ}),GQ={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},KQ="tox-tinymce--toolbar-sticky-on",qQ="tox-tinymce--toolbar-sticky-off",WQ=function(e,t){var n=Vo(t),r=n.dom.defaultView.innerHeight,i=zu(n),o=tr.fromDom(e.elm),a=oc(o),s=Cu(o),u=a.y,c=u+s,l=Eu(t),d=Cu(t),f=l.top,A=f+d,h=Math.abs(f-i.top)<2,p=Math.abs(A-(i.top+r))<2;if(h&&u<A)Gu(i.left,u-d,n);else if(p&&c>f){var m=u-r+s+d;Gu(i.left,m,n)}},$Q=function(e,t){return V(zQ.getModes(e),t)},XQ=function(e){var t=function(e){return Su(e)+(parseInt(Js(e,"margin-top"),10)||0)+(parseInt(Js(e,"margin-bottom"),10)||0)},n=e.element;Go(n).each((function(r){var i="padding-"+zQ.getModes(e)[0];if(zQ.isDocked(e)){var o=Lu(r);$s(n,"width",o+"px"),$s(r,i,t(n)+"px")}else ru(n,"width"),ru(r,i)}))},YQ=function(e,t){t?(Hs(e,GQ.fadeOutClass),Vs(e,[GQ.transitionClass,GQ.fadeInClass])):(Hs(e,GQ.fadeInClass),Vs(e,[GQ.fadeOutClass,GQ.transitionClass]))},JQ=function(e,t){var n=tr.fromDom(e.getContainer());t?(Ns(n,KQ),Hs(n,qQ)):(Ns(n,qQ),Hs(n,KQ))},ZQ=function(e,t){var n=Vo(t);Zl(n).filter((function(e){return!ii(t,e)})).filter((function(t){return ii(t,tr.fromDom(n.dom.body))||si(e,t)})).each((function(){return Xl(t)}))},ej=function(e,t){return ed(e).orThunk((function(){return t().toOptional().bind((function(e){return ed(e.element)}))}))},tj=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(zQ.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(XQ)})),e.on("SkinLoaded",(function(){n().each((function(e){zQ.isDocked(e)?zQ.reset(e):zQ.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(zQ.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){zQ.refresh(t);var n=t.element;Og(n)&&WQ(e,n)}))})),e.on("PostRender",(function(){JQ(e,!1)}))},nj=function(e){return e().map(zQ.isDocked).getOr(!1)},rj=function(){var e;return[Kl.config({channels:(e={},e[IH()]={onReceive:XQ},e)})]},ij=function(e,t){var n=$n(F.none()),r=t.getSink,i=function(e){r().each((function(t){return e(t.element)}))},o=function(t){e.inline||XQ(t),JQ(e,zQ.isDocked(t)),t.getSystem().broadcastOn([ph()],{}),r().each((function(e){return e.getSystem().broadcastOn([ph()],{})}))},a=e.inline?[]:rj();return M([Iy.config({}),zQ.config({contextual:B({lazyContext:function(t){var n=Su(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer(),i=ic(tr.fromDom(r)),o=i.height-n,a=i.y+($Q(t,"top")?0:n);return F.some(rc(i.x,a,i.width,o))},onShow:function(){i((function(e){return YQ(e,!0)}))},onShown:function(e){i((function(e){return Qs(e,[GQ.transitionClass,GQ.fadeInClass])})),n.get().each((function(t){ZQ(e.element,t),n.set(F.none())}))},onHide:function(e){n.set(ej(e.element,r)),i((function(e){return YQ(e,!1)}))},onHidden:function(){i((function(e){return Qs(e,[GQ.transitionClass])}))}},GQ),modes:[t.header.getDockingMode()],onDocked:o,onUndocked:o})],a)},oj=Object.freeze({__proto__:null,setup:tj,isDocked:nj,getBehaviours:ij}),aj=function(e){var t=e.editor,n=e.sticky?ij:lQ;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Rl(n(t,e.sharedBackstage))}},sj=function(e,t){var n=function(e,n){var r=G(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=zH(n).mapError((function(e){return an(e)})).getOrDie();return LL(r,"tox-mbtn",t.backstage,F.some("menuitem"))}));wy.set(e,r)},r={focus:dy.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Rl([wy.config({}),Cy("menubar-events",[Eo((function(t){e.onSetup(t)})),bo(_i(),(function(e,t){hc(e.element,".tox-mbtn--active").each((function(n){pc(t.event.target,".tox-mbtn").each((function(t){ii(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){vM.expand(e),vM.close(n),Iy.focus(e)}))}))}))}))})),bo(ro(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){vM.isOpen(n)&&(vM.expand(e),vM.close(n))}))}))}))]),dy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),F.some(!0)}}),eD.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},uj=sm({factory:sj,name:"silver.Menubar",configFields:[yn("dom"),yn("uid"),yn("onEscape"),yn("backstage"),Un("onSetup",p)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),cj="container",lj=[Xh("slotBehaviours",[])],dj=function(e){return"<alloy.field."+e+">"},fj=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Up(cj,dj(t),n)};return{slot:t,record:function(){return e}}}(),n=e(t),r=t.record(),i=G(r,(function(e){return Dp({name:e,pname:dj(e)})}));return tm(cj,lj,i,Aj,n)},Aj=function(e,t){var n=function(t){return qp(e)},r=function(t,n){return jp(t,e,n)},i=function(t,n){return function(r,i){return jp(r,e,i).map((function(e){return t(e,i)})).getOr(n)}},o=function(e){return function(t,n){K(n,(function(n){return e(t,n)}))}},a=function(e,t){return"true"!==ka(e.element,"aria-hidden")},s=function(e,t){if(!a(e)){var n=e.element;ru(n,"display"),Da(n,"aria-hidden"),lo(e,io(),{name:t,visible:!0})}},u=function(e,t){if(a(e)){var n=e.element;$s(n,"display","none"),Ca(n,"aria-hidden","true"),lo(e,io(),{name:t,visible:!1})}},c=i(a,!1),l=i(u),d=o(l),f=function(e){return d(e,n())},A=i(s),h={getSlotNames:n,getSlot:r,isShowing:c,hideSlot:l,hideAllSlots:f,showSlot:A};return{uid:e.uid,dom:e.dom,components:t,behaviours:Yh(e.slotBehaviours),apis:h}},hj=Te({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return ns(e)})),pj=B(B({},hj),{sketch:fj}),mj=Ut([On("icon"),On("tooltip"),zn("onShow",p),zn("onHide",p),zn("onSetup",(function(){return p}))]),gj=function(e){return nn("sidebar",mj,e)},vj=function(e){var t=e.ui.registry.getAll().sidebars;K(De(t),(function(n){var r=t[n],i=function(){return F.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(i())},onSetup:function(t){var n=function(){return t.setActive(i())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))},yj=function(e){return{element:function(){return e.element.dom}}},bj=function(e,t){var n=G(De(t),(function(e){var n=t[e],r=rn(gj(n));return{name:e,getApi:yj,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return G(n,(function(t){var r=$n(p);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:mC.unnamedEvents([YS(t,r),JS(t,r),bo(io(),(function(e,t){var r=t.event,i=Z(n,(function(e){return e.name===r.name}));i.each((function(t){var n=r.visible?t.onShow:t.onHide;n(t.getApi(e))}))}))])})}))},wj=function(e){return pj.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:bj(t,e),slotBehaviours:mC.unnamedEvents([Eo((function(e){return pj.hideAllSlots(e)}))])}}))},xj=function(e,t){var n=ym.getCurrent(e);n.each((function(e){return wy.set(e,[wj(t)])}))},Cj=function(e,t){var n=ym.getCurrent(e);n.each((function(e){var n=ym.getCurrent(e);n.each((function(n){SH.hasGrown(e)?pj.isShowing(n,t)?SH.shrink(e):(pj.hideAllSlots(n),pj.showSlot(n,t)):(pj.hideAllSlots(n),pj.showSlot(n,t),SH.grow(e))}))}))},Sj=function(e){var t=ym.getCurrent(e);return t.bind((function(e){var t=SH.isGrowing(e)||SH.hasGrown(e);if(t){var n=ym.getCurrent(e);return n.bind((function(e){return Z(pj.getSlotNames(e),(function(t){return pj.isShowing(e,t)}))}))}return F.none()}))},kj=Na("FixSizeEvent"),_j=Na("AutoSizeEvent"),Bj=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Rl([eD.config({}),Iy.config({}),SH.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=ym.getCurrent(e);t.each(pj.hideAllSlots),co(e,_j)},onGrown:function(e){co(e,_j)},onStartGrow:function(e){lo(e,kj,{width:eu(e.element,"width").getOr("")})},onStartShrink:function(e){lo(e,kj,{width:Lu(e.element)+"px"})}}),wy.config({}),ym.config({find:function(e){var t=wy.contents(e);return ce(t)}})])}],behaviours:Rl([MI.childAt(0),Cy("sidebar-sliding-events",[bo(kj,(function(e,t){$s(e.element,"width",t.event.width)})),bo(_j,(function(e,t){ru(e.element,"width")}))])])}},Dj=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return Y(t,(function(e,t){var n;return"class"===t.name?e:B(B({},e),(n={},n[t.name]=t.value,n))}),{})},Mj=function(e){return Array.prototype.slice.call(e.dom.classList,0)},Ej=function(e){var t=tr.fromHtml(e),n=$o(t),r=Dj(t),i=Mj(t),o=0===n.length?{}:{innerHtml:ya(t)};return B({tag:Lo(t),classes:i,attributes:r},o)},Tj=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:Ej('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Rl([dy.config({mode:"special",onTab:function(){return F.some(!0)},onShiftTab:function(){return F.some(!0)}}),Iy.config({})])}},Ij=function(e,t,n){var r=e.element;!0===t?(wy.set(e,[Tj(n)]),ru(r,"display"),Da(r,"aria-hidden")):(wy.set(e,[]),$s(r,"display","none"),Ca(r,"aria-hidden","true"))},Oj=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Rl([wy.config({})]),components:[]}},Lj=function(e,t,n){var r=$n(!1),i=$n(F.none()),o=function(i){i!==r.get()&&(Ij(t(),i,n.providers),r.set(i),e.fire("AfterProgressState",{state:i}))};e.on("ProgressState",(function(t){if(i.get().each($b.clearTimeout),A(t.time)){var n=$b.setEditorTimeout(e,(function(){return o(t.state)}),t.time);i.set(F.some(n))}else o(t.state),i.set(F.none())}))},Fj=function(e,t,n){var r={getSocket:function(t){return ZV.getPart(t,e,"socket")},setSidebar:function(t,n){ZV.getPart(t,e,"sidebar").each((function(e){return xj(e,n)}))},toggleSidebar:function(t,n){ZV.getPart(t,e,"sidebar").each((function(e){return Cj(e,n)}))},whichSidebar:function(t){return ZV.getPart(t,e,"sidebar").bind(Sj).getOrNull()},getHeader:function(t){return ZV.getPart(t,e,"header")},getToolbar:function(t){return ZV.getPart(t,e,"toolbar")},setToolbar:function(t,n){ZV.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){ZV.getPart(t,e,"multiple-toolbar").each((function(e){sQ.setItems(e,n)}))},refreshToolbar:function(t){var n=ZV.getPart(t,e,"toolbar");n.each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){ZV.getPart(t,e,"toolbar").each((function(e){Am(e.getApis().toggle,(function(t){return t(e)}))}))},isToolbarDrawerToggled:function(t){return ZV.getPart(t,e,"toolbar").bind((function(e){return F.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return ZV.getPart(t,e,"throbber")},focusToolbar:function(t){var n=ZV.getPart(t,e,"toolbar").orThunk((function(){return ZV.getPart(t,e,"multiple-toolbar")}));n.each((function(e){dy.focusIn(e)}))},setMenubar:function(t,n){ZV.getPart(t,e,"menubar").each((function(e){uj.setMenus(e,n)}))},focusMenubar:function(t){ZV.getPart(t,e,"menubar").each((function(e){uj.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},Pj=eQ.optional({factory:uj,name:"menubar",schema:[yn("backstage")]}),Nj=function(e){return e.type===sx.sliding?UH:e.type===sx.floating?NH:HH},Uj=eQ.optional({factory:{sketch:function(e){return sQ.sketch({uid:e.uid,dom:e.dom,listBehaviours:Rl([dy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return HH({type:e.type,uid:Na("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),F.some(!0)}})},setupItem:function(e,t,n,r){yU.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[yn("dom"),yn("onEscape")]}),Hj=eQ.optional({factory:{sketch:function(e){var t=Nj(e),n={type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),F.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[yn("dom"),yn("onEscape"),yn("getSink")]}),Rj=eQ.optional({factory:{sketch:aj},name:"header",schema:[yn("dom")]}),Vj=eQ.optional({name:"socket",schema:[yn("dom")]}),Qj=eQ.optional({factory:{sketch:Bj},name:"sidebar",schema:[yn("dom")]}),jj=eQ.optional({factory:{sketch:Oj},name:"throbber",schema:[yn("dom")]}),zj=um({name:"OuterContainer",factory:Fj,configFields:[yn("dom"),yn("behaviours")],partFields:[Rj,Pj,Hj,Uj,Vj,Qj,jj],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=G(n,(function(e){return LH(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=G(n,(function(e){return G(e,LH)}));e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),Gj="file edit view insert format tools table help",Kj={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},qj=function(e,t,n){var r=lS(n).split(/[ ,]/);return{text:e.title,getItems:function(){return ne(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||Q(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}},Wj=function(e){return"string"===typeof e?e.split(" "):e},$j=function(e,t){var n=B(B({},Kj),t.menus),r=De(t.menus).length>0,i=void 0===t.menubar||!0===t.menubar?Wj(Gj):Wj(!1===t.menubar?"":t.menubar),o=$(i,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||Kj.hasOwnProperty(e)})),a=G(o,(function(r){var i=n[r];return qj({title:i.title,items:Wj(i.items)},t,e)}));return $(a,(function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&Q(e.getItems(),t)}))},Xj=function(e){var t=function(){e._skinLoaded=!0,Yk(e)};return function(){e.initialized?t():e.on("init",t)}},Yj=function(e,t){return function(){return Jk(e,{message:t})}},Jj=function(e,t,n){return new kw((function(r,i){n.load(t,r,i),e.on("remove",(function(){return n.unload(t)}))}))},Zj=function(e,t){var n=t+"/skin.min.css";return Jj(e,n,e.ui.styleSheetLoader)},ez=function(e,t){var n=ra(tr.fromDom(e.getElement()));if(n){var r=t+"/skin.shadowdom.min.css";return Jj(e,r,EC.DOM.styleSheetLoader)}return kw.resolve()},tz=function(e,t){var n=JC(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!1===eS(t)&&o(n)?kw.all([Zj(t,n),ez(t,n)]).then(Xj(t),Yj(t,"Skin could not be loaded")):Xj(t)()},nz=w(tz,!1),rz=w(tz,!0),iz=function(e,t,n,r){var i=t.outerContainer,a=n.toolbar,s=n.buttons;if(h(a,o)){var u=a.map((function(t){var i={toolbar:t,buttons:s,allowToolbarGroups:n.allowToolbarGroups};return zV(e,i,{backstage:r},F.none())}));zj.setToolbars(i,u)}else zj.setToolbar(i,zV(e,n,{backstage:r},F.none()))},oz=qr(),az=oz.os.isiOS()&&oz.os.version.major<=12,sz=function(e,t){var n=e.dom,r=e.getWin(),i=e.getDoc().documentElement,o=$n(Bu(r.innerWidth,r.innerHeight)),a=$n(Bu(i.offsetWidth,i.offsetHeight)),s=function(){var t=o.get();t.left===r.innerWidth&&t.top===r.innerHeight||(o.set(Bu(r.innerWidth,r.innerHeight)),e_(e))},u=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Bu(t.offsetWidth,t.offsetHeight)),e_(e))},c=function(t){return t_(e,t)};n.bind(r,"resize",s),n.bind(r,"scroll",c);var l=hB(tr.fromDom(e.getBody()),"load",u),d=t.uiMothership.element;e.on("hide",(function(){$s(d,"display","none")})),e.on("show",(function(){ru(d,"display")})),e.on("NodeChange",u),e.on("remove",(function(){l.unbind(),n.unbind(r,"resize",s),n.unbind(r,"scroll",c),r=null}))},uz=function(e,t,n,r,i){var o=$n(0),a=t.outerContainer;nz(e);var s=tr.fromDom(i.targetNode),u=na(ta(s));GA(s,t.mothership),zA(u,t.uiMothership),e.on("PostRender",(function(){iz(e,t,n,r),o.set(e.getWin().innerWidth),zj.setMenubar(a,$j(e,n)),zj.setSidebar(a,n.sidebar),sz(e,t)}));var c=zj.getSocket(a).getOrDie("Could not find expected socket element");if(az){Xs(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=uw((function(){e.fire("ScrollContent")}),20),d=AB(c.element,"scroll",l.throttle);e.on("remove",d.unbind)}jS(e,t),e.addCommand("ToggleSidebar",(function(t,n){zj.toggleSidebar(a,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return zj.whichSidebar(a)}));var f=mS(e),A=function(){zj.refreshToolbar(t.outerContainer)};f!==sx.sliding&&f!==sx.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==o.get()&&(A(),o.set(t))}));var h={enable:function(){QS(t,!1)},disable:function(){QS(t,!0)},isDisabled:function(){return XC.isDisabled(a)}};return{iframeContainer:c.element.dom,editorContainer:a.element.dom,api:h}},cz=Object.freeze({__proto__:null,render:uz}),lz=function(e){var t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?F.some(parseInt(""+e,10)):F.none()},dz=function(e){return A(e)?e+"px":e},fz=function(e,t,n){var r=t.filter((function(t){return e<t})),i=n.filter((function(t){return e>t}));return r.or(i).getOr(e)},Az=function(e){var t=tS(e),n=iS(e),r=aS(e);return lz(t).map((function(e){return fz(e,n,r)}))},hz=function(e){var t=Az(e);return t.getOr(tS(e))},pz=function(e){var t=nS(e),n=rS(e),r=oS(e);return lz(t).map((function(e){return fz(e,n,r)}))},mz=function(e){var t=pz(e);return t.getOr(nS(e))},gz=function(e,t,n,r,i){var o=n.uiMothership,a=n.outerContainer,s=EC.DOM,u=kS(e),c=DS(e),l=oS(e).or(pz(e)),d=r.shared.header,f=d.isPositionedAtTop,A=mS(e),h=A===sx.sliding||A===sx.floating,p=$n(!1),m=function(){return p.get()&&!e.removed},g=function(e){return h?e.fold((function(){return 0}),(function(e){return e.components().length>1?Cu(e.components()[1].element):0})):0},v=function(n){switch(yS(e)){case pS.auto:var r=zj.getToolbar(a),i=g(r),o=Cu(n.element)-i,s=ic(t),u=s.y>o;if(u)return"top";var c=jo(t),l=Math.max(c.dom.scrollHeight,Cu(c)),d=s.bottom<l-o;if(d)return"bottom";var f=ac(),A=f.bottom<s.bottom-o;return A?"bottom":"top";case pS.bottom:return"bottom";case pS.top:default:return"top"}},y=function(e){var t=i.get();zQ.setModes(t,[e]),d.setDockingMode(e);var n=f()?wc.TopToBottom:wc.BottomToTop;Ca(t.element,Rd,n)},b=function(){var e=l.getOrThunk((function(){var e=lz(Js(Gs(),"margin-left")).getOr(0);return Lu(Gs())-Eu(t).left+e}));$s(i.get().element,"max-width",e+"px")},w=function(){var e=zj.getToolbar(a),n=g(e),r=ic(t),o=f()?Math.max(r.y-Cu(i.get().element)+n,0):r.bottom;Xs(a.element,{position:"absolute",top:Math.round(o)+"px",left:Math.round(r.x)+"px"})},x=function(){o.broadcastOn([ph()],{})},C=function(e){if(void 0===e&&(e=!1),m()){if(u||b(),h&&zj.refreshToolbar(a),u||w(),c){var t=i.get();e?zQ.reset(t):zQ.refresh(t)}x()}},S=function(e){if(void 0===e&&(e=!0),!u&&c&&m()){var t=d.getDockingMode(),n=v(i.get());n!==t&&(y(n),e&&C(!0))}},k=function(){p.set(!0),$s(a.element,"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),ru(o.element,"display"),S(!1),C()},_=function(){p.set(!1),n.outerContainer&&($s(a.element,"display","none"),s.removeClass(e.getBody(),"mce-edit-focus")),$s(o.element,"display","none")};return{isVisible:m,isPositionedAtTop:f,show:k,hide:_,update:C,updateMode:S,repositionPopups:x}},vz=function(e,t){var n=ic(e);return{pos:t?n.y:n.bottom,bounds:n}},yz=function(e,t,n,r){var i=$n(vz(t,n.isPositionedAtTop())),o=function(r){var o=vz(t,n.isPositionedAtTop()),a=o.pos,s=o.bounds,u=i.get(),c=u.pos,l=u.bounds,d=s.height!==l.height||s.width!==l.width;i.set({pos:a,bounds:s}),d&&e_(e,r),n.isVisible()&&(c!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){$b.requestAnimationFrame((function(){return o(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=CV();a.set(hB(tr.fromDom(e.getBody()),"load",o)),e.on("remove",(function(){a.clear()}))},bz=function(e,t,n,r,i){var o=t.mothership,a=t.uiMothership,s=t.outerContainer,u=$n(null),c=tr.fromDom(i.targetNode),l=gz(e,c,t,r,u),d=CS(e);rz(e);var f=function(){if(u.get())l.show();else{u.set(zj.getHeader(s).getOrDie());var i=_S(e);zA(i,o),zA(i,a),iz(e,t,n,r),zj.setMenubar(s,$j(e,n)),l.show(),yz(e,c,l,d),e.nodeChanged()}};e.on("show",f),e.on("hide",l.hide),d||(e.on("focus",f),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||d)&&f()})),jS(e,t);var A={show:function(){l.show()},hide:function(){l.hide()},enable:function(){QS(t,!1)},disable:function(){QS(t,!0)},isDisabled:function(){return XC.isDisabled(s)}};return{editorContainer:s.element.dom,api:A}},wz=Object.freeze({__proto__:null,render:bz}),xz=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];NI.each(t,(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:kV(e,t.name)})}));var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},Cz=function(e,t){rV(e,t),lV(e,t),OV(e,t),EV(e,t),yV(e,t)},Sz=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},kz=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return Sz(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},_z=function(e){kz(e)},Bz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Dz=function(){var e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,r="\\.",i=function(e){return"(?:"+e+")?"},o=["Infinity",e+r+i(e)+i(n),r+e+i(n),e+i(n)].join("|"),a="[+-]?(?:"+o+")";return new RegExp("^("+a+")(.*)$")}(),Mz=function(e,t){return Q(t,(function(t){return Q(Bz[t],(function(t){return e===t}))}))},Ez=function(e,t){var n=F.from(Dz.exec(e));return n.bind((function(e){var n=Number(e[1]),r=e[2];return Mz(r,t)?F.some({value:n,unit:r}):F.none()}))},Tz=function(e,t){return Ez(e,t).map((function(e){var t=e.value,n=e.unit;return t+n}))},Iz=function(e){return Tz(e,["fixed","relative","empty"]).getOr(e)},Oz=function(e){var t=cS(e),n=new Map,r=xV(),i=function(){var t=Iz(e.queryCommandValue("LineHeight"));F.from(n.get(t)).fold((function(){return r.clear()}),(function(e){r.set({destroy:function(){e.setActive(!1)}}),e.setActive(!0)}))};return e.on("nodeChange",i),G(t,(function(o,a){return{type:"togglemenuitem",text:o,onSetup:function(s){return n.set(Iz(o),s),a+1===t.length&&i(),function(){0===a&&(e.off("nodeChange",i),r.clear())}},onAction:function(){return e.execCommand("LineHeight",!1,o)}}}))},Lz=function(e){e.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return Oz(e)}})},Fz=function(e){e.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(t){return t(Oz(e))}})},Pz=function(e){Lz(e),Fz(e)},Nz=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},Uz=function(e){NI.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:kV(e,t.name),onAction:Nz(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:kV(e,n),onAction:Nz(e,n)})}},Hz=function(e){NI.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})}))},Rz=function(e){NI.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:kV(e,t.name)})}))},Vz=function(e){Uz(e),Hz(e),Rz(e)},Qz=function(e){NI.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:Nz(e,"code")})},jz=function(e){Vz(e),Qz(e)},zz=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},i=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i)}},Gz=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return zz(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return zz(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},Kz=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return zz(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return zz(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},qz=function(e){Gz(e),Kz(e)},Wz=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},$z=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return Wz(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},Xz=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},Yz=function(e){Xz(e),$z(e)},Jz=function(e,t){xz(e),jz(e),Cz(e,t),qz(e),T_(e),Yz(e),_z(e),Pz(e)},Zz=function(e,t){return{anchor:"makeshift",x:e,y:t}},eG=function(e,t,n){return Zz(e.x+t,e.y+n)},tG=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},nG=function(e){if(tG(e)){var t=e.touches[0];return Zz(t.pageX,t.pageY)}return Zz(e.pageX,e.pageY)},rG=function(e){if(tG(e)){var t=e.touches[0];return Zz(t.clientX,t.clientY)}return Zz(e.clientX,e.clientY)},iG=function(e,t){var n=EC.DOM.getPos(e);return eG(t,n.x,n.y)},oG=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?nG(t):iG(e.getContentAreaContainer(),rG(t)):aG(e)},aG=function(e){return{anchor:"selection",root:tr.fromDom(e.selection.getNode())}},sG=function(e){return{anchor:"node",node:F.some(tr.fromDom(e.selection.getNode())),root:tr.fromDom(e.getBody())}},uG=function(e,t,n,r,i,o){var a=n(),s=o?sG(e):oG(e,t);IL(a,ux.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),Nb.showMenuAt(i,s,{menu:{markers:Ox("normal")},data:e})}))},cG={onLtr:function(){return[bl,pl,ml,gl,vl,yl,qb,Wb,Gb,jb,Kb,zb]},onRtl:function(){return[bl,ml,pl,vl,gl,yl,qb,Wb,Kb,zb,Gb,jb]}},lG=12,dG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fG=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],i=n.getRng(),o=iA(e.getWin(),Df.domRange(i));return o.exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))},AG=function(e,t){return B({bubble:Ld(0,lG,dG),layouts:cG,overrides:{maxWidthFunction:fU(),maxHeightFunction:Md()}},oG(e,t))},hG=function(e){var t=e.selection.getRng(),n=function(){$b.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),o()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var i=function(){return o()};e.once("longpresscancel",i);var o=function(){e.off("touchend",n),e.off("longpresscancel",i),e.off("mousedown",r)}},pG=function(e,t,n,r,i,o,a){var s=o?sG(e):AG(e,t);IL(n,ux.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),Nb.showMenuWithinBounds(i,s,{menu:{markers:Ox("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return F.some(OR(e,r.shared))})),e.fire(hU)}))},mG=function(e,t,n,r,i,o){var a=qr(),s=a.os.isiOS(),u=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),d=function(){return!(c||s||u&&l)},f=function(){var a=n();pG(e,t,a,r,i,o,d())};if(!u&&!s||o)c&&!o&&e.selection.setCursorLocation(t.target,0),f();else{var A=function(){hG(e),f()};fG(e,t)?A():(e.once("selectionchange",A),e.once("touchend",(function(){return e.off("selectionchange",A)})))}},gG=function(e){return"string"===typeof e?e.split(/[ ,]/):e},vG=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},yG=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return F.from(e.getParam(t)).map(gG).getOrThunk((function(){return $(gG(n),(function(e){return Re(r,e)}))}))},bG=function(e){return!1===e.getParam("contextmenu")},wG=function(e){return yG(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},xG=function(e){return e.getParam("contextmenu_avoid_overlap","","string")},CG=function(e){return o(e)?"|"===e:"separator"===e.type},SG={type:"separator"},kG=function(e){var t=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}};if(o(e))return e;switch(e.type){case"separator":return SG;case"submenu":return B(B({type:"nestedmenuitem"},t(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();return o(t)?t:G(t,kG)}});default:return B(B({type:"menuitem"},t(e)),{onAction:m(e.onAction)})}},_G=function(e,t){if(0===t.length)return e;var n=le(e).filter((function(e){return!CG(e)})),r=n.fold((function(){return[]}),(function(e){return[SG]}));return e.concat(r).concat(t).concat([SG])},BG=function(e,t,n){var r=Y(t,(function(t,r){return He(e,r.toLowerCase()).map((function(e){var r=e.update(n);if(o(r))return _G(t,r.split(" "));if(r.length>0){var i=G(r,kG);return _G(t,i)}return t})).getOrThunk((function(){return t.concat([r])}))}),[]);return r.length>0&&CG(r[r.length-1])&&r.pop(),r},DG=function(e,t){return t.ctrlKey&&!vG(e)},MG=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},EG=function(e,t){return MG(e,t)?e.selection.getStart(!0):t.target},TG=function(e,t){var n=xG(e);if(MG(e,t))return!0;if(n){var r=EG(e,t);return mB(tr.fromDom(r),n)}return!1},IG=function(e,t,n){var r=qr(),i=r.deviceType.isTouch,o=yu(Nb.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Rl([Cy("dismissContextMenu",[bo(to(),(function(t,n){Ah.close(t),e.focus()}))])])})),a=function(e){return Nb.hide(o)},s=function(t){if(vG(e)&&t.preventDefault(),!DG(e,t)&&!bG(e)){var r=TG(e,t),a=function(){var n=EG(e,t),r=e.ui.registry.getAll(),i=wG(e);return BG(r.contextMenus,i,n)},s=i()?mG:uG;s(e,t,a,n,o,r)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",s)}))},OG=je.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),LG=function(e){return function(t){return t.translate(-e.left,-e.top)}},FG=function(e){return function(t){return t.translate(e.left,e.top)}},PG=function(e){return function(t,n){return Y(e,(function(e,t){return t(e)}),Bu(t,n))}},NG=function(e,t,n){return e.fold(PG([FG(n),LG(t)]),PG([LG(t)]),PG([]))},UG=function(e,t,n){return e.fold(PG([FG(n)]),PG([]),PG([FG(t)]))},HG=function(e,t,n){return e.fold(PG([]),PG([LG(n)]),PG([FG(t),LG(n)]))},RG=function(e,t,n,r,i,o){var a=UG(e,i,o),s=UG(t,i,o);return Math.abs(a.left-s.left)<=n&&Math.abs(a.top-s.top)<=r},VG=function(e,t,n,r,i,o){var a=UG(e,i,o),s=UG(t,i,o),u=Math.abs(a.left-s.left),c=Math.abs(a.top-s.top);return Bu(u,c)},QG=function(e,t,n){var r=e.fold((function(e,t){return{position:F.some("absolute"),left:F.some(e+"px"),top:F.some(t+"px")}}),(function(e,t){return{position:F.some("absolute"),left:F.some(e-n.left+"px"),top:F.some(t-n.top+"px")}}),(function(e,t){return{position:F.some("fixed"),left:F.some(e+"px"),top:F.some(t+"px")}}));return B({right:F.none(),bottom:F.none()},r)},jG=function(e,t,n){return e.fold((function(e,r){return GG(e+t,r+n)}),(function(e,r){return KG(e+t,r+n)}),(function(e,r){return qG(e+t,r+n)}))},zG=function(e,t,n,r){var i=function(e,i){return function(o,a){var s=e(t,n,r);return i(o.getOr(s.left),a.getOr(s.top))}};return e.fold(i(HG,GG),i(UG,KG),i(NG,qG))},GG=OG.offset,KG=OG.absolute,qG=OG.fixed,WG=function(e,t){var n=ka(e,t);return c(n)?NaN:parseInt(n,10)},$G=function(e,t){var n=e.element,r=WG(n,t.leftAttr),i=WG(n,t.topAttr);return isNaN(r)||isNaN(i)?F.none():F.some(Bu(r,i))},XG=function(e,t,n){var r=e.element;Ca(r,t.leftAttr,n.left+"px"),Ca(r,t.topAttr,n.top+"px")},YG=function(e,t){var n=e.element;Da(n,t.leftAttr),Da(n,t.topAttr)},JG=function(e,t,n,r){return $G(e,t).fold((function(){return n}),(function(e){return qG(e.left+r.left,e.top+r.top)}))},ZG=function(e,t,n,r,i,o){var a=JG(e,t,n,r),s=t.mustSnap?nK(e,t,a,i,o):rK(e,t,a,i,o),u=NG(a,i,o);return XG(e,t,u),s.fold((function(){return{coord:qG(u.left,u.top),extra:F.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},eK=function(e,t){YG(e,t)},tK=function(e,t,n,r){return fe(e,(function(e){var i=e.sensor,o=RG(t,i,e.range.left,e.range.top,n,r);return o?F.some({output:zG(e.output,t,n,r),extra:e.extra}):F.none()}))},nK=function(e,t,n,r,i){var o=t.getSnapPoints(e),a=tK(o,n,r,i);return a.orThunk((function(){var e=Y(o,(function(e,t){var o=t.sensor,a=VG(n,o,t.range.left,t.range.top,r,i);return e.deltas.fold((function(){return{deltas:F.some(a),snap:F.some(t)}}),(function(n){var r=(a.left+a.top)/2,i=(n.left+n.top)/2;return r<=i?{deltas:F.some(a),snap:F.some(t)}:e}))}),{deltas:F.none(),snap:F.none()});return e.snap.map((function(e){return{output:zG(e.output,n,r,i),extra:e.extra}}))}))},rK=function(e,t,n,r,i){var o=t.getSnapPoints(e);return tK(o,n,r,i)},iK=function(e,t,n){return{coord:zG(e.output,e.output,t,n),extra:e.extra}},oK=function(e,t,n,r){var i=t.getTarget(e.element);if(t.repositionTarget){var o=Vo(e.element),a=zu(o),s=AQ(i),u=iK(r,a,s),c=QG(u.coord,a,s);Ys(i,c)}},aK=Object.freeze({__proto__:null,snapTo:oK}),sK="data-initial-z-index",uK=function(e){Go(e.element).filter(No).each((function(e){_a(e,sK).fold((function(){return ru(e,"z-index")}),(function(t){return $s(e,"z-index",t)})),Da(e,sK)}))},cK=function(e){Go(e.element).filter(No).each((function(t){eu(t,"z-index").each((function(e){Ca(t,sK,e)})),$s(t,"z-index",Js(e.element,"z-index"))}))},lK=function(e,t){e.getSystem().addToGui(t),cK(t)},dK=function(e){uK(e),e.getSystem().removeFromGui(e)},fK=function(e,t,n){return e.getSystem().build(zB.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},AK=Pn("snaps",[yn("getSnapPoints"),Uc("onSensor"),yn("leftAttr"),yn("topAttr"),Un("lazyViewport",ac),Un("mustSnap",!1)]),hK=[Un("useFixed",S),yn("blockerClass"),Un("getTarget",b),Un("onDrag",p),Un("repositionTarget",!0),Un("onDrop",p),zn("getBounds",ac),AK],pK=function(e){return fm(eu(e,"left"),eu(e,"top"),eu(e,"position"),(function(e,t,n){var r="fixed"===n?qG:GG;return r(parseInt(e,10),parseInt(t,10))})).getOrThunk((function(){var t=Eu(e);return KG(t.left,t.top)}))},mK=function(e,t,n,r,i){var o=i.bounds,a=UG(t,n,r),s=md(a.left,o.x,o.x+o.width-i.width),u=md(a.top,o.y,o.y+o.height-i.height),c=KG(s,u);return t.fold((function(){var e=HG(c,n,r);return GG(e.left,e.top)}),(function(){return c}),(function(){var e=NG(c,n,r);return qG(e.left,e.top)}))},gK=function(e,t,n,r,i,o,a){var s=t.fold((function(){var e=jG(n,o.left,o.top),t=NG(e,r,i);return qG(t.left,t.top)}),(function(t){var a=ZG(e,t,n,o,r,i);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord}));return mK(e,s,r,i,a)},vK=function(e,t,n,r){var i=t.getTarget(e.element);if(t.repositionTarget){var o=Vo(e.element),a=zu(o),s=AQ(i),u=pK(i),c=gK(e,t.snaps,u,a,s,r,n),l=QG(c,a,s);Ys(i,l)}t.onDrag(e,i,r)},yK=function(e,t){return{bounds:e.getBounds(),height:Su(t.element),width:Fu(t.element)}},bK=function(e,t,n,r,i){var o=n.update(r,i),a=n.getStartData().getOrThunk((function(){return yK(t,e)}));o.each((function(n){vK(e,t,a,n)}))},wK=function(e,t,n,r){t.each(dK),n.snaps.each((function(t){eK(e,t)}));var i=n.getTarget(e.element);r.reset(),n.onDrop(e,i)},xK=function(e){return function(t,n){var r=function(e){n.setStartData(yK(t,e))};return mo(M([bo(Yi(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},CK=function(e){return mo([bo(xi(),e.forceDrop),bo(ki(),e.drop),bo(Ci(),(function(t,n){e.move(n.event)})),bo(Si(),e.delayDrop)])},SK=function(e){return F.from(Bu(e.x,e.y))},kK=function(e,t){return Bu(t.left-e.left,t.top-e.top)},_K=Object.freeze({__proto__:null,getData:SK,getDelta:kK}),BK=function(e,t,n){return[bo(xi(),(function(r,i){var o=i.event.raw;if(0===o.button){i.stop();var a=function(){return wK(r,F.some(c),e,t)},s=gB(a,200),u={drop:a,delayDrop:s.schedule,forceDrop:a,move:function(n){s.cancel(),bK(r,e,t,_K,n)}},c=fK(r,e.blockerClass,CK(u)),l=function(){n(r),lK(r,c)};l()}}))]},DK=M(hK,[Qc("dragger",{handlers:xK(BK)})]),MK=function(e){return mo([bo(vi(),e.forceDrop),bo(bi(),e.drop),bo(wi(),e.drop),bo(yi(),(function(t,n){e.move(n.event)}))])},EK=function(e){var t=e[0];return F.some(Bu(t.clientX,t.clientY))},TK=function(e){var t=e.raw,n=t.touches;return 1===n.length?EK(n):F.none()},IK=function(e,t){return Bu(t.left-e.left,t.top-e.top)},OK=Object.freeze({__proto__:null,getData:TK,getDelta:IK}),LK=function(e,t,n){var r=$n(F.none());return[bo(vi(),(function(i,o){o.stop();var a=function(){wK(i,r.get(),e,t),r.set(F.none())},s={drop:a,delayDrop:p,forceDrop:a,move:function(n){bK(i,e,t,OK,n)}},u=fK(i,e.blockerClass,MK(s));r.set(F.some(u));var c=function(){n(i),lK(i,u)};c()})),bo(yi(),(function(n,r){r.stop(),bK(n,e,t,OK,r.event)})),bo(bi(),(function(n,i){i.stop(),wK(n,r.get(),e,t),r.set(F.none())})),bo(wi(),(function(n){wK(n,r.get(),e,t),r.set(F.none())}))]},FK=M(hK,[Qc("dragger",{handlers:xK(LK)})]),PK=function(e,t,n){return M(BK(e,t,n),LK(e,t,n))},NK=M(hK,[Qc("dragger",{handlers:xK(PK)})]),UK=DK,HK=FK,RK=NK,VK=Object.freeze({__proto__:null,mouse:UK,touch:HK,mouseOrTouch:RK}),QK=function(){var e=F.none(),t=F.none(),n=function(){e=F.none(),t=F.none()},r=function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));return e=F.some(n),r},i=function(e,t){return e.getData(t).bind((function(t){return r(e,t)}))},o=function(e){t=F.some(e)},a=function(){return t},s=y({});return is({readState:s,reset:n,update:i,getStartData:a,setStartData:o})},jK=Object.freeze({__proto__:null,init:QK}),zK=zl({branchKey:"mode",branches:VK,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:F.from(e.extra)}}},state:jK,apis:aK}),GK=40,KK=GK/2,qK=function(e,t,n,r,i,o){return e.fold((function(){return zK.snap({sensor:KG(n-KK,r-KK),range:Bu(i,o),output:KG(F.some(n),F.some(r)),extra:{td:t}})}),(function(e){var i=n-KK,o=r-KK,a=GK,s=GK,u=e.element.dom.getBoundingClientRect();return zK.snap({sensor:KG(i,o),range:Bu(a,s),output:KG(F.some(n-u.width/2),F.some(r-u.height/2)),extra:{td:t}})}))},WK=function(e,t,n){var r=function(e,t){return e.exists((function(e){return ii(e,t)}))};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,i){var o=i.td;r(t.get(),o)||(t.set(F.some(o)),n(o))},mustSnap:!0}},$K=function(e){return Jb(Yb.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Rl([zK.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),xM.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},XK=function(e,t){var n=$n([]),r=$n([]),i=$n(!1),o=$n(F.none()),a=$n(F.none()),s=function(e){var n=oc(e);return qK(A.getOpt(t),e,n.x,n.y,n.width,n.height)},u=function(){return G(n.get(),(function(e){return s(e)}))},c=function(e){var n=oc(e);return qK(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=function(){return G(r.get(),(function(e){return c(e)}))},d=WK(u,o,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),f=WK(l,a,(function(t){o.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),A=$K(d),h=$K(f),p=yu(A.asSpec()),m=yu(h.asSpec()),g=function(t,n,r,i){var o=n.dom.getBoundingClientRect();ru(t.element,"display");var a=zo(tr.fromDom(e.getBody())).dom.innerHeight,s=r(o),u=i(o,a);(s||u)&&$s(t.element,"display","none")},v=function(e,t,n,r){var i=n(t);zK.snapTo(e,i);var o=function(e){return e[r]<0},a=function(e,t){return e[r]>t};g(e,t,o,a)},y=function(e){return v(p,e,s,"top")},b=function(){return o.get().each(y)},w=function(e){return v(m,e,c,"bottom")},x=function(){return a.get().each(w)};qr().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){i.get()||(HA(t,p),HA(t,m),i.set(!0)),o.set(F.some(e.start)),a.set(F.some(e.finish)),e.otherCells.each((function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),w(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){b(),x()})),e.on("TableSelectionClear",(function(){i.get()&&(QA(p),QA(m),i.set(!1)),o.set(F.none()),a.set(F.none())})))},YK=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},JK=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var i=r||[],o=G(i,(function(t,r){return Yb.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:Rl([$S.button(n.isDisabled),zS()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return Y(o.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[o[0]])},i=function(t){var n=[],r=t.length;while(r-- >0){var i=t[r];if(1===i.nodeType&&!YK(i)){var o=e.fire("ResolveName",{name:i.nodeName.toLowerCase(),target:i});if(o.isDefaultPrevented()||n.push({name:o.name,element:i}),o.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Rl([dy.config({mode:"flow",selector:"div[role=button]"}),XC.config({disabled:n.isDisabled}),zS(),eD.config({}),wy.config({}),Cy("elementPathEvents",[Eo((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return dy.focusIn(t)})),e.on("NodeChange",(function(e){var n=i(e.parents);n.length>0?wy.set(t,r(n)):wy.set(t,[])}))}))])]),components:[]}};(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(YR||(YR={}));var ZK=function(e,t,n,r,i){var o={};return o.height=fz(r+t.top,iS(e),aS(e)),n===YR.Both&&(o.width=fz(i+t.left,rS(e),oS(e))),o},eq=function(e,t,n){var r=tr.fromDom(e.getContainer()),i=ZK(e,t,n,Cu(r),Lu(r));Ee(i,(function(e,t){return $s(r,t,dz(e))})),Zk(e)},tq=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return!1===n?YR.None:"both"===n?YR.Both:YR.Vertical},nq=function(e,t,n,r){var i=20,o=Bu(n*i,r*i);return eq(e,o,t),F.some(!0)},rq=function(e,t){var n=tq(e);return n===YR.None?F.none():F.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:ew("resize-handle",t.icons)},behaviours:Rl([zK.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,i){return eq(e,i,n)},blockerClass:"tox-blocker"}),dy.config({mode:"special",onLeft:function(){return nq(e,n,-1,0)},onRight:function(){return nq(e,n,1,0)},onUp:function(){return nq(e,n,0,-1)},onDown:function(){return nq(e,n,0,1)}}),eD.config({}),Iy.config({})])})},iq=function(e,t){var n,r=function(e,n,r){return wy.set(e,[mu(t.translate(["{0} "+r,n[r]]))])};return Yb.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Rl([$S.button(t.isDisabled),zS(),eD.config({}),wy.config({}),$h.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Cy("wordcount-events",[Oo((function(e){var t=$h.getValue(e),n="words"===t.mode?"characters":"words";$h.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)})),Eo((function(t){e.on("wordCountUpdate",(function(e){var n=$h.getValue(t).mode;$h.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Qi()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})},oq=function(e,t){var n=function(){var e=TC.translate(["Powered by {0}","Tiny"]),t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}},r=function(){var r=[];return e.getParam("elementpath",!0,"boolean")&&r.push(JK(e,{},t)),e.hasPlugin("wordcount")&&r.push(iq(e,t)),e.getParam("branding",!0,"boolean")&&r.push(n()),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]},i=function(){var n=r(),i=rq(e,t);return n.concat(i.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:i()}},aq=function(e){var t,n=e.inline,r=n?wz:cz,i=DS(e)?oj:dQ,o=F.none(),a=qr(),s=a.browser.isIE(),u=s?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),l="tox-platform-touch",d=c?[l]:[],f=bS(e),A=_S(e),h=TC.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:(t={},t[Rd]=f?wc.BottomToTop:wc.TopToBottom,t)},g=function(){return o.bind(zj.getHeader)},v=function(){return i.isDocked(g)},y=function(){$s(J.element,"width",document.body.clientWidth+"px")},b=function(){var e=ii(Gs(),A)&&"grid"===Js(A,"display"),t={dom:B({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(u).concat(d)},h),behaviours:Rl([OA.config({useFixed:function(){return v()}})])},n={dom:{styles:{width:document.body.clientWidth+"px"}},events:mo([bo(Ji(),y)])};return We(t,e?n:{})},w=yu(b()),x=function(){return me.value(w)},C=Jb({dom:{tag:"div",classes:["tox-anchorbar"]}}),S=function(){return o.bind((function(e){return C.getOpt(e)})).getOrDie("Could not find a anchor bar element")},k=function(){return o.bind((function(e){return zj.getToolbar(e)})).getOrDie("Could not find more toolbar element")},_=function(){return o.bind((function(e){return zj.getThrobber(e)})).getOrDie("Could not find throbber element")},D=dU(w,e,S),M=zj.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:D,onEscape:function(){e.focus()}}),E=mS(e),T=zj.parts.toolbar(B({dom:{tag:"div",classes:["tox-toolbar"]},getSink:x,providers:D.shared.providers,onEscape:function(){e.focus()},type:E,lazyToolbar:k,lazyHeader:function(){return g().getOrDie("Could not find header element")}},m)),I=zj.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:D.shared.providers,onEscape:function(){e.focus()},type:E}),O=zj.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),L=zj.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),P=zj.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:D}),N=e.getParam("statusbar",!0,"boolean"),U=N&&!n?F.some(oq(e,D.shared.providers)):F.none(),H={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[O,L]},R=hS(e),V=fS(e),Q=dS(e),j=function(){return R?[I]:V?[T]:[]},z=zj.parts.header({dom:B({tag:"div",classes:["tox-editor-header"]},m),components:te([Q?[M]:[],j(),kS(e)?[]:[C.asSpec()]]),sticky:DS(e),editor:e,sharedBackstage:D.shared}),G=te([f?[]:[z],n?[]:[H],f?[z]:[]]),K={dom:{tag:"div",classes:["tox-editor-container"]},components:G},q=te([[K],n?[]:U.toArray(),[P]]),W=BS(e),$=B(B({role:"application"},TC.isRtl()?{dir:"rtl"}:{}),W?{"aria-hidden":"true"}:{}),X=yu(zj.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(u),styles:B({visibility:"hidden"},W?{opacity:"0",border:"0"}:{}),attributes:$},components:q,behaviours:Rl([zS(),XC.config({disableClass:"tox-tinymce--disabled"}),dy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));o=F.some(X),e.shortcuts.add("alt+F9","focus menubar",(function(){zj.focusMenubar(X)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){zj.focusToolbar(X)})),e.addCommand("ToggleToolbarDrawer",(function(){zj.toggleToolbarDrawer(X)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return zj.isToolbarDrawerToggled(X)}));var Y=GB(X),J=GB(w);JV(e,Y,J);var Z=function(){var e={broadcastAll:J.broadcast,broadcastOn:J.broadcastOn,register:p};return{channels:e}},ee=function(){var t=dz(hz(e)),n=dz(mz(e));return e.inline||(nu("div","width",n)&&$s(X.element,"width",n),nu("div","height",t)?$s(X.element,"height",t):$s(X.element,"height","200px")),t},ne=function(){i.setup(e,D.shared,g),Jz(e,D),IG(e,x,D),vj(e),Lj(e,_,D.shared),Te(vS(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,a=t.contextToolbars,s=t.sidebars,u=AS(e),c={menuItems:o,menus:ES(e),menubar:TS(e),toolbar:u.getOrThunk((function(){return IS(e)})),allowToolbarGroups:E===sx.floating,buttons:n,sidebar:s};YV(e,a,w,{backstage:D}),XK(e,w);var l=e.getElement(),d=ee(),f={mothership:Y,uiMothership:J,outerContainer:X},A={targetNode:l,height:d};return r.render(e,f,c,D,A)};return{mothership:Y,uiMothership:J,backstage:D,renderUI:ne,getUi:Z}},sq=function(e,t){var n=F.from(ka(e,"id")).fold((function(){var e=Na("dialog-describe");return Ca(t,"id",e),e}),b);Ca(e,"aria-describedby",n)},uq=function(e,t){var n=_a(e,"id").fold((function(){var e=Na("dialog-label");return Ca(t,"id",e),e}),b);Ca(e,"aria-labelledby",n)},cq=y([yn("lazySink"),En("dragBlockClass"),zn("getBounds",ac),Un("useTabstopAt",k),Un("eventOrder",{}),Xh("modalBehaviours",[dy]),Hc("onExecute"),Vc("onEscape")]),lq={sketch:b},dq=y([Ep({name:"draghandle",overrides:function(e,t){return{behaviours:Rl([zK.config({mode:"mouse",getTarget:function(e){return Ac(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Dp({schema:[yn("dom")],name:"title"}),Dp({factory:lq,schema:[yn("dom")],name:"close"}),Dp({factory:lq,schema:[yn("dom")],name:"body"}),Ep({factory:lq,schema:[yn("dom")],name:"footer"}),Mp({factory:{sketch:function(e,t){return B(B({},e),{dom:t.dom,components:t.components})}},schema:[Un("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Un("components",[])],name:"blocker"})]),fq=function(e,t,n,r){Ca(e.element,"aria-busy",!0);var i=t.getRoot(e).getOr(e),o=Rl([dy.config({mode:"special",onTab:function(){return F.some(!0)},onShiftTab:function(){return F.some(!0)}}),Iy.config({})]),a=r(i,o),s=i.getSystem().build(a);wy.append(i,bu(s)),s.hasConfigured(dy)&&dy.focusIn(s),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return wy.remove(i,s)}))},Aq=function(e,t,n){Da(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},hq=Object.freeze({__proto__:null,block:fq,unblock:Aq}),pq=[zn("getRoot",F.none),Uc("onBlock"),Uc("onUnblock")],mq=function(){var e=xV(),t=function(t){e.set({destroy:t})};return is({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})},gq=Object.freeze({__proto__:null,init:mq}),vq=Ql({fields:pq,name:"blocking",apis:hq,state:gq}),yq=function(e,t,n,r){var i,o=$n(F.none()),a=function(t){o.set(F.some(t));var n=e.lazySink(t).getOrDie(),i=r.blocker(),a=n.getSystem().build(B(B({},i),{components:i.components.concat([bu(t)]),behaviours:Rl([Iy.config({}),Cy("dialog-blocker-events",[Mo(Bi(),(function(){dy.focusIn(t)}))])])}));HA(n,a),dy.focusIn(t)},s=function(e){o.set(F.none()),Go(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){QA(e)}))}))},u=function(t){return zp(t,e,"body")},c=function(t){return zp(t,e,"footer")},l=function(e,t){vq.block(e,t)},d=function(e){vq.unblock(e)},f=Na("modal-events"),A=B(B({},e.eventOrder),(i={},i[Zi()]=[f].concat(e.eventOrder["alloy.system.attached"]||[]),i));return{uid:e.uid,dom:e.dom,components:t,apis:{show:a,hide:s,getBody:u,getFooter:c,setIdle:d,setBusy:l},eventOrder:A,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Jh(e.modalBehaviours,[wy.config({}),dy.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),vq.config({getRoot:o.get}),Cy(f,[Eo((function(t){uq(t.element,zp(t,e,"title").element),sq(t.element,zp(t,e,"body").element)}))])])}},bq=um({name:"ModalDialog",configFields:cq(),partFields:dq(),factory:yq,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),wq=Ut([xn("type"),xn("name")].concat(Zx)),xq=hn,Cq=[Kt("name","name",nt((function(){return Na("button-name")})),An),On("icon"),Qn("align","end",["start","end"]),jn("primary",!1),jn("disabled",!1)],Sq=M(Cq,[xn("text")]),kq=M([Cn("type",["submit","cancel","custom"])],Sq),_q=M([Cn("type",["menu"]),On("text"),On("tooltip"),On("icon"),Mn("items",wq)],Cq),Bq=un("type",{submit:kq,cancel:kq,custom:kq,menu:_q}),Dq=[xn("type"),xn("text"),Cn("level",["info","warn","error","success"]),xn("icon"),Un("url","")],Mq=Ut(Dq),Eq=function(e){return[xn("type"),e]},Tq=[xn("type"),xn("text"),jn("disabled",!1),jn("primary",!1),Kt("name","name",nt((function(){return Na("button-name")})),An),On("icon"),jn("borderless",!1)],Iq=Ut(Tq),Oq=[xn("type"),xn("name"),xn("label"),jn("disabled",!1)],Lq=Ut(Oq),Fq=hn,Pq=[xn("type"),xn("name")],Nq=Pq.concat([On("label")]),Uq=Nq.concat([Un("columns","auto")]),Hq=Ut(Uq),Rq=Xt([xn("value"),xn("text"),xn("icon")]),Vq=Nq,Qq=Ut(Vq),jq=An,zq=Nq,Gq=Ut(zq),Kq=An,qq=Pq.concat([Vn("tag","textarea"),xn("scriptId"),xn("scriptUrl"),Gn("settings",void 0)]),Wq=Pq.concat([Vn("tag","textarea"),kn("init")]),$q=Zt((function(e){return nn("customeditor.old",Nt(Wq),e).orThunk((function(){return nn("customeditor.new",Nt(qq),e)}))})),Xq=An,Yq=Nq,Jq=Ut(Yq),Zq=Yt(),eW=function(e){return[xn("type"),wn("columns"),e]},tW=[xn("type"),xn("html"),Qn("presets","presentation",["presentation","document"])],nW=Ut(tW),rW=Nq.concat([jn("sandboxed",!0)]),iW=Ut(rW),oW=An,aW=Nq.concat([bn("currentState",Ut([yn("blob"),xn("url")]))]),sW=Ut(aW),uW=Nq.concat([On("inputMode"),On("placeholder"),jn("maximized",!1),jn("disabled",!1)]),cW=Ut(uW),lW=An,dW=function(e){return[xn("type"),xn("label"),e]},fW=[xn("text"),xn("value")],AW=[xn("text"),Mn("items",cn("items",(function(){return hW})))],hW=Rt([Ut(fW),Ut(AW)]),pW=Nq.concat([Mn("items",hW),jn("disabled",!1)]),mW=Ut(pW),gW=An,vW=Nq.concat([Dn("items",[xn("text"),xn("value")]),Rn("size",1),jn("disabled",!1)]),yW=Ut(vW),bW=An,wW=Nq.concat([jn("constrain",!0),jn("disabled",!1)]),xW=Ut(wW),CW=Ut([xn("width"),xn("height")]),SW=[xn("type"),Mn("header",An),Mn("cells",Ht(An))],kW=Ut(SW),_W=Nq.concat([On("placeholder"),jn("maximized",!1),jn("disabled",!1)]),BW=Ut(_W),DW=An,MW=Nq.concat([Qn("filetype","file",["image","media","file"]),Un("disabled",!1)]),EW=Ut(MW),TW=Ut([xn("value"),Un("meta",{})]),IW=function(e){return Kt("items","items",et(),Ht(Zt((function(t){return nn("Checking item of "+e,OW,t).fold((function(e){return me.error(an(e))}),(function(e){return me.value(e)}))}))))},OW=Jt((function(){return sn("type",{alertbanner:Mq,bar:Ut(Eq(IW("bar"))),button:Iq,checkbox:Lq,colorinput:Qq,colorpicker:Gq,dropzone:Jq,grid:Ut(eW(IW("grid"))),iframe:iW,input:cW,listbox:mW,selectbox:yW,sizeinput:xW,textarea:BW,urlinput:EW,customeditor:$q,htmlpanel:nW,imagetools:sW,collection:Hq,label:Ut(dW(IW("label"))),table:kW,panel:FW})})),LW=[xn("type"),Un("classes",[]),Mn("items",OW)],FW=Ut(LW),PW=[Kt("name","name",nt((function(){return Na("tab-name")})),An),xn("title"),Mn("items",OW)],NW=[xn("type"),Dn("tabs",PW)],UW=Ut(NW),HW=Sq,RW=Bq,VW=Ut([xn("title"),bn("body",sn("type",{panel:FW,tabpanel:UW})),Vn("size","normal"),Mn("buttons",RW),Un("initialData",{}),zn("onAction",p),zn("onChange",p),zn("onSubmit",p),zn("onClose",p),zn("onCancel",p),Un("onTabChange",p)]),QW=function(e){return nn("dialog",VW,e)},jW=Ut(M([Cn("type",["cancel","custom"])],HW)),zW=Ut([xn("title"),xn("url"),In("height"),In("width"),Fn("buttons",jW),zn("onAction",p),zn("onCancel",p),zn("onClose",p),zn("onMessage",p)]),GW=function(e){return nn("dialog",zW,e)},KW=function(e){return a(e)?[e].concat(ne(Ue(e),KW)):s(e)?ne(e,KW):[]},qW=function(e){return o(e.type)&&o(e.name)},WW={checkbox:Fq,colorinput:jq,colorpicker:Kq,dropzone:Zq,input:lW,iframe:oW,sizeinput:CW,selectbox:bW,listbox:gW,size:CW,textarea:DW,urlinput:TW,customeditor:Xq,collection:Rq,togglemenuitem:xq},$W=function(e){return F.from(WW[e.type])},XW=function(e){return $(KW(e),qW)},YW=function(e){var t=XW(e),n=ne(t,(function(e){return $W(e).fold((function(){return[]}),(function(t){return[bn(e.name,t)]}))}));return Ut(n)},JW=function(e){var t=rn(QW(e)),n=YW(e),r=e.initialData;return{internalDialog:t,dataValidator:n,initialData:r}},ZW={open:function(e,t){var n=JW(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=rn(GW(t));return e(n)},redial:function(e){return JW(e)}},e$=function(e){var t=[],n={};return Ee(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),t.length>0?me.error(t):me.value(n)},t$=function(e,t){var n=Jb(vI.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:G(e.items,(function(e){return WP(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Rl([dy.config({mode:"acyclic",useTabstopAt:x(nO)}),MI.memento(n),GI.memento(n,{postprocess:function(e){return e$(e).fold((function(e){return console.error(e),{}}),(function(e){return e}))}})])}},n$=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Zy(e.action),behaviours:Jh(e.tabButtonBehaviours,[Iy.config({}),dy.config({mode:"execution",useSpace:!0,useEnter:!0}),$h.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},r$=sm({name:"TabButton",configFields:[Un("uid",void 0),yn("value"),Kt("dom","dom",rt((function(){return{attributes:{role:"tab",id:Na("aria"),"aria-selected":"false"}}})),ln()),En("action"),Un("domModification",{}),Xh("tabButtonBehaviours",[Iy,dy,$h]),yn("view")],factory:n$}),i$=y([yn("tabs"),yn("dom"),Un("clickToDismiss",!1),Xh("tabbarBehaviours",[Hm,dy]),Pc(["tabClass","selectedClass"])]),o$=Tp({factory:r$,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Hm.dehighlight(e,t),lo(e,ao(),{tabbar:e,button:t})},n=function(e,t){Hm.highlight(e,t),lo(e,oo(),{tabbar:e,button:t})};return{action:function(r){var i=r.getSystem().getByUid(e.uid).getOrDie(),o=Hm.isHighlighted(i,r),a=function(){return o&&e.clickToDismiss?t:o?p:n}();a(i,r)},domModification:{classes:[e.markers.tabClass]}}}}),a$=y([o$]),s$=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Jh(e.tabbarBehaviours,[Hm.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Ca(t.element,"aria-selected","true")},onDehighlight:function(e,t){Ca(t.element,"aria-selected","false")}}),dy.config({mode:"flow",getInitial:function(e){return Hm.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},u$=um({name:"Tabbar",configFields:i$(),partFields:a$(),factory:s$}),c$=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Jh(e.tabviewBehaviours,[wy.config({})]),domModification:{attributes:{role:"tabpanel"}}}},l$=sm({name:"Tabview",configFields:[Xh("tabviewBehaviours",[wy])],factory:c$}),d$=y([Un("selectFirst",!0),Uc("onChangeTab"),Uc("onDismissTab"),Un("tabs",[]),Xh("tabSectionBehaviours",[])]),f$=Dp({factory:u$,schema:[yn("dom"),Bn("markers",[yn("tabClass"),yn("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),A$=Dp({factory:l$,name:"tabview"}),h$=y([f$,A$]),p$=function(e,t,n,r){var i=function(t){var n=$h.getValue(t);jp(t,e,"tabview").each((function(r){var i=Z(e.tabs,(function(e){return e.value===n}));i.each((function(n){var i=n.view();_a(t.element,"id").each((function(e){Ca(r.element,"aria-labelledby",e)})),wy.set(r,i),e.onChangeTab(r,t,i)}))}))},o=function(t,n){jp(t,e,"tabbar").each((function(e){n(e).each(fo)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Yh(e.tabSectionBehaviours),events:mo(te([e.selectFirst?[Eo((function(e,t){o(e,Hm.getFirst)}))]:[],[bo(oo(),(function(e,t){var n=t.event.button;i(n)})),bo(ao(),(function(t,n){var r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return jp(t,e,"tabview").map((function(e){return wy.contents(e)})).getOr([])},showTab:function(e,t){var n=function(e){var n=Hm.getCandidates(e),r=Z(n,(function(e){return $h.getValue(e)===t}));return r.filter((function(t){return!Hm.isHighlighted(e,t)}))};o(e,n)}}}},m$=um({name:"TabSection",configFields:d$(),partFields:h$(),factory:p$,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),g$=function(e,t,n){return G(e,(function(r,i){wy.set(n,e[i].view());var o=t.dom.getBoundingClientRect();return wy.set(n,[]),o.height}))},v$=function(e){return ce(se(e,(function(e,t){return e>t?-1:e<t?1:0})))},y$=function(e,t,n){var r,i=jo(e).dom,o=Ac(e,".tox-dialog-wrap").getOr(e),a="fixed"===Js(o,"position");r=a?Math.max(i.clientHeight,window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var s=Cu(t),u=t.dom.offsetLeft>=n.dom.offsetLeft+Lu(n),c=u?Math.max(Cu(n),s):s,l=parseInt(Js(e,"margin-top"),10)||0,d=parseInt(Js(e,"margin-bottom"),10)||0,f=Cu(e)+l+d,A=f-c;return r-A},b$=function(e,t){ce(e).each((function(e){return m$.showTab(t,e.value)}))},w$=function(e,t){$s(e,"height",t+"px"),qr().browser.isIE()?ru(e,"flex-basis"):$s(e,"flex-basis",t+"px")},x$=function(e,t,n){Ac(e,'[role="dialog"]').each((function(e){hc(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return $s(t,"height","0"),$s(t,"flex-basis","0"),Math.min(n,y$(e,t,r))})).each((function(e){w$(t,e)}))}))}))},C$=function(e){return hc(e,'[role="tabpanel"]')},S$=function(e){var t=function(){var t=$n(F.none()),n=[Eo((function(n){var r=n.element;C$(r).each((function(i){$s(i,"visibility","hidden"),n.getSystem().getByDom(i).toOptional().each((function(n){var r=g$(e,i,n),o=v$(r);t.set(o)})),x$(r,i,t),ru(i,"visibility"),b$(e,n),$b.requestAnimationFrame((function(){x$(r,i,t)}))}))})),bo(Ji(),(function(e){var n=e.element;C$(n).each((function(e){x$(n,e,t)}))})),bo(mD,(function(e,n){var r=e.element;C$(r).each((function(e){var n=Zl(ta(e));$s(e,"visibility","hidden");var i=eu(e,"height").map((function(e){return parseInt(e,10)}));ru(e,"height"),ru(e,"flex-basis");var o=e.dom.getBoundingClientRect().height,a=i.forall((function(e){return o>e}));a?(t.set(F.from(o)),x$(r,e,t)):i.each((function(t){w$(e,t)})),ru(e,"visibility"),n.each(Xl)}))}))],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var e=[],t=!0;return{extraEvents:e,selectFirst:t}}();return{smartTabHeight:t,naiveTabHeight:n}},k$="send-data-to-section",_$="send-data-to-view",B$=function(e,t){var n=$n({}),r=function(e){var t=$h.getValue(e),r=e$(t).getOr({}),i=n.get(),o=We(i,r);n.set(o)},i=function(e){var t=n.get();$h.setValue(e,t)},o=$n(null),a=G(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[vI.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:G(e.items,(function(e){return WP(n,e,t)})),formBehaviours:Rl([dy.config({mode:"acyclic",useTabstopAt:x(nO)}),Cy("TabView.form.events",[Eo(i),To(r)]),Kl.config({channels:lt([{key:k$,value:{onReceive:r}},{key:_$,value:{onReceive:i}}])})])}}))]}}})),s=S$(a).smartTabHeight;return m$.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=$h.getValue(t);lo(e,pD,{name:r,oldName:o.get()}),o.set(r)},tabs:a,components:[m$.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[u$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Rl([eD.config({})])}),m$.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:Rl([Cy("tabpanel",s.extraEvents),dy.config({mode:"acyclic"}),ym.config({find:function(e){return ce(m$.getViewItems(e))}}),$h.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([k$],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn([_$],{})}}})])})},D$=Na("update-dialog"),M$=Na("update-title"),E$=Na("update-body"),T$=Na("update-footer"),I$=Na("body-send-message"),O$=function(e,t,n,r){var i=function(e){switch(e.body.type){case"tabpanel":return[B$(e.body,n)];default:return[t$(e.body,n)]}},o=function(e,t){return F.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:B(B({},t.map((function(e){return{id:e}})).getOr({})),r?a:{})},components:[],behaviours:Rl([MI.childAt(0),eR.config({channel:E$,updateState:o,renderComponents:i,initialData:e})])}},L$=function(e,t,n,r){return O$(e,F.some(t),n,r)},F$=function(e,t){var n=O$(e,F.none(),t,!1);return bq.parts.body(n)},P$=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[ZI({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Rl([eD.config({}),Iy.config({})])})]}],behaviours:Rl([dy.config({mode:"acyclic",useTabstopAt:x(nO)})])};return bq.parts.body(t)},N$=ik.deviceType.isTouch(),U$=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},H$=function(e,t){return bq.parts.close(Yb.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Rl([eD.config({})])}))},R$=function(){return bq.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},V$=function(e,t){return bq.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Ej("<p>"+t.translate(e)+"</p>")}]}]})},Q$=function(e){return bq.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},j$=function(e,t){return[zB.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),zB.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},z$=function(e){var t,n="tox-dialog",r=n+"-wrap",i=r+"__backdrop",o=n+"__disable-scroll";return bq.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),F.some(!0)},useTabstopAt:function(e){return!nO(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:B({position:"relative"},e.extraStyles)},components:M([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:Ej('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:N$?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:r,modalBehaviours:Rl(M([Iy.config({}),Cy("dialog-events",e.dialogEvents.concat([Mo(Bi(),(function(e,t){dy.focusIn(e)}))])),Cy("scroll-lock",[Eo((function(){Ns(Gs(),o)})),To((function(){Hs(Gs(),o)}))])],e.extraBehaviours)),eventOrder:B((t={},t[Qi()]=["dialog-events"],t[Zi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[eo()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},G$=function(e){return Yb.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ew("close",e.icons)}}],action:function(e){co(e,lD)}})},K$=function(e,t,n){var r=function(e){return[mu(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:B({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:Rl([eR.config({channel:M$,renderComponents:r})])}},q$=function(){return{dom:Ej('<div class="tox-dialog__draghandle"></div>')}},W$=function(e,t,n){return zB.sketch({dom:Ej('<div class="tox-dialog__header"></div>'),components:[K$(e,F.some(t),n),q$(),G$(n)],containerBehaviours:Rl([zK.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return pc(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},$$=function(e,t){var n=bq.parts.title(K$(e,F.none(),t)),r=bq.parts.draghandle(q$()),i=bq.parts.close(G$(t)),o=[n].concat(e.draggable?[r]:[]).concat([i]);return zB.sketch({dom:Ej('<div class="tox-dialog__header"></div>'),components:o})},X$=function(e,t){return $$({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},Y$=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:Ej('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},J$=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){bq.setBusy(e(),(function(e,r){return Y$(n.message,r,t)}))},onUnblock:function(){bq.setIdle(e())}}},Z$=function(e,t,n,r){var i,o=function(e,t){return F.some(t)};return yu(z$(B(B({},e),{lazySink:r.shared.getSink,extraBehaviours:M([eR.config({channel:D$,updateState:o,initialData:t}),GI.memory({})],e.extraBehaviours),onEscape:function(e){co(e,lD)},dialogEvents:n,eventOrder:(i={},i[Vi()]=[eR.name(),Kl.name()],i[Zi()]=["scroll-lock",eR.name(),"messages","dialog-events","alloy.base.behaviour"],i[eo()]=["alloy.base.behaviour","dialog-events","messages",eR.name(),"scroll-lock"],i)})))},eX=function(e){var t=function(e){var t=G(e.items,(function(e){var t=$n(!1);return B(B({},e),{storage:t})}));return B(B({},e),{items:t})};return G(e,(function(e){return"menu"===e.type?t(e):e}))},tX=function(e){return Y(e,(function(e,t){if("menu"===t.type){var n=t;return Y(n.items,(function(e,t){return e[t.name]=t.storage,e}),e)}return e}),{})},nX=function(e,t){return[_o(Bi(),tO),e(cD,(function(e,n){t.onClose(),n.onClose()})),e(lD,(function(e,t,n,r){t.onCancel(e),co(r,cD)})),bo(hD,(function(e,n){return t.onUnblock()})),bo(AD,(function(e,n){return t.onBlock(n.event)}))]},rX=function(e,t){var n=function(t,n){return bo(t,(function(t,i){r(t,(function(r,o){n(e(),r,i.event,t)}))}))},r=function(e,t){eR.getState(e).get().each((function(n){t(n,e)}))};return M(nX(n,t),[n(dD,(function(e,t,n){t.onAction(e,{name:n.name})}))])},iX=function(e,t,n){var r=function(t,n){return bo(t,(function(t,r){i(t,(function(i,o){n(e(),i,r.event,t)}))}))},i=function(e,t){eR.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return M(nX(r,t),[r(fD,(function(e,t){return t.onSubmit(e)})),r(uD,(function(e,t,n){t.onChange(e,{name:n.name})})),r(dD,(function(e,t,r,i){var o=function(){return dy.focusIn(i)},a=function(e){return Ba(e,"disabled")||_a(e,"aria-disabled").exists((function(e){return"true"===e}))},s=ta(i.element),u=Zl(s);t.onAction(e,{name:r.name,value:r.value}),Zl(s).fold(o,(function(e){a(e)||u.exists((function(t){return si(e,t)&&a(t)}))?o():n().toOptional().filter((function(t){return!si(t.element,e)})).each(o)}))})),r(pD,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),To((function(t){var n=e();$h.setValue(t,n.getData())}))])},oX={initUrlDialog:rX,initDialog:iX},aX=function(e,t){return zL(e,e.type,t)},sX=function(e,t,n){return Z(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))},uX=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),r=W(n,(function(e){return"start"===e.align})),i=function(e,t){return zB.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:G(t,(function(e){return e.memento.asSpec()}))})},o=i("start",r.pass),a=i("end",r.fail);return[o,a]},cX=function(e,t){var n=function(e,n){var r=G(n.buttons,(function(e){var n=Jb(aX(e,t));return{name:e.name,align:e.align,memento:n}})),i=function(e,t){return sX(e,r,t)};return F.some({lookupByName:i,footerButtons:r})};return{dom:Ej('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Rl([eR.config({channel:T$,initialData:e,updateState:n,renderComponents:uX})])}},lX=function(e,t){return cX(e,t)},dX=function(e,t){return bq.parts.footer(cX(e,t))},fX=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var r=ym.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return vI.getField(r,t).fold((function(){var n=e.getFooter(),i=eR.getState(n);return i.get().bind((function(e){return e.lookupByName(r,t)}))}),(function(e){return F.some(e)}))}return F.none()},AX=function(e,t){var n=e.getRoot();return eR.getState(n).get().map((function(e){return rn(nn("data",e.dataValidator,t))})).getOr(t)},hX=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,i=$h.getValue(r),o=Te(n,(function(e){return e.get()}));return B(B({},i),o)},a=function(t){r((function(r){var i=p.getData(),o=B(B({},i),t),a=AX(e,o),s=e.getFormWrapper();$h.setValue(s,a),Ee(n,(function(e,t){Re(o,t)&&e.set(o[t])}))}))},s=function(t){fX(e,t).each(XC.disable)},u=function(t){fX(e,t).each(XC.enable)},c=function(t){fX(e,t).each(Iy.focus)},l=function(e){if(!o(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){lo(t,AD,{message:e})}))},d=function(){r((function(e){co(e,hD)}))},f=function(t){r((function(n){var r=e.getBody(),i=eR.getState(r);i.get().exists((function(e){return e.isTabPanel()}))&&ym.getCurrent(r).each((function(e){m$.showTab(e,t)}))}))},A=function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([D$],r),n.getSystem().broadcastOn([M$],r.internalDialog),n.getSystem().broadcastOn([E$],r.internalDialog),n.getSystem().broadcastOn([T$],r.internalDialog),p.setData(r.initialData)}))},h=function(){r((function(e){co(e,cD)}))},p={getData:i,setData:a,disable:s,enable:u,focus:c,block:l,unblock:d,showTab:f,redial:A,close:h};return p},pX=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},mX=function(e,t,n){var r=X$(e.internalDialog.title,n),i=F$({body:e.internalDialog.body},n),o=eX(e.internalDialog.buttons),a=tX(o),s=dX({buttons:o},n),u=oX.initDialog((function(){return A}),J$((function(){return d}),n.shared.providers,t),n.shared.getSink),c=pX(e.internalDialog.size),l={header:r,body:i,footer:F.some(s),extraClasses:c,extraBehaviours:[],extraStyles:{}},d=Z$(l,e,u,n),f=function(){var e=function(){var e=bq.getBody(d);return ym.getCurrent(e).getOr(e)};return{getRoot:function(){return d},getBody:function(){return bq.getBody(d)},getFooter:function(){return bq.getFooter(d)},getFormWrapper:e}}(),A=hX(f,t.redial,a);return{dialog:d,instanceApi:A}},gX=function(e,t,n,r){var i,o,a=Na("dialog-label"),s=Na("dialog-content"),u=function(e,t){return F.some(t)},c=Jb(W$({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Jb(L$({body:e.internalDialog.body},s,n,r)),d=eX(e.internalDialog.buttons),f=tX(d),A=Jb(lX({buttons:d},n)),h=oX.initDialog((function(){return m}),{onBlock:function(e){vq.block(p,(function(t,r){return Y$(e.message,r,n.shared.providers)}))},onUnblock:function(){vq.unblock(p)},onClose:function(){return t.closeWindow()}},n.shared.getSink),p=yu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(i={role:"dialog"},i["aria-labelledby"]=a,i["aria-describedby"]=""+s,i)},eventOrder:(o={},o[Vi()]=[eR.name(),Kl.name()],o[Qi()]=["execute-on-form"],o[Zi()]=["reflecting","execute-on-form"],o),behaviours:Rl([dy.config({mode:"cyclic",onEscape:function(e){return co(e,cD),F.some(!0)},useTabstopAt:function(e){return!nO(e)&&("button"!==Lo(e)||"disabled"!==ka(e,"disabled"))}}),eR.config({channel:D$,updateState:u,initialData:e}),Iy.config({}),Cy("execute-on-form",h.concat([Mo(Bi(),(function(e,t){dy.focusIn(e)}))])),vq.config({getRoot:function(){return F.some(p)}}),wy.config({}),GI.memory({})]),components:[c.asSpec(),l.asSpec(),A.asSpec()]}),m=hX({getRoot:function(){return p},getFooter:function(){return A.get(p)},getBody:function(){return l.get(p)},getFormWrapper:function(){var e=l.get(p);return ym.getCurrent(e).getOr(e)}},t.redial,f);return{dialog:p,instanceApi:m}},vX=tinymce.util.Tools.resolve("tinymce.util.URI"),yX=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)},n=function(e){if(!o(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){lo(t,AD,{message:e})}))},r=function(){t((function(e){co(e,hD)}))},i=function(){t((function(e){co(e,cD)}))},a=function(e){t((function(t){t.getSystem().broadcastOn([I$],e)}))};return{block:n,unblock:r,close:i,sendMessage:a}},bX=["insertContent","setContent","execCommand","close","block","unblock"],wX=function(e){return a(e)&&-1!==bX.indexOf(e.mceAction)},xX=function(e){return!wX(e)&&a(e)&&Re(e,"mceAction")},CX=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!u(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},SX=function(e,t,n,r){var i,o=X$(e.title,r),a=P$(e),s=e.buttons.bind((function(e){return 0===e.length?F.none():F.some(dX({buttons:e},r))})),u=oX.initUrlDialog((function(){return g}),J$((function(){return m}),r.shared.providers,t)),c=B(B({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),l=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new vX(e.url,{base_uri:new vX(window.location.href)}),f=d.protocol+"://"+d.host+(d.port?":"+d.port:""),A=$n(F.none()),h=[Cy("messages",[Eo((function(){var t=AB(tr.fromDom(window),"message",(function(t){if(d.isSameOrigin(new vX(t.raw.origin))){var r=t.raw.data;wX(r)?CX(n,g,r):xX(r)&&e.onMessage(g,r)}}));A.set(F.some(t))})),To((function(){A.get().each((function(e){return e.unbind()}))}))]),Kl.config({channels:(i={},i[I$]={onReceive:function(e,t){hc(e.element,"iframe").each((function(e){var n=e.dom.contentWindow;n.postMessage(t,f)}))}},i)})],p={header:o,body:a,footer:s,extraClasses:l,extraBehaviours:h,extraStyles:c},m=Z$(p,e,u,r),g=yX(m);return{dialog:m,instanceApi:g}},kX=function(e){var t=e.backstage.shared,n=function(n,r){var i=function(){bq.hide(u),r()},o=Jb(zL({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:F.none()},"cancel",e.backstage)),a=R$(),s=H$(i,t.providers),u=yu(z$({lazySink:function(){return t.getSink()},header:U$(a,s),body:V$(n,t.providers),footer:F.some(Q$(j$([],[o.asSpec()]))),onEscape:i,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[bo(lD,i)],eventOrder:{}}));bq.show(u);var c=o.get(u);Iy.focus(c)};return{open:n}},_X=function(e){var t=e.backstage.shared,n=function(n,r){var i=function(e){bq.hide(c),r(e)},o=Jb(zL({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:F.none()},"submit",e.backstage)),a=zL({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:F.none()},"cancel",e.backstage),s=R$(),u=H$((function(){return i(!1)}),t.providers),c=yu(z$({lazySink:function(){return t.getSink()},header:U$(s,u),body:V$(n,t.providers),footer:F.some(Q$(j$([],[a,o.asSpec()]))),onEscape:function(){return i(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[bo(lD,(function(){return i(!1)})),bo(fD,(function(){return i(!0)}))],eventOrder:{}}));bq.show(c);var l=o.get(c);Iy.focus(l)};return{open:n}},BX=function(e,t){return rn(nn("data",t,e))},DX=function(e){return mB(e,".tox-alert-dialog")||mB(e,".tox-confirm-dialog")},MX=function(e,t,n){return t&&n?[]:[zQ.config({contextual:{lazyContext:function(){return F.some(ic(tr.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},EX=function(e){var t=e.backstage,n=e.editor,r=DS(n),i=kX(e),o=_X(e),a=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?l(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(e,t.shared.anchors.cursor(),r,n.ariaAttrs):c(e,r)},s=function(e,t){return u(e,t)},u=function(e,r){var i=function(e){var i=SX(e,{closeWindow:function(){bq.hide(i.dialog),r(i.instanceApi)}},n,t);return bq.show(i.dialog),i.instanceApi};return ZW.openUrl(i,e)},c=function(e,n){var r=function(e,r,i){var o=r,a={dataValidator:i,initialData:o,internalDialog:e},s=mX(a,{redial:ZW.redial,closeWindow:function(){bq.hide(s.dialog),n(s.instanceApi)}},t);return bq.show(s.dialog),s.instanceApi.setData(o),s.instanceApi};return ZW.open(r,e)},l=function(e,i,o,a){var s=function(e,s,u){var c=BX(s,u),l=SV(),d=t.shared.header.isPositionedAtTop(),f={dataValidator:u,initialData:c,internalDialog:e},A=function(){return l.on((function(e){Nb.reposition(e),zQ.refresh(e)}))},h=gX(f,{redial:ZW.redial,closeWindow:function(){l.on(Nb.hide),n.off("ResizeEditor",A),l.clear(),o(h.instanceApi)}},t,a),p=yu(Nb.sketch(B(B({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Rl(M([Cy("window-manager-inline-events",[bo(to(),(function(e,t){co(h.dialog,lD)}))])],MX(n,r,d))),isExtraPart:function(e,t){return DX(t)}})));return l.set(p),Nb.showWithin(p,i,bu(h.dialog),F.some(Gs())),r&&d||(zQ.refresh(p),n.on("ResizeEditor",A)),h.instanceApi.setData(c),dy.focusIn(h.dialog),h.instanceApi};return ZW.open(s,e)},d=function(e,t){o.open(e,(function(e){t(e)}))},f=function(e,t){i.open(e,(function(){t()}))},A=function(e){e.close()};return{open:a,openUrl:s,alert:f,close:A,confirm:d}};function TX(){_.add("silver",(function(e){var t=aq(e),n=t.uiMothership,r=t.backstage,i=t.renderUI,o=t.getUi;dB.register(e,r.shared);var a=EX({editor:e,backstage:r});return{renderUI:i,getWindowManagerImpl:y(a),getNotificationManagerImpl:function(){return aw(e,{backstage:r},n)},ui:o()}}))}TX()})()}).call(this,n("c8ba"))},"0342":function(e,t,n){},"07d1":function(e,t,n){n("94ce")},"0d68":function(e,t,n){n("030f")},"0ec2":function(e,t,n){},"19b3":function(e,t,n){!function(t,r){e.exports=r(n("8bbf"))}("undefined"!=typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([,function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c}));var r=Object.prototype.toString,i=function(e){return"[object Object]"===r.call(e)};function o(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function a(e){for(var t={},n=0;n<e.length;n++)e[n]&&o(t,e[n]);return t}function s(e,t){t.keys().forEach((function(n){e[n]=t(n)}))}function u(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}function c(e){var t,n,r=e.selected,i=e.InsertGetter,o=e.selectedGetter,a=void 0===o?function(e){return e}:o,s=e.ignoreEmptyLine,u=void 0===s||s;return r?(n=a(r),t=i(r,1),-1!==r.indexOf("\n")&&(n=t=r.split("\n").map((function(e,t){return u&&!e?"":i(e,t+1).replace(a(null),"")})).join("\n"))):(t=i(null,1),n=a(r)),{insertContent:t,newSelected:n}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r="data-v-md-line",i="data-v-md-heading",o="data-v-md-anchor"},,function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t=0;return e===window?t=e.pageYOffset:e&&(t=e.scrollTop),t}function i(e,t){e===window?window.scrollTo(window.pageYOffset,t):e&&(e.scrollTop=t)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";var r=n(5),i=n(12),o=n.n(i),a={svg:[],altGlyph:[],altGlyphDef:[],altGlyphItem:[],animate:[],animateColor:[],animateMotion:[],animateTransform:[],circle:[],clipPath:[],"color-profile":[],cursor:[],"definition-src":[],defs:[],desc:[],ellipse:[],feBlend:[],feColorMatrix:[],feComponentTransfer:[],feComposite:[],feConvolveMatrix:[],feDiffuseLighting:[],feDisplacementMap:[],feDistantLight:[],feFlood:[],feFuncA:[],feFuncB:[],feFuncG:[],feFuncR:[],feGaussianBlur:[],feImage:[],feMerge:[],feMergeNode:[],feMorphology:[],feOffset:[],fePointLight:[],feSpecularLighting:[],feSpotLight:[],feTile:[],feTurbulence:[],filter:[],font:[],foreignObject:[],g:[],glyph:[],glyphRef:[],hkern:[],image:[],line:[],linearGradient:[],marker:[],mask:[],metadata:[],"missing-glyph":[],mpath:[],path:[],pattern:[],polygon:[],polyline:[],radialGradient:[],rect:[],set:[],stop:[],style:[],switch:[],symbol:[],text:[],textPath:[],title:[],tref:[],tspan:[],use:[],view:[],vkern:[]},s={math:[],annotation:[],semantics:[],mtext:[],mn:[],mo:[],mi:[],mspace:[],mover:[],munder:[],munderover:[],msup:[],msub:[],msubsup:[],mfrac:[],mroot:[],msqrt:[],mtable:[],mtr:[],mtd:[],mlabeledtr:[],mrow:[],menclose:[],mstyle:[],mpadded:[],mphantom:[],mglyph:[]},u=["style","align","class","id"],c=["data-"],l=Object(r.a)({},{input:["type"],ol:["reversed","start","type"],button:["type"],summary:[]},s,a),d={whiteList:Object(r.a)({},o.a.getDefaultWhiteList(),l),onIgnoreTagAttr:function(e,t,n){if(a[e]||s[e]||u.find((function(e){return e===t}))||c.find((function(e){return t.startsWith(e)})))return t+'="'+o.a.escapeAttrValue(n)+'"'}},f=new o.a.FilterXSS(d);f.extend=function(e){var t=f.options;Object.keys(e).forEach((function(n){if("whiteList"===n)Object.keys(e.whiteList).forEach((function(n){var r=e.whiteList[n],i=t.whiteList;i[n]?i[n]=[].concat(i[n],r):i[n]=r}));else if("onIgnoreTagAttr"===n){var r=t.onIgnoreTagAttr;t.onIgnoreTagAttr=function(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.call.apply(r,[this].concat(i)),s=(t=e.onIgnoreTagAttr).call.apply(t,[this].concat(i));return a||s}}else t[n]=e[n]}))},t.a=f},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(6);function i(e){var t=e.currentScrollTop,n=e.scrollToTop,r=e.scrollFn,i=e.percent,o=void 0===i?10:i,a=e.onScrollEnd,s=n>t?"down":"up",u=o/100*(n-t);window.requestAnimationFrame((function e(){t+=u,"down"===s&&t>=n||"up"===s&&t<=n?(r(n),window.cancelAnimationFrame(void 0),a&&window.requestAnimationFrame(a)):(r(t),window.requestAnimationFrame(e))}))}function o(e){var t=e.scrollTarget,n=e.scrollToTop,o=e.percent,a=void 0===o?10:o,s=e.onScrollEnd;i({currentScrollTop:Object(r.a)(t),scrollToTop:n,scrollFn:function(e){return Object(r.b)(t,e)},percent:a,onScrollEnd:s})}},function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(1),a=Object.prototype.hasOwnProperty;function s(e,t){return Object.keys(t).forEach((function(n){!function(e,t,n){var r=t[n];null!=r&&(a.call(e,n)&&Object(o.e)(r)?e[n]=s(Object(e[n]),t[n]):e[n]=r)}(e,t,n)})),e}var u=i.a.prototype,c=i.a.util.defineReactive;c(u,"$vMdEditorLang","zh-CN"),c(u,"$vMdEditorLangConfig",{"zh-CN":{}}),t.a={use:function(e,t){var n;u.$vMdEditorLang=e,this.add(((n={})[e]=t,n))},add:function(e){void 0===e&&(e={}),s(u.$vMdEditorLangConfig,e)}}},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-md-editor-preview",style:{tabSize:this.tabSize,"-moz-tab-size":this.tabSize,"-o-tab-size":this.tabSize},on:{click:this.handlePreviewClick}},[t("div",{class:[this.themeConfig.previewClass],domProps:{innerHTML:this._s(this.html)}})])};r._withStripped=!0;var i=n(7),o=n(18),a=n(15),s=function(e){return e},u={name:"v-md-preview",mixins:[a.a,o.a],props:{text:{type:String,default:""},theme:Object},data:function(){return{html:""}},computed:{themeConfig:function(){return u.themeConfig||{}},markdownParser:function(){return this.themeConfig.markdownParser},markdownLoader:function(){var e;return(null==(e=this.markdownParser)?void 0:e.render.bind(this.markdownParser))||s}},watch:{text:function(){this.handleTextChange()},langConfig:function(){this.handleTextChange()}},created:function(){var e=this;this.theme&&u.use(this.theme),"function"!=typeof this.markdownLoader||this.markdownLoader===s?console.warn("Please configure your markdown parser"):u.markdownExtenders.forEach((function(t){t(e.markdownParser,(function(){return e.langConfig}))})),this.handleTextChange()},methods:{handleTextChange:function(){this.html=i.a.process(this.markdownLoader(this.text)),this.$emit("change",this.text,this.html)}},theme:function(e){u.themeConfig=e},markdownExtenders:[],extendMarkdown:function(e){u.markdownExtenders.push(e)}},c=u,l=n(2),d=Object(l.a)(c,r,[],!1,null,null,null);d.options.__file="src/preview.vue";var f=d.exports,A=n(9);n(19),f.version="1.7.11",f.install=function(e){e.component(f.name,f)},f.xss=i.a,f.lang=A.a,f.use=function(e,t){return"function"==typeof e?e(f,t):e.install(f,t),f},t.default=f},function(t,n){t.exports=e},function(e,t,n){var r=n(28),i=n(31),o=n(35);function a(e,t){return new o(t).process(e)}for(var s in(t=e.exports=a).filterXSS=a,t.FilterXSS=o,r)t[s]=r[s];for(var s in i)t[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},,,function(e,t,n){"use strict";t.a={computed:{langConfig:function(){return this.$vMdEditorLangConfig[this.$vMdEditorLang]}}}},function(e,t,n){var r=n(29),i=n(33);for(var o in(t=e.exports=function(e,t){return new i(t).process(e)}).FilterCSS=i,r)t[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,n){"use strict";var r=n(6),i=n(8),o=n(3);t.a={props:{scrollContainer:{type:Function,default:function(){return window}},top:{type:Number,default:0},tabSize:{type:Number,default:2}},methods:{handlePreviewClick:function(e){var t=e.target;if("IMG"!==t.tagName){var n=t.getAttribute(o.a),r=this.$el.querySelector("["+o.b+'="'+n+'"]');r&&this.scrollToTarget({target:r})}else{if(!t.getAttribute("src"))return;var i=Array.from(this.$el.querySelectorAll("img")),a=i.map((function(e){return e.getAttribute("src")})).filter((function(e){return e})),s=i.indexOf(t);this.$emit("image-click",a,s)}},getOffsetTop:function(e,t){var n=e.getBoundingClientRect();return t===window||t===document.documentElement?n.top:n.top-t.getBoundingClientRect().top},scrollToTarget:function(e){var t=e.target,n=e.scrollContainer,o=void 0===n?this.scrollContainer():n,a=e.top,s=void 0===a?this.top:a,u=e.onScrollEnd,c=this.getOffsetTop(t,o),l=Object(r.a)(o)+c-s;Object(i.a)({scrollTarget:o,scrollToTop:l,onScrollEnd:u})},scrollToLine:function(e){var t=e.lineIndex,n=e.onScrollEnd;if(t){var r=this.$el.querySelector("["+o.c+'="'+t+'"]');r&&this.scrollToTarget({target:r,onScrollEnd:n})}}}}},function(e,t,n){},,,,,,,,,function(e,t,n){var r=n(16).FilterCSS,i=n(16).getDefaultWhiteList,o=n(17);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new r;function u(e){return e.replace(c,"&lt;").replace(l,"&gt;")}var c=/</g,l=/>/g,d=/"/g,f=/&quot;/g,A=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,p=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,g=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function y(e){return e.replace(d,"&quot;")}function b(e){return e.replace(f,'"')}function w(e){return e.replace(A,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function x(e){return e.replace(h,":").replace(p," ")}function C(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return o.trim(t)}function S(e){return C(e=x(e=w(e=b(e))))}function k(e){return u(e=y(e))}var _=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=S(n),"href"===t||"src"===t){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(n))return""}else if("style"===t){if(g.lastIndex=0,g.test(n))return"";if(v.lastIndex=0,v.test(n)&&(m.lastIndex=0,m.test(n)))return"";!1!==r&&(n=(r=r||s).process(n))}return k(n)},t.escapeHtml=u,t.escapeQuote=y,t.unescapeQuote=b,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=x,t.clearNonPrintableCharacter=C,t.friendlyAttrValue=S,t.escapeAttrValue=k,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!n||-1!==o.indexOf(e,t)}(a)){if(u.isClosing){var c="[/removed]",l=u.position+c.length;return r.push([!1!==i?i:u.position,l]),i=!1,c}return i||(i=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",n=0;return o.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){return e.replace(_,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||10===t||13===t)}))).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=i},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(17);function i(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",a=0,s=!1,u=!1,c=0,l=e.length,d="",f="";e:for(c=0;c<l;c++){var A=e.charAt(c);if(!1===s){if("<"===A){s=c;continue}}else if(!1===u){if("<"===A){r+=n(e.slice(a,c)),s=c,a=c;continue}if(">"===A){r+=n(e.slice(a,s)),d=i(f=e.slice(s,c+1)),r+=t(s,r.length,d,f,o(f)),a=c+1,s=!1;continue}if('"'===A||"'"===A)for(var h=1,p=e.charAt(c-h);""===p.trim()||"="===p;){if("="===p){u=A;continue e}p=e.charAt(c-++h)}}else if(A===u){u=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"use strict";var n=0,i=[],o=!1,l=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&i.push(o)}}for(var f=0;f<l;f++){var A,h=e.charAt(f);if(!1!==o||"="!==h)if(!1===o||f!==n||'"'!==h&&"'"!==h||"="!==e.charAt(f-1)){if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(A=s(e,f))){d(r.trim(e.slice(n,f))),o=!1,n=f+1;continue}f=A-1;continue}if(-1===(A=u(e,f-1))){d(o,c(r.trim(e.slice(n,f)))),o=!1,n=f+1;continue}}}else{if(-1===(A=e.indexOf(h,f+1)))break;d(o,r.trim(e.slice(n+1,A))),o=!1,n=(f=A)+1}else o=e.slice(n,f),n=f+1}return n<e.length&&(!1===o?d(e.slice(n)):d(o,c(r.trim(e.slice(n))))),r.trim(i.join(" "))}},,function(e,t,n){var r=n(29),i=n(34);function o(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}n(30),a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return i(e,(function(e,t,i,u,c){var l=n[i],d=!1;if(!0===l?d=l:"function"==typeof l?d=l(u):l instanceof RegExp&&(d=l.test(u)),!0!==d&&(d=!1),u=s(i,u)){var f,A={position:t,sourcePosition:e,source:c,isWhite:d};return d?o(f=r(i,u,A))?i+":"+u:f:o(f=a(i,u,A))?void 0:f}}))},e.exports=a},function(e,t,n){var r=n(30);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,i=!1,o=0,a=0,s="";function u(){if(!i){var n=r.trim(e.slice(o,a)),u=n.indexOf(":");if(-1!==u){var c=r.trim(n.slice(0,u)),l=r.trim(n.slice(u+1));if(c){var d=t(o,s.length,c,l,n);d&&(s+=d+"; ")}}}o=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;o=(a=l+1)+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||u():"\n"===c&&u()}return r.trim(s)}},function(e,t,n){var r=n(16).FilterCSS,i=n(28),o=n(31),a=o.parseTag,s=o.parseAttr,u=n(17);function c(e){return null==e}function l(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=i.onIgnoreTagStripAll),e.whiteList=e.whiteList||i.whiteList,e.onTag=e.onTag||i.onTag,e.onTagAttr=e.onTagAttr||i.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||i.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||i.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,e.escapeHtml=e.escapeHtml||i.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,l=t.onTagAttr,d=t.onIgnoreTagAttr,f=t.safeAttrValue,A=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=i.stripBlankChar(e)),t.allowCommentTag||(e=i.stripCommentTag(e));var p=!1;t.stripIgnoreTagBody&&(p=i.StripTagBody(t.stripIgnoreTagBody,o),o=p.onIgnoreTag);var m=a(e,(function(e,t,i,a,p){var m,g={sourcePosition:e,position:t,isClosing:p,isWhite:n.hasOwnProperty(i)};if(!c(m=r(i,a,g)))return m;if(g.isWhite){if(g.isClosing)return"</"+i+">";var v=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}(a),y=n[i],b=s(v.html,(function(e,t){var n,r=-1!==u.indexOf(y,e);return c(n=l(i,e,t,r))?r?(t=f(i,e,t,h))?e+'="'+t+'"':e:c(n=d(i,e,t,r))?void 0:n:n}));return a="<"+i,b&&(a+=" "+b),v.closing&&(a+=" /"),a+">"}return c(m=o(i,a,g))?A(a):m}),A);return p&&(m=p.remove(m)),m},e.exports=l}]).default}))},"1ac9":function(e,t,n){},"22c5":function(e,t,n){"use strict";n("e343")},2401:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return function(n){return t(n)===e}},r=function(e){return function(t){return typeof t===e}},i=n("string"),o=n("object"),a=n("array"),s=r("boolean"),u=r("function"),c=r("number"),l=function(){},d=function(e){return function(){return e}},f=function(e){return function(t){return!e(t)}},A=d(!1),h=d(!0),p=function(){return m},m=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:A,isSome:A,isNone:h,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:t,map:p,each:l,bind:p,exists:A,forall:h,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:d("none()")};return r}(),g=function(e){var t=d(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:h,isNone:A,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:m},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(A,(function(t){return n(e,t)}))}};return i},v=function(e){return null===e||void 0===e?m:g(e)},y={some:g,none:p,from:v},b=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},C=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},S=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},k=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=t(s);u!==n&&(r.push(i),i=[]),n=u,i.push(s)}return 0!==i.length&&r.push(i),r},_=function(e,t,n){return C(e,(function(e){n=t(n,e)})),n},B=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return y.some(o);if(n(o,r))break}return y.none()},D=function(e,t){return B(e,t,A)},M=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t},E=function(e,t){return M(x(e,t))},T=function(e){var t=b.call(e,0);return t.reverse(),t},I=function(e,t){return t>=0&&t<e.length?y.some(e[t]):y.none()},O=function(e){return I(e,0)},L=function(e){return I(e,e.length-1)},F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)};function P(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var N=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},U=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=i||!o&&a&&r("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!l;return{isiPad:d(i),isiPhone:d(o),isTablet:d(u),isPhone:d(c),isTouch:d(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(l),isDesktop:d(f)}},H=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},R=function(e,t){var n=H(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return j(r(1),r(2))},V=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Q():R(e,n)},Q=function(){return j(0,0)},j=function(e,t){return{major:e,minor:t}},z={nu:j,detect:V,unknown:Q},G=function(e,t){var n=String(t).toLowerCase();return D(e,(function(e){return e.search(n)}))},K=function(e,t){return G(e,t).map((function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},q=function(e,t){return G(e,t).map((function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},W={detectBrowser:K,detectOs:q},$=function(e,t){return-1!==e.indexOf(t)},X=function(e){return function(t){return t.replace(e,"")}},Y=X(/^\s+|\s+$/g),J=function(e){return e.length>0},Z=function(e){return!J(e)},ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,te=function(e){return function(t){return $(t,e)}},ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return $(e,"edge/")&&$(e,"chrome")&&$(e,"safari")&&$(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ee],search:function(e){return $(e,"chrome")&&!$(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return $(e,"msie")||$(e,"trident")}},{name:"Opera",versionRegexes:[ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:te("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:te("firefox")},{name:"Safari",versionRegexes:[ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return($(e,"safari")||$(e,"mobile/"))&&$(e,"applewebkit")}}],re=[{name:"Windows",search:te("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return $(e,"iphone")||$(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:te("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:te("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:te("linux"),versionRegexes:[]},{name:"Solaris",search:te("sunos"),versionRegexes:[]},{name:"FreeBSD",search:te("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:te("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ie={browsers:d(ne),oses:d(re)},oe="Edge",ae="Chrome",se="IE",ue="Opera",ce="Firefox",le="Safari",de=function(){return fe({current:void 0,version:z.unknown()})},fe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(oe),isChrome:r(ae),isIE:r(se),isOpera:r(ue),isFirefox:r(ce),isSafari:r(le)}},Ae={unknown:de,nu:fe,edge:d(oe),chrome:d(ae),ie:d(se),opera:d(ue),firefox:d(ce),safari:d(le)},he="Windows",pe="iOS",me="Android",ge="Linux",ve="OSX",ye="Solaris",be="FreeBSD",we="ChromeOS",xe=function(){return Ce({current:void 0,version:z.unknown()})},Ce=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(he),isiOS:r(pe),isAndroid:r(me),isOSX:r(ve),isLinux:r(ge),isSolaris:r(ye),isFreeBSD:r(be),isChromeOS:r(we)}},Se={unknown:xe,nu:Ce,windows:d(he),ios:d(pe),android:d(me),linux:d(ge),osx:d(ve),solaris:d(ye),freebsd:d(be),chromeos:d(we)},ke=function(e,t){var n=ie.browsers(),r=ie.oses(),i=W.detectBrowser(n,e).fold(Ae.unknown,Ae.nu),o=W.detectOs(r,e).fold(Se.unknown,Se.nu),a=U(o,i,e,t);return{browser:i,os:o,deviceType:a}},_e={detect:ke},Be=function(e){return window.matchMedia(e).matches},De=N((function(){return _e.detect(navigator.userAgent,Be)})),Me=function(){return De()},Ee=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Te=function(e,t){return Ee(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ie=1,Oe=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Pe(r.childNodes[0])},Le=function(e,t){var n=t||document,r=n.createElement(e);return Pe(r)},Fe=function(e,t){var n=t||document,r=n.createTextNode(e);return Pe(r)},Pe=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ne=function(e,t,n){return y.from(e.dom.elementFromPoint(t,n)).map(Pe)},Ue={fromHtml:Oe,fromTag:Le,fromText:Fe,fromDom:Pe,fromPoint:Ne},He=function(e,t){var n=e.dom;if(n.nodeType!==Ie)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Re=function(e,t){return e.dom===t.dom},Ve=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Qe=function(e,t){return Te(e.dom,t.dom)},je=function(e,t){return Me().browser.isIE()?Qe(e,t):Ve(e,t)},ze=He,Ge=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ke=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),qe=tinymce.util.Tools.resolve("tinymce.util.VK"),We=Object.keys,$e=function(e,t){for(var n=We(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},Xe=function(e){return function(t,n){e[n]=t}},Ye=function(e,t,n,r){var i={};return $e(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Je=function(e,t){var n={};return Ye(e,t,Xe(n),l),n},Ze=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),et=function(e){return e.dom.nodeType},tt=function(e){return function(t){return et(t)===e}},nt=tt(Ie),rt=function(e,t,n){if(!(i(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},it=function(e,t){var n=e.dom;$e(t,(function(e,t){rt(n,t,e)}))},ot=function(e){return _(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},at=function(e){return y.from(e.dom.parentNode).map(Ue.fromDom)},st=function(e){return x(e.dom.childNodes,Ue.fromDom)},ut=function(e,t){var n=e.dom.childNodes;return y.from(n[t]).map(Ue.fromDom)},ct=function(e){return ut(e,0)},lt=function(e){return ut(e,e.dom.childNodes.length-1)},dt=function(e,t){var n=at(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ft=function(e,t){e.dom.appendChild(t.dom)},At=function(e,t){C(t,(function(t){dt(e,t)}))},ht=function(e,t){C(t,(function(t){ft(e,t)}))},pt=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},mt=function(e,t){return Ue.fromDom(e.dom.cloneNode(t))},gt=function(e){return mt(e,!0)},vt=function(e,t){var n=Ue.fromTag(t),r=ot(e);return it(n,r),n},yt=function(e,t){var n=vt(e,t);dt(e,n);var r=st(e);return ht(n,r),pt(e),n},bt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),wt=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},Ct=function(e){return function(t){return t&&e.test(t.nodeName)}},St=function(e){return e&&3===e.nodeType},kt=Ct(/^(OL|UL|DL)$/),_t=Ct(/^(OL|UL)$/),Bt=xt("ol"),Dt=Ct(/^(LI|DT|DD)$/),Mt=Ct(/^(DT|DD)$/),Et=Ct(/^(TH|TD)$/),Tt=xt("br"),It=function(e){return e.parentNode.firstChild===e},Ot=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Lt=function(e,t){return e&&e.nodeName in t},Ft=function(e,t){return!!Tt(t)&&(e.isBlock(t.nextSibling)&&!Tt(t.previousSibling))},Pt=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},Nt=function(e,t){return e.isChildOf(t,e.getRoot())},Ut=function(e){return e.getParam("lists_indent_on_tab",!0)},Ht=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Rt=function(e){return e.getParam("forced_root_block_attrs",{})},Vt=function(e,t){var n,r,i,o=e.dom,a=e.schema.getBlockElements(),s=o.createFragment(),u=Ht(e);if(u&&(r=o.create(u),r.tagName===u.toUpperCase()&&o.setAttribs(r,Rt(e)),Lt(t.firstChild,a)||s.appendChild(r)),t)while(n=t.firstChild){var c=n.nodeName;i||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),Lt(n,a)?(s.appendChild(n),r=null):u?(r||(r=o.create(u),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return u?i||r.appendChild(o.create("br",{"data-mce-bogus":"1"})):s.appendChild(o.create("br")),s},Qt=bt.DOM,jt=function(e,t,n){var r=function(e){wt.each(i,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Qt.remove(e)},i=Qt.select('span[data-mce-type="bookmark"]',t),o=Vt(e,n),a=Qt.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var s=a.extractContents(),u=s.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){Qt.remove(u);break}e.dom.isEmpty(s)||Qt.insertAfter(s,t),Qt.insertAfter(o,t),Pt(e.dom,n.parentNode)&&r(n.parentNode),Qt.remove(n),Pt(e.dom,t)&&Qt.remove(t)},zt=function(e,t){ze(t,"dd")?yt(t,"dt"):ze(t,"dt")&&at(t).each((function(n){return jt(e,n.dom,t.dom)}))},Gt=function(e){ze(e,"dt")&&yt(e,"dd")},Kt=function(e,t,n){C(n,"Indent"===t?Gt:function(t){return zt(e,t)})},qt=function(e,t){if(St(e))return{container:e,offset:t};var n=Ge.getNode(e,t);return St(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&St(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&St(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Wt=function(e){var t=e.cloneRange(),n=qt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=qt(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},$t=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Xt=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",rn(e,n))},Yt=function(e,t){return e&&1===t.length&&t[0]===e},Jt=function(e){return wt.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return kt(e)}))},Zt=function(e){var t=Xt(e),n=e.selection.getSelectedBlocks();return Yt(t,n)?Jt(t):wt.grep(n,(function(e){return kt(e)&&t!==e}))},en=function(e,t){var n=wt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",rn(e,t));return n||t}));return $t.unique(n)},tn=function(e){var t=e.selection.getSelectedBlocks();return wt.grep(en(e,t),(function(e){return Dt(e)}))},nn=function(e){return S(tn(e),Mt)},rn=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},on=function(e,t){var n=e.dom.getParents(t,"ol,ul",rn(e,t));return L(n)},an=function(e){var t=on(e,e.selection.getStart()),n=S(e.selection.getSelectedBlocks(),_t);return t.toArray().concat(n)},sn=function(e){var t=an(e);return un(e,t)},un=function(e,t){var n=x(t,(function(t){return on(e,t).getOr(t)}));return $t.unique(n)},cn=function(e,t,n){return e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none()},ln=function(e,t){var n=t||document,r=n.createDocumentFragment();return C(e,(function(e){r.appendChild(e.dom)})),Ue.fromDom(r)},dn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},fn=function(e){return void 0!==e.style&&u(e.style.getPropertyValue)},An=function(e,t,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);fn(e)&&e.style.setProperty(t,n)},hn=function(e,t,n){var r=e.dom;An(r,t,n)},pn=function(e,t){ft(e.item,t.list)},mn=function(e){for(var t=1;t<e.length;t++)pn(e[t-1],e[t])},gn=function(e,t){cn(L(e),O(t),pn)},vn=function(e,t){var n={list:Ue.fromTag(t,e),item:Ue.fromTag("li",e)};return ft(n.list,n.item),n},yn=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(vn(e,t.listType));return r},bn=function(e,t){for(var n=0;n<e.length-1;n++)hn(e[n].item,"list-style-type","none");L(e).each((function(e){it(e.list,t.listAttributes),it(e.item,t.itemAttributes),ht(e.item,t.content)}))},wn=function(e,t){Ze(e.list)!==t.listType&&(e.list=yt(e.list,t.listType)),it(e.list,t.listAttributes)},xn=function(e,t,n){var r=Ue.fromTag("li",e);return it(r,t),ht(r,n),r},Cn=function(e,t){ft(e.list,t),e.item=t},Sn=function(e,t,n){var r=t.slice(0,n.depth);return L(r).each((function(t){var r=xn(e,n.itemAttributes,n.content);Cn(t,r),wn(t,n)})),r},kn=function(e,t,n){var r=yn(e,n,n.depth-t.length);return mn(r),bn(r,n),gn(t,r),t.concat(r)},_n=function(e,t){var n=_(t,(function(t,n){return n.depth>t.length?kn(e,t,n):Sn(e,t,n)}),[]);return O(n).map((function(e){return e.list}))},Bn=function(e){return ze(e,"OL,UL")},Dn=function(e){return ct(e).map(Bn).getOr(!1)},Mn=function(e){return lt(e).map(Bn).getOr(!1)},En=function(e){return e.depth>0},Tn=function(e){return e.isSelected},In=function(e){var t=st(e),n=Mn(e)?t.slice(0,-1):t;return x(n,gt)},On=function(e,t,n){return at(e).filter(nt).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:In(e),itemAttributes:ot(e),listAttributes:ot(r),listType:Ze(r)}}))},Ln=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},Fn=function(e,t){e.listType=t.listType,e.listAttributes=F({},t.listAttributes)},Pn=function(e){e.listAttributes=Je(e.listAttributes,(function(e,t){return"start"!==t}))},Nn=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},i=function(e){return e.depth<n};return B(T(e.slice(0,t)),r,i).orThunk((function(){return B(e.slice(t+1),r,i)}))},Un=function(e){return C(e,(function(t,n){Nn(e,n).fold((function(){t.dirty&&Pn(t)}),(function(e){return Fn(t,e)}))})),e},Hn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Rn=function(e,t,n,r){return ct(r).filter(Bn).fold((function(){t.each((function(e){Re(e.start,r)&&n.set(!0)}));var i=On(r,e,n.get());t.each((function(e){Re(e.end,r)&&n.set(!1)}));var o=lt(r).filter(Bn).map((function(r){return Vn(e,t,n,r)})).getOr([]);return i.toArray().concat(o)}),(function(r){return Vn(e,t,n,r)}))},Vn=function(e,t,n,r){return E(st(r),(function(r){var i=Bn(r)?Vn:Rn,o=e+1;return i(o,t,n,r)}))},Qn=function(e,t){var n=Hn(!1),r=0;return x(e,(function(e){return{sourceList:e,entries:Vn(r,t,n,e)}}))},jn=function(e,t){var n=Un(t);return x(n,(function(t){var n=ln(t.content);return Ue.fromDom(Vt(e,n.dom))}))},zn=function(e,t){var n=Un(t);return _n(e.contentDocument,n).toArray()},Gn=function(e,t){return E(k(t,En),(function(t){var n=O(t).map(En).getOr(!1);return n?zn(e,t):jn(e,t)}))},Kn=function(e,t){C(S(e,Tn),(function(e){return Ln(t,e)}))},qn=function(e){var t=x(tn(e),Ue.fromDom);return cn(D(t,f(Dn)),D(T(t),f(Dn)),(function(e,t){return{start:e,end:t}}))},Wn=function(e,t,n){var r=Qn(t,qn(e));C(r,(function(t){Kn(t.entries,n);var r=Gn(e,t.entries);C(r,(function(t){dn(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),At(t.sourceList,r),pt(t.sourceList)}))},$n=function(e,t){var n=x(sn(e),Ue.fromDom),r=x(nn(e),Ue.fromDom),i=!1;if(n.length||r.length){var o=e.selection.getBookmark();Wn(e,n,t),Kt(e,t,r),e.selection.moveToBookmark(o),e.selection.setRng(Wt(e.selection.getRng())),e.nodeChanged(),i=!0}return i},Xn=function(e){return $n(e,"Indent")},Yn=function(e){return $n(e,"Outdent")},Jn=function(e){return $n(e,"Flatten")},Zn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),er=bt.DOM,tr=function(e){var t={},n=function(n){var r,i,o;i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1===i.nodeType&&(r=er.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(o=Math.min(o,i.childNodes.length-1),n?i.insertBefore(r,i.childNodes[o]):er.insertAfter(r,i.childNodes[o])):i.appendChild(r),i=r,o=0),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},nr=function(e){var t=function(t){var n,r,i,o=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=i=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=o(n),n=n.parentNode,er.remove(i),!n.hasChildNodes()&&er.isBlock(n)&&n.appendChild(er.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)};t(!0),t();var n=er.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Wt(n)},rr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ir=function(e){return/\btox\-/.test(e.className)},or=function(e,t,n){var r=function(e){var r=B(e.parents,kt,Et).filter((function(e){return e.nodeName===t&&!ir(e)})).isSome();n(r)},i=e.dom.getParents(e.selection.getNode());return r({parents:i}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},ar=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},sr=function(e,t){wt.each(t,(function(t,n){e.setAttribute(n,t)}))},ur=function(e,t,n){sr(t,n["list-attributes"]),wt.each(e.select("li",t),(function(e){sr(e,n["list-item-attributes"])}))},cr=function(e,t,n){ar(e,t,n),ur(e,t,n)},lr=function(e,t,n){wt.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},dr=function(e,t,n,r){var i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];1===i.nodeType&&(i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i),!n&&Tt(i.nextSibling)&&(i=i.nextSibling);while(i.parentNode!==r){if(Ot(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},fr=function(e,t,n){for(var r,i=[],o=e.dom,a=dr(e,t,!0,n),s=dr(e,t,!1,n),u=[],c=a;c;c=c.nextSibling)if(u.push(c),c===s)break;return wt.each(u,(function(t){if(Ot(e,t))return i.push(t),void(r=null);if(o.isBlock(t)||Tt(t))return Tt(t)&&o.remove(t),void(r=null);var a=t.nextSibling;Zn.isBookmarkNode(t)&&(kt(a)||Ot(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=o.create("p"),t.parentNode.insertBefore(r,t),i.push(r)),r.appendChild(t))})),i},Ar=function(e,t,n){var r=e.getStyle(t,"list-style-type"),i=n?n["list-style-type"]:"";return i=null===i?"":i,r===i},hr=function(e,t,n){var r=e.selection.getRng(),i="LI",o=rn(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(i="DT");var s=tr(r),u=fr(e,r,o);wt.each(u,(function(r){var o,s=r.previousSibling,u=r.parentNode;Dt(u)||(s&&kt(s)&&s.nodeName===t&&Ar(a,s,n)?(o=s,r=a.rename(r,i),s.appendChild(r)):(o=a.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=a.rename(r,i)),lr(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),cr(a,o,n),yr(e.dom,o))})),e.selection.setRng(nr(s))}},pr=function(e,t){return e&&t&&kt(e)&&e.nodeName===t.nodeName},mr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),i=e.getStyle(n,"list-style-type",!0);return r===i},gr=function(e,t){return e.className===t.className},vr=function(e,t,n){return pr(t,n)&&mr(e,t,n)&&gr(t,n)},yr=function(e,t){var n,r;if(n=t.nextSibling,vr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,vr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},br=function(e,t,n,r){if(t.nodeName!==n){var i=e.dom.rename(t,n);cr(e.dom,i,r),dn(e,rr(n),i)}else cr(e.dom,t,r),dn(e,rr(n),t)},wr=function(e,t,n,r,i){var o=kt(t);if(o&&t.nodeName===r&&!xr(i))Jn(e);else{hr(e,r,i);var a=tr(e.selection.getRng(!0)),s=o?P([t],n):n;wt.each(s,(function(t){br(e,t,r,i)})),e.selection.setRng(nr(a))}},xr=function(e){return"list-style-type"in e},Cr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||xr(r)||ir(t)){var i=tr(e.selection.getRng(!0));cr(e.dom,t,r);var o=e.dom.rename(t,n);yr(e.dom,o),e.selection.setRng(nr(i)),hr(e,n,r),dn(e,rr(n),o)}else Jn(e);else hr(e,n,r),dn(e,rr(n),t)},Sr=function(e,t,n){var r=Xt(e),i=Zt(e),a=o(n)?n:{};i.length>0?wr(e,r,i,t,a):Cr(e,r,t,a)},kr=bt.DOM,_r=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),Pt(e,r)&&kr.remove(r)):kr.setStyle(r,"listStyleType","none")),kt(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},Br=function(e,t){wt.each(wt.grep(e.select("ol,ul",t)),(function(t){_r(e,t)}))},Dr=function(e,t,n,r){var i=t.startContainer,o=t.startOffset;if(St(i)&&(n?o<i.data.length:o>0))return i;var a=e.schema.getNonEmptyElements();1===i.nodeType&&(i=Ge.getNode(i,o));var s=new Ke(i,r);n&&Ft(e.dom,i)&&s.next();while(i=s[n?"next":"prev2"]()){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(a[i.nodeName])return i;if(St(i)&&i.data.length>0)return i}},Mr=function(e,t){var n=t.childNodes;return 1===n.length&&!kt(n[0])&&e.isBlock(n[0])},Er=function(e,t){Mr(e,t)&&e.remove(t.firstChild,!0)},Tr=function(e,t,n){var r,i=Mr(e,n)?n.firstChild:n;if(Er(e,t),!Pt(e,t,!0))while(r=t.firstChild)i.appendChild(r)},Ir=function(e,t,n){var r,i=t.parentNode;if(Nt(e,t)&&Nt(e,n)){kt(n.lastChild)&&(r=n.lastChild),i===n.lastChild&&Tt(i.previousSibling)&&e.remove(i.previousSibling);var o=n.lastChild;o&&Tt(o)&&t.hasChildNodes()&&e.remove(o),Pt(e,n,!0)&&e.$(n).empty(),Tr(e,t,n),r&&n.appendChild(r);var a=je(Ue.fromDom(n),Ue.fromDom(t)),s=a?e.getParents(t,kt,n):[];e.remove(t),C(s,(function(t){Pt(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Or=function(e,t,n){e.dom.$(n).empty(),Ir(e.dom,t,n),e.selection.setCursorLocation(n,0)},Lr=function(e,t,n,r){var i=e.dom;if(i.isEmpty(r))Or(e,n,r);else{var o=tr(t);Ir(i,n,r),e.selection.setRng(nr(o))}},Fr=function(e,t,n,r){var i=tr(t);Ir(e.dom,n,r);var o=nr(i);e.selection.setRng(o)},Pr=function(e,t){var n=e.dom,r=e.selection,i=r.getStart(),o=rn(e,i),a=n.getParent(r.getStart(),"LI",o);if(a){var s=a.parentNode;if(s===e.getBody()&&Pt(n,s))return!0;var u=Wt(r.getRng()),c=n.getParent(Dr(e,u,t,o),"LI",o);if(c&&c!==a)return e.undoManager.transact((function(){t?Lr(e,u,c,a):It(a)?Yn(e):Fr(e,u,a,c)})),!0;if(!c&&!t&&0===u.startOffset&&0===u.endOffset)return e.undoManager.transact((function(){Jn(e)})),!0}return!1},Nr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Ur=function(e,t){var n=e.dom,r=e.selection.getStart(),i=rn(e,r),o=n.getParent(r,n.isBlock,i);if(o&&n.isEmpty(o)){var a=Wt(e.selection.getRng()),s=n.getParent(Dr(e,a,t,i),"LI",i);if(s)return e.undoManager.transact((function(){Nr(n,o,i),yr(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0}return!1},Hr=function(e,t){return Pr(e,t)||Ur(e,t)},Rr=function(e){var t=e.selection.getStart(),n=rn(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||tn(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),Br(e.dom,e.getBody())})),!0)},Vr=function(e,t){return e.selection.isCollapsed()?Hr(e,t):Rr(e)},Qr=function(e){e.on("keydown",(function(t){t.keyCode===qe.BACKSPACE?Vr(e,!1)&&t.preventDefault():t.keyCode===qe.DELETE&&Vr(e,!0)&&t.preventDefault()}))},jr=function(e){return{backspaceDelete:function(t){Vr(e,t)}}},zr=function(e,t){var n=Xt(e);e.undoManager.transact((function(){o(t.styles)&&e.dom.setStyles(n,t.styles),o(t.attrs)&&$e(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))},Gr=function(e){var t=T(Y(e).split("")),n=x(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return _(n,(function(e,t){return e+t}),0)},Kr=function(e){if(e--,e<0)return"";var t=e%26,n=Math.floor(e/26),r=Kr(n),i=String.fromCharCode("A".charCodeAt(0)+t);return r+i},qr=function(e){return/^[A-Z]+$/.test(e)},Wr=function(e){return/^[a-z]+$/.test(e)},$r=function(e){return/^[0-9]+$/.test(e)},Xr=function(e){return $r(e)?2:qr(e)?0:Wr(e)?1:Z(e)?3:4},Yr=function(e){switch(Xr(e)){case 2:return y.some({listStyleType:y.none(),start:e});case 0:return y.some({listStyleType:y.some("upper-alpha"),start:Gr(e).toString()});case 1:return y.some({listStyleType:y.some("lower-alpha"),start:Gr(e).toString()});case 3:return y.some({listStyleType:y.none(),start:""});case 4:return y.none()}},Jr=function(e){var t=parseInt(e.start,10);return e.listStyleType.is("upper-alpha")?Kr(t):e.listStyleType.is("lower-alpha")?Kr(t).toLowerCase():e.start},Zr=function(e){var t=Xt(e);Bt(t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Jr({start:e.dom.getAttrib(t,"start","1"),listStyleType:y.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=t.getData();Yr(n.start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},ei=function(e,t){return function(){var n=Xt(e);return n&&n.nodeName===t}},ti=function(e){e.addCommand("mceListProps",(function(){Zr(e)}))},ni=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?Xn(e):"outdent"===n&&Yn(e)})),e.addCommand("InsertUnorderedList",(function(t,n){Sr(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){Sr(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){Sr(e,"DL",n)})),e.addCommand("RemoveList",(function(){Jn(e)})),ti(e),e.addCommand("mceListUpdate",(function(t,n){o(n)&&zr(e,n)})),e.addQueryStateHandler("InsertUnorderedList",ei(e,"UL")),e.addQueryStateHandler("InsertOrderedList",ei(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",ei(e,"DL"))},ri=function(e){e.on("keydown",(function(t){t.keyCode!==qe.TAB||qe.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?Yn(e):Xn(e))&&t.preventDefault()}))}))},ii=function(e){Ut(e)&&ri(e),Qr(e)},oi=function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return or(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return or(e,"UL",t.setActive)}}))},ai=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return or(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=Xt(e,t);return Bt(n)?["listprops"]:[]}})};function si(){e.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)?(ii(e),ni(e)):ti(e),oi(e),ai(e),jr(e)}))}si()})()},3154:function(e,t,n){n("f034")},"32b5":function(e,t,n){"use strict";n("02f0")},"349e":function(e,t,n){!function(t,r){e.exports=r(n("8bbf"),n("b311"))}(0,(function(e,t){return i={},n.m=r=[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){var u,c,l="function"==typeof e?e.options:e;return t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u&&(l.functional?(l._injectStyles=u,c=l.render,l.render=function(e,t){return u.call(t),c(e,t)}):(s=l.beforeCreate,l.beforeCreate=s?[].concat(s,u):[u])),{exports:e,options:l}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r,i=n(2),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(n(29));var r=a(n(21)),i=a(n(41)),o=n(42);function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"JsonViewer",components:{JsonBox:r.default},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"jv-light"},timeformat:{type:Function,default:function(e){return e.toLocaleString()}},previewMode:{type:Boolean,default:!1},showArrayIndex:{type:Boolean,default:!0},showDoubleQuotes:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,onKeyclick:this.onKeyclick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},computed:{jvClass:function(){return"jv-container "+this.theme+(this.boxed?" boxed":"")},copyText:function(){var e=this.copyable;return{copyText:e.copyText||"copy",copiedText:e.copiedText||"copied!",timeout:e.timeout||2e3,align:e.align}}},watch:{value:function(){this.onResized()}},mounted:function(){var e=this;this.debounceResized=(0,o.debounce)(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable&&new i.default(this.$refs.clip,{container:this.$refs.viewer,text:function(){return JSON.stringify(e.value,null,2)}}).on("success",(function(t){e.onCopied(t)}))},methods:{onResized:function(){this.debounceResized()},debResized:function(){var e=this;this.$nextTick((function(){e.$refs.jsonBox&&(250<=e.$refs.jsonBox.$el.clientHeight?e.expandableCode=!0:e.expandableCode=!1)}))},onCopied:function(e){var t=this;this.copied||(this.copied=!0,setTimeout((function(){t.copied=!1}),this.copyText.timeout),this.$emit("copied",e))},toggleExpandCode:function(){this.expandCode=!this.expandCode},onKeyclick:function(e){this.$emit("keyclick",e)}}}},function(e,t,n){"use strict";n.r(t);var r,i=n(4),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=f(n(30)),o=f(n(31)),a=f(n(32)),s=f(n(33)),u=f(n(34)),c=f(n(35)),l=f(n(36)),d=f(n(37));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"JsonBox",inject:["expandDepth","onKeyclick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean,forceExpand:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:{type:String,default:"$"}},data:function(){return{expand:!0,forceExpandMe:this.forceExpand}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)||this.forceExpandMe},methods:{toggle:function(){this.expand=!this.expand,this.dispatchEvent()},toggleAll:function(){this.expand=!this.expand,this.forceExpandMe=this.expand,this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch(e){var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}},getPath:function(){for(var e=[this.keyName],t=this.$parent;t.depth;)t.$el.classList.contains("jv-node")&&e.push(t.keyName),t=t.$parent;return e.reverse()}},render:function(e){var t=this,n=[],f=void 0;null===this.value||void 0===this.value?f=o.default:Array.isArray(this.value)?f=c.default:"[object Date]"===Object.prototype.toString.call(this.value)?f=d.default:"object"===r(this.value)?f=u.default:"number"==typeof this.value?f=a.default:"string"==typeof this.value?f=i.default:"boolean"==typeof this.value?f=s.default:"function"==typeof this.value&&(f=l.default);var A=this.keyName&&this.value&&(Array.isArray(this.value)||"object"===r(this.value)&&"[object Date]"!==Object.prototype.toString.call(this.value));return!this.previewMode&&A&&n.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:function(e){e.altKey?t.toggleAll():t.toggle()}}})),this.keyName&&n.push(e("span",{class:{"jv-key":!0},domProps:{innerText:this.showDoubleQuotes?'"'+this.keyName+'":':this.keyName+":"},on:{click:function(){t.onKeyclick(t.path)}}})),n.push(e(f,{class:{"jv-push":!0},props:{jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,forceExpand:this.forceExpandMe,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path},on:{"update:expand":function(e){t.expand=e},"update:expandAll":function(e){t.expand=e,t.forceExpandMe=t.expand}}})),e("div",{class:{"jv-node":!0,"jv-key-node":Boolean(this.keyName)&&!A,toggle:!this.previewMode&&A}},n)}}},function(e,t,n){"use strict";n.r(t);var r,i=n(6),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\w+:\/\//;t.default={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(e){var t=this.jsonValue,n=r.test(t),i=void 0;return this.expand?(i={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"}).domProps=n?{innerHTML:'"'+(t='<a href="'+t+'" target="_blank" class="jv-link">'+t+"</a>").toString()+'"'}:{innerText:'"'+t.toString()+'"'}:i={class:{"jv-ellipsis":!0},on:{click:this.toggle},domProps:{innerText:"..."}},e("span",{},[this.canExtend&&e("span",{class:{"jv-toggle":!0,open:this.expand},on:{click:this.toggle}}),e("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),e("span",i)])}}},function(e,t,n){"use strict";n.r(t);var r,i=n(8),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-undefined":!0},domProps:{innerText:null===t.props.jsonValue?"null":"undefined"}})}}},function(e,t,n){"use strict";n.r(t);var r,i=n(10),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(e,t){var n=t.props;t=Number.isInteger(n.jsonValue);return e("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":t,"jv-number-float":!t},domProps:{innerText:n.jsonValue.toString()}})}}},function(e,t,n){"use strict";n.r(t);var r,i=n(12),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-boolean":!0},domProps:{innerText:t.props.jsonValue.toString()}})}}},function(e,t,n){"use strict";n.r(t);var r,i=n(14),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n=n(21);var r=(n=n)&&n.__esModule?n:{default:n};t.default={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,forceExpand:Boolean,sort:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:{}}},computed:{ordered:function(){var e=this;if(!this.sort)return this.value;var t={};return Object.keys(this.value).sort().forEach((function(n){t[n]=e.value[n]})),t}},watch:{jsonValue:function(e){this.setValue(e)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(e){var t=this;setTimeout((function(){t.value=e}),0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch(e){var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(e){var t,n=this,i=[];if(this.previewMode||this.keyName||i.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:function(e){e.altKey?n.toggleAll():n.toggle()}}})),i.push(e("span",{class:{"jv-item":!0,"jv-object":!0},domProps:{innerText:"{"}})),this.expand)for(var o in this.ordered)this.ordered.hasOwnProperty(o)&&(t=this.ordered[o],i.push(e(r.default,{key:o,props:{sort:this.sort,keyName:o,depth:this.depth+1,value:t,previewMode:this.previewMode,forceExpand:this.forceExpand,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path+"."+o}})));return!this.expand&&Object.keys(this.value).length&&i.push(e("span",{class:{"jv-ellipsis":!0},on:{click:function(e){e.altKey?n.toggleAll():n.toggle()}},attrs:{title:"click to reveal object content (keys: "+Object.keys(this.ordered).join(", ")+")"},domProps:{innerText:"..."}})),i.push(e("span",{class:{"jv-item":!0,"jv-object":!0},domProps:{innerText:"}"}})),e("span",i)}}},function(e,t,n){"use strict";n.r(t);var r,i=n(16),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n=n(21);var r=(n=n)&&n.__esModule?n:{default:n};t.default={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,forceExpand:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:[]}},watch:{jsonValue:function(e){this.setValue(e)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;0===n&&(this.value=[]),setTimeout((function(){e.length>n&&(t.value.push(e[n]),t.setValue(e,n+1))}),0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch(e){var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(e){var t=this,n=[];return this.previewMode||this.keyName||n.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:function(e){e.altKey?t.toggleAll():t.toggle()}}})),n.push(e("span",{class:{"jv-item":!0,"jv-array":!0},domProps:{innerText:"["}})),this.expand&&this.value.forEach((function(i,o){n.push(e(r.default,{key:o,props:{sort:t.sort,keyName:t.showArrayIndex?""+o:"",depth:t.depth+1,value:i,previewMode:t.previewMode,forceExpand:t.forceExpand,showArrayIndex:t.showArrayIndex,showDoubleQuotes:t.showDoubleQuotes,path:t.path+"."+o}}))})),!this.expand&&this.value.length&&n.push(e("span",{class:{"jv-ellipsis":!0},on:{click:function(e){e.altKey?t.toggleAll():t.toggle()}},attrs:{title:"click to reveal "+this.value.length+" hidden items"},domProps:{innerText:"..."}})),n.push(e("span",{class:{"jv-item":!0,"jv-array":!0},domProps:{innerText:"]"}})),e("span",n)}}},function(e,t,n){"use strict";n.r(t);var r,i=n(18),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:t.props.jsonValue.toString()},domProps:{innerHTML:"&lt;function&gt;"}})}}},function(e,t,n){"use strict";n.r(t);var r,i=n(20),o=n.n(i);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(e,t){var n=t.props;t=t.injections,n=n.jsonValue;return e("span",{class:{"jv-item":!0,"jv-string":!0},domProps:{innerText:'"'+(0,t.timeformat)(n)+'"'}})}}},function(e,t,n){"use strict";n.r(t);var r,i=n(3);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n(38);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/json-box.vue",t.default=o.exports},function(e,t,n){"use strict";function r(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{ref:"viewer",class:e.jvClass},[e.copyable?t("div",{class:"jv-tooltip "+(e.copyText.align||"right")},[t("span",{ref:"clip",staticClass:"jv-button",class:{copied:e.copied}},[e._t("copy",(function(){return[e._v("\n        "+e._s(e.copied?e.copyText.copiedText:e.copyText.copyText)+"\n      ")]}),{copied:e.copied})],2)]):e._e(),e._v(" "),t("div",{staticClass:"jv-code",class:{open:e.expandCode,boxed:e.boxed}},[t("json-box",{ref:"jsonBox",attrs:{value:e.value,sort:e.sort,"preview-mode":e.previewMode,"show-array-index":e.showArrayIndex,"show-double-quotes":e.showDoubleQuotes},on:{keyclick:e.onKeyclick}})],1),e._v(" "),e.expandableCode&&e.boxed?t("div",{staticClass:"jv-more",on:{click:e.toggleExpandCode}},[t("span",{staticClass:"jv-toggle",class:{open:!!e.expandCode}})]):e._e()])}var i=[];r._withStripped=!0,n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){var r=n(39);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0};n(25)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];return r?t&&"function"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(e," */")}(r),t=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})),[n].concat(t).concat([e]).join("\n")):[n].join("\n"):n}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){var r,i,o,a={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return i=void 0===i?r.apply(this,arguments):i}),u=(o={},function(e){if(void 0===o[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}o[e]=t}return o[e]}),c=null,l=0,d=[],f=n(40);function A(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(y(r.parts[o],t))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(y(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0];o={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(o):n.push(r[a]={id:a,parts:[o]})}return n}function p(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");e=u(e.insertInto+" "+e.insertAt.before),n.insertBefore(t,e)}}function m(e){null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(e=d.indexOf(e))&&d.splice(e,1))}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o,a;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}return i=t.singleton?(a=l++,n=c=c||g(t),r=x.bind(null,n,a,!1),x.bind(null,n,a,!0)):e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,a=document.createElement("link"),o.attrs.type="text/css",o.attrs.rel="stylesheet",v(a,o.attrs),p(o,a),n=a,r=function(e,t,n){var r=n.css,i=n.sourceMap;n=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||n)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),i=new Blob([r],{type:"text/css"}),r=e.href,e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}.bind(null,n,t),function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css;t=t.media;if(t&&e.setAttribute("media",t),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){m(n)}),r(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||r(e=t):i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return A(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(s=a[o.id]).refs--,r.push(s)}e&&A(h(e,t),t);var s;for(i=0;i<r.length;i++)if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,r){n=n?"":r.css;e.styleSheet?e.styleSheet.cssText=w(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}},function(e,t,n){var r=n(44);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0};n(25)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n=n(28);var r=(n=n)&&n.__esModule?n:{default:n};t.default=Object.assign(r.default,{install:function(e){e.component("JsonViewer",r.default)}})},function(e,t,n){"use strict";n.r(t);var r,i=n(22),o=n(1);for(r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n(43);var a=n(0);i=Object(a.a)(o.default,i.a,i.b,!1,null,null,null);i.options.__file="lib/json-viewer.vue",t.default=i.exports},function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var r,i=n(5);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-string.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(7);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-undefined.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(9);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-number.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(11);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-boolean.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(13);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-object.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(15);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-array.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(17);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-function.vue",t.default=o.exports},function(e,t,n){"use strict";n.r(t);var r,i=n(19);for(r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(0);o=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);o.options.__file="lib/types/json-date.vue",t.default=o.exports},function(e,t,n){"use strict";n(23)},function(e,t,n){(t=n(24)(!1)).push([e.i,".jv-node{position:relative}.jv-node:after{content:','}.jv-node:last-of-type:after{content:''}.jv-node.toggle{margin-left:13px !important}.jv-node .jv-node{margin-left:25px}\n",""]),e.exports=t},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){t=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(t)?e:(t=0===t.indexOf("//")?t:0===t.indexOf("/")?n+t:r+t.replace(/^\.\//,""),"url("+JSON.stringify(t)+")")}))}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t){var n=Date.now(),r=void 0;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];Date.now()-n<t&&r&&clearTimeout(r),r=setTimeout((function(){e.apply(void 0,o)}),t),n=Date.now()}}},function(e,t,n){"use strict";n(26)},function(e,t,n){var r=n(24),i=n(45);n=n(46);t=r(!1),n=i(n),t.push([e.i,".jv-container{box-sizing:border-box;position:relative}.jv-container.boxed{border:1px solid #eee;border-radius:6px}.jv-container.boxed:hover{box-shadow:0 2px 7px rgba(0,0,0,0.15);border-color:transparent;position:relative}.jv-container.jv-light{background:#fff;white-space:nowrap;color:#525252;font-size:14px;font-family:Consolas, Menlo, Courier, monospace}.jv-container.jv-light .jv-ellipsis{color:#999;background-color:#eee;display:inline-block;line-height:0.9;font-size:0.9em;padding:0px 4px 2px 4px;margin:0 4px;border-radius:3px;vertical-align:2px;cursor:pointer;-webkit-user-select:none;user-select:none}.jv-container.jv-light .jv-button{color:#49b3ff}.jv-container.jv-light .jv-key{color:#111111;margin-right:4px}.jv-container.jv-light .jv-item.jv-array{color:#111111}.jv-container.jv-light .jv-item.jv-boolean{color:#fc1e70}.jv-container.jv-light .jv-item.jv-function{color:#067bca}.jv-container.jv-light .jv-item.jv-number{color:#fc1e70}.jv-container.jv-light .jv-item.jv-object{color:#111111}.jv-container.jv-light .jv-item.jv-undefined{color:#e08331}.jv-container.jv-light .jv-item.jv-string{color:#42b983;word-break:break-word;white-space:normal}.jv-container.jv-light .jv-item.jv-string .jv-link{color:#0366d6}.jv-container.jv-light .jv-code .jv-toggle:before{padding:0px 2px;border-radius:2px}.jv-container.jv-light .jv-code .jv-toggle:hover:before{background:#eee}.jv-container .jv-code{overflow:hidden;padding:30px 20px}.jv-container .jv-code.boxed{max-height:300px}.jv-container .jv-code.open{max-height:initial !important;overflow:visible;overflow-x:auto;padding-bottom:45px}.jv-container .jv-toggle{background-image:url("+n+');background-repeat:no-repeat;background-size:contain;background-position:center center;cursor:pointer;width:10px;height:10px;margin-right:2px;display:inline-block;-webkit-transition:-webkit-transform 0.1s;transition:-webkit-transform 0.1s;transition:transform 0.1s;transition:transform 0.1s, -webkit-transform 0.1s}.jv-container .jv-toggle.open{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more{position:absolute;z-index:1;bottom:0;left:0;right:0;height:40px;width:100%;text-align:center;cursor:pointer}.jv-container .jv-more .jv-toggle{position:relative;top:40%;z-index:2;color:#888;-webkit-transition:all 0.1s;transition:all 0.1s;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more .jv-toggle.open{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.jv-container .jv-more:after{content:"";width:100%;height:100%;position:absolute;bottom:0;left:0;z-index:1;background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);-webkit-transition:all 0.1s;transition:all 0.1s}.jv-container .jv-more:hover .jv-toggle{top:50%;color:#111}.jv-container .jv-more:hover:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%)}.jv-container .jv-button{position:relative;cursor:pointer;display:inline-block;padding:5px;z-index:5}.jv-container .jv-button.copied{opacity:0.4;cursor:default}.jv-container .jv-tooltip{position:absolute}.jv-container .jv-tooltip.right{right:15px}.jv-container .jv-tooltip.left{left:15px}.jv-container .j-icon{font-size:12px}\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e,t){return t=t||{},"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB3aWR0aD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIAo8cG9seWdvbiBwb2ludHM9IjAsMCA4LDggMCwxNiIKc3R5bGU9ImZpbGw6IzY2NjtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDowIiAvPgo8L3N2Zz4="}],n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27);function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,i}))},3699:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},i=r("string"),o=r("object"),a=r("array"),s=function(e){return null===e||void 0===e},u=function(e){return!s(e)},c=function(){},l=function(e){return function(){return e}},d=l(!1),f=l(!0),A=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:d,isSome:d,isNone:f,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:n,orThunk:t,map:A,each:c,bind:A,exists:d,forall:f,filter:A,equals:e,equals_:e,toArray:function(){return[]},toString:l("none()")};return r}(),p=function(e){var t=l(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}};return i},m=function(e){return null===e||void 0===e?h:p(e)},g={some:p,none:A,from:m},v=Array.prototype.push,y=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},b=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);v.apply(t,e[n])}return t},w=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},x=Object.keys,C=Object.hasOwnProperty,S=function(e,t){for(var n=x(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},k=function(e,t){return _(e,t)?g.from(e[t]):g.none()},_=function(e,t){return C.call(e,t)},B=function(e){return e.getParam("media_scripts")},D=function(e){return e.getParam("audio_template_callback")},M=function(e){return e.getParam("video_template_callback")},E=function(e){return e.getParam("media_live_embeds",!0)},T=function(e){return e.getParam("media_filter_html",!0)},I=function(e){return e.getParam("media_url_resolver")},O=function(e){return e.getParam("media_alt_source",!0)},L=function(e){return e.getParam("media_poster",!0)},F=function(e){return e.getParam("media_dimensions",!0)},P=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),H=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},R=N.DOM,V=function(e){return e.replace(/px$/,"")},Q=function(e){var t=e.map.style,n=t?R.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:k(n,"max-width").map(V).getOr(""),height:k(n,"max-height").map(V).getOr("")}},j=function(e,t){var n=w(!1),r={};return U({validate:!1,allow_conditional_comments:!0,start:function(t,i){if(n.get());else if(_(i.map,"data-ephox-embed-iri"))n.set(!0),r=Q(i);else{if(r.source||"param"!==t||(r.source=i.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=P.extend(i.map,r)),"script"===t){var o=H(e,i.map.src);if(!o)return;r={type:"script",source:i.map.src,width:String(o.width),height:String(o.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=i.map.src):r.source=i.map.src),"img"!==t||r.poster||(r.poster=i.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},z=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},G=tinymce.util.Tools.resolve("tinymce.html.Schema"),K=tinymce.util.Tools.resolve("tinymce.html.Writer"),q=N.DOM,W=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},$=function(e,t){S(t,(function(t,n){var r=""+t;if(e.map[n]){var i=e.length;while(i--){var o=e[i];o.name===n&&(r?(e.map[n]=r,o.value=r):(delete e.map[n],e.splice(i,1)))}}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},X=function(e,t){var n=t.map.style,r=n?q.parseStyle(n):{};r["max-width"]=W(e.width),r["max-height"]=W(e.height),$(t,{style:q.serializeStyle(r)})},Y=["source","altsource"],J=function(e,t,n){var r,i=K(),o=w(!1),a=0;return U({validate:!1,allow_conditional_comments:!0,comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(e,s,u){if(o.get());else if(_(s.map,"data-ephox-embed-iri"))o.set(!0),X(t,s);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&$(s,{width:t.width,height:t.height});break}if(n)switch(e){case"video":$(s,{poster:t.poster,src:""}),t.altsource&&$(s,{src:""});break;case"iframe":$(s,{src:t.source});break;case"source":if(a<2&&($(s,{src:t[Y[a]],type:t[Y[a]+"mime"]}),!t[Y[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0;break}}i.start(e,s,u)},end:function(e){if(!o.get()){if("video"===e&&n)for(var s=0;s<2;s++)if(t[Y[s]]){var u=[];u.map={},a<=s&&($(u,{src:t[Y[s]],type:t[Y[s]+"mime"]}),i.start("source",u,!0))}if(t.poster&&"object"===e&&n&&!r){var c=[];c.map={},$(c,{src:t.poster,width:t.width,height:t.height}),i.start("img",c,!0)}}i.end(e)}},G({})).parse(e),i.getContent()},Z=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ee=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},te=function(e,t){for(var n=ee(t),r=e.regex.exec(t),i=n+e.url,o=function(e){i=i.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)o(a);return i.replace(/\?$/,"")},ne=function(e){var t=Z.filter((function(t){return t.regex.test(e)}));return t.length>0?P.extend({},t[0],{url:te(t[0],e)}):null},re=function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ie=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},oe=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},ae=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},se=function(e){return'<script src="'+e.source+'"><\/script>'},ue=function(e,t){var n=P.extend({},t);if(!n.source&&(P.extend(n,j(B(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=z(n.source),n.altsourcemime=z(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r=ne(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowfullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return J(n.embed,n,!0);var i=H(B(e),n.source);i&&(n.type="script",n.width=String(i.width),n.height=String(i.height));var o=D(e),a=M(e);return n.width=n.width||"300",n.height=n.height||"150",P.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?re(n):"application/x-shockwave-flash"===n.sourcemime?ie(n):-1!==n.sourcemime.indexOf("audio")?oe(n,o):"script"===n.type?se(n):ae(n,a)},ce=tinymce.util.Tools.resolve("tinymce.util.Promise"),le={},de=function(e,t,n){return new ce((function(r,i){var o=function(n){return n.html&&(le[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};le[e.source]?o(le[e.source]):n({url:e.source},o,i)}))},fe=function(e,t){return new ce((function(n){n({html:t(e),url:e.source})}))},Ae=function(e){return function(t){return ue(e,t)}},he=function(e,t){var n=I(e);return n?de(t,Ae(e),n):fe(t,Ae(e))},pe=function(e){return le.hasOwnProperty(e)},me=function(e,t){return k(t,e).bind((function(e){return k(e,"meta")}))},ge=function(e,t,n){return function(r){var i,a=function(){return k(e,r)},s=function(){return k(t,r)},u=function(e){return k(e,"value").bind((function(e){return e.length>0?g.some(e):g.none()}))},c=function(){return a().bind((function(e){return o(e)?u(e).orThunk(s):s().orThunk((function(){return g.from(e)}))}))},l=function(){return s().orThunk((function(){return a().bind((function(e){return o(e)?u(e):g.from(e)}))}))};return i={},i[r]=(r===n?c():l()).getOr(""),i}},ve=function(e,t){var n={};return k(e,"dimensions").each((function(e){y(["width","height"],(function(r){k(t,r).orThunk((function(){return k(e,r)})).each((function(e){return n[r]=e}))}))})),n},ye=function(e,n){var r=n?me(n,e).getOr({}):{},i=ge(e,r,n);return t(t(t(t(t({},i("source")),i("altsource")),i("poster")),i("embed")),ve(e,r))},be=function(e){var n=t(t({},e),{source:{value:k(e,"source").getOr("")},altsource:{value:k(e,"altsource").getOr("")},poster:{value:k(e,"poster").getOr("")}});return y(["width","height"],(function(t){k(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},we=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},xe=function(e,t){return j(B(e),t)},Ce=function(e){return e.getAttribute("data-mce-object")||e.getAttribute("data-ephox-embed-iri")},Se=function(e){var n=e.selection.getNode(),r=Ce(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},j(B(e),r))},ke=function(e,n){return function(r){if(i(r.url)&&r.url.trim().length>0){var o=r.html,a=xe(n,o),s=t(t({},a),{source:r.url,embed:o});e.setData(be(s))}}},_e=function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var i=n.length-1;i>=0;i--)t[r]===n[i]&&n.splice(i,1);e.selection.select(n[0])},Be=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),_e(e,n),e.nodeChanged()},De=function(e,t,n){t.embed=J(t.embed,t),t.embed&&(e.source===t.source||pe(t.source))?Be(n,t.embed):he(n,t).then((function(e){Be(n,e.html)})).catch(we(n))},Me=function(e){var n=Se(e),r=w(n),i=be(n),o=function(t,n){var r=ye(n.getData(),"source");t.source!==r.source&&(ke(g,e)({url:r.source,html:""}),he(e,r).then(ke(g,e)).catch(we(e)))},a=function(t){var n=ye(t.getData()),r=xe(e,n.embed);t.setData(be(r))},s=function(n,r){var i=ye(n.getData(),r),o=ue(e,i);n.setData(be(t(t({},i),{embed:o})))},u=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],c=F(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:b([u,c])},d={type:"textarea",name:"embed",label:"Paste your embed code below:"},f={title:"Embed",items:[d]},A=[];O(e)&&A.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),L(e)&&A.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var h={title:"Advanced",name:"advanced",items:A},p=[l,f];A.length>0&&p.push(h);var m={type:"tabpanel",tabs:p},g=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:m,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=ye(t.getData());De(r.get(),n,e),t.close()},onChange:function(e,t){switch(t.name){case"source":o(r.get(),e);break;case"embed":a(e);break;case"dimensions":case"altsource":case"poster":s(e,t.name);break}r.set(ye(e.getData()))},initialData:i})},Ee=function(e){var t=function(){Me(e)};return{showDialog:t}},Te=function(e){var t=function(){Me(e)};e.addCommand("mceMedia",t)},Ie=tinymce.util.Tools.resolve("tinymce.html.Node"),Oe=tinymce.util.Tools.resolve("tinymce.Env"),Le=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fe=function(e,t){if(!1===T(e))return t;var n,r=K();return U({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,i,o){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=i.length-1;a>=0;a--){var s=i[a].name;0===s.indexOf("on")&&(delete i.map[s],i.splice(a,1)),"style"===s&&(i[a].value=e.dom.serializeStyle(e.dom.parseStyle(i[a].value),t))}r.start(t,i,o),n=!1}},end:function(e){n||r.end(e)}},G({})).parse(t),r.getContent()},Pe=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},Ne=function(e,t,n,r){void 0===r&&(r=null);var i=e.attr(n);return u(i)?i:_(t,n)?null:r},Ue=function(e,t,n){var r="img"===t.name||"video"===e.name,i=r?"300":null,o="audio"===e.name?"30":"150",a=r?o:null;t.attr({width:Ne(e,n,"width",i),height:Ne(e,n,"height",a)})},He=function(e,t,n,r){var i=Le({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});while(i.firstChild)n.append(i.firstChild)},Re=function(e,t){var n=t.name,r=new Ie("img",1);return r.shortEnded=!0,Qe(e,t,r),Ue(t,r,{}),r.attr({style:t.attr("style"),src:Oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},Ve=function(e,t){var n=t.name,r=new Ie("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),Qe(e,t,r);var i=e.dom.parseStyle(t.attr("style")),o=new Ie(n,1);if(Ue(t,o,i),o.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)o.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{var a=["controls","crossorigin","currentTime","loop","muted","poster","preload"];y(a,(function(e){o.attr(e,t.attr(e))}));var s=r.attr("data-mce-html");u(s)&&He(e,n,o,s)}var c=new Ie("span",1);return c.attr("class","mce-shim"),r.append(o),r.append(c),r},Qe=function(e,t,n){var r=t.attributes,i=r.length;while(i--){var o=r[i].name,a=r[i].value;"width"!==o&&"height"!==o&&"style"!==o&&("data"!==o&&"src"!==o||(a=e.convertURL(a,o)),n.attr("data-mce-p-"+o,a))}var s=t.firstChild&&t.firstChild.value;s&&(n.attr("data-mce-html",escape(Fe(e,s))),n.firstChild=null)},je=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},ze=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||je(e))return!0;return!1},Ge=function(e){return function(t){var n,r,i=t.length;while(i--)n=t[i],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=H(B(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),Pe(n)&&E(e)&&Oe.ceFalse?ze(n)||n.replace(Ve(e,n)):ze(n)||n.replace(Re(e,n))))}},Ke=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();P.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();P.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Ge(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r,i,o,a,s,u,c,l,d=t.length;while(d--)if(r=t[d],r.parent){c=r.attr(n),i=new Ie(c,1),"audio"!==c&&"script"!==c&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?i.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):i.attr({width:r.attr("width"),height:r.attr("height")})),i.attr({style:r.attr("style")}),a=r.attributes,o=a.length;while(o--){var f=a[o].name;0===f.indexOf("data-mce-p-")&&i.attr(f.substr(11),a[o].value)}"script"===c&&i.attr("type","text/javascript"),s=r.attr("data-mce-html"),s&&(u=new Ie("#text",3),u.raw=!0,u.value=Fe(e,unescape(s)),i.append(u)),r.replace(i)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},qe=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))},We=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"script"===t&&e.preventDefault()})),e.on("ObjectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(J(t,{width:String(e.width),height:String(e.height)})))))}))},$e=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}},Xe=function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:$e(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})};function Ye(){e.add("media",(function(e){return Te(e),Xe(e),qe(e),Ke(e),We(e),Ee(e)}))}Ye()})()},"3aea":function(e,t,n){n("3699")},"3b2e":function(e,t,n){},"3c41":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=0,n=function(e){var n=new Date,r=n.getTime(),i=Math.floor(1e9*Math.random());return t++,e+"_"+i+t+String(r)},r=function(e,t){var n,r,i;for(i='<table data-mce-id="mce" style="width: 100%">',i+="<tbody>",r=0;r<t;r++){for(i+="<tr>",n=0;n<e;n++)i+="<td><br></td>";i+="</tr>"}return i+="</tbody>",i+="</table>",i},i=function(e){var t=e.dom.select("*[data-mce-id]");return t[0]},o=function(e,t,n){e.undoManager.transact((function(){e.insertContent(r(t,n));var o=i(e);o.removeAttribute("data-mce-id");var a=e.dom.select("td,th",o);e.selection.setCursorLocation(a[0],0)}))},a=function(e,t,n){e.plugins.table?e.plugins.table.insertTable(t,n):o(e,t,n)},s=function(e,t,r){var i=e.editorUpload.blobCache,o=i.create(n("mceu"),r,t);i.add(o),e.insertContent(e.dom.createHTML("img",{src:o.blobUri()}))},u=tinymce.util.Tools.resolve("tinymce.util.Promise"),c=function(e){return new u((function(t){var n=new FileReader;n.onloadend=function(){t(n.result.split(",")[1])},n.readAsDataURL(e)}))},l=tinymce.util.Tools.resolve("tinymce.Env"),d=tinymce.util.Tools.resolve("tinymce.util.Delay"),f=function(e){return new u((function(t){var n=document.createElement("input");n.type="file",n.accept="image/*",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0.001",document.body.appendChild(n);var r=function(e){t(Array.prototype.slice.call(e.target.files))};n.addEventListener("change",r);var i=function(r){var o=function(){t([]),n.parentNode.removeChild(n)};l.os.isAndroid()&&"remove"!==r.type?d.setEditorTimeout(e,o,0):o(),e.off("focusin remove",i)};e.on("focusin remove",i),n.click()}))},A=function(e){e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){f(e).then((function(t){if(t.length>0){var n=t[0];c(n).then((function(t){s(e,t,n)}))}}))}}),e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){a(e,2,2)}})},h=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},p=function(e){return function(t){return h(t)===e}},m=function(e){return function(t){return typeof t===e}},g=function(e){return function(t){return e===t}},v=p("string"),y=p("object"),b=p("array"),w=m("boolean"),x=g(void 0),C=m("function"),S=function(){},k=function(e){return function(){return e}},_=k(!1),B=k(!0),D=function(){return M},M=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:_,isSome:_,isNone:B,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:k(null),getOrUndefined:k(void 0),or:n,orThunk:t,map:D,each:S,bind:D,exists:_,forall:B,filter:D,equals:e,equals_:e,toArray:function(){return[]},toString:k("none()")};return r}(),E=function(e){var t=k(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:B,isNone:_,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return E(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:M},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(_,(function(t){return n(e,t)}))}};return i},T=function(e){return null===e||void 0===e?M:E(e)},I={some:E,none:D,from:T};function O(e,t,n,r,i){return e(n,r)?I.some(n):C(i)&&i(n)?I.none():t(n,r,i)}var L=1,F=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return U(r.childNodes[0])},P=function(e,t){var n=t||document,r=n.createElement(e);return U(r)},N=function(e,t){var n=t||document,r=n.createTextNode(e);return U(r)},U=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},H=function(e,t,n){return I.from(e.dom.elementFromPoint(t,n)).map(U)},R={fromHtml:F,fromTag:P,fromText:N,fromDom:U,fromPoint:H},V=function(e,t){var n=e.dom;if(n.nodeType!==L)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Q=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),j=function(e,t,n){var r=e.dom,i=C(n)?n:_;while(r.parentNode){r=r.parentNode;var o=R.fromDom(r);if(t(o))return I.some(o);if(i(o))break}return I.none()},z=function(e,t,n){var r=function(e,t){return t(e)};return O(r,j,e,t,n)},G=function(e,t,n){return j(e,(function(e){return V(e,t)}),n)},K=function(e,t,n){var r=function(e,t){return V(e,t)};return O(r,G,e,t,n)},q=function(e,t){if(t(e))return!0;throw new Error("Default value doesn't match requested type.")},W=function(e,t){if(b(e)||y(e))throw new Error("expected a string but found: "+e);return x(e)?t:w(e)?!1===e?"":t:e},$=function(e){return function(t,n,r){q(r,e);var i=t.getParam(n,r);return W(i,r)}},X=$(v),Y=function(e){return X(e,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote")},J=function(e){return X(e,"quickbars_insert_toolbar","quickimage quicktable")},Z=function(e){return X(e,"quickbars_image_toolbar","alignleft aligncenter alignright")},ee=function(e){var t=J(e);t.trim().length>0&&e.ui.registry.addContextToolbar("quickblock",{predicate:function(t){var n=R.fromDom(t),r=e.schema.getTextBlockElements(),i=function(t){return t.dom===e.getBody()};return K(n,"table",i).fold((function(){return z(n,(function(t){return Q(t)in r&&e.dom.isEmpty(t.dom)}),i).isSome()}),_)},items:t,position:"line",scope:"editor"})},te=function(e){var t=function(t){return"false"!==e.dom.getContentEditableParent(t)},n=function(e){return"IMG"===e.nodeName||"FIGURE"===e.nodeName&&/image/i.test(e.className)},r=Z(e);r.trim().length>0&&e.ui.registry.addContextToolbar("imageselection",{predicate:n,items:r,position:"node"});var i=Y(e);i.trim().length>0&&e.ui.registry.addContextToolbar("textselection",{predicate:function(r){return!n(r)&&!e.selection.isCollapsed()&&t(r)},items:i,position:"selection",scope:"editor"})};function ne(){e.add("quickbars",(function(e){A(e),ee(e),te(e)}))}ne()})()},"3c42":function(e,t,n){"use strict";n("8d6d")},4237:function(e,t,n){n("be7f")},"4cd0":function(e){e.exports=JSON.parse('[{"type":"group","text":"基本设置","desc":"点击？查看基本设置用法指南","helpUrl":"","children":[{"type":"uploadImage","layoutType":"inline","text":"ICO地址","bindKey":"icoImgUrl","desc":"用于设置浏览器页签显示的logo图标","placeholder":"可输入图片地址或直接上传"},{"type":"switch","layoutType":"inline","text":"状态栏","desc":"手机顶部状态栏是否显示，只用于在编辑器中显示，实际预览效果不会出现","bindKey":"showMobileStatusBar","disabled":false},{"type":"switch","layoutType":"inline","text":"加载动画","desc":"设置是否开启加载动画","bindKey":"openPreviewLoadStyle","default":true},{"type":"colorPicker","layoutType":"inline","text":"动画颜色","placeholder":"请选择颜色","default":{"hex8":"@[IDM.setting.applications.defaultPreviewLoadColor]"},"desc":"设置动画要显示的颜色","bindKey":"previewLoadColor","display":"@[openPreviewLoadStyle]"},{"type":"switch","layoutType":"inline","text":"vconsole","desc":"设置是否开启预览的调试模式，如果开启将会打开与浏览器F12同样的console模式，此模式再手机情况下非常实用","bindKey":"showVconsole","display":"@[url(\'mode\')!=\'easy\']","disabled":false}]},{"type":"group","text":"水印设置","desc":"点击？查看水印设置用法指南","helpUrl":"","children":[{"type":"radio","layoutType":"inline","text":"水印方式","bindKey":"watermarkType","dictionary":[{"label":"文字","value":"font"},{"label":"图片","value":"image"},{"label":"图文","value":"imageFont"},{"label":"无","value":"none"}],"default":"none"},{"type":"radio","layoutType":"inline","text":"水印层级","bindKey":"watermarkZindex","dictionary":[{"label":"最底部","value":"0"},{"label":"最上层","value":"1"}],"default":"0","display":"@[watermarkType!=\'none\']"},{"type":"uploadImage","layoutType":"inline","text":"水印图片","bindKey":"watermarkImg","placeholder":"可输入图片地址或直接上传","desc":"不能使用跨域图片,否则显示不了","display":"@[watermarkType==\'image\'||watermarkType==\'imageFont\']","default":"$/img/logo.png"},{"type":"input","layoutType":"inline","text":"文字","bindKey":"watermarkFont","placeholder":"请输入水印内容","desc":"第一行文字，支持获取当前用户信息和应用信息的方式，格式为：@[IDM.user.userObject.用户信息的字段]，例如：用户名称：@[IDM.user.userObject.username]，日期：@[IDM.user.userObject.date]，时间：@[IDM.user.userObject.time]","display":"@[watermarkType==\'font\']","default":"梦创@申龙"},{"type":"input","layoutType":"inline","text":"文字2","bindKey":"watermarkFont1","placeholder":"请输入水印内容","desc":"第二行文字，支持获取当前用户信息和应用信息的方式，格式为：@[IDM.user.userObject.用户信息的字段]，例如：用户名称：@[IDM.user.userObject.username]，日期：@[IDM.user.userObject.date]，时间：@[IDM.user.userObject.time]","display":"@[watermarkType==\'font\'||watermarkType==\'imageFont\']","default":"梦创@申龙"},{"type":"inputNumber","layoutType":"inline","text":"水印大小","bindKey":"watermarkSize","desc":"数值越大，水印间隙越宽，越小越密集，请不要小于内容的实际宽高","display":"@[watermarkType!=\'none\']","default":"200"},{"type":"colorPicker","layoutType":"inline","text":"文字颜色","bindKey":"watermarkColor","placeholder":"请选择颜色","default":{"hex8":"#EEEEEEFF"},"display":"@[watermarkType!=\'none\'&&watermarkType!=\'image\']"},{"type":"inputNumber","layoutType":"inline","text":"文字大小","bindKey":"watermarkFontSize","display":"@[watermarkType!=\'none\'&&watermarkType!=\'image\']","default":20},{"type":"inputNumber","layoutType":"inline","text":"图片大小","bindKey":"watermarkImgSize","desc":"取宽与高的最大值作为缩小比例缩小成这里设置的大小","display":"@[watermarkType==\'image\'||watermarkType==\'imageFont\']","default":44},{"type":"inputNumber","layoutType":"inline","text":"旋转角度","desc":"建议取值0-90，超出此范围旋转异常无效","bindKey":"watermarkRotate","display":"@[watermarkType!=\'none\']","default":45},{"type":"inputNumber","layoutType":"inline","text":"文字偏移(X)","bindKey":"watermarkFontLeftSize","display":"@[watermarkType!=\'none\'&&watermarkType!=\'image\']"},{"type":"inputNumber","layoutType":"inline","text":"图片偏移(X)","bindKey":"watermarkImgLeftSize","display":"@[watermarkType==\'image\'||watermarkType==\'imageFont\']"},{"type":"inputNumber","layoutType":"inline","text":"整体偏移(Y)","bindKey":"watermarkTopSize","display":"@[watermarkType!=\'none\']"},{"type":"slider","layoutType":"inline","text":"不透明度","bindKey":"watermarkOpacity","disabled":false,"maxLength":100,"minLength":0,"default":"90","display":"@[watermarkType!=\'none\']"}]},{"type":"group","text":"样式设置","desc":"点击？查看样式设置用法指南","helpUrl":"","children":[{"type":"layout","layoutType":"inline","text":"栅格布局","bindKey":"layout"},{"type":"box","layoutType":"block","text":"内外边距","bindKey":"box"},{"type":"inputNumberUnit","layoutType":"block","text":"页面最小宽度","bindKey":"pageMinWidth","desc":"设定了最小宽度后，如果页面的实际宽度小于这个值则会出现横向滚动条，注意：该属性在设计器中不生效","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"},{"label":"vw","value":"vw"}]},{"type":"group","text":"背景设置","desc":"点击？查看背景设置用法指南","helpUrl":"","children":[{"type":"colorPicker","layoutType":"inline","text":"背景色","bindKey":"bgColor","placeholder":"请选择颜色","default":{"hex8":"#F5F5F5FF","hex":"#F5F5F5"}},{"type":"uploadImage","layoutType":"inline","text":"背景图片","bindKey":"bgImgUrl","placeholder":"可输入图片地址或直接上传","ctrlAttrObject":{"maxSize":10485760,"suffix":["jpg","jpeg","png","gif","bmp"]}},{"type":"inputNumberUnit","layoutType":"inline","text":"横向偏移","bindKey":"positionX","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"}],"display":"@[bgImgUrl]"},{"type":"inputNumberUnit","layoutType":"inline","text":"纵向偏移","bindKey":"positionY","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"}],"display":"@[bgImgUrl]"},{"type":"radio","layoutType":"block","text":"背景大小","bindKey":"bgSize","dictionary":[{"label":"裁切显示","value":"cover"},{"label":"完全显示","value":"contain"},{"label":"自定义","value":"custom"}],"display":"@[bgImgUrl]"},{"type":"inputNumberUnit","layoutType":"inline","text":"宽度","bindKey":"bgSizeWidth","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"}],"display":"@[bgSize==\'custom\']"},{"type":"inputNumberUnit","layoutType":"inline","text":"高度","bindKey":"bgSizeHeight","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"}],"display":"@[bgSize==\'custom\']"},{"type":"radio","layoutType":"block","text":"平铺模式","bindKey":"bgRepeat","dictionary":[{"label":"双向重复","value":"repeat"},{"label":"水平重复","value":"repeat-x"},{"label":"垂直重复","value":"repeat-y"},{"label":"不重复","value":"no-repeat"},{"label":"继承","value":"inherit"}],"display":"@[bgImgUrl]"},{"type":"radio","layoutType":"inline","text":"背景模式","bindKey":"bgAttachment","dictionary":[{"label":"固定","value":"fixed"},{"label":"滚动","value":"scroll"},{"label":"继承","value":"inherit"}],"display":"@[bgImgUrl]"}]},{"type":"border","layoutType":"block","text":"边框","bindKey":"border"},{"type":"font","layoutType":"block","text":"文字","bindKey":"font"}]},{"type":"group","text":"高级设置","desc":"点击？查看高级设置用法指南","helpUrl":"","children":[{"type":"group","text":"下拉刷新","desc":"点击？查看下拉刷新设置用法指南","helpUrl":"","children":[{"type":"switch","layoutType":"block","text":"开启下拉刷新","desc":"开启后将会加载下拉刷新功能，注意：此功能只在移动端生效","bindKey":"openPulltorefresh","default":"@[IDM.setting.applications.defaultOpenPulltorefresh]"},{"type":"select","layoutType":"inline","text":"刷新方式","bindKey":"pulltorefreshType","desc":"用于设置下拉刷新触发的类型，刷新页面：会重新加载整个页面；刷新数据：将会发送消息给各个组件刷新组件内部的数据；自定义：通过自定义函数来执行自己的逻辑","dictionary":[{"label":"刷新页面","value":"page"},{"label":"刷新数据","value":"data"},{"label":"自定义","value":"custom"}],"default":"data","display":"@[openPulltorefresh]"},{"type":"actionSelect","layoutType":"block","text":"自定义处理函数","bindKey":"pulltorefreshFunction","desc":"用于设置页面下拉刷新调用的自定义函数，接收参数格式为{customParam:自定义的}","multiple":true,"display":"@[openPulltorefresh&&pulltorefreshType==\'custom\']"}]},{"type":"group","text":"应用信息","desc":"点击？查看应用信息设置用法指南","helpUrl":"","children":[{"type":"switch","layoutType":"block","text":"开启应用信息","desc":"开启后将会在页面加载之前获取应用信息","bindKey":"openFetchApplicationInfo"},{"type":"input","layoutType":"block","text":"应用信息接口地址","bindKey":"applicationInfoUrl","desc":"点击？查看应用信息设置用法指南","placeholder":"请输入获取应用信息接口地址","display":"@[openFetchApplicationInfo&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.api.applicationInfoUrl]"}]},{"type":"group","text":"用户信息","desc":"点击？查看用户信息设置用法指南","helpUrl":"","children":[{"type":"switch","layoutType":"block","text":"开启用户信息","desc":"开启后将会在页面加载之前获取用户信息","bindKey":"openFetchUserInfo","default":true},{"type":"switch","layoutType":"block","text":"开启会话保持","desc":"开启后如果登录用户信息丢失将会根据登录时候的令牌进行静默重新登录，从而保持登录用户的不会掉线","bindKey":"openSessionKeep","display":"@[openFetchUserInfo]","default":"@[IDM.setting.sessionKeep.defaultOpenSessionKeep]"},{"type":"input","layoutType":"block","text":"静默登录接口地址","bindKey":"silentReLoginUrl","desc":"点击？查看静默登录接口用法指南","placeholder":"请输入静默登录接口地址","display":"@[openFetchUserInfo&&openSessionKeep&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.sessionKeep.defaultSilentReLoginUrl]"},{"type":"input","layoutType":"block","text":"用户信息接口地址","bindKey":"userInfoUrl","desc":"点击？查看用户信息用法指南","placeholder":"请输入获取用户信息接口地址","display":"@[openFetchUserInfo&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.api.userInfoUrl]"},{"type":"switch","layoutType":"block","text":"登录判断","desc":"开启后将会在页面加载之前先获取用户信息是否已经登录，未登录则跳转到登录界面","bindKey":"switchUserInfo","display":"@[openFetchUserInfo&&url(\'mode\')!=\'easy\']"},{"type":"input","layoutType":"block","text":"判断字段","desc":"格式为a.b.c或者[0]a.b[0].c，例如：返回格式{userid:\\"\\"}，则这里填写userid，如果返回结果userid为false则会自动跳转到设置的登录地址","bindKey":"switchUserInfoFiledName","default":"userid","placeholder":"示例：userid","display":"@[openFetchUserInfo&&switchUserInfo]"},{"type":"input","layoutType":"block","text":"登录页地址","bindKey":"loginPageUrl","placeholder":"请输入跳转到登录页的地址","display":"@[openFetchUserInfo&&switchUserInfo]","default":"@[IDM.setting.applications.defaultLoginPageUrl]"},{"type":"switch","layoutType":"block","text":"用户个性化定制","desc":"开启后所有用户都能支持个性化拖拽定制页面，注意不支持非容器组件的内部容器组件拖拽","bindKey":"switchUserCustomization","display":"@[openFetchUserInfo]","default":true},{"type":"pageModuleSelect","layoutType":"block","text":"个性化组件所在容器组件","bindKey":"userCustomizationModuleContainer","desc":"选择要个性化组件所在的容器组件，能个性化的组件只支持此处所选择的容器组件的直系子级，点击？查看个性化用法指南","multiple":false,"display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']"},{"type":"switch","layoutType":"block","text":"开启组件换位","desc":"开启后在用户对页面个性化调整布局的时候如果组件不在同一个容器中的时候会对组件进行换位，一般建议在页面个性化无法新增删除组件的情况下开启此项比较合适。","bindKey":"switchUserCustomizationCommutant","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","default":false},{"type":"input","layoutType":"block","text":"个性化保存地址","bindKey":"userCustomizationSaveUrl","desc":"点击？查看个性化用法指南","placeholder":"请输入用户个性化保存接口地址","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.api.saveUserCustomizationUrl]"},{"type":"input","layoutType":"block","text":"个性化获取地址","bindKey":"userCustomizationFetchUrl","desc":"点击？查看个性化用法指南","placeholder":"请输入用户个性化获取接口地址","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.api.userCustomizationUrl]"},{"type":"switch","layoutType":"block","text":"隐藏定制工具栏","desc":"隐藏后不会显示保存、退出编辑、重置以及组件列表的工具栏，如果想实现个性化定制且工具栏自定义可以隐藏此处默认提供的","bindKey":"hiddenCustomizationToolBar","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","default":false},{"type":"actionSelect","layoutType":"block","text":"状态切换自定义函数","bindKey":"customizationToolBarToogleEvent","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","desc":"页面用户自定义状态切换触发事件，接收参数{status:true 进入编辑状态 false 退出编辑状态,save:true 且 status的参数为 false 的时候则是需要保存状态 其他情况则是不执行保存状态,pageData:页面配置数据,routerId:路由ID,...自定义的}，如果函数返回false则不执行内部的编辑事件","multiple":true},{"type":"actionSelect","layoutType":"block","text":"保存自定义函数","bindKey":"customizationToolBarSaveEvent","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","desc":"页面用户个性化保存触发事件，接收参数{pageData:页面配置数据,routerId:路由ID,pageid:页面ID,version:当前页面使用的版本,...自定义的}，如果函数返回false则不执行内部的保存事件","multiple":true},{"type":"actionSelect","layoutType":"block","text":"重置自定义函数","bindKey":"customizationToolBarResetEvent","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","desc":"页面用户个性化重置触发事件，接收参数{pageData:页面配置数据,routerId:路由ID,pageid:页面ID,version:当前页面使用的版本,...自定义的}，如果函数返回false则不执行内部的重置事件","multiple":true},{"type":"actionSelect","layoutType":"block","text":"退出编辑自定义函数","bindKey":"customizationToolBarQuitEvent","display":"@[openFetchUserInfo&&switchUserCustomization&&url(\'mode\')!=\'easy\']","desc":"页面用户个性化退出触发事件，接收参数{pageData:页面配置数据,routerId:路由ID,pageid:页面ID,version:当前页面使用的版本,...自定义的}，如果函数返回false则不执行内部的退出事件","multiple":true}]},{"type":"group","text":"websocket","desc":"websocket连接，监听等等方法请自行处理，这里只做一个与组件之间的沟通桥梁，点击？查看websocket设置用法指南","helpUrl":"","children":[{"type":"switch","layoutType":"block","text":"开启websocket监听","desc":"开启后页面所有组件都能收到websocket消息","bindKey":"switchWebSocket","default":true},{"type":"input","layoutType":"block","text":"初始化websocket方法名","bindKey":"websocketInitName","desc":"用于设置调用外部的websocket的初始化的方法名，点击？查看用法指南","placeholder":"请输入初始化方法名","display":"@[switchWebSocket&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.websocket.websocketInitEventName]"},{"type":"input","layoutType":"block","text":"连接打开监听方法名","bindKey":"websocketOpenEvent","desc":"用于外部的websocket打开的时候调用此处设置的方法名，点击？查看用法指南","placeholder":"请输入监听方法名","display":"@[switchWebSocket&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.websocket.websocketOpenEventName]"},{"type":"actionSelect","layoutType":"block","text":"自定义打开处理函数","bindKey":"websocketOpenFunction","display":"@[switchWebSocket&&url(\'mode\')!=\'easy\']","desc":"用于处理连接打开后需要执行额外逻辑的处理函数，接收参数格式为{...自定义的}","multiple":true},{"type":"input","layoutType":"block","text":"监听接收消息方法名","bindKey":"websocketMessageEvent","desc":"用于外部的websocket监听接收到消息的时候调用此处设置的方法名，点击？查看用法指南","placeholder":"请输入监听方法名","display":"@[switchWebSocket&&url(\'mode\')!=\'easy\']","default":"@[IDM.setting.websocket.websocketMessageEventName]"},{"type":"actionSelect","layoutType":"block","text":"接收消息自定义函数","bindKey":"websocketMessageFunction","display":"@[switchWebSocket&&url(\'mode\')!=\'easy\']","desc":"用于处理接收到消息后需要执行额外逻辑的处理函数，接收参数格式为{...自定义的,msgData}","multiple":true}]},{"type":"group","text":"应用主题","desc":"点击？查看应用主题设置用法指南","helpUrl":"","children":[{"type":"select","layoutType":"inline","text":"默认主题","bindKey":"defaultIdmTheme","desc":"此处可填写默认主题标识，主题标识取决于当前页面配置的组件的主题属性设置，需要组件内进行配合，如果下面的属性【开启应用主题】启用了则会覆盖此属性标识。","default":"blue","placeholder":"示例：blue","ctrlAttrObject":{"mode":"combobox"},"dictionary":[{"label":"blue","value":"blue"},{"label":"red","value":"red"},{"label":"green","value":"green"}]},{"type":"switch","layoutType":"block","text":"开启应用主题","desc":"开启后将会在页面组件加载之前获取应用主题","bindKey":"openIdmTheme","display":"@[url(\'mode\')!=\'easy\']"},{"type":"radio","layoutType":"block","text":"获取主题方式","bindKey":"themeFetchType","dictionary":[{"label":"自定义函数","value":"customFunction"},{"label":"自定义接口","value":"customInterface"},{"label":"页面结果集","value":"pageInterfaceResult"}],"styleType":"radio","default":"customFunction","display":"@[openIdmTheme&&url(\'mode\')!=\'easy\']"},{"type":"textarea","layoutType":"block","text":"接口地址","bindKey":"themeInterfaceUrl","placeholder":"请输入接口地址","desc":"接口参数自动追加，点击？查看页面接口参数详细的用法指南","display":"@[openIdmTheme&&themeFetchType==\'customInterface\']"},{"type":"input","layoutType":"block","text":"结果集名","bindKey":"themeDataName","desc":"页面接口设定的结果集名称，位置为：页面设置》高级设置》页面接口","default":"","placeholder":"示例：resultData","display":"@[openIdmTheme&&themeFetchType==\'pageInterfaceResult\']"},{"type":"textarea","layoutType":"block","text":"显示字段","bindKey":"themeDataFiled","desc":"根据接口返回数据格式或指定结果集的字段，比如接口返回的值为或结果集名为resultData的值为{data:{filedName:\'1000\'}}，则这里应该填写data.filedName","default":"","placeholder":"示例：data.filedName 或者 [0].data[0].filedName","display":"@[openIdmTheme&&themeFetchType!=\'customFunction\']"},{"type":"actionSelect","layoutType":"block","text":"自定义处理函数","bindKey":"themeDataFunction","desc":"页面接口设定的结果集返回或接口返回会优先调用此处设置的自定义函数来返回所需要设置的主题数据，接收参数格式为{customParam:自定义的,结果集名或接口返回的resultData}","multiple":false,"display":"@[openIdmTheme&&themeFetchType!=\'customFunction\']"},{"type":"actionSelect","layoutType":"block","text":"自定义处理函数","bindKey":"themeCustomFunction","desc":"页面组件加载之前会调用此处设置的自定义函数来返回所需要设置的主题数据，接收参数格式为{customParam:自定义的}","multiple":false,"display":"@[openIdmTheme&&themeFetchType==\'customFunction\']"}]},{"type":"table","text":"主题设置","desc":"点击？查看主题设置用法指南","bindKey":"themeList","tabText":"主题[index]","display":"@[openIdmTheme]","default":[{"key":"red","mainColor":{"hex8":"#E21A1AFF"}},{"key":"green","mainColor":{"hex8":"#0EAF64FF"}},{"key":"blue","mainColor":{"hex8":"#0073CAFF"}},{"key":"inblue","mainColor":{"hex8":"#0080FFFF"}},{"key":"ycgreen","mainColor":{"hex8":"#026A52FF"}},{"key":"black","mainColor":{"hex8":"#333333FF"}},{"key":"orange","mainColor":{"hex8":"#ff6a00FF"}},{"key":"elegant","mainColor":{"hex8":"#438eb9FF"}}],"children":[{"type":"select","layoutType":"inline","text":"主题标识","bindKey":"key","multiple":false,"desc":"用于设置主题的标识，此项需要搭配自定义开发切换主题的功能，例如：蓝色标识为blue，用户切换主题的时候存储到数据库中的标识为blue，则这里填写为blue","default":"","placeholder":"例如：blue","ctrlAttrObject":{"mode":"combobox"},"dictionary":[{"label":"blue","value":"blue"},{"label":"red","value":"red"},{"label":"green","value":"green"}]},{"type":"colorPicker","layoutType":"inline","text":"主要颜色","bindKey":"mainColor","desc":"主题的主要颜色","placeholder":"请选择颜色","display":"@[key]"},{"type":"colorPicker","layoutType":"inline","text":"次要颜色","bindKey":"minorColor","desc":"主题的次要颜色","placeholder":"请选择颜色","display":"@[key]"}]},{"type":"group","text":"微信JS-SDK","desc":"用于开启设置微信JS-SDK功能，点击？查看微信JS-SDK设置用法指南","helpUrl":"","children":[{"type":"switch","layoutType":"block","text":"开启JS-SDK功能","desc":"开启后将会自动加载微信的js-sdk，并且会根据配置项加载对应的功能","bindKey":"switchWeixinJSSDK","default":"@[IDM.setting.applications.defaultOpenWeixinJSSDK]"},{"type":"actionSelect","layoutType":"block","text":"自定义ready处理函数","bindKey":"weixinReadyFunction","display":"@[switchWeixinJSSDK]","desc":"如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。接收参数格式为{...自定义的}","multiple":true},{"type":"actionSelect","layoutType":"block","text":"自定义error处理函数","bindKey":"weixinErrorFunction","display":"@[switchWeixinJSSDK]","desc":"config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。接收参数格式为{error,...自定义的}","multiple":true}]},{"type":"table","text":"脚本与样式","tabText":"链接[index]","bindKey":"resourceList","display":"@[url(\'mode\')!=\'easy\']","desc":"点击？查看脚本与样式用法指南，注意：在设计器中不会被加载","children":[{"type":"radio","layoutType":"inline","text":"资源类型","bindKey":"resourceType","dictionary":[{"label":"脚本","value":"js"},{"label":"样式","value":"css"}],"default":"js"},{"type":"input","layoutType":"block","text":"链接地址","bindKey":"resourceUrl","placeholder":"请输入链接地址"},{"type":"inlineGroup","text":"加载属性","display":"@[resourceType==\'js\']","children":[{"type":"switch","layoutType":"inline","text":"async","bindKey":"async","desc":"是否异步加载"},{"type":"switch","layoutType":"inline","text":"defer","bindKey":"defer","desc":"是否当页面已完成解析后，再执行脚本"}]}]},{"type":"table","text":"页面接口","tabText":"接口[index]","bindKey":"interfaceList","display":"@[url(\'mode\')!=\'easy\']","desc":"页面组件加载完后将会按当前设置去请求接口并返回结果且逐步调用所有组件，更多详解点击？查看页面接口用法指南","children":[{"type":"radio","layoutType":"inline","text":"配置方式","bindKey":"interfaceType","dictionary":[{"label":"数据源","value":"datasource"},{"label":"自定义","value":"interface"}],"default":"datasource"},{"type":"dataSourceSelect","layoutType":"inline","text":"数据源","bindKey":"dataSourceSelectData","multiple":false,"display":"@[interfaceType==\'datasource\']","ctrlAttrObject":{"tags":["common"]}},{"type":"radio","layoutType":"inline","text":"请求方式","bindKey":"interfaceMode","dictionary":[{"label":"POST","value":"post"},{"label":"GET","value":"get"}],"default":"get","display":"@[interfaceType==\'interface\']"},{"type":"select","layoutType":"inline","text":"参数类型","bindKey":"interfaceContentType","desc":"参数的数据类型，请根据后端需求进行选择","dictionary":[{"label":"默认","value":""},{"label":"JSON","value":"application/json;charset=UTF-8"},{"label":"FormData","value":"multipart/form-data"}],"default":"","display":"@[interfaceMode==\'post\'&&interfaceType==\'interface\']"},{"type":"textarea","layoutType":"block","text":"接口地址","bindKey":"interfaceUrl","placeholder":"请输入接口地址","desc":"接口参数自动追加，点击？查看页面接口参数详细的用法指南","display":"@[interfaceType==\'interface\']"},{"type":"actionSelect","layoutType":"block","text":"参数数据自定义函数","bindKey":"formDataFunction","desc":"请求接口post要提交的数据，请求前会调用此处设置的自定义函数，函数接收参数为格式为{...自定义的}，必须返回{a:b,c:d}格式","multiple":false,"display":"@[interfaceMode==\'post\'||interfaceType==\'datasource\']"},{"type":"actionSelect","layoutType":"block","text":"请求前置条件自定义函数","bindKey":"preAllowFunction","desc":"请求接口前会调用设置的自定义函数来返回true或false进行判断是否请求该接口，函数接收参数为格式为{...自定义的}，必须返回true或false，不返回代表可以请求接口","multiple":false},{"type":"input","layoutType":"block","text":"结果集名称","bindKey":"resultDataName","placeholder":"请输入结果集名称"},{"type":"actionSelect","layoutType":"block","text":"请求成功返回自定义函数","bindKey":"interfaceRunLaterFunction","desc":"请求成功返回结果后会调用设置的自定义函数，接收参数格式为上面执行提交的返回结果{...自定义的，resultData:返回结果的值}","multiple":true},{"type":"select","layoutType":"inline","text":"加载时机","bindKey":"loadTimingType","desc":"选择接口加载的时机，如果是组件请求前加载则每个组件只会在接收消息模式下收到，建议非特殊需求选择“页面加载完成加载”","dictionary":[{"label":"页面加载完成加载","value":"pageloadlater"},{"label":"页面加载之前加载","value":"pageloadbefore"}],"default":"pageloadlater"}]},{"type":"actionSelect","layoutType":"block","text":"组件加载之前执行","bindKey":"beforeLoadingFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"组件加载之前会调用此处设置的方法，接收参数格式为{...自定义的}","multiple":true},{"type":"actionSelect","layoutType":"block","text":"组件加载完后执行","bindKey":"afterLoadingFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"组件加载完之后会调用此处设置的方法，接收参数格式为{...自定义的}","multiple":true},{"type":"actionSelect","layoutType":"block","text":"页面挂起事件","bindKey":"pageSuspendFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面挂起之后会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}，会给当前页面所有的组件发送type为pageSuspend的消息","multiple":true},{"type":"actionSelect","layoutType":"block","text":"页面激活事件","bindKey":"pageActivatedFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面激活之后会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}，会给当前页面所有的组件发送type为pageActivated的消息","multiple":true},{"type":"actionSelect","layoutType":"block","text":"页面不缓存卸载前事件","bindKey":"pageNoKeepBeforeDestroyFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面不缓存卸载前会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}，返回false则不进行跳转下一页面，继续停留当前页面，会给当前页面所有的组件发送type为pageDestroy且message为noKeep的消息","multiple":false},{"type":"actionSelect","layoutType":"block","text":"页面不缓存卸载后事件","bindKey":"pageNoKeepDestroyedFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面不缓存卸载后会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}","multiple":true},{"type":"actionSelect","layoutType":"block","text":"页面返回卸载前事件","bindKey":"pageBackBeforeDestroyFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面返回动作卸载前会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}，返回false则不进行返回，继续停留当前页面，会给当前页面所有的组件发送type为pageDestroy且message为back的消息","multiple":false},{"type":"actionSelect","layoutType":"block","text":"页面返回卸载后事件","bindKey":"pageBackDestroyedFunction","display":"@[url(\'mode\')!=\'easy\']","desc":"页面返回动作卸载后会调用此处设置的方法，接收参数格式为{customParam:自定义的,pageid:当前页面ID,router:当前路由对象,params:请求的参数对象}","multiple":true}]},{"type":"group","text":"控制中心设置","desc":"点击？查看控制中心设置用法指南，注意：该设置项只有在预览时候才能看到效果","display":"@[url(\'mode\')!=\'easy\']","helpUrl":"","children":[{"type":"textarea","layoutType":"inline","text":"控制地址","bindKey":"moduleControlCenterSettingUrl","desc":"用于配置当前页面每个组件控制中心动态属性的设置地址","default":"@[IDM.setting.applications.moduleControlCenterSettingUrl]"},{"type":"switch","layoutType":"inline","text":"显示标题","desc":"设置标题是否显示","bindKey":"drawerTitleShow","default":true},{"type":"input","layoutType":"inline","text":"默认标题","bindKey":"drawerTitle","desc":"用于配置弹出抽屉的默认标题，默认标题会被组件实时调用替换","default":"属性设置","display":"@[drawerTitleShow]"},{"type":"input","layoutType":"inline","text":"容器类名","bindKey":"drawerWrapClassName","desc":"用于配置弹出抽屉外层容器的类名"},{"type":"radio","layoutType":"inline","text":"抽屉方向","desc":"设置弹出抽屉的方向","bindKey":"drawerPlacement","dictionary":[{"label":"上","value":"top"},{"label":"右","value":"right"},{"label":"下","value":"bottom"},{"label":"左","value":"left"}],"default":"right"},{"type":"inputNumber","layoutType":"inline","text":"层级索引","desc":"层级索引决定了弹出抽屉的堆叠顺序,拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面","bindKey":"drawerZIndex","maxLength":99999,"minLength":0,"default":1000},{"type":"inlineGroup","text":"","children":[{"type":"switch","layoutType":"block","text":"显示关闭","desc":"设置是否显示右上角的关闭按钮","bindKey":"drawerClosable","default":true},{"type":"switch","layoutType":"block","text":"关闭销毁","desc":"设置关闭时销毁 弹出抽屉 里的子元素","bindKey":"drawerDestroyOnClose","default":false},{"type":"switch","layoutType":"block","text":"显示遮罩","desc":"设置是否展示遮罩","bindKey":"drawerMask","default":true}]},{"type":"inlineGroup","text":"","children":[{"type":"switch","layoutType":"block","text":"遮罩关闭","desc":"设置点击蒙层是否允许关闭","bindKey":"drawerMaskClosable","default":true},{"type":"switch","layoutType":"block","text":"esc关闭","desc":"设置是否支持键盘 esc 关闭","bindKey":"drawerKeyboarde","default":true}]},{"type":"inlineGroup","text":"宽高","children":[{"type":"input","layoutType":"block","text":"宽度","desc":"设置弹出抽屉的宽度，使用px、%、vw等单位，比如100%、100px、100vw等等","bindKey":"drawerWidth","width":"60px","default":"256px"},{"type":"input","layoutType":"block","text":"高度","desc":"设置弹出抽屉的高度，或者使用px、%、vh等单位，比如100%、100px、100vh等等","bindKey":"drawerHeight","width":"60px","default":"256px"}]},{"type":"group","text":"抽屉样式自定义函数设置","desc":"点击？查看抽屉样式设置用法指南","helpUrl":"","children":[{"type":"actionSelect","layoutType":"block","text":"遮罩样式自定义函数","bindKey":"drawerMaskStyleFunction","desc":"用于设置遮罩层的样式，接收参数格式为{customParam:自定义的}，返回格式为cssObject对象","multiple":false},{"type":"actionSelect","layoutType":"block","text":"最外层样式自定义函数","bindKey":"drawerWrapStyleFunction","desc":"用于设置可用于设置 抽屉 最外层容器的样式，接收参数格式为{customParam:自定义的}，返回格式为cssObject对象","multiple":false},{"type":"actionSelect","layoutType":"block","text":"抽屉样式自定义函数","bindKey":"drawerStyleFunction","desc":"用于设置可用于设置 抽屉 弹出层的样式，接收参数格式为{customParam:自定义的}，返回格式为cssObject对象","multiple":false},{"type":"actionSelect","layoutType":"block","text":"抽屉头部样式自定义函数","bindKey":"drawerHeaderStyleFunction","desc":"用于设置可用于设置 抽屉 头部的样式，接收参数格式为{customParam:自定义的}，返回格式为cssObject对象","multiple":false},{"type":"actionSelect","layoutType":"block","text":"抽屉内容样式自定义函数","bindKey":"drawerBodyStyleFunction","desc":"用于设置可用于设置 抽屉 内容部分的样式，接收参数格式为{customParam:自定义的}，返回格式为cssObject对象","multiple":false}]},{"type":"actionSelect","layoutType":"block","text":"切换显示动画结束自定义函数","bindKey":"drawerAfterVisibleChangeFunction","desc":"切换抽屉时动画结束后会调用此处设置的自定义函数，接收参数格式为{customParam:自定义的}","multiple":true},{"type":"actionSelect","layoutType":"block","text":"关闭回调自定义函数","bindKey":"drawerCloseFunction","desc":"点击遮罩层或右上角叉或取消按钮会调用此处设置的自定义函数，接收参数格式为{customParam:自定义的对象}","multiple":true}]}]')},"4ea8":function(e,t,n){n("cdd9")},"4eb5":function(e,t,n){var r=n("6981"),i={autoSetContainer:!1,appendToBody:!0},o={install:function(e){e.prototype.$clipboardConfig=i,e.prototype.$copyText=function(e,t){return new Promise((function(n,o){var a=document.createElement("button"),s=new r(a,{text:function(){return e},action:function(){return"copy"},container:"object"===typeof t?t:document.body});s.on("success",(function(e){s.destroy(),n(e)})),s.on("error",(function(e){s.destroy(),o(e)})),i.appendToBody&&document.body.appendChild(a),a.click(),i.appendToBody&&document.body.removeChild(a)}))},e.directive("clipboard",{bind:function(e,t,n){if("success"===t.arg)e._vClipboard_success=t.value;else if("error"===t.arg)e._vClipboard_error=t.value;else{var o=new r(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"},container:i.autoSetContainer?e:void 0});o.on("success",(function(t){var n=e._vClipboard_success;n&&n(t)})),o.on("error",(function(t){var n=e._vClipboard_error;n&&n(t)})),e._vClipboard=o}},update:function(e,t){"success"===t.arg?e._vClipboard_success=t.value:"error"===t.arg?e._vClipboard_error=t.value:(e._vClipboard.text=function(){return t.value},e._vClipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._vClipboard_success:"error"===t.arg?delete e._vClipboard_error:(e._vClipboard.destroy(),delete e._vClipboard)}})},config:i};e.exports=o},"548e":function(e,t,n){},5836:function(e){e.exports=JSON.parse('[{"type":"group","text":"基本设置","desc":"点击？查看基本设置用法指南","children":[{"type":"input","layoutType":"inline","text":"组件名称","bindKey":"title","placeholder":"请输入","desc":"此设置是为组件进行命名的，该属性无法应用到组件内部或者说显示在哪一部分，但是会在其他地方非常有用，比如个性化工作台定制时候显示的名称等其他地方，默认为组件的别名","display":"@[IdmModuleObject.comId!=\'0\']","default":"@[asName]"},{"type":"radio","layoutType":"inline","text":"坐标起点","bindKey":"positionOrigin","dictionary":[{"label":"左上","value":"leftTop"},{"label":"右上","value":"rightTop"},{"label":"右下","value":"rightBottom"},{"label":"左下","value":"leftBottom"}],"desc":"坐标起点可设置组件的左上角的坐标相对于四个方位（左上、右上、右下、左下）的哪个坐标作为固定数值的X、Y轴起点","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"leftTop"},{"type":"inputNumberDouble","layoutType":"inline","text":"组件坐标","bindKey":"positionXY","desc":"组件坐标会根据上述的坐标起点进行X,Y轴进行定位的，改变起点可能位置会不一样","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"inputNumberDouble","layoutType":"inline","text":"组件宽高","bindKey":"positionWH","ctrlAttrObject":{"lock":true,"prefix":["W","H"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"slider","layoutType":"inline","text":"透明度","bindKey":"opacity","max":100,"min":0,"default":100,"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"slider","layoutType":"inline","text":"缩放","bindKey":"scale","max":10,"min":1,"default":"1","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"slider","layoutType":"inline","text":"X旋转度","bindKey":"rotateX","max":360,"min":-360,"default":"0","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"slider","layoutType":"inline","text":"Y旋转度","bindKey":"rotateY","max":360,"min":-360,"default":"0","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"slider","layoutType":"inline","text":"Z旋转度","bindKey":"rotateZ","max":360,"min":-360,"default":"0","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"inputNumber","layoutType":"inline","text":"层级索引","desc":"层级索引决定了组件的堆叠顺序,拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面","bindKey":"zIndex","max":99999,"min":0,"default":1,"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']"},{"type":"switch","layoutType":"inline","text":"尺寸定制","bindKey":"openPageWH","desc":"用于定制页面固定大小尺寸和尺寸适配，预览才有效，建议配置大屏类的页面需求才开启。","display":"@[IdmModuleObject.comId==\'0\']"},{"type":"inputNumberDouble","layoutType":"inline","text":"页面尺寸","bindKey":"pageWH","desc":"用于规定预览页面的实际大小，此处设置的大小在预览模式下才生效，不管当前浏览器分辨率多大都是会显示此处设置的大小，超出则会出现浏览器滚动条。此设置适用于大屏设计，配合“预览方式”可实现大屏的自动满屏适配","ctrlAttrObject":{"lock":true,"prefix":["W","H"]},"default":"1920,1080","display":"@[IdmModuleObject.comId==\'0\'&&openPageWH]"},{"type":"select","layoutType":"block","text":"预览方式","bindKey":"pageWHType","dictionary":[{"label":"X轴铺满，Y轴自适应滚动","value":"X"},{"label":"Y轴铺满，X轴自适应滚动","value":"Y"},{"label":"强行拉伸画面，填充所有视图","value":"XY"}],"display":"@[IdmModuleObject.comId==\'0\'&&openPageWH]","desc":"设置在上面规定页面尺寸下的预览方式","default":"X"}]},{"type":"group","text":"全局滤镜","desc":"用于设置页面的滤镜效果","display":"@[IdmModuleObject.comId==\'0\']","children":[{"type":"switch","layoutType":"inline","text":"开启滤镜","bindKey":"openFilter","desc":"用于定制页面固定大小尺寸和尺寸适配"},{"type":"slider","layoutType":"inline","text":"对比度(%)","bindKey":"contrast","max":400,"min":0,"default":100,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"饱和度(%)","bindKey":"saturate","max":400,"min":0,"default":100,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"亮度(%)","bindKey":"brightness","max":400,"min":0,"default":100,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"透明度(%)","bindKey":"pageOpacity","max":100,"min":0,"default":100,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"灰度(%)","bindKey":"grayscale","max":100,"min":0,"default":0,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"色相(°)","bindKey":"hueRotate","max":360,"min":0,"default":0,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"反转(%)","bindKey":"invert","max":100,"min":0,"default":0,"display":"@[openFilter]"},{"type":"slider","layoutType":"inline","text":"模糊(px)","bindKey":"blur","max":10,"min":0,"default":0,"display":"@[openFilter]"}]},{"type":"group","text":"状态授权","desc":"点击？查看状态设置用法指南","display":"@[IdmModuleObject.comId!=\'0\']","children":[{"type":"radio","layoutType":"block","text":"显示方式","bindKey":"showType","dictionary":[{"label":"默认显示","value":"show"},{"label":"默认隐藏","value":"hide"},{"label":"授权显示","value":"role"}],"desc":"如果设置授权显示或者始终隐藏则该组件下面如果有子组件将不会显示加载出来","default":"show"},{"type":"radio","layoutType":"block","text":"隐藏方式","bindKey":"hideType","display":"@[showType==\'hide\']","dictionary":[{"label":"加载不显示","value":"load"},{"label":"不加载","value":"noload"}],"desc":"设置隐藏组件的时候加载还是不加载，加载不显示是直接以display:none的方式隐藏","default":"load"},{"type":"treeSelect","layoutType":"block","text":"权限授权","bindKey":"privilegeList","dataSourceUrl":"/ctrl/idm/api/getPrivilegeList","display":"@[showType==\'role\']","ctrlAttrObject":{"treeDefaultExpandAll":false,"treeCheckable":true,"treeCheckStrictly":true},"desc":"设置拥有该权限的时候才能显示此组件，设置此属性前请确认IDM.setting.applications.basicAttributeAuthorizeConfig.privilege设置是否正确","multiple":true},{"type":"treeSelect","layoutType":"block","text":"角色授权","bindKey":"roleList","dataSourceUrl":"/ctrl/idm/api/getRoleList","display":"@[showType==\'role\']","ctrlAttrObject":{"treeDefaultExpandAll":false,"treeCheckable":true,"treeCheckStrictly":true},"desc":"设置拥有该角色的时候才能显示此组件，设置此属性前请确认IDM.setting.applications.basicAttributeAuthorizeConfig.role设置是否正确","multiple":true},{"type":"treeSelect","layoutType":"block","text":"人员授权","bindKey":"userList","display":"@[showType==\'role\']","ctrlAttrObject":{"treeDefaultExpandAll":false,"treeCheckable":true,"treeCheckStrictly":true},"dataSourceUrl":"/ctrl/idm/api/getDeptList?types=person&rootObject=2","desc":"设置在此人员范围内的人才能显示此组件，设置此属性前请确认IDM.setting.applications.basicAttributeAuthorizeConfig.user设置是否正确","multiple":true},{"type":"table","text":"单位授权设置","bindKey":"deptColumns","tabText":"权限[index]","display":"@[showType==\'role\']","children":[{"type":"treeSelect","layoutType":"block","text":"单位授权","bindKey":"deptList","ctrlAttrObject":{"treeDefaultExpandAll":false,"treeCheckable":true,"treeCheckStrictly":true},"dataSourceUrl":"/ctrl/idm/api/getDeptList?types=department&rootObject=2","desc":"设置拥有该单位的时候才能显示此组件，设置此属性前请确认IDM.setting.applications.basicAttributeAuthorizeConfig.dept设置是否正确","multiple":true},{"type":"radio","layoutType":"inline","text":"包含下级","bindKey":"includeChild","dictionary":[{"label":"是","value":"1"},{"label":"否","value":"0"}],"desc":"设置单位授权是否包含它的下级授权一样的权限，否则下级单位不含有此权限，是则下级单位跟此单位权限一致的","default":"1"}]}]},{"type":"group","text":"锚点偏移","desc":"用于设置悬浮布局模式下的组件锚点位置偏移信息","display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","children":[{"type":"inputNumberDouble","layoutType":"inline","text":"TopLeft","bindKey":"AnchorsTopLeft","desc":"组件顶部左边的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"Top","bindKey":"AnchorsTop","desc":"组件顶部中间的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"TopRight","bindKey":"AnchorsTopRight","desc":"组件顶部右边的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"Left","bindKey":"AnchorsLeft","desc":"组件左边中间的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"Right","bindKey":"AnchorsRight","desc":"组件右边中间的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"BottomLeft","bindKey":"AnchorsBottomLeft","desc":"组件底部左边的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"Bottom","bindKey":"AnchorsBottom","desc":"组件底部中间的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"},{"type":"inputNumberDouble","layoutType":"inline","text":"BottomRight","bindKey":"AnchorsBottomRight","desc":"组件底部右边的锚点偏移设置，值为具体的px值","ctrlAttrObject":{"prefix":["X","Y"]},"display":"@[IdmModuleObject.comId!=\'0\'&&IdmModuleObject.positionMode==\'absolute\']","default":"0,0"}]}]')},"59f0":function(e,t,n){},6981:function(e,t,n){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
!function(t,n){e.exports=n()}(0,(function(){return t={134:function(e,t,n){"use strict";n.d(t,{default:function(){return p}});t=n(279);var r=n.n(t),i=(t=n(370),n.n(t)),o=(t=n(817),n.n(t));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.resolveOptions(t),this.initSelection()}var t,n,r;return t=e,(n=[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var e="rtl"===document.documentElement.getAttribute("dir");return this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",e=window.pageYOffset||document.documentElement.scrollTop,this.fakeElem.style.top="".concat(e,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var e=this,t=this.createFakeElement();this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(t),this.selectedText=o()(t),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var e;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==a(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}])&&s(t.prototype,n),r&&s(t,r),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=A(t);return e=n?(e=A(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this,!(e=e)||"object"!==c(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):e}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if(e="data-clipboard-".concat(e),t.hasAttribute(e))return t.getAttribute(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,r());var e,t,n,o=f(a);function a(e,t){var n;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(n=o.call(this)).resolveOptions(t),n.listenClick(e),n}return e=a,n=[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t=(e="string"==typeof e?[e]:e,!!document.queryCommandSupported);return e.forEach((function(e){t=t&&!!document.queryCommandSupported(e)})),t}}],(t=[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=i()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget,this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return h("action",e)}},{key:"defaultTarget",value:function(e){if(e=h("target",e),e)return document.querySelector(e)}},{key:"defaultText",value:function(e){return h("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&l(e.prototype,t),n&&l(e,n),a}()},828:function(e){var t;"undefined"==typeof Element||Element.prototype.matches||((t=Element.prototype).matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function i(e,t,n,i,o){var a=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),i=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return c=t,l=n,(u=e).addEventListener(c,l),{destroy:function(){u.removeEventListener(c,l)}};if(r.nodeList(e))return o=e,a=t,s=n,Array.prototype.forEach.call(o,(function(e){e.addEventListener(a,s)})),{destroy:function(){Array.prototype.forEach.call(o,(function(e){e.removeEventListener(a,s)}))}};if(r.string(e))return e=e,t=t,n=n,i(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,a,s,u,c,l}},817:function(e){e.exports=function(e){var t,n="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t),n.toString());return n}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},n={},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e(134).default;function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}var t,n}))},"6c57":function(e,t,n){var r=n("23e7"),i=n("da84");r({global:!0},{globalThis:i})},"6d1d":function(e,t,n){"use strict";n("59f0")},"6dc4":function(e,t,n){"use strict";n("1ac9")},7472:function(e){e.exports=JSON.parse('[{"type":"input","layoutType":"inline","text":"元素id","disabled":"@[tagName === undefined]","bindKey":"id","placeholder":"请输入"},{"type":"input","layoutType":"inline","text":"元素类名","disabled":"@[!tagName]","bindKey":"class","placeholder":"请输入"},{"type":"select","layoutType":"inline","text":"线条样式","disabled":"@[!tagName]","bindKey":"strokeDasharray","default":"none","dictionary":[{"label":"—","value":"none"},{"label":"···","value":"2,2"},{"label":"- -","value":"5,5"},{"label":"-·-","value":"5,2,2,2"},{"label":"-··-","value":"5,2,2,2,2,2"}]},{"type":"select","layoutType":"inline","text":"箭头样式","bindKey":"arrowStyle","disabled":"@[!tagName]","display":"@[tagName === \'line\' || tagName === \'path\' || tagName === \'polyline\' || tagName === \'polygon\']","default":"none","dictionary":[{"label":"无","value":"none"},{"label":"开始位置","value":"start"},{"label":"结尾位置","value":"end"},{"label":"两端","value":"both"}]},{"type":"inputNumber","layoutType":"inline","disabled":"@[!tagName]","text":"线条宽度","bindKey":"strokeWidth","default":1},{"type":"slider","layoutType":"inline","text":"透明度","bindKey":"opacity","disabled":"@[!tagName]","max":100,"min":0,"default":100},{"type":"slider","layoutType":"inline","text":"旋转度","bindKey":"rotate","disabled":"@[!tagName]","max":180,"min":-180,"default":0},{"type":"slider","layoutType":"inline","text":"模糊度","disabled":"@[!tagName]","bindKey":"blur","max":100,"min":0,"default":0}]')},"7b20":function(e,t,n){"use strict";n("0ec2")},"7e79":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(0);n.n(r).a},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,u=[],c=n(5);function l(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(m(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(m(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=o(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,n);n.insertBefore(t,i)}}function A(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){return n.nc}();r&&(e.attrs.nonce=r)}return p(t,e.attrs),f(e,t),t}function p(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function m(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var u=s++;n=a||(a=h(t)),r=v.bind(null,n,u,!1),i=v.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",p(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=c(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){A(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){A(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return l(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}for(e&&l(d(e,t),t),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[e.imgs?n("div",{staticClass:"cropper-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[n("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]):e._e(),e._v(" "),n("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[n("span",{staticClass:"cropper-view-box"},[n("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),n("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?n("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(e.cropInfo.width)+" × "+e._s(e.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():n("span",[n("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};r._withStripped=!0;var i={getData:function(e){return new Promise((function(t,n){var r={};(function(e){var t=null;return new Promise((function(n,r){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),n=t.length,r=new ArrayBuffer(n),i=new Uint8Array(r),o=0;o<n;o++)i[o]=t.charCodeAt(o);return r}(e.src),n(t);else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){t=e.target.result,n(t)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){i.readAsArrayBuffer(e)}))}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=o.response,n(t),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else r("img error")}))})(e).then((function(e){r.arrayBuffer=e,r.orientation=function(e){var t,n,r,i,o,a,s,u,c,l=new DataView(e),d=l.byteLength;if(255===l.getUint8(0)&&216===l.getUint8(1))for(u=2;u<d;){if(255===l.getUint8(u)&&225===l.getUint8(u+1)){a=u;break}u++}if(a&&(n=a+10,"Exif"===function(e,t,n){var r,i="";for(r=t,n+=t;r<n;r++)i+=String.fromCharCode(e.getUint8(r));return i}(l,a+4,4)&&(o=l.getUint16(n),((i=18761===o)||19789===o)&&42===l.getUint16(n+2,i)&&(r=l.getUint32(n+4,i))>=8&&(s=n+r))),s)for(d=l.getUint16(s,i),c=0;c<d;c++)if(u=s+12*c+2,274===l.getUint16(u,i)){u+=8,t=l.getUint16(u,i);break}return t}(e),t(r)})).catch((function(e){n(e)}))}))}},o=i,a={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){navigator.userAgent;var e=!!window.ActiveXObject||"ActiveXObject"in window;return e},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(e){for(var t=navigator.userAgent.split(" "),n="",r=new RegExp(e,"i"),i=0;i<t.length;i++)r.test(t[i])&&(n=t[i]);return n?n.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(e,t,n,r){var i=this;if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){var o=this.getVersion("version");o[0]>13&&o[1]>1&&(t=-1)}else{var a=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(a){var s=a[1];((s=s.split("_"))[0]>13||s[0]>=13&&s[1]>=4)&&(t=-1)}}var u=document.createElement("canvas"),c=u.getContext("2d");switch(c.save(),t){case 2:u.width=n,u.height=r,c.translate(n,0),c.scale(-1,1);break;case 3:u.width=n,u.height=r,c.translate(n/2,r/2),c.rotate(180*Math.PI/180),c.translate(-n/2,-r/2);break;case 4:u.width=n,u.height=r,c.translate(0,r),c.scale(1,-1);break;case 5:u.height=n,u.width=r,c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:u.width=r,u.height=n,c.translate(r/2,n/2),c.rotate(90*Math.PI/180),c.translate(-n/2,-r/2);break;case 7:u.height=n,u.width=r,c.rotate(.5*Math.PI),c.translate(n,-r),c.scale(-1,1);break;case 8:u.height=n,u.width=r,c.translate(r/2,n/2),c.rotate(-90*Math.PI/180),c.translate(-n/2,-r/2);break;default:u.width=n,u.height=r}c.drawImage(e,0,0,n,r),c.restore(),u.toBlob((function(e){var t=URL.createObjectURL(e);URL.revokeObjectURL(i.imgs),i.imgs=t}),"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var n=t.width,r=t.height;o.getData(t).then((function(i){e.orientation=i.orientation||1;var o=Number(e.maxImgSize);!e.orientation&&n<o&r<o?e.imgs=e.img:(n>o&&(r=r/n*o,n=o),r>o&&(n=n/r*o,r=o),e.checkOrientationImage(t,e.orientation,n,r))}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var n=new XMLHttpRequest;n.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},n.open("GET",this.img,!0),n.responseType="blob",n.send()}else t.src=this.img},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var n=this.scale,r=this.touches[0].clientX,i=this.touches[0].clientY,o=e.touches[0].clientX,a=e.touches[0].clientY,s=this.touches[1].clientX,u=this.touches[1].clientY,c=e.touches[1].clientX,l=e.touches[1].clientY,d=Math.sqrt(Math.pow(r-s,2)+Math.pow(i-u,2)),f=Math.sqrt(Math.pow(o-c,2)+Math.pow(a-l,2))-d,A=1,h=(A=(A=A/this.trueWidth>A/this.trueHeight?A/this.trueHeight:A/this.trueWidth)>.1?.1:A)*f;if(!this.touchNow){if(this.touchNow=!0,f>0?n+=Math.abs(h):f<0&&n>Math.abs(h)&&(n-=Math.abs(h)),this.touches=e.touches,setTimeout((function(){t.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var n,r,i="clientX"in e?e.clientX:e.touches[0].clientX,o="clientY"in e?e.clientY:e.touches[0].clientY;n=i-this.moveX,r=o-this.moveY,this.$nextTick((function(){if(t.centerBox){var e,i,o,a,s=t.getImgAxis(n,r,t.scale),u=t.getCropAxis(),c=t.trueHeight*t.scale,l=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(c-l)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(l-c)/2,o=e-c+t.cropW,a=i-l+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,o=e-l+t.cropW,a=i-c+t.cropH}s.x1>=u.x1&&(n=e),s.y1>=u.y1&&(r=i),s.x2<=u.x2&&(n=o),s.y2<=u.y2&&(r=a)}t.x=n,t.y=r,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})}))},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var n=this.scale,r=e.deltaY||e.wheelDelta;r=navigator.userAgent.indexOf("Firefox")>0?30*r:r,this.isIE&&(r=-r);var i=this.coe,o=(i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)*r;o<0?n+=Math.abs(o):n>Math.abs(o)&&(n-=Math.abs(o));var a=o<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){t.scaling=!1,t.coe=t.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n},changeScale:function(e){var t=this.scale;e=e||1;var n=20;if((e*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var n="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,r="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick((function(){var e=n-t.cropX,i=r-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var o=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];o+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=o,t.cropOffsertY=t.cropOffsertY}else i>0?(t.cropH=i+t.cropChangeY>t.h?t.h-t.cropChangeY:i,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(i)>t.h?t.cropChangeY:Math.abs(i),t.cropOffsertY=t.cropChangeY+i>0?t.cropChangeY+i:0)}))},changeCropSize:function(e,t,n,r,i){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=i,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(e){var t=this;e.preventDefault();var n="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,r="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0,i=this.w,o=this.h,a=0,s=0;if(this.centerBox){var u=this.getImgAxis(),c=u.x2,l=u.y2;a=u.x1>0?u.x1:0,s=u.y1>0?u.y1:0,i>c&&(i=c),o>l&&(o=l)}this.$nextTick((function(){var e=n-t.cropX,u=r-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=i-t.cropChangeX-e<=i-a?t.cropOldW-e:t.cropOldW+t.cropChangeX-a,t.cropOffsertX=i-t.cropChangeX-e<=i-a?t.cropChangeX+e:a):(t.cropW=Math.abs(e)+t.cropChangeX<=i?Math.abs(e)-t.cropOldW:i-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=i?t.cropOldW+e:i-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-a?Math.abs(e+t.cropOldW):t.cropChangeX-a,t.cropOffsertX=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-a?t.cropChangeX-Math.abs(e+t.cropOldW):a))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-u>0?(t.cropH=o-t.cropChangeY-u<=o-s?t.cropOldH-u:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY-u<=o-s?t.cropChangeY+u:s):(t.cropH=Math.abs(u)+t.cropChangeY<=o?Math.abs(u)-t.cropOldH:o-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+u>0?(t.cropH=t.cropOldH+u+t.cropOffsertY<=o?t.cropOldH+u:o-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=o-t.cropChangeY+Math.abs(u+t.cropOldH)<=o-s?Math.abs(u+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY+Math.abs(u+t.cropOldH)<=o-s?t.cropChangeY-Math.abs(u+t.cropOldH):s))),t.canChangeX&&t.fixed){var c=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];c+t.cropOffsertY>o?(t.cropH=o-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=c}if(t.canChangeY&&t.fixed){var l=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];l+t.cropOffsertX>i?(t.cropW=i-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=l}t.$emit("crop-sizing",{cropW:t.cropW,cropH:t.cropH})}))},checkCropLimitSize:function(){this.cropW,this.cropH;var e=this.limitMinSize,t=new Array;return t=Array.isArray[e]?e:[e,e],[parseFloat(t[0]),parseFloat(t[1])]},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,n,r="clientX"in e?e.clientX:e.touches[0].clientX,i="clientY"in e?e.clientY:e.touches[0].clientY;t=r-this.cropOffsertX,n=i-this.cropOffsertY,this.cropX=t,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var n=this,r=0,i=0;e&&(e.preventDefault(),r="clientX"in e?e.clientX:e.touches[0].clientX,i="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick((function(){var e,o,a=r-n.cropX,s=i-n.cropY;if(t&&(a=n.cropOffsertX,s=n.cropOffsertY),e=a<=0?0:a+n.cropW>n.w?n.w-n.cropW:a,o=s<=0?0:s+n.cropH>n.h?n.h-n.cropH:s,n.centerBox){var u=n.getImgAxis();e<=u.x1&&(e=u.x1),e+n.cropW>u.x2&&(e=u.x2-n.cropW),o<=u.y1&&(o=u.y1),o+n.cropH>u.y2&&(o=u.y2-n.cropH)}n.cropOffsertX=e,n.cropOffsertY=o,n.$emit("cropMoving",{moving:!0,axis:n.getCropAxis()}),n.$emit("crop-moving",{moving:!0,axis:n.getCropAxis()})}))},getImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r={x1:0,x2:0,y1:0,y2:0},i=this.trueWidth*n,o=this.trueHeight*n;switch(this.rotate){case 0:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=e+this.trueWidth*(1-n)/2+(i-o)/2,r.x2=r.x1+this.trueHeight*n,r.y1=t+this.trueHeight*(1-n)/2+(o-i)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,n=document.createElement("canvas"),r=new Image,i=this.rotate,o=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,u=this.cropOffsertY;function c(e,t){n.width=Math.round(e),n.height=Math.round(t)}r.onload=function(){if(0!==t.cropW){var l=n.getContext("2d"),d=1;t.high&!t.full&&(d=window.devicePixelRatio),1!==t.enlarge&!t.full&&(d=Math.abs(Number(t.enlarge)));var f=t.cropW*d,A=t.cropH*d,h=o*t.scale*d,p=a*t.scale*d,m=(t.x-s+t.trueWidth*(1-t.scale)/2)*d,g=(t.y-u+t.trueHeight*(1-t.scale)/2)*d;switch(c(f,A),l.save(),i){case 0:t.full?(c(f/t.scale,A/t.scale),l.drawImage(r,m/t.scale,g/t.scale,h/t.scale,p/t.scale)):l.drawImage(r,m,g,h,p);break;case 1:case-3:t.full?(c(f/t.scale,A/t.scale),m=m/t.scale+(h/t.scale-p/t.scale)/2,g=g/t.scale+(p/t.scale-h/t.scale)/2,l.rotate(90*i*Math.PI/180),l.drawImage(r,g,-m-p/t.scale,h/t.scale,p/t.scale)):(m+=(h-p)/2,g+=(p-h)/2,l.rotate(90*i*Math.PI/180),l.drawImage(r,g,-m-p,h,p));break;case 2:case-2:t.full?(c(f/t.scale,A/t.scale),l.rotate(90*i*Math.PI/180),m/=t.scale,g/=t.scale,l.drawImage(r,-m-h/t.scale,-g-p/t.scale,h/t.scale,p/t.scale)):(l.rotate(90*i*Math.PI/180),l.drawImage(r,-m-h,-g-p,h,p));break;case 3:case-1:t.full?(c(f/t.scale,A/t.scale),m=m/t.scale+(h/t.scale-p/t.scale)/2,g=g/t.scale+(p/t.scale-h/t.scale)/2,l.rotate(90*i*Math.PI/180),l.drawImage(r,-g-h/t.scale,m,h/t.scale,p/t.scale)):(m+=(h-p)/2,g+=(p-h)/2,l.rotate(90*i*Math.PI/180),l.drawImage(r,-g-h,m,h,p));break;default:t.full?(c(f/t.scale,A/t.scale),l.drawImage(r,m/t.scale,g/t.scale,h/t.scale,p/t.scale)):l.drawImage(r,m,g,h,p)}l.restore()}else{var v=o*t.scale,y=a*t.scale,b=n.getContext("2d");switch(b.save(),i){case 0:c(v,y),b.drawImage(r,0,0,v,y);break;case 1:case-3:c(y,v),b.rotate(90*i*Math.PI/180),b.drawImage(r,0,-y,v,y);break;case 2:case-2:c(v,y),b.rotate(90*i*Math.PI/180),b.drawImage(r,-v,-y,v,y);break;case 3:case-1:c(y,v),b.rotate(90*i*Math.PI/180),b.drawImage(r,-v,0,v,y);break;default:c(v,y),b.drawImage(r,0,0,v,y)}b.restore()}e(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked((function(n){e(n.toDataURL("image/"+t.outputType,t.outputSize))}))},getCropBlob:function(e){var t=this;this.getCropChecked((function(n){n.toBlob((function(t){return e(t)}),"image/"+t.outputType,t.outputSize)}))},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){e.isCanShow=!0}),16);var t=this.cropW,n=this.cropH,r=this.scale,i={};i.div={width:"".concat(t,"px"),height:"".concat(n,"px")};var o=(this.x-this.cropOffsertX)/r,a=(this.y-this.cropOffsertY)/r;i.w=t,i.h=n,i.url=this.imgs,i.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(r,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},i.html='\n      <div class="show-preview" style="width: '.concat(i.w,"px; height: ").concat(i.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(n,'px">\n          <img src=').concat(i.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(r,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",i),this.$emit("real-time",i)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick((function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout((function(){e.showPreview()}),20)}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),n=this.mode.split(" ");switch(n[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var r=n[0];if(-1!==r.search("px")){r=r.replace("px","");var i=parseFloat(r)/this.trueWidth,o=1,a=n[1];-1!==a.search("px")&&(a=a.replace("px",""),o=(t=parseFloat(a))/this.trueHeight),e=Math.min(i,o)}if(-1!==r.search("%")&&(r=r.replace("%",""),e=parseFloat(r)/100*this.w/this.trueWidth),2===n.length&&"auto"===r){var s=n[1];-1!==s.search("px")&&(s=s.replace("px",""),e=(t=parseFloat(s))/this.trueHeight),-1!==s.search("%")&&(s=s.replace("%",""),e=(t=parseFloat(s)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var n=this.w,r=this.h;if(this.centerBox){var i=Math.abs(this.rotate)%2>0,o=(i?this.trueHeight:this.trueWidth)*this.scale,a=(i?this.trueWidth:this.trueHeight)*this.scale;n=o<n?o:n,r=a<r?a:r}var s=e||parseFloat(this.autoCropWidth),u=t||parseFloat(this.autoCropHeight);0!==s&&0!==u||(s=.8*n,u=.8*r),s=s>n?n:s,u=u>r?r:u,this.fixed&&(u=s/this.fixedNumber[0]*this.fixedNumber[1]),u>this.h&&(s=(u=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(s,u)}},changeCrop:function(e,t){var n=this;if(this.centerBox){var r=this.getImgAxis();e>r.x2-r.x1&&(t=(e=r.x2-r.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>r.y2-r.y1&&(e=(t=r.y2-r.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick((function(){n.cropOffsertX=(n.w-n.cropW)/2,n.cropOffsertY=(n.h-n.cropH)/2,n.centerBox&&n.moveCrop(null,!0)}))},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){e.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r=!0;if(this.centerBox){var i=this.getImgAxis(e,t,n),o=this.getCropAxis();i.x1>=o.x1&&(r=!1),i.x2<=o.x2&&(r=!1),i.y1>=o.y1&&(r=!1),i.y2<=o.y2&&(r=!1)}return r}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,r){for(var i=atob(this.toDataURL(n,r).split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}};n(1);var s=function(e,t,n,r,i,o,a,s){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}(a,r,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var u=s.exports;n.d(t,"VueCropper",(function(){return u}));var c=function(e){e.component("VueCropper",u)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),t.default={version:"0.5.8",install:c,VueCropper:u,vueCropper:u}}])}))},"84ec":function(e,t,n){n("2401")},"879b":function(e,t,n){},8869:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__),monacoLoader=__webpack_require__("d1c7");__webpack_exports__["a"]={name:"MonacoEditor",props:{width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},code:{type:String,default:""},srcPath:{type:String,default:""},language:{type:String,default:"javascript"},theme:{type:String,default:"vs-dark"},options:{type:Object,default:function(){}},changeThrottle:{type:Number,default:0}},data:function(){return{defaults:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0}}},computed:{style:function(){var e=this.width,t=this.height,n=-1!==e.toString().indexOf("%")?e:"".concat(e,"px"),r=-1!==t.toString().indexOf("%")?t:"".concat(t,"px");return{width:n,height:r}},editorOptions:function(){return Object.assign({},this.defaults,this.options,{language:this.language,theme:this.theme})}},mounted:function(){this.fetchEditor()},destroyed:function(){this.destroyMonaco()},methods:{getContent:function(){return console.log("monacoEditor",this.editor),this.editor.getValue()},setContent:function(e){var t=this;this.editor&&(this.editor.setValue(e),setTimeout((function(){t.formatDocument()}),100))},modifyPosition:function(e,t){this.editor&&(this.editor.setPosition({column:e,lineNumber:t}),this.editor.focus(),this.editor.revealLineInCenter(t))},addAction:function(e){var t="export function "+e+"(ctx) {\n  \n}",n=this.editor,r=n.getModel().getLineCount();n.getModel().applyEdits([{text:"\n\n"+t,range:new window.monaco.Range(r+1,0,r+1,0)}]),n.revealLineInCenter(r);var i=t.split("\n").length;setTimeout((function(){n.setPosition({column:3,lineNumber:r+i}),n.focus()}),100)},addCode:function(e){var t=this.editor,n=t.getModel().getLineCount();t.getModel().applyEdits([{text:"\n\n"+e,range:new window.monaco.Range(n+1,0,n+1,0)}])},formatDocument:function(){this.editor&&this.editor.getAction(["editor.action.formatDocument"])&&this.editor.getAction(["editor.action.formatDocument"])._run()},updateTheme:function(e){if(this.editor){var t=Object.assign({},this.defaults,this.options,{language:this.language,theme:this.theme});t.theme=e,this.editor.updateOptions(t)}},editorHasLoaded:function(e,t){var n=this;this.editor=e,this.monaco=t,this.editor.onDidChangeModelContent((function(t){return n.codeChangeHandler(e,t)})),this.$emit("mounted",e)},codeChangeHandler:function(e){this.codeChangeEmitter||(this.codeChangeEmitter=_.debounce((function(e){this.$emit("codeChange",e)}),this.changeThrottle)),this.codeChangeEmitter(e)},fetchEditor:function(){monacoLoader.load(this.srcPath,this.createMonaco)},createMonaco:function createMonaco(){var isID=!1,isIDMContext=!1;this.editor=window.monaco.editor.create(this.$el,this.editorOptions),this.editor.setValue(this.code),this.editorHasLoaded(this.editor,window.monaco),["javascript"].map((function(item){window.monaco.languages.registerCompletionItemProvider(item,{provideCompletionItems:function provideCompletionItems(model,position){var line=position.lineNumber,content=model.getLineContent(line);if(isID=content.match(/\bID$/g),isID)return{suggestions:[{label:"IDM",kind:window.monaco.languages.CompletionItemKind["Function"],insertText:"IDM",detail:""}]};if(isIDMContext=content.match(/\bIDM(\.|\.([$a-zA-Z_][$a-zA-Z0-9_]*)\.)$/g),isIDMContext){var kinds=window.monaco.languages.CompletionItemKind,arr=[],obj=eval(isIDMContext[0].substr(0,isIDMContext[0].length-1));if(obj){for(var k in obj)arr.push({label:k,kind:"function"==IDM.type(obj[k])?kinds["Function"]:kinds["Module"],insertText:k,detail:""});return{suggestions:arr}}return{suggestions:arr}}},triggerCharacters:["."]})}))},destroyMonaco:function(){"undefined"!==typeof this.editor&&this.editor.dispose()},layout:function(){this.editor&&this.editor.layout()}}}},8962:function(e,t,n){n("5d41"),n("e439");var r=n("9f70");function i(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},e.exports["default"]=e.exports,e.exports.__esModule=!0),i(t,n,o||t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"8d6d":function(e,t,n){},"90e7":function(e,t,n){n("3c41")},9224:function(e){e.exports=JSON.parse('{"name":"idm-core","version":"2.0.6","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","build:no-split":"cross-env NO_SPLIT_CODE=true vue-cli-service build","lint":"vue-cli-service lint","limit":"set NODE_OPTIONS=--max_old_space_size=8192","svgo":"svgo -f src/icons/svg --config=src/icons/svgo.yml"},"dependencies":{"@babel/polyfill":"^7.6.0","@babel/runtime":"^7.6.3","@babel/standalone":"^7.16.9","@kangc/v-md-editor":"^1.7.11","@packy-tang/vue-tinymce":"^1.1.2","@svgedit/svgcanvas":"^7.1.6","@tinymce/tinymce-vue":"^4.0.3","axios":"^0.21.1","browser-fs-access":"^0.31.1","core-js":"^3.6.5","highlight.js":"^11.5.1","idm-antv-ui":"^1.8.5","jquery":"^3.6.0","jsplumb":"^2.15.6","moment":"^2.29.1","tinymce":"^5.8.1","vconsole":"^3.14.6","vue":"^2.6.11","vue-clipboard2":"^0.3.1","vue-color":"^2.8.1","vue-cropper":"^0.5.8","vue-json-viewer":"^2.2.22","vue-router":"^3.2.0","vuedraggable":"^2.24.3","vuex":"^3.6.2"},"devDependencies":{"@babel/plugin-transform-runtime":"^7.6.2","@babel/preset-env":"^7.6.3","@vue/cli-plugin-babel":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-router":"^4.5.11","@vue/cli-service":"~4.5.0","babel-eslint":"^10.1.0","babel-plugin-import":"^1.12.2","babel-plugin-transform-remove-console":"^6.9.4","copy-webpack-plugin":"^5.1.1","cross-env":"^7.0.3","eslint":"^6.7.2","eslint-plugin-vue":"^6.2.2","less":"^3.10.3","less-loader":"^5.0.0","resize-observer-polyfill":"^1.5.1","sass":"^1.32.8","sass-loader":"^8.0.2","svg-sprite-loader":"^4.1.6","svgo":"^1.3.0","vue-template-compiler":"^2.6.11","webpack-bundle-analyzer":"^4.4.2"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/essential","eslint:recommended"],"parserOptions":{"parser":"babel-eslint"},"rules":{"no-unused-vars":0,"no-empty":0},"globals":{"IDM":true,"idmPace":true,"PullToRefresh":true,"Pace":true,"wx":true,"$":true,"_":true}},"browserslist":["> 1%","last 2 versions","not ie <= 11"]}')},"94ce":function(e,t){(function(){"use strict";var e=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},t=function(t){return function(n){return e(n)===t}},n=function(e){return function(t){return typeof t===e}},r=function(e){return function(t){return e===t}},i=t("string"),o=t("object"),a=t("array"),s=n("boolean"),u=r(void 0),c=function(e){return null===e||void 0===e},l=function(e){return!c(e)},d=n("function"),f=n("number"),A=function(){},h=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},p=function(e,t){return function(n){return e(t(n))}},m=function(e){return function(){return e}},g=function(e){return e};function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var y=function(e){return function(t){return!e(t)}},b=function(e){return function(){throw new Error(e)}},w=m(!1),x=m(!0),C=function(){return S},S=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:w,isSome:w,isNone:x,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:m(null),getOrUndefined:m(void 0),or:n,orThunk:t,map:C,each:A,bind:C,exists:w,forall:x,filter:C,equals:e,equals_:e,toArray:function(){return[]},toString:m("none()")};return r}(),k=function(e){var t=m(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:x,isNone:w,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return k(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:S},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(w,(function(t){return n(e,t)}))}};return i},_=function(e){return null===e||void 0===e?S:k(e)},B={some:k,none:C,from:_},D=Array.prototype.slice,M=Array.prototype.indexOf,E=Array.prototype.push,T=function(e,t){return M.call(e,t)},I=function(e,t){return T(e,t)>-1},O=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},L=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},F=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},P=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},N=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},U=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i)?n:r;s.push(a)}return{pass:n,fail:r}},H=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},R=function(e,t,n){return N(e,(function(e){n=t(n,e)})),n},V=function(e,t,n){return P(e,(function(e){n=t(n,e)})),n},Q=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return B.some(o);if(n(o,r))break}return B.none()},j=function(e,t){return Q(e,t,w)},z=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return B.some(n)}return B.none()},G=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);E.apply(t,e[n])}return t},K=function(e,t){return G(F(e,t))},q=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},W=function(e){var t=D.call(e,0);return t.reverse(),t},$=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},X=function(e){return[e]},Y=function(e,t){var n=D.call(e,0);return n.sort(t),n},J=function(e,t){return t>=0&&t<e.length?B.some(e[t]):B.none()},Z=function(e){return J(e,0)},ee=function(e){return J(e,e.length-1)},te=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return B.none()},ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)};function re(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var ie=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},oe=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=i||!o&&a&&r("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!u&&!l;return{isiPad:m(i),isiPhone:m(o),isTablet:m(u),isPhone:m(c),isTouch:m(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:m(l),isDesktop:m(d)}},ae=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},se=function(e,t){var n=ae(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return le(r(1),r(2))},ue=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ce():se(e,n)},ce=function(){return le(0,0)},le=function(e,t){return{major:e,minor:t}},de={nu:le,detect:ue,unknown:ce},fe=function(e,t){var n=String(t).toLowerCase();return j(e,(function(e){return e.search(n)}))},Ae=function(e,t){return fe(e,t).map((function(e){var n=de.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},he=function(e,t){return fe(e,t).map((function(e){var n=de.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},pe={detectBrowser:Ae,detectOs:he},me=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},ge=function(e,t){return-1!==e.indexOf(t)},ve=function(e,t){return me(e,t,0)},ye=function(e,t){return me(e,t,e.length-t.length)},be=function(e){return function(t){return t.replace(e,"")}},we=be(/^\s+|\s+$/g),xe=function(e){return e.length>0},Ce=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Se=function(e){return function(t){return ge(t,e)}},ke=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ge(e,"edge/")&&ge(e,"chrome")&&ge(e,"safari")&&ge(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ce],search:function(e){return ge(e,"chrome")&&!ge(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ge(e,"msie")||ge(e,"trident")}},{name:"Opera",versionRegexes:[Ce,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Se("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Se("firefox")},{name:"Safari",versionRegexes:[Ce,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ge(e,"safari")||ge(e,"mobile/"))&&ge(e,"applewebkit")}}],_e=[{name:"Windows",search:Se("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ge(e,"iphone")||ge(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Se("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Se("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Se("linux"),versionRegexes:[]},{name:"Solaris",search:Se("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Se("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Se("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Be={browsers:m(ke),oses:m(_e)},De="Edge",Me="Chrome",Ee="IE",Te="Opera",Ie="Firefox",Oe="Safari",Le=function(){return Fe({current:void 0,version:de.unknown()})},Fe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(De),isChrome:r(Me),isIE:r(Ee),isOpera:r(Te),isFirefox:r(Ie),isSafari:r(Oe)}},Pe={unknown:Le,nu:Fe,edge:m(De),chrome:m(Me),ie:m(Ee),opera:m(Te),firefox:m(Ie),safari:m(Oe)},Ne="Windows",Ue="iOS",He="Android",Re="Linux",Ve="OSX",Qe="Solaris",je="FreeBSD",ze="ChromeOS",Ge=function(){return Ke({current:void 0,version:de.unknown()})},Ke=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Ne),isiOS:r(Ue),isAndroid:r(He),isOSX:r(Ve),isLinux:r(Re),isSolaris:r(Qe),isFreeBSD:r(je),isChromeOS:r(ze)}},qe={unknown:Ge,nu:Ke,windows:m(Ne),ios:m(Ue),android:m(He),linux:m(Re),osx:m(Ve),solaris:m(Qe),freebsd:m(je),chromeos:m(ze)},We=function(e,t){var n=Be.browsers(),r=Be.oses(),i=pe.detectBrowser(n,e).fold(Pe.unknown,Pe.nu),o=pe.detectOs(r,e).fold(qe.unknown,qe.nu),a=oe(o,i,e,t);return{browser:i,os:o,deviceType:a}},$e={detect:We},Xe=function(e){return window.matchMedia(e).matches},Ye=ie((function(){return $e.detect(navigator.userAgent,Xe)})),Je=function(){return Ye()},Ze=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},et=function(e,t){return Ze(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},tt=8,nt=9,rt=11,it=1,ot=3,at=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ct(r.childNodes[0])},st=function(e,t){var n=t||document,r=n.createElement(e);return ct(r)},ut=function(e,t){var n=t||document,r=n.createTextNode(e);return ct(r)},ct=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},lt=function(e,t,n){return B.from(e.dom.elementFromPoint(t,n)).map(ct)},dt={fromHtml:at,fromTag:st,fromText:ut,fromDom:ct,fromPoint:lt},ft=function(e,t){var n=e.dom;if(n.nodeType!==it)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},At=function(e){return e.nodeType!==it&&e.nodeType!==nt&&e.nodeType!==rt||0===e.childElementCount},ht=function(e,t){var n=void 0===t?document:t.dom;return At(n)?[]:F(n.querySelectorAll(e),dt.fromDom)},pt=function(e,t){var n=void 0===t?document:t.dom;return At(n)?B.none():B.from(n.querySelector(e)).map(dt.fromDom)},mt=function(e,t){return e.dom===t.dom},gt=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},vt=function(e,t){return et(e.dom,t.dom)},yt=function(e,t){return Je().browser.isIE()?vt(e,t):gt(e,t)},bt=ft,wt=Object.keys,xt=Object.hasOwnProperty,Ct=function(e,t){for(var n=wt(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},St=function(e,t){return kt(e,(function(e,n){return{k:n,v:t(e,n)}}))},kt=function(e,t){var n={};return Ct(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},_t=function(e){return function(t,n){e[n]=t}},Bt=function(e,t,n,r){var i={};return Ct(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Dt=function(e,t){var n={};return Bt(e,t,_t(n),A),n},Mt=function(e,t){var n=[];return Ct(e,(function(e,r){n.push(t(e,r))})),n},Et=function(e){return Mt(e,(function(e){return e}))},Tt=function(e){return wt(e).length},It=function(e,t){return Ot(e,t)?B.from(e[t]):B.none()},Ot=function(e,t){return xt.call(e,t)},Lt=function(e,t){return Ot(e,t)&&void 0!==e[t]&&null!==e[t]},Ft=function(e){for(var t in e)if(xt.call(e,t))return!1;return!0},Pt=["tfoot","thead","tbody","colgroup"],Nt=function(e){return I(Pt,e)},Ut=function(e,t){return{rows:e,columns:t}},Ht=function(e,t){return{row:e,column:t}},Rt=function(e,t,n){return{element:e,rowspan:t,colspan:n}},Vt=function(e,t,n,r){return{element:e,rowspan:t,colspan:n,isNew:r}},Qt=function(e,t,n,r,i,o){return{element:e,rowspan:t,colspan:n,row:r,column:i,isLocked:o}},jt=function(e,t,n){return{element:e,cells:t,section:n}},zt=function(e,t,n){return{element:e,isNew:t,isLocked:n}},Gt=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}},Kt=function(e,t){return{cells:e,section:t}},qt=function(e,t){return{details:e,section:t}},Wt=function(e,t,n,r){return{startRow:e,startCol:t,finishRow:n,finishCol:r}},$t=function(e,t,n){return{element:e,colspan:t,column:n}},Xt=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Yt=function(e){return e.dom.nodeType},Jt=function(e){return function(t){return Yt(t)===e}},Zt=function(e){return Yt(e)===tt||"#comment"===Xt(e)},en=Jt(it),tn=Jt(ot),nn=Jt(nt),rn=Jt(rt),on=function(e){return function(t){return en(t)&&Xt(t)===e}},an=function(e){return dt.fromDom(e.dom.ownerDocument)},sn=function(e){return nn(e)?e:an(e)},un=function(e){return dt.fromDom(sn(e).dom.defaultView)},cn=function(e){return B.from(e.dom.parentNode).map(dt.fromDom)},ln=function(e,t){var n=d(t)?t:w,r=e.dom,i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=dt.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},dn=function(e){return B.from(e.dom.offsetParent).map(dt.fromDom)},fn=function(e){return B.from(e.dom.previousSibling).map(dt.fromDom)},An=function(e){return B.from(e.dom.nextSibling).map(dt.fromDom)},hn=function(e){return F(e.dom.childNodes,dt.fromDom)},pn=function(e,t){var n=e.dom.childNodes;return B.from(n[t]).map(dt.fromDom)},mn=function(e){return pn(e,0)},gn=function(e){return rn(e)&&l(e.dom.host)},vn=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),yn=m(vn),bn=vn?function(e){return dt.fromDom(e.dom.getRootNode())}:sn,wn=function(e){var t=bn(e);return gn(t)?B.some(t):B.none()},xn=function(e){return dt.fromDom(e.dom.host)},Cn=function(e){if(yn()&&l(e.target)){var t=dt.fromDom(e.target);if(en(t)&&Sn(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return Z(n)}}return B.from(e.target)},Sn=function(e){return l(e.dom.shadowRoot)},kn=function(e){var t=tn(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return wn(dt.fromDom(t)).fold((function(){return n.body.contains(t)}),p(kn,xn))},_n=function(){return Bn(dt.fromDom(document))},Bn=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return dt.fromDom(t)},Dn=function(e,t,n){return H(ln(e,n),t)},Mn=function(e,t){return H(hn(e),t)},En=function(e,t){var n=[];return P(hn(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(En(e,t))})),n},Tn=function(e,t,n){return Dn(e,(function(e){return ft(e,t)}),n)},In=function(e,t){return Mn(e,(function(e){return ft(e,t)}))},On=function(e,t){return ht(t,e)};function Ln(e,t,n,r,i){return e(n,r)?B.some(n):d(i)&&i(n)?B.none():t(n,r,i)}var Fn=function(e,t,n){var r=e.dom,i=d(n)?n:w;while(r.parentNode){r=r.parentNode;var o=dt.fromDom(r);if(t(o))return B.some(o);if(i(o))break}return B.none()},Pn=function(e,t,n){var r=function(e,t){return t(e)};return Ln(r,Fn,e,t,n)},Nn=function(e,t){var n=function(e){return t(dt.fromDom(e))},r=j(e.dom.childNodes,n);return r.map(dt.fromDom)},Un=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var i=dt.fromDom(e.childNodes[r]);if(t(i))return B.some(i);var o=n(e.childNodes[r]);if(o.isSome())return o}return B.none()};return n(e.dom)},Hn=function(e,t,n){return Fn(e,(function(e){return ft(e,t)}),n)},Rn=function(e,t){return Nn(e,(function(e){return ft(e,t)}))},Vn=function(e,t){return pt(t,e)},Qn=function(e,t,n){var r=function(e,t){return ft(e,t)};return Ln(r,Hn,e,t,n)},jn=function(e,t,n){if(!(i(n)||s(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},zn=function(e,t,n){jn(e.dom,t,n)},Gn=function(e,t){var n=e.dom;Ct(t,(function(e,t){jn(n,t,e)}))},Kn=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},qn=function(e,t){return B.from(Kn(e,t))},Wn=function(e,t){e.dom.removeAttribute(t)},$n=function(e){return V(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Xn=function(e){return void 0!==e.style&&d(e.style.getPropertyValue)},Yn=function(e,t,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Xn(e)&&e.style.setProperty(t,n)},Jn=function(e,t){Xn(e)&&e.style.removeProperty(t)},Zn=function(e,t,n){var r=e.dom;Yn(r,t,n)},er=function(e,t){var n=e.dom;Ct(t,(function(e,t){Yn(n,t,e)}))},tr=function(e,t){var n=e.dom,r=window.getComputedStyle(n),i=r.getPropertyValue(t);return""!==i||kn(e)?i:nr(n,t)},nr=function(e,t){return Xn(e)?e.style.getPropertyValue(t):""},rr=function(e,t){var n=e.dom,r=nr(n,t);return B.from(r).filter((function(e){return e.length>0}))},ir=function(e,t){var n=e.dom;Jn(n,t),qn(e,"style").map(we).is("")&&Wn(e,"style")},or=function(e,t){var n=e.dom,r=t.dom;Xn(n)&&Xn(r)&&(r.style.cssText=n.style.cssText)},ar=function(e,t,n){return void 0===n&&(n=0),qn(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},sr=function(e,t){return ar(e,t,1)},ur=function(e){return sr(e,"colspan")>1},cr=function(e){return sr(e,"rowspan")>1},lr=function(e,t){return parseInt(tr(e,t),10)},dr=m(10),fr=m(10),Ar=function(e,t){return hr(e,t,x)},hr=function(e,t,n){return K(hn(e),(function(e){return ft(e,t)?n(e)?[e]:[]:hr(e,t,n)}))},pr=function(e,t,n){if(void 0===n&&(n=w),n(t))return B.none();if(I(e,Xt(t)))return B.some(t);var r=function(e){return ft(e,"table")||n(e)};return Hn(t,e.join(","),r)},mr=function(e,t){return pr(["td","th"],e,t)},gr=function(e){return Ar(e,"th,td")},vr=function(e){return ft(e,"colgroup")?In(e,"col"):K(wr(e),(function(e){return In(e,"col")}))},yr=function(e,t){return Qn(e,"table",t)},br=function(e){return Ar(e,"tr")},wr=function(e){return yr(e).fold(m([]),(function(e){return In(e,"colgroup")}))},xr=function(e,t){return F(e,(function(e){if("colgroup"===Xt(e)){var n=F(vr(e),(function(e){var t=ar(e,"span",1);return Rt(e,1,t)}));return jt(e,n,"colgroup")}n=F(gr(e),(function(e){var t=ar(e,"rowspan",1),n=ar(e,"colspan",1);return Rt(e,t,n)}));return jt(e,n,t(e))}))},Cr=function(e){return cn(e).map((function(e){var t=Xt(e);return Nt(t)?t:"tbody"})).getOr("tbody")},Sr=function(e){var t=br(e),n=wr(e),r=re(n,t);return xr(r,Cr)},kr=function(e,t){return xr(e,(function(){return t}))},_r=function(e,t,n){var r=e.cells,i=r.slice(0,t),o=r.slice(t),a=i.concat(n).concat(o);return Mr(e,a)},Br=function(e,t,n){return _r(e,t,[n])},Dr=function(e,t,n){var r=e.cells;r[t]=n},Mr=function(e,t){return Kt(t,e.section)},Er=function(e,t){var n=e.cells,r=F(n,t);return Kt(r,e.section)},Tr=function(e,t){return e.cells[t]},Ir=function(e,t){return Tr(e,t).element},Or=function(e){return e.cells.length},Lr=function(e){var t=U(e,(function(e){return"colgroup"===e.section}));return{rows:t.fail,cols:t.pass}},Fr="data-snooker-locked-cols",Pr=function(e){return qn(e,Fr).bind((function(e){return B.from(e.match(/\d+/g))})).map((function(e){return $(e,x)}))},Nr=function(e){var t=V(Lr(e).rows,(function(e,t){return P(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),n=Mt(t,(function(e,t){return parseInt(t,10)}));return Y(n)},Ur=function(e,t){return e+","+t},Hr=function(e,t,n){var r=e.access[Ur(t,n)];return void 0!==r?B.some(r):B.none()},Rr=function(e,t,n){var r=Vr(e,(function(e){return n(t,e.element)}));return r.length>0?B.some(r[0]):B.none()},Vr=function(e,t){var n=K(e.all,(function(e){return e.cells}));return H(n,t)},Qr=function(e){var t={},n=0;return P(e.cells,(function(e){var r=e.colspan;L(r,(function(i){var o=n+i;t[o]=$t(e.element,r,o)})),n+=r})),t},jr=function(e){var t={},n=[],r={},i=Z(e).map((function(e){return e.element})).bind(yr),o=i.bind(Pr).getOr({}),a=0,s=0,u=0;P(e,(function(e){if("colgroup"===e.section)r=Qr(e);else{var i=[];P(e.cells,(function(e){var n=0;while(void 0!==t[Ur(u,n)])n++;for(var r=Lt(o,n.toString()),a=Qt(e.element,e.rowspan,e.colspan,u,n,r),c=0;c<e.colspan;c++)for(var l=0;l<e.rowspan;l++){var d=u+l,f=n+c,A=Ur(d,f);t[A]=a,s=Math.max(s,f+1)}i.push(a)})),a++,n.push(jt(e.element,i,e.section)),u++}}));var c=Ut(a,s);return{grid:c,access:t,all:n,columns:r}},zr=function(e){var t=Sr(e);return jr(t)},Gr=function(e){return K(e.all,(function(e){return e.cells}))},Kr=function(e){return Et(e.columns)},qr=function(e){return wt(e.columns).length>0},Wr=function(e,t){return B.from(e.columns[t])},$r={fromTable:zr,generate:jr,getAt:Hr,findItem:Rr,filterItems:Vr,justCells:Gr,justColumns:Kr,hasColumns:qr,getColumnAt:Wr},Xr=function(e,t){var n=t.column,r=t.column+t.colspan-1,i=t.row,o=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&i<=e.finishRow&&o>=e.startRow},Yr=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow},Jr=function(e,t){for(var n=!0,r=v(Yr,t),i=t.startRow;i<=t.finishRow;i++)for(var o=t.startCol;o<=t.finishCol;o++)n=n&&$r.getAt(e,i,o).exists(r);return n?B.some(t):B.none()},Zr=function(e,t){return Wt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1))},ei=function(e,t,n){var r=$r.findItem(e,t,mt),i=$r.findItem(e,n,mt);return r.bind((function(e){return i.map((function(t){return Zr(e,t)}))}))},ti=function(e,t,n){return ei(e,t,n).bind((function(t){return Jr(e,t)}))},ni=function(e,t,n,r){return $r.findItem(e,t,mt).bind((function(t){var i=n>0?t.row+t.rowspan-1:t.row,o=r>0?t.column+t.colspan-1:t.column,a=$r.getAt(e,i+n,o+r);return a.map((function(e){return e.element}))}))},ri=function(e,t,n){return ei(e,t,n).map((function(t){var n=$r.filterItems(e,v(Xr,t));return F(n,(function(e){return e.element}))}))},ii=function(e,t){var n=function(e,t){return yt(t,e)};return $r.findItem(e,t,n).map((function(e){return e.element}))},oi=function(e,t,n){return yr(e).bind((function(r){var i=ci(r);return ni(i,e,t,n)}))},ai=function(e,t,n){var r=ci(e);return ri(r,t,n)},si=function(e,t,n,r,i){var o=ci(e),a=mt(e,n)?B.some(t):ii(o,t),s=mt(e,i)?B.some(r):ii(o,r);return a.bind((function(e){return s.bind((function(t){return ri(o,e,t)}))}))},ui=function(e,t,n){var r=ci(e);return ti(r,t,n)},ci=$r.fromTable,li=function(e,t){var n=cn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},di=function(e,t){var n=An(e);n.fold((function(){var n=cn(e);n.each((function(e){Ai(e,t)}))}),(function(e){li(e,t)}))},fi=function(e,t){var n=mn(e);n.fold((function(){Ai(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Ai=function(e,t){e.dom.appendChild(t.dom)},hi=function(e,t){li(e,t),Ai(t,e)},pi=function(e,t){P(t,(function(t){li(e,t)}))},mi=function(e,t){P(t,(function(n,r){var i=0===r?e:t[r-1];di(i,n)}))},gi=function(e,t){P(t,(function(t){Ai(e,t)}))},vi=function(e){e.dom.textContent="",P(hn(e),(function(e){yi(e)}))},yi=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},bi=function(e){var t=hn(e);t.length>0&&pi(e,t),yi(e)},wi=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?B.from(t.dom.nodeValue):B.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:i}},xi=wi(tn,"text"),Ci=function(e){return xi.get(e)},Si=function(e){return xi.getOption(e)},ki=function(e,t){return xi.set(e,t)},_i=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Bi(){var e=function(e){return dt.fromDom(e.dom.cloneNode(!1))},t=function(e){return sn(e).dom},n=function(e){return!!en(e)&&("body"===Xt(e)||I(_i,Xt(e)))},r=function(e){return!!en(e)&&I(["br","img","hr","input"],Xt(e))},i=function(e){return en(e)&&"false"===Kn(e,"contenteditable")},o=function(e,t){return e.dom.compareDocumentPosition(t.dom)},a=function(e,t){var n=$n(e);Gn(t,n)},s=function(e){var t=Xt(e);return I(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};return{up:m({selector:Hn,closest:Qn,predicate:Fn,all:ln}),down:m({selector:On,predicate:En}),styles:m({get:tr,getRaw:rr,set:Zn,remove:ir}),attrs:m({get:Kn,set:zn,remove:Wn,copyTo:a}),insert:m({before:li,after:di,afterAll:mi,append:Ai,appendAll:gi,prepend:fi,wrap:hi}),remove:m({unwrap:bi,remove:yi}),create:m({nu:dt.fromTag,clone:e,text:dt.fromText}),query:m({comparePosition:o,prevSibling:fn,nextSibling:An}),property:m({children:hn,name:Xt,parent:cn,document:t,isText:tn,isComment:Zt,isElement:en,isSpecial:s,getText:Ci,setText:ki,isBoundary:n,isEmptyTag:r,isNonEditable:i}),eq:mt,is:bt}}var Di=function(e,t,n,r){var i=n[0],o=n.slice(1);return r(e,t,i,o)},Mi=function(e,t,n){return n.length>0?Di(e,t,n,Ei):B.none()},Ei=function(e,t,n,r){var i=t(e,n);return R(r,(function(n,r){var i=t(e,r);return Ti(e,n,i)}),i)},Ti=function(e,t,n){return t.bind((function(t){return n.filter(v(e.eq,t))}))},Ii=function(e,t){return v(e.eq,t)},Oi=function(e,t,n,r){void 0===r&&(r=w);var i=[t].concat(e.up().all(t)),o=[n].concat(e.up().all(n)),a=function(e){var t=z(e,r);return t.fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},s=a(i),u=a(o),c=j(s,(function(t){return O(u,Ii(e,t))}));return{firstpath:s,secondpath:u,shared:c}},Li=Mi,Fi=Oi,Pi=Bi(),Ni=function(e,t){return Li(Pi,(function(t,n){return e(n)}),t)},Ui=function(e,t,n){return Fi(Pi,e,t,n)},Hi=function(e){return Hn(e,"table")},Ri=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||mt(t,e)}};return mt(e,t)?B.some({boxes:B.some([e]),start:e,finish:t}):Hi(e).bind((function(i){return Hi(t).bind((function(o){if(mt(i,o))return B.some({boxes:ai(i,e,t),start:e,finish:t});if(yt(i,o)){var a=Tn(t,"td,th",r(i)),s=a.length>0?a[a.length-1]:t;return B.some({boxes:si(i,e,i,t,o),start:e,finish:s})}if(yt(o,i)){a=Tn(e,"td,th",r(o));var u=a.length>0?a[a.length-1]:e;return B.some({boxes:si(o,e,i,t,o),start:e,finish:u})}return Ui(e,t).shared.bind((function(a){return Qn(a,"table",n).bind((function(n){var a=Tn(t,"td,th",r(n)),s=a.length>0?a[a.length-1]:t,u=Tn(e,"td,th",r(n)),c=u.length>0?u[u.length-1]:e;return B.some({boxes:si(n,e,i,t,o),start:c,finish:s})}))}))}))}))},Vi=function(e,t){var n=On(e,t);return n.length>0?B.some(n):B.none()},Qi=function(e,t){return j(e,(function(e){return ft(e,t)}))},ji=function(e,t,n){return Vn(e,t).bind((function(t){return Vn(e,n).bind((function(e){return Ni(Hi,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))},zi=function(e,t){return Hn(e,"table").bind((function(n){return Vn(n,t).bind((function(t){return Ri(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))},Gi=function(e,t,n,r,i){return Qi(e,i).bind((function(e){return oi(e,t,n).bind((function(e){return zi(e,r)}))}))},Ki=function(e,t){return Vi(e,t)},qi=function(e,t,n){return ji(e,t,n).bind((function(t){var n=function(t){return mt(e,t)},r="thead,tfoot,tbody,table",i=Hn(t.first,r,n),o=Hn(t.last,r,n);return i.bind((function(e){return o.bind((function(n){return mt(e,n)?ui(t.table,t.first,t.last):B.none()}))}))}))},Wi=function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return P(e,(function(r,i){var o=wt(r);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],u=r[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!a(u))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n.length;if(o!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+o);var a=function(e){var r=wt(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));var i=q(t,(function(e){return I(r,e)}));if(!i)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var o=t[i];return o.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:s,params:n})}}}})),n},$i={generate:Wi},Xi=$i.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Yi=function(e,t,n,r){return e.fold(t,n,r)},Ji=Xi.none,Zi=Xi.multiple,eo=Xi.single,to=function(e,t,n){var r=function(){return Ki(e(),n).fold((function(){return t().map(eo).getOrThunk(Ji)}),(function(e){return Zi(e)}))};return{get:r}},no=tinymce.util.Tools.resolve("tinymce.PluginManager"),ro=function(e,t){return dt.fromDom(e.dom.cloneNode(t))},io=function(e){return ro(e,!1)},oo=function(e){return ro(e,!0)},ao=function(e,t){var n=dt.fromTag(t),r=$n(e);return Gn(n,r),n},so=function(e,t){var n=ao(e,t),r=hn(oo(e));return gi(n,r),n},uo=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},co=function(e,t,n){return e.isSome()&&t.isSome()?B.some(n(e.getOrDie(),t.getOrDie())):B.none()},lo=function(e,t){return void 0!==e&&null!==e?t(e):B.none()},fo=function(e,t){return e?B.some(t):B.none()},Ao=function(e,t){var n=function(t,n){if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Xn(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=tr(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return V(t,(function(t,n){var r=tr(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}},ho=Ao("width",(function(e){return e.dom.offsetWidth})),po=function(e){return ho.get(e)},mo=function(e){return ho.getOuter(e)},go=function(e,t){void 0===t&&(t=x);var n=e.grid,r=L(n.columns,g),i=L(n.rows,g);return F(r,(function(n){var r=function(){return K(i,(function(t){return $r.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))},o=function(e){return 1===e.colspan&&t(e.element)},a=function(){return $r.getAt(e,0,n)};return vo(r,o,a)}))},vo=function(e,t,n){var r=e(),i=j(r,t),o=i.orThunk((function(){return B.from(r[0]).orThunk(n)}));return o.map((function(e){return e.element}))},yo=function(e){var t=e.grid,n=L(t.rows,g),r=L(t.columns,g);return F(n,(function(t){var n=function(){return K(r,(function(n){return $r.getAt(e,t,n).filter((function(e){return e.row===t})).fold(m([]),(function(e){return[e]}))}))},i=function(e){return 1===e.rowspan},o=function(){return $r.getAt(e,t,0)};return vo(n,i,o)}))},bo=function(e,t){if(t<0||t>=e.length-1)return B.none();var n=e[t].fold((function(){var n=W(e.slice(0,t));return te(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return B.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return te(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return B.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},wo=function(e,t){return function(n){return"rtl"===xo(n)?t:e}},xo=function(e){return"rtl"===tr(e,"direction")?"rtl":"ltr"},Co=Ao("height",(function(e){var t=e.dom;return kn(e)?t.getBoundingClientRect().height:t.offsetHeight})),So=function(e){return Co.get(e)},ko=function(e){return Co.getOuter(e)},_o=function(e,t){var n=function(n,r){return _o(e+n,t+r)};return{left:e,top:t,translate:n}},Bo=_o,Do=function(e){var t=e.getBoundingClientRect();return Bo(t.left,t.top)},Mo=function(e,t){return void 0!==e?e:void 0!==t?t:0},Eo=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Bo(n.offsetLeft,n.offsetTop);var o=Mo(null===r||void 0===r?void 0:r.pageYOffset,i.scrollTop),a=Mo(null===r||void 0===r?void 0:r.pageXOffset,i.scrollLeft),s=Mo(i.clientTop,n.clientTop),u=Mo(i.clientLeft,n.clientLeft);return To(e).translate(a-u,o-s)},To=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Bo(r.offsetLeft,r.offsetTop):kn(e)?Do(t):Bo(0,0)},Io=function(e,t){return{row:e,y:t}},Oo=function(e,t){return{col:e,x:t}},Lo=function(e){var t=Eo(e);return t.left+mo(e)},Fo=function(e){return Eo(e).left},Po=function(e,t){return Oo(e,Fo(t))},No=function(e,t){return Oo(e,Lo(t))},Uo=function(e){return Eo(e).top},Ho=function(e,t){return Io(e,Uo(t))},Ro=function(e,t){return Io(e,Uo(t)+ko(t))},Vo=function(e,t,n){if(0===n.length)return[];var r=F(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),i=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([i])},Qo=function(e){return-e},jo={delta:g,positions:function(e){return Vo(Ho,Ro,e)},edge:Uo},zo={delta:g,edge:Fo,positions:function(e){return Vo(Po,No,e)}},Go={delta:Qo,edge:Lo,positions:function(e){return Vo(No,Po,e)}},Ko=wo(zo,Go),qo={delta:function(e,t){return Ko(t).delta(e,t)},positions:function(e,t){return Ko(t).positions(e,t)},edge:function(e){return Ko(e).edge(e)}},Wo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},$o=function(){var e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,r="\\.",i=function(e){return"(?:"+e+")?"},o=["Infinity",e+r+i(e)+i(n),r+e+i(n),e+i(n)].join("|"),a="[+-]?(?:"+o+")";return new RegExp("^("+a+")(.*)$")}(),Xo=function(e,t){return O(t,(function(t){return O(Wo[t],(function(t){return e===t}))}))},Yo=function(e,t){var n=B.from($o.exec(e));return n.bind((function(e){var n=Number(e[1]),r=e[2];return Xo(r,t)?B.some({value:n,unit:r}):B.none()}))},Jo=function(){var e=Je().browser;return e.isIE()||e.isEdge()},Zo=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},ea=function(e,t,n){return Zo(tr(e,t),n)},ta=function(e){var t=e.dom.getBoundingClientRect().height,n=tr(e,"box-sizing");if("border-box"===n)return t;var r=ea(e,"padding-top",0),i=ea(e,"padding-bottom",0),o=ea(e,"border-top-width",0),a=ea(e,"border-bottom-width",0),s=o+a;return t-r-i-s},na=function(e){var t=e.dom.getBoundingClientRect().width,n=tr(e,"box-sizing");if("border-box"===n)return t;var r=ea(e,"padding-left",0),i=ea(e,"padding-right",0),o=ea(e,"border-left-width",0),a=ea(e,"border-right-width",0),s=o+a;return t-r-i-s},ra=function(e){return Jo()?ta(e):ea(e,"height",So(e))},ia=function(e){return Jo()?na(e):ea(e,"width",po(e))},oa=/(\d+(\.\d+)?)%/,aa=/(\d+(\.\d+)?)px|em/,sa=function(e,t){var n=dn(e).getOr(Bn(an(e)));return t(e)/t(n)*100},ua=function(e,t){Zn(e,"width",t+"px")},ca=function(e,t){Zn(e,"width",t+"%")},la=function(e,t){Zn(e,"height",t+"px")},da=function(e){return rr(e,"height").getOrThunk((function(){return ra(e)+"px"}))},fa=function(e,t,n,r){var i=yr(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,i),i},Aa=function(e,t,n,r){var i=parseInt(e,10);return ye(e,"%")&&"table"!==Xt(t)?fa(t,i,n,r):i},ha=function(e){var t=da(e);return t?Aa(t,e,So,la):So(e)},pa=function(e,t,n){var r=n(e),i=sr(e,t);return r/i},ma=function(e){var t=rr(e,"width");return t.fold((function(){return B.from(Kn(e,"width"))}),(function(e){return B.some(e)}))},ga=function(e,t){return e/t.pixelWidth()*100},va=function(e,t,n){var r=oa.exec(t);if(null!==r)return parseFloat(r[1]);var i=ia(e);return ga(i,n)},ya=function(e,t){var n=ma(e);return n.fold((function(){var n=po(e);return ga(n,t)}),(function(n){return va(e,n,t)}))},ba=function(e,t){return e/100*t.pixelWidth()},wa=function(e,t,n){var r=aa.exec(t);if(null!==r)return parseInt(r[1],10);var i=oa.exec(t);if(null!==i){var o=parseFloat(i[1]);return ba(o,n)}return ia(e)},xa=function(e,t){var n=ma(e);return n.fold((function(){return ia(e)}),(function(n){return wa(e,n,t)}))},Ca=function(e){return pa(e,"rowspan",ha)},Sa=function(e){var t=ma(e);return t.bind((function(e){return Yo(e,["fixed","relative","empty"])}))},ka=function(e,t,n){Zn(e,"width",t+n)},_a=function(e){return po(e)+"px"},Ba=function(e){return sa(e,po)+"%"},Da=function(e){return ma(e).exists((function(e){return oa.test(e)}))},Ma=function(e){return ma(e).exists((function(e){return aa.test(e)}))},Ea=function(e){return ma(e).isNone()},Ta=m(oa),Ia=m(aa),Oa=on("col"),La=function(e,t,n){return rr(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))},Fa=function(e,t){var n=function(e){return Oa(e)?po(e):xa(e,t)};return La(e,"width",n)},Pa=function(e){return La(e,"height",Ca)},Na=function(e){return F($r.justColumns(e),(function(e){return B.from(e.element)}))},Ua=function(e,t){return rr(e,t).isSome()},Ha=function(e){return!Oa(e)||Ua(e,"width")},Ra=function(e,t,n,r,i,o){return e.filter(r).fold((function(){return o(bo(n,t))}),(function(e){return i(e)}))},Va=function(e,t,n,r,i){var o=go(e,(function(e){return Ua(e,"width")})),a=$r.hasColumns(e)?Na(e):o,s=[B.some(qo.edge(t))].concat(F(qo.positions(o,t),(function(e){return e.map((function(e){return e.x}))}))),u=y(ur);return F(a,(function(e,t){return Ra(e,t,s,u,(function(e){if(Ha(e))return n(e,i);var a=lo(o[t],g);return Ra(a,t,s,u,(function(e){return r(B.some(po(e)))}),r)}),r)}))},Qa=function(e){return e.map((function(e){return e+"px"})).getOr("")},ja=function(e,t,n){return Va(e,t,Fa,Qa,n)},za=function(e,t,n){return Va(e,t,ya,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)},Ga=function(e,t,n){return Va(e,t,xa,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},Ka=function(e,t,n,r,i){var o=yo(e),a=[B.some(n.edge(t))].concat(F(n.positions(o,t),(function(e){return e.map((function(e){return e.y}))})));return F(o,(function(e,t){return Ra(e,t,a,y(cr),r,i)}))},qa=function(e,t,n){return Ka(e,t,n,Ca,(function(e){return e.getOrThunk(fr)}))},Wa=function(e,t,n){return Ka(e,t,n,Pa,Qa)},$a=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Xa=function(e){var t=function(){return po(e)},n=m(0),r=function(t,n){return Ga(t,e,n)};return{width:t,pixelWidth:t,getWidths:r,getCellDelta:n,singleColumnWidth:m([0]),minCellWidth:n,setElementWidth:A,adjustTableWidth:A,isRelative:!0,label:"none"}},Ya=function(e,t){var n=$a(parseFloat(e)),r=$a(po(t)),i=function(e){return e/r.get()*100},o=function(e,t){return[100-e]},a=function(){return dr()/r.get()*100},s=function(e){var i=n.get(),o=e/100*i,a=i+o;ca(t,a),n.set(a),r.set(po(t))},u=function(e,n){return za(e,t,n)};return{width:n.get,pixelWidth:r.get,getWidths:u,getCellDelta:i,singleColumnWidth:o,minCellWidth:a,setElementWidth:ca,adjustTableWidth:s,isRelative:!0,label:"percent"}},Ja=function(e,t){var n=$a(e),r=n.get,i=g,o=function(e,t){var n=Math.max(dr(),e+t);return[n-e]},a=function(e){var i=r()+e;ua(t,i),n.set(i)},s=function(e,n){return Ga(e,t,n)};return{width:r,pixelWidth:r,getWidths:s,getCellDelta:i,singleColumnWidth:o,minCellWidth:dr,setElementWidth:ua,adjustTableWidth:a,isRelative:!1,label:"pixel"}},Za=function(e,t){var n=Ta().exec(t);if(null!==n)return Ya(n[1],e);var r=Ia().exec(t);if(null!==r){var i=parseInt(r[1],10);return Ja(i,e)}var o=po(e);return Ja(o,e)},es=function(e){var t=ma(e);return t.fold((function(){return Xa(e)}),(function(t){return Za(e,t)}))},ts={getTableSize:es,pixelSize:Ja,percentageSize:Ya,noneSize:Xa},ns=function(e,t,n,r,i,o){return{minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:i,selectedCells:o}},rs=function(e,t){var n=e.grid.columns,r=e.grid.rows,i=r,o=n,a=0,s=0,u=[],c=[];return Ct(e.access,(function(e){if(u.push(e),t(e)){c.push(e);var n=e.row,r=n+e.rowspan-1,l=e.column,d=l+e.colspan-1;n<i?i=n:r>a&&(a=r),l<o?o=l:d>s&&(s=d)}})),ns(i,o,a,s,u,c)},is=function(e,t,n){var r=e[n].element,i=dt.fromTag("td");Ai(i,dt.fromTag("br"));var o=t?Ai:fi;o(r,i)},os=function(e,t,n,r){for(var i=t.grid.columns,o=t.grid.rows,a=0;a<o;a++)for(var s=!1,u=0;u<i;u++)if(!(a<n.minRow||a>n.maxRow||u<n.minCol||u>n.maxCol)){var c=$r.getAt(t,a,u).filter(r).isNone();c?is(e,s,a):s=!0}},as=function(e,t,n,r){Ct(n.columns,(function(e){(e.column<t.minCol||e.column>t.maxCol)&&yi(e.element)}));var i=H(Ar(e,"tr"),(function(e){return 0===e.dom.childElementCount}));P(i,yi),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||P(Ar(e,"th,td"),(function(e){Wn(e,"rowspan"),Wn(e,"colspan")})),Wn(e,Fr),Wn(e,"data-snooker-col-series");var o=ts.getTableSize(e);o.adjustTableWidth(r)},ss=function(e,t,n,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;var i=Ga(t,e,n),o=V(i,(function(e,t){return e+t}),0),a=V(i.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0),s=a/o*n.pixelWidth(),u=s-n.pixelWidth();return n.getCellDelta(u)},us=function(e,t){var n=function(e){return ft(e.element,t)},r=oo(e),i=Sr(r),o=ts.getTableSize(e),a=$r.generate(i),s=rs(a,n),u="th:not("+t+"),td:not("+t+")",c=hr(r,"th,td",(function(e){return ft(e,u)}));P(c,yi),os(i,a,s,n);var l=$r.fromTable(e),d=ss(e,l,o,s);return as(r,s,a,d),r},cs=" ",ls=function(e){return"img"===Xt(e)?1:Si(e).fold((function(){return hn(e).length}),(function(e){return e.length}))},ds=function(e){return Si(e).filter((function(e){return 0!==e.trim().length||e.indexOf(cs)>-1})).isSome()},fs=["img","br"],As=function(e){var t=ds(e);return t||I(fs,Xt(e))},hs=function(e){return Un(e,As)},ps=function(e){return ms(e,As)},ms=function(e,t){var n=function(e){for(var r=hn(e),i=r.length-1;i>=0;i--){var o=r[i];if(t(o))return B.some(o);var a=n(o);if(a.isSome())return a}return B.none()};return n(e)},gs={scope:["row","col"]},vs=function(){var e=dt.fromTag("td");return Ai(e,dt.fromTag("br")),e},ys=function(){return dt.fromTag("col")},bs=function(){return dt.fromTag("colgroup")},ws=function(e,t,n){var r=so(e,t);return Ct(n,(function(e,t){null===e?Wn(r,t):zn(r,t,e)})),r},xs=function(e){return e},Cs=function(e){return function(){return dt.fromTag("tr",e.dom)}},Ss=function(e,t,n){var r=hs(e);return r.map((function(r){var i=n.join(","),o=Tn(r,i,(function(t){return mt(t,e)}));return R(o,(function(e,t){var n=io(t);return Wn(n,"contenteditable"),Ai(e,n),n}),t)})).getOr(t)},ks=function(e,t){Ct(gs,(function(n,r){return qn(e,r).filter((function(e){return I(n,e)})).each((function(e){return zn(t,r,e)}))}))},_s=function(e,t,n){var r=function(e,t){or(e.element,t),ir(t,"height"),1!==e.colspan&&ir(t,"width")},i=function(t){var i=an(t.element),o=dt.fromTag(Xt(t.element),i.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=a.length>0?Ss(t.element,o,a):o;return Ai(s,dt.fromTag("br")),r(t,o),ks(t.element,o),e(t.element,o),o},o=function(t){var n=an(t.element),i=dt.fromTag(Xt(t.element),n.dom);return r(t,i),e(t.element,i),i};return{col:o,colgroup:bs,row:Cs(t),cell:i,replace:ws,gap:vs}},Bs=function(e){return{col:ys,colgroup:bs,row:Cs(e),cell:vs,replace:xs,gap:vs}},Ds=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,hn(dt.fromDom(r))},Ms=function(e){return F(e,dt.fromDom)},Es=function(e){return e.nodeName.toLowerCase()},Ts=function(e){return dt.fromDom(e.getBody())},Is=function(e){return e.getBoundingClientRect().width},Os=function(e){return e.getBoundingClientRect().height},Ls=function(e){return function(t){return mt(t,Ts(e))}},Fs=function(e){return e?e.replace(/px$/,""):""},Ps=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},Ns=function(e){Wn(e,"data-mce-style");var t=function(e){return Wn(e,"data-mce-style")};P(gr(e),t),P(vr(e),t)},Us=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return B.from(n).filter(xe)},Hs=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},Rs=function(e){return/^(\d+(\.\d+)?)px$/.test(e)},Vs=function(e){return dt.fromDom(e.selection.getStart())},Qs=function(e){return Yi(e.get(),m([]),g,X)},js=function(e){var t=function(e,t){return qn(e,t).exists((function(e){return parseInt(e,10)>1}))},n=function(e){return t(e,"rowspan")||t(e,"colspan")},r=Qs(e);return r.length>0&&q(r,n)?B.some(r):B.none()},zs=function(e,t,n){return Yi(t.get(),B.none,(function(t){return t.length<=1?B.none():qi(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}),B.none)},Gs="data-mce-selected",Ks="td["+Gs+"],th["+Gs+"]",qs="["+Gs+"]",Ws="data-mce-first-selected",$s="td["+Ws+"],th["+Ws+"]",Xs="data-mce-last-selected",Ys="td["+Xs+"],th["+Xs+"]",Js=qs,Zs={selected:Gs,selectedSelector:Ks,firstSelected:Ws,firstSelectedSelector:$s,lastSelected:Xs,lastSelectedSelector:Ys},eu=function(e){return{element:e,mergable:B.none(),unmergable:B.none(),selection:[e]}},tu=function(e,t,n){return{element:n,mergable:zs(t,e,Zs),unmergable:js(e),selection:Qs(e)}},nu=function(e,t,n){return{element:e,clipboard:t,generators:n}},ru=function(e,t,n,r){return{selection:Qs(e),clipboard:n,generators:r}},iu=function(e){return yr(e[0]).map((function(e){var t=us(e,Js);return Ns(t),[t]}))},ou=function(e,t){return F(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")},au=function(e){return F(e,(function(e){return e.dom.innerText})).join("")},su=function(e,t,n,r){e.on("BeforeGetContent",(function(n){var r=function(t){n.preventDefault(),iu(t).each((function(t){n.content="text"===n.format?au(t):ou(e,t)}))};!0===n.selection&&Yi(t.get(),A,r,A)})),e.on("BeforeSetContent",(function(t){if(!0===t.selection&&!0===t.paste){var i=B.from(e.dom.getParent(e.selection.getStart(),"th,td"));i.each((function(i){var o=dt.fromDom(i);yr(o).each((function(i){var a=H(Ds(t.content),(function(e){return"meta"!==Xt(e)})),s=function(e){return"table"===Xt(e)};if(1===a.length&&s(a[0])){t.preventDefault();var u=dt.fromDom(e.getDoc()),c=Bs(u),l=nu(o,a[0],c);n.pasteCells(i,l).each((function(t){e.selection.setRng(t.rng),e.focus(),r.clear(i)}))}}))}))}}))},uu=$i.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),cu=ne({},uu),lu=function(e,t){return 0===e.length?cu.none():1===e.length?cu.only(0):0===t?cu.left(0,1):t===e.length-1?cu.right(t-1,t):t>0&&t<e.length-1?cu.middle(t-1,t,t+1):cu.none()},du=function(e,t,n,r,i){var o=e.slice(0),a=lu(e,t),s=m(F(o,m(0))),u=function(e){return r.singleColumnWidth(o[e],n)},c=function(e,t){return i.calcLeftEdgeDeltas(o,e,t,n,r.minCellWidth(),r.isRelative)},l=function(e,t,a){return i.calcMiddleDeltas(o,e,t,a,n,r.minCellWidth(),r.isRelative)},d=function(e,t){return i.calcRightEdgeDeltas(o,e,t,n,r.minCellWidth(),r.isRelative)};return a.fold(s,u,c,l,d)},fu=function(e,t,n){for(var r=0,i=e;i<t;i++)r+=void 0!==n[i]?n[i]:0;return r},Au=function(e,t){var n=$r.justCells(e);return F(n,(function(e){var n=fu(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))},hu=function(e,t){var n=$r.justColumns(e);return F(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))},pu=function(e,t){var n=$r.justCells(e);return F(n,(function(e){var n=fu(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},mu=function(e,t){return F(e.all,(function(e,n){return{element:e.element,height:t[n]}}))},gu=function(e){return R(e,(function(e,t){return e+t}),0)},vu=function(e,t){return $r.hasColumns(e)?hu(e,t):Au(e,t)},yu=function(e,t,n){var r=vu(e,t);P(r,(function(e){n.setElementWidth(e.element,e.width)}))},bu=function(e,t,n,r,i){var o=$r.fromTable(e),a=i.getCellDelta(t),s=i.getWidths(o,i),u=n===o.grid.columns-1,c=r.clampTableDelta(s,n,a,i.minCellWidth(),u),l=du(s,n,c,i,r),d=F(l,(function(e,t){return e+s[t]}));yu(o,d,i),r.resizeTable(i.adjustTableWidth,c,u)},wu=function(e,t,n,r){var i=$r.fromTable(e),o=qa(i,e,r),a=F(o,(function(e,r){return n===r?Math.max(t+e,fr()):e})),s=pu(i,a),u=mu(i,a);P(u,(function(e){la(e.element,e.height)})),P(s,(function(e){la(e.element,e.height)}));var c=gu(a);la(e,c)},xu=function(e,t,n,r,i){var o=$r.generate(t),a=r.getWidths(o,r),s=r.pixelWidth(),u=i.calcRedestributedWidths(a,s,n.pixelDelta,r.isRelative),c=u.newSizes,l=u.delta;yu(o,c,r),r.adjustTableWidth(l)},Cu=function(e,t,n,r){var i=$r.generate(t),o=r.getWidths(i,r);yu(i,o,r)},Su=function(e){return F(e,m(0))},ku=function(e,t,n,r,i){return i(e.slice(0,t)).concat(r).concat(i(e.slice(n)))},_u=function(e){return function(t,n,r,i){if(e(r)){var o=Math.max(i,t[n]-Math.abs(r)),a=Math.abs(o-t[n]);return r>=0?a:-a}return r}},Bu=_u((function(e){return e<0})),Du=_u(x),Mu=function(){var e=function(e,t,n,r,i){var o=Bu(e,t,r,i);return ku(e,t,n+1,[o,0],Su)},t=function(e,t,n,r){var i=(100+n)/100,o=Math.max(r,(e[t]+n)/i);return F(e,(function(e,n){var r=n===t?o:e/i;return r-e}))},n=function(n,r,i,o,a,s){return s?t(n,r,o,a):e(n,r,i,o,a)},r=function(e,t,r,i,o,a,s){return n(e,r,i,o,a,s)},i=function(e,t){return e(t)},o=function(e,n,r,i,o,a){if(a)return t(e,r,i,o);var s=Bu(e,r,i,o);return Su(e.slice(0,r)).concat([s])},a=function(e,t,n,r){if(r){var i=t+n,o=i/t,a=F(e,(function(e){return e/o}));return{delta:100*o-100,newSizes:a}}return{delta:n,newSizes:e}};return{resizeTable:i,clampTableDelta:Bu,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:o,calcRedestributedWidths:a}},Eu=function(){var e=function(e,t,n,r,i){var o=r>=0?n:t,a=Du(e,o,r,i);return ku(e,t,n+1,[a,-a],Su)},t=function(t,n,r,i,o,a){return e(t,r,i,o,a)},n=function(e,t,n){n&&e(t)},r=function(e,t,n,r,i,o){if(o)return Su(e);var a=r/e.length;return F(e,m(a))},i=function(e,t,n,r,i){if(i){if(n>=0)return n;var o=V(e,(function(e,t){return e+t-r}),0);return Math.max(-o,n)}return Bu(e,t,n,r)},o=function(e,t,n,r){return{delta:0,newSizes:e}};return{resizeTable:n,clampTableDelta:i,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:r,calcRedestributedWidths:o}},Tu=function(e,t){var n=B.from(e.dom.documentElement).map(dt.fromDom).getOr(e);return{parent:m(n),view:m(e),origin:m(Bo(0,0)),isResizable:t}},Iu=function(e,t,n){var r=function(){return Eo(t)};return{parent:m(t),view:m(e),origin:r,isResizable:n}},Ou=function(e,t,n){return{parent:m(t),view:m(e),origin:m(Bo(0,0)),isResizable:n}},Lu={only:Tu,detached:Iu,body:Ou},Fu=$i.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Pu=function(e,t,n){var r=n.substring(0,n.length-e.length),i=parseFloat(r);return r===i.toString()?t(i):Fu.invalid(n)},Nu=function(e){return ye(e,"%")?Pu("%",Fu.percent,e):ye(e,"px")?Pu("px",Fu.pixels,e):Fu.invalid(e)},Uu=ne(ne({},Fu),{from:Nu}),Hu=function(e,t){return F(e,(function(e){var n=Uu.from(e);return n.fold((function(){return e}),(function(e){var n=e/t*100;return n+"%"}),(function(e){return e+"%"}))}))},Ru=function(e,t,n){var r=n/t;return F(e,(function(e){var t=Uu.from(e);return t.fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))},Vu=function(e,t){var n=e.fold((function(){return m("")}),(function(e){var n=e/t;return m(n+"px")}),(function(){var e=100/t;return m(e+"%")}));return L(t,n)},Qu=function(e,t,n){return e.fold((function(){return t}),(function(e){return Ru(t,n,e)}),(function(e){return Hu(t,n)}))},ju=function(e,t,n){var r=Uu.from(n),i=q(e,(function(e){return"0px"===e}))?Vu(r,e.length):Qu(r,e,t);return qu(i)},zu=function(e,t){return 0===e.length?t:R(e,(function(e,t){return Uu.from(t).fold(m(0),g,g)+e}),0)},Gu=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},Ku=function(e,t){return Uu.from(e).fold(m(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))},qu=function(e){if(0===e.length)return e;var t=R(e,(function(e,t){var n=Uu.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return Gu(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Ku(n[n.length-1],Math.round(t.remainder))])},Wu=Uu.from,$u=function(e,t,n){P(t,(function(t){var r=e.slice(t.column,t.colspan+t.column),i=zu(r,dr());Zn(t.element,"width",i+n)}))},Xu=function(e,t,n){P(t,(function(t,r){var i=zu([e[r]],dr());Zn(t.element,"width",i+n)}))},Yu=function(e,t,n,r){P(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row),i=zu(n,fr());Zn(t.element,"height",i+r)})),P(t,(function(t,n){Zn(t.element,"height",e[n])}))},Ju=function(e){return Wu(e).fold(m("px"),m("px"),m("%"))},Zu=function(e,t,n,r){var i=$r.fromTable(e),o=i.all,a=$r.justCells(i),s=$r.justColumns(i);t.each((function(t){var n=Ju(t),o=po(e),u=ja(i,e,r),c=ju(u,o,t);$r.hasColumns(i)?Xu(c,s,n):$u(c,a,n),Zn(e,"width",t)})),n.each((function(t){var n=Ju(t),r=So(e),s=Wa(i,e,jo),u=ju(s,r,t);Yu(u,o,a,n),Zn(e,"height",t)}))},ec=Da,tc=Ma,nc=Ea,rc=Ba,ic=function(e){var t=$r.fromTable(e);return t.grid},oc=function(e){var t=[],n=function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},r=function(e){t=H(t,(function(t){return t!==e}))},i=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};P(e,(function(e,t){i[e]=n[t]})),P(t,(function(e){e(i)}))};return{bind:n,unbind:r,trigger:i}},ac=function(e){var t=St(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),n=St(e,(function(e){return e.trigger}));return{registry:t,trigger:n}},sc=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},i=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:i}},uc=function(e){return e.slice(0).sort()},cc=function(e,t){throw new Error("All required keys ("+uc(e).join(", ")+") were not specified. Specified keys were: "+uc(t).join(", ")+".")},lc=function(e){throw new Error("Unsupported keys for object: "+uc(e).join(", "))},dc=function(e,t){if(!a(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");P(t,(function(t){if(!i(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},fc=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+uc(e).join(", ")+") were not.")},Ac=function(e){var t=uc(e),n=j(t,(function(e,n){return n<t.length-1&&e===t[n+1]}));n.each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},hc=function(e,t){return pc(e,t,{validate:d,label:"function"})},pc=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return dc("required",t),Ac(t),function(r){var i=wt(r),o=q(t,(function(e){return I(i,e)}));o||cc(t,i),e(t,i);var a=H(t,(function(e){return!n.validate(r[e],e)}));return a.length>0&&fc(a,n.label),r}},mc=function(e,t){var n=H(t,(function(t){return!I(e,t)}));n.length>0&&lc(n)},gc=function(e){return hc(mc,e)},vc=gc(["compare","extract","mutate","sink"]),yc=gc(["element","start","stop","destroy"]),bc=gc(["forceDrop","drop","move","delayDrop"]),wc=function(){var e=B.none(),t=function(){e=B.none()},n=function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=B.some(n),r},r=function(e,t){var r=t.extract(e);r.each((function(e){var r=n(t,e);r.each((function(e){i.trigger.move(e)}))}))},i=ac({move:oc(["info"])});return{onEvent:r,reset:t,events:i.registry}},xc=function(){var e=ac({move:oc(["info"])});return{onEvent:A,reset:A,events:e.registry}},Cc=function(){var e=xc(),t=wc(),n=e,r=function(){n.reset(),n=t},i=function(){n.reset(),n=e},o=function(e,t){n.onEvent(e,t)},a=function(){return n===t};return{on:r,off:i,isOn:a,onEvent:o,events:t.events}},Sc=function(e,t,n){var r=!1,i=ac({start:oc([]),stop:oc([])}),o=Cc(),a=function(){A.stop(),o.isOn()&&(o.off(),i.trigger.stop())},s=sc(a,200),u=function(e){A.start(e),o.on(),i.trigger.start()},c=function(e){s.cancel(),o.onEvent(e,t)};o.events.move.bind((function(n){t.mutate(e,n.info)}));var l=function(){r=!0},d=function(){r=!1},f=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},A=t.sink(bc({forceDrop:a,drop:f(a),move:f(c),delayDrop:f(s.throttle)}),n),h=function(){A.destroy()};return{element:A.element,go:u,on:l,off:d,destroy:h,events:i.registry}},kc=function(e,t,n,r,i,o,a){return{target:e,x:t,y:n,stop:r,prevent:i,kill:o,raw:a}},_c=function(e){var t=dt.fromDom(Cn(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},i=h(r,n);return kc(t,e.clientX,e.clientY,n,r,i,e)},Bc=function(e,t){return function(n){e(n)&&t(_c(n))}},Dc=function(e,t,n,r,i){var o=Bc(n,r);return e.dom.addEventListener(t,o,i),{unbind:v(Ec,e,t,o,i)}},Mc=function(e,t,n,r){return Dc(e,t,n,r,!1)},Ec=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Tc=x,Ic=function(e,t,n){return Mc(e,t,Tc,n)},Oc=_c,Lc=function(e,t){var n=Kn(e,t);return void 0===n||""===n?[]:n.split(" ")},Fc=function(e,t,n){var r=Lc(e,t),i=r.concat([n]);return zn(e,t,i.join(" ")),!0},Pc=function(e,t,n){var r=H(Lc(e,t),(function(e){return e!==n}));return r.length>0?zn(e,t,r.join(" ")):Wn(e,t),!1},Nc=function(e){return void 0!==e.dom.classList},Uc=function(e){return Lc(e,"class")},Hc=function(e,t){return Fc(e,"class",t)},Rc=function(e,t){return Pc(e,"class",t)},Vc=function(e,t){Nc(e)?e.dom.classList.add(t):Hc(e,t)},Qc=function(e){var t=Nc(e)?e.dom.classList:Uc(e);0===t.length&&Wn(e,"class")},jc=function(e,t){if(Nc(e)){var n=e.dom.classList;n.remove(t)}else Rc(e,t);Qc(e)},zc=function(e,t){return Nc(e)&&e.dom.classList.contains(t)},Gc=function(e){var t=e.replace(/\./g,"-"),n=function(e){return t+"-"+e};return{resolve:n}},Kc=Gc("ephox-dragster"),qc=Kc.resolve,Wc=function(e){var t=ne({layerClass:qc("blocker")},e),n=dt.fromTag("div");zn(n,"role","presentation"),er(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Vc(n,qc("blocker")),Vc(n,t.layerClass);var r=function(){return n},i=function(){yi(n)};return{element:r,destroy:i}},$c=function(e,t){return Bo(t.left-e.left,t.top-e.top)},Xc=function(e){return B.some(Bo(e.x,e.y))},Yc=function(e,t){e.mutate(t.left,t.top)},Jc=function(e,t){var n=Wc(t),r=Ic(n.element(),"mousedown",e.forceDrop),i=Ic(n.element(),"mouseup",e.drop),o=Ic(n.element(),"mousemove",e.move),a=Ic(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),i.unbind(),o.unbind(),a.unbind(),r.unbind()},u=function(e){Ai(e,n.element())},c=function(){yi(n.element())};return yc({element:n.element,start:u,stop:c,destroy:s})},Zc=vc({compare:$c,extract:Xc,sink:Jc,mutate:Yc}),el=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:Zc;return Sc(e,n,t)},tl=function(e){return"true"===Kn(e,"contenteditable")},nl=function(e,t){return Qn(e,"[contenteditable]",t)},rl=Gc("ephox-snooker"),il=rl.resolve,ol=function(){var e=ac({drag:oc(["xDelta","yDelta"])}),t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}},al=function(){var e=ac({drag:oc(["xDelta","yDelta","target"])}),t=B.none(),n=ol();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}));var r=function(e){t=B.some(e)},i=function(){return t};return{assign:r,get:i,mutate:n.mutate,events:e.registry}},sl=function(e,t,n,r,i){var o=dt.fromTag("div");return er(o,{position:"absolute",left:t-r/2+"px",top:n+"px",height:i+"px",width:r+"px"}),Gn(o,{"data-column":e,role:"presentation"}),o},ul=function(e,t,n,r,i){var o=dt.fromTag("div");return er(o,{position:"absolute",left:t+"px",top:n-i/2+"px",height:i+"px",width:r+"px"}),Gn(o,{"data-row":e,role:"presentation"}),o},cl=il("resizer-bar"),ll=il("resizer-rows"),dl=il("resizer-cols"),fl=7,Al=function(e,t){return K(e.all,(function(e,n){return t(e.element)?[n]:[]}))},hl=function(e,t){var n=[];return L(e.grid.columns,(function(r){var i=$r.getColumnAt(e,r).map((function(e){return e.element}));i.forall(t)&&n.push(r)})),H(n,(function(n){var r=$r.filterItems(e,(function(e){return e.column===n}));return q(r,(function(e){return t(e.element)}))}))},pl=function(e){var t=On(e.parent(),"."+cl);P(t,yi)},ml=function(e,t,n){var r=e.origin();P(t,(function(t){t.each((function(t){var i=n(r,t);Vc(i,cl),Ai(e.parent(),i)}))}))},gl=function(e,t,n,r){ml(e,t,(function(e,t){var i=sl(t.col,t.x-e.left,n.top-e.top,fl,r);return Vc(i,dl),i}))},vl=function(e,t,n,r){ml(e,t,(function(e,t){var i=ul(t.row,n.left-e.left,t.y-e.top,r,fl);return Vc(i,ll),i}))},yl=function(e,t,n,r,i){var o=Eo(n),a=t.isResizable,s=r.length>0?jo.positions(r,n):[],u=s.length>0?Al(e,a):[],c=H(s,(function(e,t){return O(u,(function(e){return t===e}))}));vl(t,c,o,mo(n));var l=i.length>0?qo.positions(i,n):[],d=l.length>0?hl(e,a):[],f=H(l,(function(e,t){return O(d,(function(e){return t===e}))}));gl(t,f,o,ko(n))},bl=function(e,t){if(pl(e),e.isResizable(t)){var n=$r.fromTable(t),r=yo(n),i=go(n);yl(n,e,t,r,i)}},wl=function(e,t){var n=On(e.parent(),"."+cl);P(n,t)},xl=function(e){wl(e,(function(e){Zn(e,"display","none")}))},Cl=function(e){wl(e,(function(e){Zn(e,"display","block")}))},Sl=function(e){return zc(e,ll)},kl=function(e){return zc(e,dl)},_l=il("resizer-bar-dragging"),Bl=function(e){var t=al(),n=el(t,{}),r=B.none(),i=function(e,t){return B.from(Kn(e,t))};t.events.drag.bind((function(e){i(e.target,"data-row").each((function(t){var n=lr(e.target,"top");Zn(e.target,"top",n+e.yDelta+"px")})),i(e.target,"data-column").each((function(t){var n=lr(e.target,"left");Zn(e.target,"left",n+e.xDelta+"px")}))}));var o=function(e,t){var n=lr(e,t),r=ar(e,"data-initial-"+t,0);return n-r};n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){i(t,"data-row").each((function(e){var r=o(t,"top");Wn(t,"data-initial-top"),A.trigger.adjustHeight(n,r,parseInt(e,10))})),i(t,"data-column").each((function(e){var r=o(t,"left");Wn(t,"data-initial-left"),A.trigger.adjustWidth(n,r,parseInt(e,10))})),bl(e,n)}))}))}));var a=function(r,i){A.trigger.startAdjust(),t.assign(r),zn(r,"data-initial-"+i,lr(r,i)),Vc(r,_l),Zn(r,"opacity","0.2"),n.go(e.parent())},s=Ic(e.parent(),"mousedown",(function(e){Sl(e.target)&&a(e.target,"top"),kl(e.target)&&a(e.target,"left")})),u=function(t){return mt(t,e.view())},c=function(e){return Qn(e,"table",u).filter((function(e){return nl(e,u).exists(tl)}))},l=Ic(e.view(),"mouseover",(function(t){c(t.target).fold((function(){kn(t.target)&&pl(e)}),(function(t){r=B.some(t),bl(e,t)}))})),d=function(){s.unbind(),l.unbind(),n.destroy(),pl(e)},f=function(t){bl(e,t)},A=ac({adjustHeight:oc(["table","delta","row"]),adjustWidth:oc(["table","delta","column"]),startAdjust:oc([])});return{destroy:d,refresh:f,on:n.on,off:n.off,hideBars:v(xl,e),showBars:v(Cl,e),events:A.registry}},Dl=function(e,t,n){var r=jo,i=qo,o=Bl(e),a=ac({beforeResize:oc(["table","type"]),afterResize:oc(["table","type"]),startDrag:oc([])});return o.events.adjustHeight.bind((function(e){var t=e.table;a.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);wu(t,n,e.row,r),a.trigger.afterResize(t,"row")})),o.events.startAdjust.bind((function(e){a.trigger.startDrag()})),o.events.adjustWidth.bind((function(e){var r=e.table;a.trigger.beforeResize(r,"col");var o=i.delta(e.delta,r),s=n(r);bu(r,o,e.column,t,s),a.trigger.afterResize(r,"col")})),{on:o.on,off:o.off,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:a.registry}},Ml={create:Dl},El=function(e,t){return e.fire("newrow",{node:t})},Tl=function(e,t){return e.fire("newcell",{node:t})},Il=function(e,t,n,r,i){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:i})},Ol=function(e,t,n,r,i){e.fire("ObjectResized",{target:t,width:n,height:r,origin:i})},Ll=function(e,t,n,r,i){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:i})},Fl=function(e){e.fire("TableSelectionClear")},Pl=function(e,t,n){e.fire("TableModified",ne(ne({},n),{table:t}))},Nl={structure:!1,style:!0},Ul={structure:!0,style:!1},Hl="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Rl={"border-collapse":"collapse",width:"100%"},Vl=function(e){if(ad(e)){var t=e.getBody().offsetWidth;return ne(ne({},Rl),{width:t+"px"})}return sd(e)?Dt(Rl,(function(e,t){return"width"!==t})):Rl},Ql={border:"1"},jl="preservetable",zl=function(e){return e.getParam("table_sizing_mode","auto")},Gl=function(e){return e.getParam("table_responsive_width")},Kl=function(e){return e.getParam("table_default_attributes",Ql,"object")},ql=function(e){return e.getParam("table_default_styles",Vl(e),"object")},Wl=function(e){return e.getParam("table_resize_bars",!0,"boolean")},$l=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Xl=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Yl=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Jl=function(e){return e.getParam("table_advtab",!0,"boolean")},Zl=function(e){return e.getParam("table_appearance_options",!0,"boolean")},ed=function(e){return e.getParam("table_grid",!0,"boolean")},td=function(e){return e.getParam("table_style_by_css",!1,"boolean")},nd=function(e){return e.getParam("table_cell_class_list",[],"array")},rd=function(e){return e.getParam("table_row_class_list",[],"array")},id=function(e){return e.getParam("table_class_list",[],"array")},od=function(e){return"relative"===zl(e)||!0===Gl(e)},ad=function(e){return"fixed"===zl(e)||!1===Gl(e)},sd=function(e){return"responsive"===zl(e)},ud=function(e){return e.getParam("table_toolbar",Hl)},cd=function(e){return e.getParam("table_use_colgroups",!1,"boolean")},ld=function(e){var t="section",n=e.getParam("table_header_type",t,"string"),r=["section","cells","sectionCells","auto"];return I(r,n)?n:t},dd=function(e){var t=["preservetable","resizetable"],n=e.getParam("table_column_resizing",jl,"string");return j(t,(function(e){return e===n})).getOr(jl)},fd=function(e){return"preservetable"===dd(e)},Ad=function(e){return"resizetable"===dd(e)},hd=function(e){var t=e.getParam("table_clone_elements");return i(t)?B.some(t.split(/[ ,]/)):Array.isArray(t)?B.some(t):B.none()},pd=function(e){var t=e.getParam("object_resizing",!0);return i(t)?"table"===t:t},md=function(e,t){if(od(e)){var n=Us(e,t.dom).filter(Hs).getOrThunk((function(){return rc(t)}));return ts.percentageSize(n,t)}return ad(e)?ts.pixelSize(po(t),t):ts.getTableSize(t)},gd=function(e){Wn(e,"width")},vd=function(e,t){var n=Ba(e);Zu(e,B.some(n),B.none(),t),gd(e)},yd=function(e,t){var n=_a(e);Zu(e,B.some(n),B.none(),t),gd(e)},bd=function(e){ir(e,"width");var t=vr(e),n=t.length>0?t:gr(e);P(n,(function(e){ir(e,"width"),gd(e)})),gd(e)},wd=function(e,t){var n=md(e,t);vd(t,n)},xd=function(e,t){var n=md(e,t);yd(t,n)},Cd=bd,Sd=function(e){var t=$r.fromTable(e);$r.hasColumns(t)||P(gr(e),(function(e){var t=tr(e,"width");Zn(e,"width",t),Wn(e,"width")}))},kd=function(){var e=dt.fromTag("div");return er(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ai(_n(),e),e},_d=function(e,t){return e.inline?Lu.body(Ts(e),kd(),t):Lu.only(dt.fromDom(e.getDoc()),t)},Bd=function(e,t){e.inline&&yi(t.parent())},Dd="bar-",Md=function(e){return"false"!==Kn(e,"data-mce-resize")},Ed=function(e){var t,n,r=B.none(),i=B.none(),o=B.none(),a=function(e){return"TABLE"===e.nodeName},s=function(){return i},u=function(){return o.getOr(Lu.only(dt.fromDom(e.getBody()),Md))},c=function(t){return md(e,t)},l=function(){return fd(e)?Eu():Mu()},d=function(e){return ic(e).columns},f=function(r,i,o){var a=ye(i,"e");if(""===n&&wd(e,r),o!==t&&""!==n){Zn(r,"width",n);var s=l(),u=c(r),f=fd(e)||a?d(r)-1:0;bu(r,o-t,f,s,u)}else if(Hs(n)){var A=parseFloat(n.replace("%","")),h=o*A/t;Zn(r,"width",h+"%")}Rs(n)&&Sd(r)},A=function(){i.each((function(e){e.destroy()})),o.each((function(t){Bd(e,t)}))};return e.on("init",(function(){var t=_d(e,Md);if(o=B.some(t),pd(e)&&Wl(e)){var n=l(),a=Ml.create(t,n,c);a.on(),a.events.startDrag.bind((function(t){r=B.some(e.selection.getRng())})),a.events.beforeResize.bind((function(t){var n=t.table.dom;Il(e,n,Is(n),Os(n),Dd+t.type)})),a.events.afterResize.bind((function(t){var n=t.table,i=n.dom;Ns(n),r.each((function(t){e.selection.setRng(t),e.focus()})),Ol(e,i,Is(i),Os(i),Dd+t.type),e.undoManager.add()})),i=B.some(a)}})),e.on("ObjectResizeStart",(function(r){var i=r.target;if(a(i)){var o=dt.fromDom(i);P(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+dd(e)+"-columns")})),!tc(o)&&ad(e)?xd(e,o):!ec(o)&&od(e)&&wd(e,o),nc(o)&&ve(r.origin,Dd)&&wd(e,o),t=r.width,n=sd(e)?"":Us(e,i).getOr("")}})),e.on("ObjectResized",(function(t){var n=t.target;if(a(n)){var r=dt.fromDom(n),i=t.origin;ve(i,"corner-")&&f(r,i,t.width),Ns(r),Pl(e,r.dom,Nl)}})),e.on("SwitchMode",(function(){s().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:s,lazyWire:u,destroy:A}},Td=function(e,t){return{element:e,offset:t}},Id=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return Id(e,t,n).orThunk((function(){return B.some(t)}))})):B.none()},Od=function(e,t){if(e.property().isText(t))return e.property().getText(t).length;var n=e.property().children(t);return n.length},Ld=function(e,t){var n=Id(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Td(n,Od(e,n));var r=e.property().children(n);return r.length>0?Ld(e,r[r.length-1]):Td(n,Od(e,n))},Fd=Ld,Pd=Bi(),Nd=function(e){return Fd(Pd,e)},Ud=function(e,t){var n=sr(e,"colspan");if(1===n){var r=Sa(e);r.each((function(n){var r=n.value/2;ka(e,r,n.unit),ka(t,r,n.unit)}))}},Hd=function(e,t,n,r){n===r?Wn(e,t):zn(e,t,n)},Rd=function(e,t,n){ee(In(e,t)).fold((function(){return fi(e,n)}),(function(e){return di(e,n)}))},Vd=function(e,t){var n=Rn(e,t).getOrThunk((function(){var n=dt.fromTag(t,an(e).dom);return"thead"===t?Rd(e,"caption,colgroup",n):"colgroup"===t?Rd(e,"caption",n):Ai(e,n),n}));return vi(n),n},Qd=function(e,t){var n=[],r=[],i=function(e){return F(e,(function(e){e.isNew&&n.push(e.element);var t=e.element;return vi(t),P(e.cells,(function(e){e.isNew&&r.push(e.element),Hd(e.element,"colspan",e.colspan,1),Hd(e.element,"rowspan",e.rowspan,1),Ai(t,e.element)})),t}))},o=function(e){return K(e,(function(e){return F(e.cells,(function(e){return Hd(e.element,"span",e.colspan,1),e.element}))}))},a=function(t,n){var r=Vd(e,n),a="colgroup"===n?o:i,s=a(t);gi(r,s)},s=function(t){Rn(e,t).each(yi)},u=function(e,t){e.length>0?a(e,t):s(t)},c=[],l=[],d=[],f=[];return P(t,(function(e){switch(e.section){case"thead":c.push(e);break;case"tbody":l.push(e);break;case"tfoot":d.push(e);break;case"colgroup":f.push(e);break}})),u(f,"colgroup"),u(c,"thead"),u(l,"tbody"),u(d,"tfoot"),{newRows:n,newCells:r}},jd=function(e){return F(e,(function(e){var t=io(e.element);return P(e.cells,(function(e){var n=oo(e.element);Hd(n,"colspan",e.colspan,1),Hd(n,"rowspan",e.rowspan,1),Ai(t,n)})),t}))},zd=function(e,t){return F(e,(function(e){return Tr(e,t)}))},Gd=function(e,t){return e[t]},Kd=function(e,t){if(0===e.length)return 0;var n=e[0],r=z(e,(function(e){return!t(n.element,e.element)}));return r.fold((function(){return e.length}),(function(e){return e}))},qd=function(e,t,n,r){var i=Gd(e,t).cells.slice(n),o=Kd(i,r),a=zd(e,n).slice(t),s=Kd(a,r);return{colspan:o,rowspan:s}},Wd=function(e,t){var n=F(e,(function(e){return F(e.cells,w)})),r=function(e,t,r,i){for(var o=e;o<e+r;o++)for(var a=t;a<t+i;a++)n[o][a]=!0};return F(e,(function(i,o){var a=K(i.cells,(function(i,a){if(!1===n[o][a]){var s=qd(e,o,a,t);return r(o,a,s.rowspan,s.colspan),[Vt(i.element,s.rowspan,s.colspan,i.isNew)]}return[]}));return qt(a,i.section)}))},$d=function(e,t,n){var r=[];if($r.hasColumns(e)){var i=F($r.justColumns(e),(function(e){return zt(e.element,n,!1)}));r.push(Kt(i,"colgroup"))}for(var o=0;o<e.grid.rows;o++){for(var a=[],s=0;s<e.grid.columns;s++){var u=$r.getAt(e,o,s).map((function(e){return zt(e.element,n,e.isLocked)})).getOrThunk((function(){return zt(t.gap(),!0,!1)}));a.push(u)}var c=Kt(a,e.all[o].section);r.push(c)}return r},Xd=function(e,t){return $d(e,t,!1)},Yd=function(e,t){var n=function(e){var n=te(e,(function(e){return cn(e.element).map((function(e){var t=cn(e).isNone();return zt(e,t,!1)}))}));return n.getOrThunk((function(){return zt(t.row(),!0,!1)}))};return F(e,(function(e){var t=n(e.details);return Gt(t.element,e.details,e.section,t.isNew)}))},Jd=function(e,t){var n=Wd(e,mt);return Yd(n,t)},Zd=function(e,t){return te(e.all,(function(e){return j(e.cells,(function(e){return mt(t,e.element)}))}))},ef=function(e,t,n){var r=F(t.selection,(function(t){return mr(t).bind((function(t){return Zd(e,t)})).filter(n)})),i=uo(r);return fo(i.length>0,i)},tf=function(e,t,n,r,i){return function(o,a,s,u,c,l){var d=$r.fromTable(a),f=t(d,s).map((function(t){var n=Xd(d,u),r=e(n,t,mt,i(u)),o=Nr(r.grid),a=Jd(r.grid,u);return{info:t,grid:a,cursor:r.cursor,lockedColumns:o}}));return f.bind((function(e){var t=Qd(a,e.grid),i=B.from(c).getOrThunk((function(){return ts.getTableSize(a)})),s=B.from(l).getOrThunk(Eu);return n(a,e.grid,e.info,i,s),r(a),bl(o,a),Wn(a,Fr),e.lockedColumns.length>0&&zn(a,Fr,e.lockedColumns.join(",")),B.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},nf=function(e,t){return mr(t.element).bind((function(t){return Zd(e,t)}))},rf=function(e,t){return mr(t.element).bind((function(n){return Zd(e,n).map((function(e){var n=ne(ne({},e),{generators:t.generators,clipboard:t.clipboard});return n}))}))},of=function(e,t){return ef(e,t,x).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))},af=function(e,t){return t.mergable},sf=function(e,t){return t.unmergable},uf=function(e,t){return ef(e,t,x)},cf=function(e,t){return nf(e,t).filter((function(e){return!e.isLocked}))},lf=function(e,t){return ef(e,t,(function(e){return!e.isLocked}))},df=function(e,t){return Zd(e,t).exists((function(e){return!e.isLocked}))},ff=function(e,t){return q(t,(function(t){return df(e,t)}))},Af=function(e,t){return af(e,t).filter((function(t){return ff(e,t.cells)}))},hf=function(e,t){return sf(e,t).filter((function(t){return ff(e,t)}))},pf=function(e,t,n,r){var i=Lr(e).rows;if(0===i.length)return e;for(var o=t.startRow;o<=t.finishRow;o++)for(var a=t.startCol;a<=t.finishCol;a++){var s=i[o],u=Tr(s,a).isLocked;Dr(s,a,zt(r(),!1,u))}return e},mf=function(e,t,n,r){for(var i=Lr(e).rows,o=!0,a=0;a<i.length;a++)for(var s=0;s<Or(i[0]);s++){var u=i[a],c=Tr(u,s),l=c.element,d=n(l,t);!0===d&&!1===o?Dr(u,s,zt(r(),!0,c.isLocked)):!0===d&&(o=!1)}return e},gf=function(e,t){return V(e,(function(e,n){return O(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])},vf=function(e,t,n,r){return t>0&&t<e[0].cells.length&&P(e,(function(e){var i=e.cells[t-1],o=e.cells[t],a=n(o.element,i.element);a&&Dr(e,t,zt(r(),!0,o.isLocked))})),e},yf=function(e,t,n,r){var i=Lr(e).rows;if(t>0&&t<i.length){var o=i[t-1].cells,a=gf(o,n);P(a,(function(e){for(var o=B.none(),a=t;a<i.length;a++)for(var s=function(t){var s=i[a],u=Tr(s,t),c=n(u.element,e.element);c&&(o.isNone()&&(o=B.some(r())),o.each((function(e){Dr(s,t,zt(e,!0,u.isLocked))})))},u=0;u<Or(i[0]);u++)s(u)}))}return e},bf=function(e){var t=function(t){return e===t},n=function(t){return bf(e)},r=function(t){return bf(e)},i=function(t){return bf(t(e))},o=function(t){return bf(e)},a=function(t){t(e)},s=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},d=function(){return B.some(e)};return{is:t,isValue:x,isError:w,getOr:m(e),getOrThunk:m(e),getOrDie:m(e),or:n,orThunk:r,fold:u,map:i,mapError:o,each:a,bind:s,exists:c,forall:l,toOptional:d}},wf=function(e){var t=function(e){return e()},n=function(){return b(String(e))()},r=function(e){return e},i=function(e){return e()},o=function(t){return wf(e)},a=function(t){return wf(t(e))},s=function(t){return wf(e)},u=function(t,n){return t(e)};return{is:w,isValue:w,isError:x,getOr:g,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:u,map:o,mapError:a,each:A,bind:s,exists:w,forall:x,toOptional:B.none}},xf=function(e,t){return e.fold((function(){return wf(t)}),bf)},Cf={value:bf,error:wf,fromOption:xf},Sf=function(e,t,n){if(e.row>=t.length||e.column>Or(t[0]))return Cf.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row),i=r[0].cells.slice(e.column),o=Or(n[0]),a=n.length;return Cf.value({rowDelta:r.length-a,colDelta:i.length-o})},kf=function(e,t){var n=Or(e[0]),r=Or(t[0]);return{rowDelta:0,colDelta:n-r}},_f=function(e,t){var n=e.length,r=t.length;return{rowDelta:n-r,colDelta:0}},Bf=function(e,t,n,r){var i="colgroup"===t.section?n.col:n.cell;return L(e,(function(e){return zt(i(),!0,r(e))}))},Df=function(e,t,n,r){return e.concat(L(t,(function(){var t=e[e.length-1],i=Bf(t.cells.length,t,n,(function(e){return Ot(r,e.toString())}));return Mr(t,i)})))},Mf=function(e,t,n,r){return F(e,(function(e){var i=Bf(t,e,n,w);return _r(e,r,i)}))},Ef=function(e,t,n){return F(e,(function(e){return V(n,(function(n,r){var i=Bf(1,e,t,x)[0];return Br(n,r,i)}),e)}))},Tf=function(e,t,n){var r=t.colDelta<0?Mf:g,i=t.rowDelta<0?Df:g,o=Nr(e),a=Or(e[0]),s=O(o,(function(e){return e===a-1})),u=r(e,Math.abs(t.colDelta),n,s?a-1:a),c=Nr(u);return i(u,Math.abs(t.rowDelta),n,$(c,x))},If=function(e,t,n,r){var i=Tr(e[t],n),o=v(r,i.element),a=e[t];return e.length>1&&Or(a)>1&&(n>0&&o(Ir(a,n-1))||n<a.cells.length-1&&o(Ir(a,n+1))||t>0&&o(Ir(e[t-1],n))||t<e.length-1&&o(Ir(e[t+1],n)))},Of=function(e,t,n,r,i,o){for(var a=e.row,s=e.column,u=n.length,c=Or(n[0]),l=a+u,d=s+c+o.length,f=$(o,x),A=a;A<l;A++)for(var h=0,p=s;p<d;p++)if(f[p])h++;else{If(t,A,p,i)&&mf(t,Ir(t[A],p),i,r.cell);var m=p-s-h,g=Tr(n[A-a],m),v=g.element,y=r.replace(v);Dr(t[A],p,zt(y,!0,g.isLocked))}return t},Lf=function(e,t,n){var r=Or(t[0]),i=L(r-e.column,(function(t){return t+e.column})),o=j(i,(function(e){return q(n,(function(t){return t!==e}))})).getOr(r-1);return ne(ne({},e),{column:o})},Ff=function(e,t,n){return H(n,(function(n){return n>=e.column&&n<=Or(t[0])+e.column}))},Pf=function(e,t,n,r,i){var o=Nr(t),a=Lf(e,t,o),s=Ff(a,n,o),u=Sf(a,t,n);return u.map((function(e){var o=ne(ne({},e),{colDelta:e.colDelta-s.length}),u=Tf(t,o,r),c=Nr(u),l=Ff(a,n,c);return Of(a,u,n,r,i,l)}))},Nf=function(e,t,n,r,i){vf(t,e,i,r.cell);var o=_f(n,t),a=Tf(n,o,r),s=_f(t,a),u=Tf(t,s,r);return F(u,(function(t,n){return _r(t,e,a[n].cells)}))},Uf=function(e,t,n,r,i){yf(t,e,i,r.cell);var o=Nr(t),a=kf(t,n),s=ne(ne({},a),{colDelta:a.colDelta-o.length}),u=Tf(t,s,r),c=Lr(u),l=c.cols,d=c.rows,f=Nr(u),A=kf(n,t),h=ne(ne({},A),{colDelta:A.colDelta+f.length}),p=Ef(n,r,f),m=Tf(p,h,r);return l.concat(d.slice(0,e)).concat(m).concat(d.slice(e,d.length))},Hf=function(e,t,n,r,i){var o=Lr(e),a=o.rows,s=o.cols,u=a.slice(0,t),c=a.slice(t),l=Er(a[n],(function(e,n){var o=t>0&&t<a.length&&r(Ir(a[t-1],n),Ir(a[t],n)),s=o?Tr(a[t],n):zt(i(e.element,r),!0,e.isLocked);return s}));return s.concat(u).concat([l]).concat(c)},Rf=function(e,t,n,r,i,o,a){if("colgroup"!==n&&r)return Tr(e,t);var s=Tr(e,i);return zt(a(s.element,o),!0,!1)},Vf=function(e,t,n,r,i){return F(e,(function(e){var o=t>0&&t<Or(e)&&r(Ir(e,t-1),Ir(e,t)),a=Rf(e,t,e.section,o,n,r,i);return Br(e,t,a)}))},Qf=function(e,t){return K(e,(function(e){var n=e.cells,r=R(t,(function(e,t){return t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),n);return r.length>0?[Kt(r,e.section)]:[]}))},jf=function(e,t,n){var r=Lr(e),i=r.rows,o=r.cols;return o.concat(i.slice(0,t)).concat(i.slice(n+1))},zf=function(e,t,n,r){var i=function(e){return O(t,(function(t){return n(e.element,t.element)}))};return F(e,(function(e){return Er(e,(function(e){return i(e)?zt(r(e.element,n),!0,e.isLocked):e}))}))},Gf=function(e,t,n,r){return void 0!==Ir(e[t],n)&&t>0&&r(Ir(e[t-1],n),Ir(e[t],n))},Kf=function(e,t,n){return t>0&&n(Ir(e,t-1),Ir(e,t))},qf=function(e,t,n,r){var i=Lr(e).rows,o=K(i,(function(r,i){var o=Gf(e,i,t,n)||Kf(r,t,n);return o?[]:[Tr(r,t)]}));return zf(e,o,n,r)},Wf=function(e,t,n,r){var i=Lr(e).rows,o=i[t],a=K(o.cells,(function(e,r){var a=Gf(i,t,r,n)||Kf(o,r,n);return a?[]:[e]}));return zf(e,a,n,r)},$f=function(e){var t=function(e,t){var n=O(e,(function(e){return e.column===t.column}));return n?e:e.concat([t])};return V(e,t,[]).sort((function(e,t){return e.column-t.column}))},Xf=function(e){var t=ar(e,"colspan",1),n=ar(e,"rowspan",1);return{element:e,colspan:t,rowspan:n}},Yf=function(e,t){void 0===t&&(t=Xf);var n=$a(B.none()),r=function(t){switch(Xt(t.element)){case"col":return e.col(t);default:return e.cell(t)}},i=function(e){var n=t(e);return r(n)},o=function(e){var t=i(e);return n.get().isNone()&&n.set(B.some(t)),a=B.some({item:e,replacement:t}),t},a=B.none(),s=function(e,t){return a.fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.replacement:o(e)}))};return{getOrInit:s,cursor:n.get}},Jf=function(e,t){return function(n){var r=$a(B.none()),i=[],o=function(e,t){return j(i,(function(n){return t(n.item,e)}))},a=function(o){var a={scope:e},s=n.replace(o,t,a);return i.push({item:o,sub:s}),r.get().isNone()&&r.set(B.some(s)),s},s=function(e,t){return"col"===Xt(e)?e:o(e,t).fold((function(){return a(e)}),(function(n){return t(e,n.item)?n.sub:a(e)}))};return{replaceOrInit:s,cursor:r.get}}},Zf=function(e){return qn(e,"scope").map((function(e){return e.substr(0,3)}))},eA=function(e){var t=$a(B.none()),n=function(n){t.get().isNone()&&t.set(B.some(n));var r=Zf(n);return r.each((function(e){return zn(n,"scope",e)})),function(){var t=e.cell({element:n,colspan:1,rowspan:1});return ir(t,"width"),ir(n,"width"),r.each((function(e){return zn(t,"scope",e)})),t}},r=function(e){var t=function(){var t=uo(F(e,Zf));if(0===t.length)return B.none();var n=t[0],r=["row","col"],i=O(t,(function(e){return e!==n&&I(r,e)}));return i?B.none():B.from(n)};return ir(e[0],"width"),t().fold((function(){return Wn(e[0],"scope")}),(function(t){return zn(e[0],"scope",t+"group")})),m(e[0])};return{unmerge:n,merge:r,cursor:t.get}},tA={modification:Yf,transform:Jf,merging:eA},nA=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rA=function(e,t){var n=e.property().name(t);return I(["ol","ul"],n)},iA=function(e,t){var n=e.property().name(t);return I(nA,n)},oA=function(e,t){return I(["br","img","hr","input"],e.property().name(t))},aA=Bi(),sA=function(e){return iA(aA,e)},uA=function(e){return rA(aA,e)},cA=function(e){return oA(aA,e)},lA=function(e){var t=function(e){return"br"===Xt(e)},n=function(e){return q(e,(function(e){return t(e)||tn(e)&&0===Ci(e).trim().length}))},r=function(e){return"li"===Xt(e)||Fn(e,uA).isSome()},i=function(e){return An(e).map((function(e){return!!sA(e)||!!cA(e)&&"img"!==Xt(e)})).getOr(!1)},o=function(e){return ps(e).bind((function(n){var o=i(n);return cn(n).map((function(i){return!0===o||r(i)||t(n)||sA(i)&&!mt(e,i)?[]:[dt.fromTag("br")]}))})).getOr([])},a=function(){var t=K(e,(function(e){var t=hn(e);return n(t)?[]:t.concat(o(e))}));return 0===t.length?[dt.fromTag("br")]:t},s=a();vi(e[0]),gi(e[0],s)},dA=function(e){var t=gr(e);0===t.length&&yi(e)},fA=function(e,t){return{grid:e,cursor:t}},AA=function(e,t,n){var r=Lr(e).rows;return hA(r,t,n).orThunk((function(){return hA(r,0,0)}))},hA=function(e,t,n){return B.from(e[t]).bind((function(e){return B.from(e.cells[n]).bind((function(e){return B.from(e.element)}))}))},pA=function(e,t,n){var r=Lr(e).rows;return fA(e,hA(r,t,n))},mA=function(e){var t=function(e,t){var n=O(e,(function(e){return e.row===t.row}));return n?e:e.concat([t])};return V(e,t,[]).sort((function(e,t){return e.row-t.row}))},gA=function(e,t,n,r){var i=t[0].row,o=mA(t),a=R(o,(function(e,t){var o=Hf(e.grid,i,t.row+e.delta,n,r.getOrInit);return{grid:o,delta:e.delta+1}}),{grid:e,delta:0}).grid;return pA(a,i,t[0].column)},vA=function(e,t,n,r){var i=mA(t),o=i[i.length-1],a=o.row+o.rowspan,s=R(i,(function(e,t){return Hf(e,a,t.row,n,r.getOrInit)}),e);return pA(s,a,t[0].column)},yA=function(e,t,n,r){var i=t.details,o=$f(i),a=o[0].column,s=R(o,(function(e,t){var i=Vf(e.grid,a,t.column+e.delta,n,r.getOrInit);return{grid:i,delta:e.delta+1}}),{grid:e,delta:0}).grid;return pA(s,i[0].row,a)},bA=function(e,t,n,r){var i=t.details,o=i[i.length-1],a=o.column+o.colspan,s=$f(i),u=R(s,(function(e,t){return Vf(e,a,t.column,n,r.getOrInit)}),e);return pA(u,i[0].row,a)},wA=function(e,t,n,r){var i=Wf(e,t.row,n,r.replaceOrInit);return pA(i,t.row,t.column)},xA=function(e,t,n,r){var i=mA(t),o=function(e,t){return Wf(e,t.row,n,r.replaceOrInit)},a=V(i,o,e);return pA(a,t[0].row,t[0].column)},CA=function(e,t,n,r){var i=qf(e,t.column,n,r.replaceOrInit);return pA(i,t.row,t.column)},SA=function(e,t,n,r){var i=$f(t),o=function(e,t){return qf(e,t.column,n,r.replaceOrInit)},a=V(i,o,e);return pA(a,t[0].row,t[0].column)},kA=function(e,t,n,r){var i=Wf(e,t.row,n,r.replaceOrInit);return pA(i,t.row,t.column)},_A=function(e,t,n,r){var i=mA(t),o=function(e,t){return Wf(e,t.row,n,r.replaceOrInit)},a=V(i,o,e);return pA(a,t[0].row,t[0].column)},BA=function(e,t,n,r){var i=qf(e,t.column,n,r.replaceOrInit);return pA(i,t.row,t.column)},DA=function(e,t,n,r){var i=$f(t),o=function(e,t){return qf(e,t.column,n,r.replaceOrInit)},a=V(i,o,e);return pA(a,t[0].row,t[0].column)},MA=function(e,t,n,r){var i=$f(t.details),o=Qf(e,F(i,(function(e){return e.column}))),a=AA(o,i[0].row,i[0].column);return fA(o,a)},EA=function(e,t,n,r){var i=mA(t),o=jf(e,i[0].row,i[i.length-1].row),a=AA(o,t[0].row,t[0].column);return fA(o,a)},TA=function(e,t,n,r){var i=t.cells;lA(i);var o=pf(e,t.bounds,n,r.merge(i));return fA(o,B.from(i[0]))},IA=function(e,t,n,r){var i=function(e,t){return mf(e,t,n,r.unmerge(t))},o=R(t,i,e);return fA(o,B.from(t[0]))},OA=function(e,t,n,r){var i=function(e,t){var n=$r.fromTable(e);return $d(n,t,!0)},o=i(t.clipboard,t.generators),a=Ht(t.row,t.column),s=Pf(a,e,o,t.generators,n);return s.fold((function(){return fA(e,B.some(t.element))}),(function(e){var n=AA(e,t.row,t.column);return fA(e,n)}))},LA=function(e,t,n){var r=kr(e,n.section),i=$r.generate(r);return $d(i,t,!0)},FA=function(e,t,n,r){var i=Lr(e).rows,o=t.cells[0].column,a=i[t.cells[0].row],s=LA(t.clipboard,t.generators,a),u=Nf(o,e,s,t.generators,n),c=AA(u,t.cells[0].row,t.cells[0].column);return fA(u,c)},PA=function(e,t,n,r){var i=Lr(e).rows,o=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,a=i[t.cells[0].row],s=LA(t.clipboard,t.generators,a),u=Nf(o,e,s,t.generators,n),c=AA(u,t.cells[0].row,t.cells[0].column);return fA(u,c)},NA=function(e,t,n,r){var i=Lr(e).rows,o=t.cells[0].row,a=i[o],s=LA(t.clipboard,t.generators,a),u=Uf(o,e,s,t.generators,n),c=AA(u,t.cells[0].row,t.cells[0].column);return fA(u,c)},UA=function(e,t,n,r){var i=Lr(e).rows,o=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,a=i[t.cells[0].row],s=LA(t.clipboard,t.generators,a),u=Uf(o,e,s,t.generators,n),c=AA(u,t.cells[0].row,t.cells[0].column);return fA(u,c)},HA=function(e,t){var n=$r.fromTable(e),r=uf(n,t);return r.bind((function(e){var t=e[e.length-1],r=e[0].column,i=t.column+t.colspan,o=G(F(n.all,(function(e){return H(e.cells,(function(e){return e.column>=r&&e.column<i}))})));return RA(o,(function(e){return"th"===Xt(e.element)}))})).getOr("")},RA=function(e,t){var n=H(e,t);return 0===n.length?B.some("td"):n.length===e.length?B.some("th"):B.none()},VA=Cu,QA=xu,jA=function(e,t){return O(t,(function(e){return 0===e.column&&e.isLocked}))},zA=function(e,t){return O(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))},GA=function(e,t){var n=go(e),r=$f(t);return V(r,(function(e,t){var r=n[t.column],i=r.map(mo).getOr(0);return e+i}),0)},KA=function(e){return function(t,n){return uf(t,n).filter((function(n){var r=e?jA:zA;return!r(t,n)})).map((function(e){return{details:e,pixelDelta:GA(t,e)}}))}},qA=function(e,t){return lf(e,t).map((function(t){return{details:t,pixelDelta:-GA(e,t)}}))},WA=function(e){return function(t,n){return of(t,n).filter((function(n){var r=e?jA:zA;return!r(t,n.cells)}))}},$A=tf(gA,uf,A,A,tA.modification),XA=tf(vA,uf,A,A,tA.modification),YA=tf(yA,KA(!0),QA,A,tA.modification),JA=tf(bA,KA(!1),QA,A,tA.modification),ZA=tf(MA,qA,QA,dA,tA.modification),eh=tf(EA,uf,A,dA,tA.modification),th=(tf(CA,cf,A,A,tA.transform("row","th")),tf(SA,lf,A,A,tA.transform("row","th"))),nh=(tf(BA,cf,A,A,tA.transform(null,"td")),tf(DA,lf,A,A,tA.transform(null,"td"))),rh=(tf(wA,nf,A,A,tA.transform("col","th")),tf(xA,uf,A,A,tA.transform("col","th")),tf(kA,nf,A,A,tA.transform(null,"td")),tf(_A,uf,A,A,tA.transform(null,"td")),tf(TA,Af,VA,A,tA.merging)),ih=tf(IA,hf,VA,A,tA.merging),oh=tf(OA,rf,VA,A,tA.modification),ah=tf(FA,WA(!0),A,A,tA.modification),sh=tf(PA,WA(!1),A,A,tA.modification),uh=tf(NA,of,A,A,tA.modification),ch=tf(UA,of,A,A,tA.modification),lh=HA,dh=function(e){return Es(e.parentNode)},fh=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"},Ah=function(e,t){var n="thead"===dh(t),r=!O(t.cells,(function(e){return"th"!==Es(e)}));return n||r?B.some({thead:n,ths:r}):B.none()},hh=function(e,t){return fh(Ah(e,t).fold((function(){return dh(t)}),(function(e){return"thead"})))},ph=function(e,t,n){var r=e.getParent(t,"table"),i=t.parentNode,o=Es(i);if(n!==o){var a=e.select(n,r)[0];if(!a){a=e.create(n);var s=r.firstChild;"thead"===n?ee(In(dt.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,s)}),(function(t){return e.insertAfter(a,t.dom)})):r.appendChild(a)}"tbody"===n&&"thead"===o&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),i.hasChildNodes()||e.remove(i)}},mh=function(e,t,n){if(l(n)&&Es(t)!==n){var r=e.dom.rename(t,n);return Tl(e,r),r}return t},gh=function(e,t,n,r){var i=e.dom,o=mh(e,t,n);return u(r)||i.setAttrib(o,"scope",r),o},vh=function(e,t,n,r){return P(t,(function(t){return gh(e,t,n,r)}))},yh=function(e,t,n){var r=function(){var n=yr(dt.fromDom(t.cells[0])).map((function(e){return br(e)})).getOr([]);return te(n,(function(t){return Ah(e,t.dom)})).map((function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"})).getOr("section")},i=e.dom;if("header"===n){var o=ld(e),a="auto"===o?r():o;vh(e,t.cells,"section"===a?"td":"th","col"),ph(i,t,"cells"===a?"tbody":"thead")}else vh(e,t.cells,"td",null),ph(i,t,"footer"===n?"tfoot":"tbody")},bh=function(e){return yr(e).bind((function(e){return Ki(e,Zs.firstSelectedSelector)})).fold((function(){return e}),(function(e){return e[0]}))},wh=function(e){return function(t,n){var r=Xt(t),i="col"===r||"colgroup"===r?bh(t):t;return Qn(i,e,n)}},xh=wh("th,td"),Ch=wh("th,td,caption"),Sh=function(e,t,n){return xh(e,n).map((function(e){return Qs(t)})).getOr([])},kh=function(e,t){var n=xh(e),r=n.bind((function(e){return yr(e)})).map((function(e){return br(e)}));return co(n,r,(function(e,n){return H(n,(function(n){return O(Ms(n.dom.cells),(function(n){return"1"===Kn(n,t)||mt(n,e)}))}))})).getOr([])},_h=function(e,t,n){var r=function(e){return"table"===Xt(Ts(e))},i=function(t){return!1===r(e)||ic(t).rows>1},o=function(t){return!1===r(e)||ic(t).columns>1},a=hd(e),s=Ad(e)?A:Ud,u=function(t,n,r,i,o){return function(s,u){Ns(s);var c=i(),l=dt.fromDom(e.getDoc()),d=_s(r,l,a),f=md(e,s),A=Ad(e)?Mu():Eu();return n(s)?t(c,s,u,d,f,A).bind((function(t){return P(t.newRows,(function(t){El(e,t.dom)})),P(t.newCells,(function(t){Tl(e,t.dom)})),t.cursor.map((function(t){var n=Nd(t),r=e.dom.createRng();return r.setStart(n.element.dom,n.offset),r.setEnd(n.element.dom,n.offset),{rng:r,effect:o}}))})):B.none()}},c=u(eh,i,A,t,Ul),l=u(ZA,o,A,t,Ul),d=u($A,x,A,t,Ul),f=u(XA,x,A,t,Ul),h=u(YA,x,s,t,Ul),p=u(JA,x,s,t,Ul),m=u(rh,x,A,t,Ul),g=u(ih,x,A,t,Ul),v=u(ah,x,A,t,Ul),y=u(sh,x,A,t,Ul),b=u(uh,x,A,t,Ul),w=u(ch,x,A,t,Ul),C=u(oh,x,A,t,Ul),S=function(e,t){return It(e,"type").filter((function(e){return I(t,e)}))},k=function(e,t){return S(t,["td","th"]).each((function(t){var r=F(Sh(Vs(e),n),(function(e){return e.dom}));vh(e,r,t,null)}))},_=function(e,t){return S(t,["header","body","footer"]).each((function(t){F(kh(Vs(e),Zs.selected),(function(n){return yh(e,n.dom,t)}))}))},D=u(th,x,A,t,Ul),M=u(nh,x,A,t,Ul),E=function(e){var t=kh(Vs(e),Zs.selected);if(t.length>0){var n=F(t,(function(t){return hh(e,t.dom)})),r=I(n,"header"),i=I(n,"footer");if(r||i){var o=I(n,"body");return!r||o||i?r||o||!i?"":"footer":"header"}return"body"}},T=function(e){return RA(Sh(Vs(e),n),(function(e){return"th"===Xt(e)})).getOr("")},O=lh;return{deleteRow:c,deleteColumn:l,insertRowsBefore:d,insertRowsAfter:f,insertColumnsBefore:h,insertColumnsAfter:p,mergeCells:m,unmergeCells:g,pasteColsBefore:v,pasteColsAfter:y,pasteRowsBefore:b,pasteRowsAfter:w,pasteCells:C,setTableCellType:k,setTableRowType:_,makeColumnsHeader:D,unmakeColumnsHeader:M,getTableRowType:E,getTableCellType:T,getTableColType:O}},Bh={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Dh=function(){return dt.fromTag("th")},Mh=function(){return dt.fromTag("td")},Eh=function(){return dt.fromTag("col")},Th=function(e,t,n,r){for(var i=dt.fromTag("tr"),o=0;o<e;o++){var a=r<t||o<n?Dh():Mh();o<n&&zn(a,"scope","row"),r<t&&zn(a,"scope","col"),Ai(a,dt.fromTag("br")),Ai(i,a)}return i},Ih=function(e){var t=dt.fromTag("colgroup");return L(e,(function(){return Ai(t,Eh())})),t},Oh=function(e,t,n,r){return L(e,(function(e){return Th(t,n,r,e)}))},Lh=function(e,t,n,r,i,o){void 0===o&&(o=Bh);var a=dt.fromTag("table"),s="cells"!==i;er(a,o.styles),Gn(a,o.attributes),o.colGroups&&Ai(a,Ih(t));var u=Math.min(e,n);if(s&&n>0){var c=dt.fromTag("thead");Ai(a,c);var l="sectionCells"===i?u:0,d=Oh(n,t,l,r);gi(c,d)}var f=dt.fromTag("tbody");Ai(a,f);var A=s?e-u:e,h=s?0:n,p=Oh(A,t,h,r);return gi(f,p),a},Fh=function(e){return e.dom.innerHTML},Ph=function(e){var t=dt.fromTag("div"),n=dt.fromDom(e.dom.cloneNode(!0));return Ai(t,n),Fh(t)},Nh=function(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)},Uh=function(e,t){Vn(t,"td,th").each(v(Nh,e))},Hh=function(e,t){P(On(t,"tr"),(function(t){El(e,t.dom),P(On(t,"th,td"),(function(t){Tl(e,t.dom)}))}))},Rh=function(e){return i(e)&&-1!==e.indexOf("%")},Vh=function(e,t,n,r,i){var o=ql(e),a={styles:o,attributes:Kl(e),colGroups:cd(e)};return e.undoManager.ignore((function(){var o=Lh(n,t,i,r,ld(e),a);zn(o,"data-mce-id","__mce");var s=Ph(o);e.insertContent(s),e.addVisual()})),Vn(Ts(e),'table[data-mce-id="__mce"]').map((function(t){return ad(e)?xd(e,t):sd(e)?Cd(t):(od(e)||Rh(o.width))&&wd(e,t),Ns(t),Wn(t,"data-mce-id"),Hh(e,t),Uh(e,t),t.dom})).getOr(null)},Qh=function(e,t,n,r,i){void 0===r&&(r={});var o=function(e){return f(e)&&e>0};if(o(t)&&o(n)){var a=r.headerRows||0,s=r.headerColumns||0;return Vh(e,n,t,s,a)}return console.error(i),null},jh=function(e){return function(){return e().fold((function(){return[]}),(function(e){return F(e,(function(e){return e.dom}))}))}},zh=function(e){return function(t){var n=t.length>0?B.some(Ms(t)):B.none();e(n)}},Gh=function(e){return function(t,n,r){void 0===r&&(r={});var i=Qh(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return e.undoManager.add(),i}},Kh=function(e,t,n,r){return{insertTable:Gh(e),setClipboardRows:zh(t.setRows),getClipboardRows:jh(t.getRows),setClipboardCols:zh(t.setColumns),getClipboardCols:jh(t.getColumns),resizeHandler:n,selectionTargets:r}},qh=function(e,t,n){var r=ar(e,t,1);1===n||r<=1?Wn(e,t):zn(e,t,Math.min(n,r))},Wh=function(e,t,n){if($r.hasColumns(e)){var r=H($r.justColumns(e),(function(e){return e.column>=t&&e.column<n})),i=F(r,(function(e){var r=oo(e.element);return qh(r,"span",n-t),r})),o=dt.fromTag("colgroup");return gi(o,i),[o]}return[]},$h=function(e,t,n){return F(e.all,(function(e){var r=H(e.cells,(function(e){return e.column>=t&&e.column<n})),i=F(r,(function(e){var r=oo(e.element);return qh(r,"colspan",n-t),r})),o=dt.fromTag("tr");return gi(o,i),o}))},Xh=function(e,t){var n=$r.fromTable(e),r=lf(n,t);return r.map((function(e){var t=e[e.length-1],r=e[0].column,i=t.column+t.colspan,o=Wh(n,r,i),a=$h(n,r,i);return re(o,a)}))},Yh=function(e,t,n){var r=$r.fromTable(e),i=uf(r,t);return i.bind((function(e){var t=$d(r,n,!1),i=Lr(t).rows,o=i.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),a=K(o,(function(e){var t=H(e.cells,(function(e){return!e.isLocked}));return t.length>0?[ne(ne({},e),{cells:t})]:[]})),s=Jd(a,n);return fo(s.length>0,s)})).map((function(e){return jd(e)}))},Jh=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zh=function(e,t,n){var r,i=e.select("td,th",t),o=function(t,r){for(var i=0;i<r.length;i++){var o=e.getStyle(r[i],n);if("undefined"===typeof t&&(t=o),t!==o)return""}return t};return o(r,i)},ep=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},tp=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},np=function(e,t){Jh.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},rp=function(e,t){Jh.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))},ip=function(e){return Lt(e,"menu")},op=function(e,t){var n=function(e,t){return t.concat(F(e,(function(e){var t=e.text||e.title;return ip(e)?{text:t,items:op(e.menu)}:{text:t,value:e.value}})))};return n(e,t||[])},ap=function(e){return function(t){return ve(t,"rgb")?e.toHex(t):t}},sp=function(e,t){var n=dt.fromDom(t);return{borderwidth:rr(n,"border-width").getOr(""),borderstyle:rr(n,"border-style").getOr(""),bordercolor:rr(n,"border-color").map(ap(e)).getOr(""),backgroundcolor:rr(n,"background-color").map(ap(e)).getOr("")}},up=function(e){var t=e[0],n=e.slice(1);return P(n,(function(e){P(wt(t),(function(n){Ct(e,(function(e,r){var i=t[n];""!==i&&n===r&&i!==e&&(t[n]="")}))}))})),t},cp=function(e){var t=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"},r="cell"===e?[n].concat(t):t;return{title:"Advanced",name:"advanced",items:r}},lp=function(e,t,n,r){return j(e,(function(e){return n.formatter.matchNode(r,t+e)})).getOr("")},dp=v(lp,["left","center","right"],"align"),fp=v(lp,["top","middle","bottom"],"valign"),Ap=function(e,t){var n=ql(e),r=Kl(e),i=function(e){return{borderstyle:It(n,"border-style").getOr(""),bordercolor:ap(e)(It(n,"border-color").getOr("")),backgroundcolor:ap(e)(It(n,"background-color").getOr(""))}},o={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},a=function(){var t=n["border-width"];return td(e)&&t?{border:t}:It(r,"border").fold((function(){return{}}),(function(e){return{border:e}}))},s=t?i(e.dom):{},u=function(){var e=It(n,"border-spacing").or(It(r,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),t=It(n,"border-padding").or(It(r,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}));return ne(ne({},e),t)},c=ne(ne(ne(ne(ne(ne({},o),n),r),s),a()),u());return c},hp=function(e,t,n){var r=function(t,n){var r=rr(dt.fromDom(n),"border-width");return td(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||Zh(e.dom,n,"border-width")||Zh(e.dom,n,"border")},i=e.dom;return ne({width:i.getStyle(t,"width")||i.getAttrib(t,"width"),height:i.getStyle(t,"height")||i.getAttrib(t,"height"),cellspacing:i.getStyle(t,"border-spacing")||i.getAttrib(t,"cellspacing"),cellpadding:i.getAttrib(t,"cellpadding")||Zh(e.dom,t,"padding"),border:r(i,t),caption:!!i.select("caption",t)[0],class:i.getAttrib(t,"class",""),align:dp(e,t)},n?sp(i,t):{})},pp=function(e,t,n){var r=e.dom;return ne({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:hh(e,t),align:dp(e,t)},n?sp(r,t):{})},mp=function(e,t,n,r){var i=e.dom,o=r.getOr(t),a=function(e,t){return i.getStyle(e,t)||i.getAttrib(e,t)};return ne({width:a(o,"width"),height:a(t,"height"),scope:i.getAttrib(t,"scope"),celltype:Es(t),class:i.getAttrib(t,"class",""),halign:dp(e,t),valign:fp(e,t)},n?sp(i,t):{})},gp=function(e){var t=op(nd(e));return t.length>0?B.some({name:"class",type:"listbox",label:"Class",items:t}):B.none()},vp=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],yp=function(e){return vp.concat(gp(e).toArray())},bp=function(e){return function(t,n){var r=t.dom,i=function(t,i){e&&!i||r.setAttrib(n,t,i)},o=function(t,i){e&&!i||r.setStyle(n,t,i)},a=function(r,i){e&&!i||(""===i?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:i},n))};return{setAttrib:i,setStyle:o,setFormat:a}}},wp={normal:bp(!1),ifTruthy:bp(!0)},xp=function(e){return yr(e[0]).map((function(t){var n=$r.fromTable(t),r=$r.justCells(n),i=H(r,(function(t){return O(e,(function(e){return mt(t.element,e)}))}));return F(i,(function(e){return{element:e.element.dom,column:$r.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}))},Cp=function(e,t,n){e.setAttrib("scope",n.scope),e.setAttrib("class",n.class),e.setStyle("height",Ps(n.height)),t.setStyle("width",Ps(n.width))},Sp=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",Ps(t.borderwidth))},kp=function(e,t,n,r){var i=1===t.length,o=Dt(r,(function(e,t){return n[t]!==e}));if(Tt(o)>0&&t.length>=1){var a=yr(t[0]);xp(t).each((function(t){P(t,(function(t){var n=gh(e,t.element,r.celltype),o=i?wp.normal(e,n):wp.ifTruthy(e,n),a=t.column.map((function(t){return i?wp.normal(e,t):wp.ifTruthy(e,t)})).getOr(o);Cp(o,a,r),Xl(e)&&Sp(o,r),i&&(np(e,n),rp(e,n)),r.halign&&ep(e,n,r.halign),r.valign&&tp(e,n,r.valign)}))}));var s=Tt(Dt(o,(function(e,t){return"scope"!==t&&"celltype"!==t})))>0;a.each((function(t){return Pl(e,t.dom,{structure:Ot(o,"celltype"),style:s})}))}},_p=function(e,t,n,r){var i=r.getData();r.close(),e.undoManager.transact((function(){kp(e,t,n,i),e.focus()}))},Bp=function(e,t){var n=xp(t).map((function(t){return F(t,(function(t){return mp(e,t.element,Xl(e),t.column)}))}));return up(n.getOrDie())},Dp=function(e,t){var n=Sh(Vs(e),t);if(0!==n.length){var r=Bp(e,n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:yp(e)},cp("cell")]},o={type:"panel",items:[{type:"grid",columns:2,items:yp(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Xl(e)?i:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:v(_p,e,n,r)})}},Mp=function(e){var t=op(rd(e));return t.length>0?B.some({name:"class",type:"listbox",label:"Class",items:t}):B.none()},Ep=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Tp=function(e){return Ep.concat(Mp(e).toArray())},Ip=function(e,t){e.setAttrib("class",t.class),e.setStyle("height",Ps(t.height))},Op=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},Lp=function(e,t,n,r){var i=1===t.length,o=Dt(r,(function(e,t){return n[t]!==e}));if(Tt(o)>0){P(t,(function(t){r.type!==Es(t.parentNode)&&yh(e,t,r.type);var o=i?wp.normal(e,t):wp.ifTruthy(e,t);Ip(o,r),Yl(e)&&Op(o,r),r.align!==n.align&&(np(e,t),ep(e,t,r.align))}));var a=Ot(o,"type"),s=!a||Tt(o)>1;yr(dt.fromDom(t[0])).each((function(t){return Pl(e,t.dom,{structure:a,style:s})}))}},Fp=function(e,t,n,r){var i=r.getData();r.close(),e.undoManager.transact((function(){Lp(e,t,n,i),e.focus()}))},Pp=function(e){var t=kh(Vs(e),Zs.selected);if(0!==t.length){var n=F(t,(function(t){return pp(e,t.dom,Yl(e))})),r=up(n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Tp(e)},cp("row")]},o={type:"panel",items:[{type:"grid",columns:2,items:Tp(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Yl(e)?i:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:v(Fp,e,F(t,(function(e){return e.dom})),r)})}},Np=tinymce.util.Tools.resolve("tinymce.Env"),Up=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],i=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],o=Zl(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],s=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat(i).concat(o).concat(a).concat(s)},Hp=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)i(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)Hp(e,t.children[o],n,r)},Rp=function(e,t,n){var r=e.dom,i={},o={};if(i.class=n.class,o.height=Ps(n.height),r.getAttrib(t,"width")&&!td(e)?i.width=Fs(n.width):o.width=Ps(n.width),td(e)?(o["border-width"]=Ps(n.border),o["border-spacing"]=Ps(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),td(e)&&t.children)for(var a=0;a<t.children.length;a++)Hp(r,t.children[a],{"border-width":Ps(n.border),padding:Ps(n.cellpadding)}),Jl(e)&&Hp(r,t.children[a],{"border-color":n.bordercolor});Jl(e)&&(o["background-color"]=n.backgroundcolor,o["border-color"]=n.bordercolor,o["border-style"]=n.borderstyle),i.style=r.serializeStyle(ne(ne({},ql(e)),o)),r.setAttribs(t,ne(ne({},Kl(e)),i))},Vp=function(e,t,n,r){var i,o=e.dom,a=r.getData(),s=Dt(a,(function(e,t){return n[t]!==e}));r.close(),""===a.class&&delete a.class,e.undoManager.transact((function(){if(!t){var n=parseInt(a.cols,10)||1,r=parseInt(a.rows,10)||1;t=Vh(e,n,r,0,0)}if(Tt(s)>0&&(Rp(e,t,a),i=o.select("caption",t)[0],i&&!a.caption&&o.remove(i),!i&&a.caption&&(i=o.create("caption"),i.innerHTML=Np.ie?cs:'<br data-mce-bogus="1"/>',t.insertBefore(i,t.firstChild)),""===a.align?np(e,t):ep(e,t,a.align)),e.focus(),e.addVisual(),Tt(s)>0){var u=Ot(s,"caption"),c=!u||Tt(s)>1;Pl(e,t,{structure:u,style:c})}}))},Qp=function(e,t){var n,r=e.dom,i=Ap(e,Jl(e));!1===t?(n=r.getParent(e.selection.getStart(),"table",e.getBody()),n?i=hp(e,n,Jl(e)):Jl(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(i.cols="1",i.rows="1",Jl(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var o=op(id(e));o.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var a={type:"grid",columns:2,items:Up(e,o,t)},s=function(){return{type:"panel",items:[a]}},u=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},cp("table")]}},c=Jl(e)?u():s();e.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:v(Vp,e,n,i),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},jp=function(e){return Ch(Vs(e),Ls(e))},zp=function(e){return xh(Vs(e),Ls(e))},Gp=function(e,t,n,r,a){var s=Ls(e),u=function(){return jp(e).each((function(t){yr(t,s).filter(y(s)).each((function(t){var n=dt.fromText("");if(di(t,n),yi(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),e.selection.setRng(r),e.nodeChanged()}}))}))},c=function(t){return jp(e).each((function(n){var r=sd(e)||ad(e)||od(e);r||yr(n,s).each((function(n){"relative"!==t||ec(n)?"fixed"!==t||tc(n)?"responsive"!==t||nc(n)||Cd(n):xd(e,n):wd(e,n),Ns(n),Pl(e,n.dom,Ul)}))}))},l=function(e){return yr(e,s)},d=function(t){return function(r){e.selection.setRng(r.rng),e.focus(),n.clear(t),Ns(t),Pl(e,t.dom,r.effect)}},f=function(t){return zp(e).each((function(e){l(e).each((function(n){var i=tu(r,n,e);t(n,i).each(d(n))}))}))},h=function(){return zp(e).map((function(t){return l(t).bind((function(n){var i=tu(r,n,t),o=_s(A,dt.fromDom(e.getDoc()),B.none());return Yh(n,i,o)}))}))},p=function(){return zp(e).map((function(e){return l(e).bind((function(t){var n=tu(r,t,e);return Xh(t,n)}))}))},m=function(t,n){return n().each((function(n){var i=F(n,(function(e){return oo(e)}));zp(e).each((function(n){return l(n).each((function(o){var a=Bs(dt.fromDom(e.getDoc())),s=ru(r,n,i,a);t(o,s).each(d(o))}))}))}))};Ct({mceTableSplitCells:function(){return f(t.unmergeCells)},mceTableMergeCells:function(){return f(t.mergeCells)},mceTableInsertRowBefore:function(){return f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(t.insertRowsAfter)},mceTableInsertColBefore:function(){return f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(t.insertColumnsAfter)},mceTableDeleteCol:function(){return f(t.deleteColumn)},mceTableDeleteRow:function(){return f(t.deleteRow)},mceTableCutCol:function(e){return p().each((function(e){a.setColumns(e),f(t.deleteColumn)}))},mceTableCutRow:function(e){return h().each((function(e){a.setRows(e),f(t.deleteRow)}))},mceTableCopyCol:function(e){return p().each((function(e){return a.setColumns(e)}))},mceTableCopyRow:function(e){return h().each((function(e){return a.setRows(e)}))},mceTablePasteColBefore:function(e){return m(t.pasteColsBefore,a.getColumns)},mceTablePasteColAfter:function(e){return m(t.pasteColsAfter,a.getColumns)},mceTablePasteRowBefore:function(e){return m(t.pasteRowsBefore,a.getRows)},mceTablePasteRowAfter:function(e){return m(t.pasteRowsAfter,a.getRows)},mceTableDelete:u,mceTableSizingMode:function(e,t){return c(t)}},(function(t,n){return e.addCommand(n,t)}));var g=function(e,t){t.each((function(t){Pl(e,t.dom,Ul)}))};Ct({mceTableCellType:function(n,r){var i=yr(Vs(e),s);t.setTableCellType(e,r),g(e,i)},mceTableRowType:function(n,r){var i=yr(Vs(e),s);t.setTableRowType(e,r),g(e,i)}},(function(t,n){return e.addCommand(n,t)})),e.addCommand("mceTableColType",(function(e,n){return It(n,"type").each((function(e){return f("th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)}))})),Ct({mceTableProps:v(Qp,e,!1),mceTableRowProps:v(Pp,e),mceTableCellProps:v(Dp,e,r)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){o(n)&&wt(n).length>0?Qh(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Qp(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){var a=function(e){return"tablecell"+e.toLowerCase().replace("-","")};if(o(n)){var u=Sh(Vs(e),r,s);if(0!==u.length){var c=Dt(n,(function(t,n){return e.formatter.has(a(n))&&i(t)}));Ft(c)||(Ct(c,(function(t,n){P(u,(function(r){wp.normal(e,r.dom).setFormat(a(n),t)}))})),l(u[0]).each((function(t){return Pl(e,t.dom,Nl)})))}}}))},Kp=function(e,t,n){var r=Ls(e),i=function(e){return yr(e,r)};Ct({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return xh(Vs(e)).bind((function(e){return i(e).map((function(r){var i=tu(n,r,e);return t.getTableColType(r,i)}))})).getOr("")}},(function(t,n){return e.addQueryValueHandler(n,t)}))},qp=function(){var e=$a(B.none()),t=$a(B.none()),n=function(e){e.set(B.none())};return{getRows:e.get,setRows:function(r){e.set(r),n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r),n(e)},clearColumns:function(){return n(t)}}},Wp={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},$p=function(e){e.formatter.register(Wp)},Xp=$i.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Yp=function(e){return void 0===e&&(e=void 0),Xp.none(e)},Jp=ne(ne({},Xp),{none:Yp}),Zp=function(e,t){return yr(e,t).bind((function(t){var n=gr(t),r=z(n,(function(t){return mt(e,t)}));return r.map((function(e){return{index:e,all:n}}))}))},em=function(e,t){var n=Zp(e,t);return n.fold((function(){return Jp.none(e)}),(function(t){return t.index+1<t.all.length?Jp.middle(e,t.all[t.index+1]):Jp.last(e)}))},tm=function(e,t){var n=Zp(e,t);return n.fold((function(){return Jp.none()}),(function(t){return t.index-1>=0?Jp.middle(e,t.all[t.index-1]):Jp.first(e)}))},nm=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},rm={create:nm},im=$i.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),om=function(e,t,n,r){return e.fold(t,n,r)},am=function(e){return e.fold(g,g,g)},sm=im.before,um=im.on,cm=im.after,lm={before:sm,on:um,after:cm,cata:om,getStart:am},dm=$i.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fm=function(e){return dm.exact(e.start,e.soffset,e.finish,e.foffset)},Am=function(e){return e.match({domRange:function(e){return dt.fromDom(e.startContainer)},relative:function(e,t){return lm.getStart(e)},exact:function(e,t,n,r){return e}})},hm=dm.domRange,pm=dm.relative,mm=dm.exact,gm=function(e){var t=Am(e);return un(t)},vm=rm.create,ym={domRange:hm,relative:pm,exact:mm,exactFromRange:fm,getWin:gm,range:vm},bm=function(e,t){var n=e.document.createRange();return wm(n,t),n},wm=function(e,t){return e.selectNodeContents(t.dom)},xm=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))},Cm=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))},Sm=function(e,t,n){var r=e.document.createRange();return xm(r,t),Cm(r,n),r},km=function(e,t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,i),o},_m=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Bm=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?B.some(n).map(_m):B.none()},Dm=$i.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mm=function(e,t,n){return t(dt.fromDom(n.startContainer),n.startOffset,dt.fromDom(n.endContainer),n.endOffset)},Em=function(e,t){return t.match({domRange:function(e){return{ltr:m(e),rtl:B.none}},relative:function(t,n){return{ltr:ie((function(){return Sm(e,t,n)})),rtl:ie((function(){return B.some(Sm(e,n,t))}))}},exact:function(t,n,r,i){return{ltr:ie((function(){return km(e,t,n,r,i)})),rtl:ie((function(){return B.some(km(e,r,i,t,n))}))}}})},Tm=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return Dm.rtl(dt.fromDom(e.endContainer),e.endOffset,dt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Mm(e,Dm.ltr,n)}))}return Mm(e,Dm.ltr,n)},Im=function(e,t){var n=Em(e,t);return Tm(e,n)},Om=function(e,t){var n=Im(e,t);return n.match({ltr:function(t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,i),o},rtl:function(t,n,r,i){var o=e.document.createRange();return o.setStart(r.dom,i),o.setEnd(t.dom,n),o}})},Lm=(Dm.ltr,Dm.rtl,function(e,t,n,r,i){if(0===i)return 0;if(t===r)return i-1;for(var o=r,a=1;a<i;a++){var s=e(a),u=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||u>o)return a-1;o=u}}return 0}),Fm=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Pm=function(e,t,n,r,i){var o=function(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r},a=function(e){var t=o(e);return t.getBoundingClientRect()},s=Ci(t).length,u=Lm(a,n,r,i.right,s);return o(u)},Nm=function(e,t,n,r){var i=e.dom.createRange();i.selectNode(t.dom);var o=i.getClientRects(),a=te(o,(function(e){return Fm(e,n,r)?B.some(e):B.none()}));return a.map((function(i){return Pm(e,t,n,r,i)}))},Um=function(e,t,n,r){var i=e.dom.createRange(),o=hn(t);return te(o,(function(t){return i.selectNode(t.dom),Fm(i.getBoundingClientRect(),n,r)?Hm(e,t,n,r):B.none()}))},Hm=function(e,t,n,r){return tn(t)?Nm(e,t,n,r):Um(e,t,n,r)},Rm=function(e,t,n,r){var i=e.dom.createRange();i.selectNode(t.dom);var o=i.getBoundingClientRect(),a=Math.max(o.left,Math.min(o.right,n)),s=Math.max(o.top,Math.min(o.bottom,r));return Hm(e,t,a,s)},Vm=!0,Qm=!1,jm=function(e,t){return t-e.left<e.right-t?Vm:Qm},zm=function(e,t,n){var r=e.dom.createRange();return r.selectNode(t.dom),r.collapse(n),r},Gm=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var i=r.getBoundingClientRect(),o=jm(i,n),a=o===Vm?hs:ps;return a(t).map((function(t){return zm(e,t,o)}))},Km=function(e,t,n){var r=t.dom.getBoundingClientRect(),i=jm(r,n);return B.some(zm(e,t,i))},qm=function(e,t,n){var r=0===hn(t).length?Km:Gm;return r(e,t,n)},Wm=function(e,t,n){return B.from(e.dom.caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return B.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),B.some(n)}))},$m=function(e,t,n){return B.from(e.dom.caretRangeFromPoint(t,n))},Xm=function(e,t,n,r){var i=e.dom.createRange();i.selectNode(t.dom);var o=i.getBoundingClientRect(),a=Math.max(o.left,Math.min(o.right,n)),s=Math.max(o.top,Math.min(o.bottom,r));return Rm(e,t,a,s)},Ym=function(e,t,n){return dt.fromPoint(e,t,n).bind((function(r){var i=function(){return qm(e,r,t)};return 0===hn(r).length?i():Xm(e,r,t,n).orThunk(i)}))},Jm=function(){return document.caretPositionFromPoint?Wm:document.caretRangeFromPoint?$m:Ym}(),Zm=function(e,t,n){var r=dt.fromDom(e.document);return Jm(r,t,n).map((function(e){return rm.create(dt.fromDom(e.startContainer),e.startOffset,dt.fromDom(e.endContainer),e.endOffset)}))},eg=function(e,t){var n=Xt(e);return"input"===n?lm.after(e):I(["br","img"],n)?0===t?lm.before(e):lm.after(e):lm.on(e,t)},tg=function(e,t){var n=e.fold(lm.before,eg,lm.after),r=t.fold(lm.before,eg,lm.after);return ym.relative(n,r)},ng=function(e,t,n,r){var i=eg(e,t),o=eg(n,r);return ym.relative(i,o)},rg=function(e){return e.match({domRange:function(e){var t=dt.fromDom(e.startContainer),n=dt.fromDom(e.endContainer);return ng(t,e.startOffset,n,e.endOffset)},relative:tg,exact:ng})},ig=function(e,t,n,r){var i=an(e),o=i.dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o},og=function(e,t,n,r){var i=ig(e,t,n,r),o=mt(e,n)&&t===r;return i.collapsed&&!o},ag=function(e){return B.from(e.getSelection())},sg=function(e,t){ag(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))},ug=function(e,t,n,r,i){var o=km(e,t,n,r,i);sg(e,o)},cg=function(e,t,n,r,i,o){t.collapse(n.dom,r),t.extend(i.dom,o)},lg=function(e,t){return Im(e,t).match({ltr:function(t,n,r,i){ug(e,t,n,r,i)},rtl:function(t,n,r,i){ag(e).each((function(o){if(o.setBaseAndExtent)o.setBaseAndExtent(t.dom,n,r.dom,i);else if(o.extend)try{cg(e,o,t,n,r,i)}catch(a){ug(e,r,i,t,n)}else ug(e,r,i,t,n)}))}})},dg=function(e,t,n,r,i){var o=ng(t,n,r,i);lg(e,o)},fg=function(e,t,n){var r=tg(t,n);lg(e,r)},Ag=function(e){var t=ym.getWin(e).dom,n=function(e,n,r,i){return km(t,e,n,r,i)},r=rg(e);return Im(t,r).match({ltr:n,rtl:n})},hg=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return B.some(rm.create(dt.fromDom(t.startContainer),t.startOffset,dt.fromDom(n.endContainer),n.endOffset))}return B.none()},pg=function(e){if(null===e.anchorNode||null===e.focusNode)return hg(e);var t=dt.fromDom(e.anchorNode),n=dt.fromDom(e.focusNode);return og(t,e.anchorOffset,n,e.focusOffset)?B.some(rm.create(t,e.anchorOffset,n,e.focusOffset)):hg(e)},mg=function(e,t){var n=bm(e,t);sg(e,n)},gg=function(e){return ag(e).filter((function(e){return e.rangeCount>0})).bind(pg)},vg=function(e){return gg(e).map((function(e){return ym.exact(e.start,e.soffset,e.finish,e.foffset)}))},yg=function(e,t){var n=Om(e,t);return Bm(n)},bg=function(e,t,n){return Zm(e,t,n)},wg=function(e){ag(e).each((function(e){return e.removeAllRanges()}))},xg=tinymce.util.Tools.resolve("tinymce.util.VK"),Cg=function(e,t,n){return Bg(e,t,em(n))},Sg=function(e,t,n){return Bg(e,t,tm(n))},kg=function(e,t){var n=ym.exact(t,0,t,0);return Ag(n)},_g=function(e,t){var n=On(t,"tr");return ee(n).bind((function(t){return Vn(t,"td,th").map((function(t){return kg(e,t)}))}))},Bg=function(e,t,n){return n.fold(B.none,B.none,(function(t,n){return hs(n).map((function(t){return kg(e,t)}))}),(function(n){return yr(n,t).bind((function(t){return e.execCommand("mceTableInsertRowAfter"),_g(e,t)}))}))},Dg=["table","li","dl"],Mg=function(e,t,n){if(e.keyCode===xg.TAB){var r=Ts(t),i=function(e){var t=Xt(e);return mt(e,r)||I(Dg,t)},o=t.selection.getRng(),a=dt.fromDom(e.shiftKey?o.startContainer:o.endContainer);mr(a,i).each((function(r){e.preventDefault(),yr(r,i).each(n.clear),t.selection.collapse(e.shiftKey);var o=e.shiftKey?Sg:Cg,a=o(t,i,r);a.each((function(e){t.selection.setRng(e)}))}))}},Eg=function(e,t){return{selection:e,kill:t}},Tg={create:Eg},Ig=function(e,t,n,r){return{start:lm.on(e,t),finish:lm.on(n,r)}},Og={create:Ig},Lg=function(e,t){var n=Om(e,t);return rm.create(dt.fromDom(n.startContainer),n.startOffset,dt.fromDom(n.endContainer),n.endOffset)},Fg=Og.create,Pg=function(e,t,n,r,i,o,a){return mt(n,i)&&r===o?B.none():Qn(n,"td,th",t).bind((function(n){return Qn(i,"td,th",t).bind((function(r){return Ng(e,t,n,r,a)}))}))},Ng=function(e,t,n,r,i){return mt(n,r)?B.none():Ri(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>0?(i(e,r,t.start,t.finish),B.some(Tg.create(B.some(Fg(n,0,n,ls(n))),!0))):B.none()}))},Ug=function(e,t,n,r,i){var o=function(e){return i.clearBeforeUpdate(n),i.selectRange(n,e.boxes,e.start,e.finish),e.boxes};return Gi(r,e,t,i.firstSelectedSelector,i.lastSelectedSelector).map(o)},Hg=function(e,t){return{item:e,mode:t}},Rg=function(e,t,n,r){return void 0===r&&(r=Vg),e.property().parent(t).map((function(e){return Hg(e,r)}))},Vg=function(e,t,n,r){return void 0===r&&(r=Qg),n.sibling(e,t).map((function(e){return Hg(e,r)}))},Qg=function(e,t,n,r){void 0===r&&(r=Qg);var i=e.property().children(t),o=n.first(i);return o.map((function(e){return Hg(e,r)}))},jg=[{current:Rg,next:Vg,fallback:B.none()},{current:Vg,next:Qg,fallback:B.some(Rg)},{current:Qg,next:Qg,fallback:B.some(Vg)}],zg=function(e,t,n,r,i){void 0===i&&(i=jg);var o=j(i,(function(e){return e.current===n}));return o.bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return zg(e,t,n,r)}))}))}))},Gg=function(){var e=function(e,t){return e.query().prevSibling(t)},t=function(e){return e.length>0?B.some(e[e.length-1]):B.none()};return{sibling:e,first:t}},Kg=function(){var e=function(e,t){return e.query().nextSibling(t)},t=function(e){return e.length>0?B.some(e[0]):B.none()};return{sibling:e,first:t}},qg={left:Gg,right:Kg},Wg=function(e,t,n,r,i,o){var a=zg(e,t,r,i);return a.bind((function(t){return o(t.item)?B.none():n(t.item)?B.some(t.item):Wg(e,t.item,n,t.mode,i,o)}))},$g=function(e,t,n,r){return Wg(e,t,n,Vg,qg.left(),r)},Xg=function(e,t,n,r){return Wg(e,t,n,Vg,qg.right(),r)},Yg=function(e){return function(t){return 0===e.property().children(t).length}},Jg=function(e,t,n){return ev(e,t,Yg(e),n)},Zg=function(e,t,n){return tv(e,t,Yg(e),n)},ev=$g,tv=Xg,nv=Bi(),rv=function(e,t){return Jg(nv,e,t)},iv=function(e,t){return Zg(nv,e,t)},ov=function(e,t,n){return ev(nv,e,t,n)},av=function(e,t,n){return tv(nv,e,t,n)},sv=function(e,t,n){return Fn(e,t,n).isSome()},uv=$i.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),cv=function(e,t,n){var r=e.getRect(t),i=e.getRect(n);return i.right>r.left&&i.left<r.right},lv=function(e){return Qn(e,"tr")},dv=function(e,t,n,r,i,o,a){return Qn(r,"td,th",a).bind((function(n){return Qn(t,"td,th",a).map((function(t){return mt(n,t)?mt(r,n)&&ls(n)===i?o(t):uv.none("in same cell"):Ni(lv,[n,t]).fold((function(){return cv(e,t,n)?uv.success():o(t)}),(function(e){return o(t)}))}))})).getOr(uv.none("default"))},fv=function(e,t,n,r,i){return e.fold(t,n,r,i)},Av=ne(ne({},uv),{verify:dv,cata:fv}),hv=function(e,t,n,r){return{parent:e,children:t,element:n,index:r}},pv=function(e){return cn(e).bind((function(t){var n=hn(t);return mv(n,e).map((function(r){return hv(t,n,e,r)}))}))},mv=function(e,t){return z(e,v(mt,t))},gv=function(e){return"br"===Xt(e)},vv=function(e,t,n){return t(e,n).bind((function(e){return tn(e)&&0===Ci(e).trim().length?vv(e,t,n):B.some(e)}))},yv=function(e,t,n){return n.traverse(t).orThunk((function(){return vv(t,n.gather,e)})).map(n.relative)},bv=function(e,t){return pn(e,t).filter(gv).orThunk((function(){return pn(e,t-1).filter(gv)}))},wv=function(e,t,n,r){return bv(t,n).bind((function(t){return r.traverse(t).fold((function(){return vv(t,r.gather,e).map(r.relative)}),(function(e){return pv(e).map((function(e){return lm.on(e.parent,e.index)}))}))}))},xv=function(e,t,n,r){var i=gv(t)?yv(e,t,r):wv(e,t,n,r);return i.map((function(e){return{start:e,finish:e}}))},Cv=function(e){return Av.cata(e,(function(e){return B.none()}),(function(){return B.none()}),(function(e){return B.some(Td(e,0))}),(function(e){return B.some(Td(e,ls(e)))}))},Sv=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},kv=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},_v=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},Bv=function(e){return e.top},Dv=function(e){return e.bottom},Mv=function(e,t,n){return n>=0&&n<ls(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):B.none()},Ev=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},Tv=function(e,t){return B.some(e.getRect(t))},Iv=function(e,t,n){return en(t)?Tv(e,t).map(Ev):tn(t)?Mv(e,t,n).map(Ev):B.none()},Ov=function(e,t){return en(t)?Tv(e,t).map(Ev):tn(t)?e.getRangedRect(t,0,t,ls(t)).map(Ev):B.none()},Lv=5,Fv=100,Pv=$i.generate([{none:[]},{retry:["caret"]}]),Nv=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},Uv=function(e,t,n){return Pn(t,sA).fold(w,(function(t){return Ov(e,t).exists((function(e){return Nv(n,e)}))}))},Hv=function(e,t,n,r,i){var o=Sv(i,Lv);return Math.abs(n.bottom-r.bottom)<1||n.top>i.bottom?Pv.retry(o):n.top===i.bottom?Pv.retry(Sv(i,1)):Uv(e,t,i)?Pv.retry(_v(o,Lv,0)):Pv.none()},Rv=function(e,t,n,r,i){var o=kv(i,Lv);return Math.abs(n.top-r.top)<1||n.bottom<i.top?Pv.retry(o):n.bottom===i.top?Pv.retry(kv(i,1)):Uv(e,t,i)?Pv.retry(_v(o,Lv,0)):Pv.none()},Vv={point:Bv,adjuster:Rv,move:kv,gather:rv},Qv={point:Dv,adjuster:Hv,move:Sv,gather:iv},jv=function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===Xt(e)})).isSome()},zv=function(e,t,n,r,i){return Gv(e,t,n,t.move(r,Lv),i)},Gv=function(e,t,n,r,i){return 0===i?B.some(r):jv(e,r.left,t.point(r))?zv(e,t,n,r,i-1):e.situsFromPoint(r.left,t.point(r)).bind((function(o){return o.start.fold(B.none,(function(o){return Ov(e,o).bind((function(a){return t.adjuster(e,o,a,n,r).fold(B.none,(function(r){return Gv(e,t,n,r,i-1)}))})).orThunk((function(){return B.some(r)}))}),B.none)}))},Kv=function(e,t){return e.situsFromPoint(t.left,t.bottom+Lv)},qv=function(e,t){return e.situsFromPoint(t.left,t.top-Lv)},Wv=function(e,t,n){return e.point(t)>n.getInnerHeight()?B.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?B.some(-e.point(t)):B.none()},$v=function(e,t,n){var r=e.move(n,Lv),i=Gv(t,e,n,r,Fv).getOr(r);return Wv(e,i,t).fold((function(){return t.situsFromPoint(i.left,e.point(i))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)}))},Xv={tryUp:v($v,Vv),tryDown:v($v,Qv),ieTryUp:qv,ieTryDown:Kv,getJumpSize:m(Lv)},Yv=20,Jv=function(e,t,n){return e.getSelection().bind((function(r){return xv(t,r.finish,r.foffset,n).fold((function(){return B.some(Td(r.finish,r.foffset))}),(function(i){var o=e.fromSitus(i),a=Av.verify(e,r.finish,r.foffset,o.finish,o.foffset,n.failure,t);return Cv(a)}))}))},Zv=function(e,t,n,r,i,o){return 0===o?B.none():ny(e,t,n,r,i).bind((function(a){var s=e.fromSitus(a),u=Av.verify(e,n,r,s.finish,s.foffset,i.failure,t);return Av.cata(u,(function(){return B.none()}),(function(){return B.some(a)}),(function(a){return mt(n,a)&&0===r?ey(e,n,r,kv,i):Zv(e,t,a,0,i,o-1)}),(function(a){return mt(n,a)&&r===ls(a)?ey(e,n,r,Sv,i):Zv(e,t,a,ls(a),i,o-1)}))}))},ey=function(e,t,n,r,i){return Iv(e,t,n).bind((function(t){return ty(e,i,r(t,Xv.getJumpSize()))}))},ty=function(e,t,n){var r=Je().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):B.none()},ny=function(e,t,n,r,i){return Iv(e,n,r).bind((function(t){return ty(e,i,t)}))},ry=function(e,t,n){return Jv(e,t,n).bind((function(r){return Zv(e,t,r.element,r.offset,n,Yv).map(e.fromSitus)}))},iy=function(e,t){return sv(e,(function(e){return cn(e).exists((function(e){return mt(e,t)}))}))},oy=function(e,t,n,r,i){return Qn(r,"td,th",t).bind((function(r){return Qn(r,"table",t).bind((function(o){return iy(i,o)?ry(e,t,n).bind((function(e){return Qn(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):B.none()}))}))},ay=function(e,t,n,r,i,o){return Je().browser.isIE()?B.none():o(r,t).orThunk((function(){return oy(e,t,n,r,i).map((function(e){var t=e.range;return Tg.create(B.some(Fg(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))},sy=function(e,t){return Qn(e,"tr",t).bind((function(e){return Qn(e,"table",t).bind((function(n){var r=On(n,"tr");return mt(e,r[0])?ov(n,(function(e){return ps(e).isSome()}),t).map((function(e){var t=ls(e);return Tg.create(B.some(Fg(e,t,e,t)),!0)})):B.none()}))}))},uy=function(e,t){return Qn(e,"tr",t).bind((function(e){return Qn(e,"table",t).bind((function(n){var r=On(n,"tr");return mt(e,r[r.length-1])?av(n,(function(e){return hs(e).isSome()}),t).map((function(e){return Tg.create(B.some(Fg(e,0,e,0)),!0)})):B.none()}))}))},cy=function(e,t,n,r,i,o,a){return oy(e,n,r,i,o).bind((function(e){return Ng(t,n,e.start,e.finish,a)}))},ly=function(){var e=$a(B.none()),t=function(){return e.set(B.none())},n=function(t){return e.set(B.some(t))},r=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:i}},dy=function(e,t){return Qn(e,"td,th",t)},fy=function(e,t,n,r){var i=ly(),o=i.clear,a=function(o){i.on((function(i){r.clearBeforeUpdate(t),dy(o.target,n).each((function(o){Ri(i,o,n).each((function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!mt(i,o))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(o))}))}))}))},s=function(e){r.clear(t),dy(e.target,n).each(i.set)},u=function(e){a(e)},c=function(e){a(e),o()};return{clearstate:o,mousedown:s,mouseover:u,mouseup:c}},Ay={traverse:An,gather:iv,relative:lm.before,otherRetry:Xv.tryDown,ieRetry:Xv.ieTryDown,failure:Av.failedDown},hy={traverse:fn,gather:rv,relative:lm.before,otherRetry:Xv.tryUp,ieRetry:Xv.ieTryUp,failure:Av.failedUp},py=function(e){return function(t){return t===e}},my=py(38),gy=py(40),vy=function(e){return e>=37&&e<=40},yy={isBackward:py(37),isForward:py(39)},by={isBackward:py(39),isForward:py(37)},wy=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Bo(n,r)},xy=function(e,t,n){var r=void 0!==n?n.dom:document,i=r.defaultView;i&&i.scrollBy(e,t)},Cy=function(e){var t=function(t,n){return dt.fromPoint(dt.fromDom(e.document),t,n)},n=function(e){return e.dom.getBoundingClientRect()},r=function(t,n,r,i){var o=ym.exact(t,n,r,i);return yg(e,o)},i=function(){return vg(e).map((function(t){return Lg(e,t)}))},o=function(t){var n=ym.relative(t.start,t.finish);return Lg(e,n)},a=function(t,n){return bg(e,t,n).map((function(e){return Og.create(e.start,e.soffset,e.finish,e.foffset)}))},s=function(){wg(e)},u=function(t){void 0===t&&(t=!1),vg(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var i=t?n:r;fg(e,i,i)}),(function(n,r,i,o){var a=t?n:i,s=t?r:o;dg(e,a,s,a,s)}))}))},c=function(t){mg(e,t)},l=function(t){dg(e,t.start,t.soffset,t.finish,t.foffset)},d=function(t,n){fg(e,t,n)},f=function(){return e.innerHeight},A=function(){var t=wy(dt.fromDom(e.document));return t.top},h=function(t,n){xy(t,n,dt.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:i,fromSitus:o,situsFromPoint:a,clearSelection:s,collapseSelection:u,setSelection:l,setRelativeSelection:d,selectContents:c,getInnerHeight:f,getScrollY:A,scrollBy:h}},Sy=function(e,t){return{rows:e,cols:t}},ky=function(e,t,n,r){var i=Cy(e),o=fy(i,t,n,r);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},_y=function(e,t,n,r){var i=Cy(e),o=function(){return r.clear(t),B.none()},a=function(e,a,s,u,c,l){var d=e.raw,f=d.which,A=!0===d.shiftKey,h=Vi(t,r.selectedSelector).fold((function(){return gy(f)&&A?v(cy,i,t,n,Ay,u,a,r.selectRange):my(f)&&A?v(cy,i,t,n,hy,u,a,r.selectRange):gy(f)?v(ay,i,n,Ay,u,a,uy):my(f)?v(ay,i,n,hy,u,a,sy):B.none}),(function(e){var n=function(n){return function(){var o=te(n,(function(n){return Ug(n.rows,n.cols,t,e,r)}));return o.fold((function(){return ji(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=gy(f)||l.isForward(f)?lm.after:lm.before;return i.setRelativeSelection(lm.on(e.first,0),n(e.table)),r.clear(t),Tg.create(B.none(),!0)}))}),(function(e){return B.some(Tg.create(B.none(),!0))}))}};return gy(f)&&A?n([Sy(1,0)]):my(f)&&A?n([Sy(-1,0)]):l.isBackward(f)&&A?n([Sy(0,-1),Sy(-1,0)]):l.isForward(f)&&A?n([Sy(0,1),Sy(1,0)]):vy(f)&&!1===A?o:B.none}));return h()},s=function(e,i,o,a,s){return Vi(t,r.selectedSelector).fold((function(){var u=e.raw,c=u.which,l=!0===u.shiftKey;return!1===l?B.none():vy(c)?Pg(t,n,i,o,a,s,r.selectRange):B.none()}),B.none)};return{keydown:a,keyup:s}},By=function(e,t,n,r){var i=Cy(e);return function(e,o){r.clearBeforeUpdate(t),Ri(e,o,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),i.selectContents(o),i.collapseSelection()}))}},Dy=function(e,t){P(t,(function(t){jc(e,t)}))},My=function(e){return function(t){Vc(t,e)}},Ey=function(e){return function(t){Dy(t,e)}},Ty=function(e){var t=My(e.selected),n=Ey([e.selected,e.lastSelected,e.firstSelected]),r=function(t){var r=On(t,e.selectedSelector);P(r,n)},i=function(n,i,o,a){r(n),P(i,t),Vc(o,e.firstSelected),Vc(a,e.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:i,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Iy=function(e,t,n){var r=function(t){Wn(t,e.selected),Wn(t,e.firstSelected),Wn(t,e.lastSelected)},i=function(t){zn(t,e.selected,"1")},o=function(e){a(e),n()},a=function(t){var n=On(t,e.selectedSelector);P(n,r)},s=function(n,r,a,s){o(n),P(r,i),zn(a,e.firstSelected,"1"),zn(s,e.lastSelected,"1"),t(r,a,s)};return{clearBeforeUpdate:a,clear:o,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Oy={byClass:Ty,byAttr:Iy},Ly=function(e,t,n){var r=e.slice(0,t[t.length-1].row+1),i=Jd(r,n);return K(i,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1);return F(n,(function(e){return e.element}))}))},Fy=function(e,t,n){var r=e.slice(t[0].row+t[0].rowspan-1,e.length),i=Jd(r,n);return K(i,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return F(n,(function(e){return e.element}))}))},Py=function(e,t,n){var r=$r.fromTable(e),i=uf(r,t);return i.map((function(e){var t=$d(r,n,!1),i=Ly(t,e,n),o=Fy(t,e,n);return{upOrLeftCells:i,downOrRightCells:o}}))},Ny=function(e){return!1===zc(dt.fromDom(e.target),"ephox-snooker-resizer-bar")};function Uy(e,t,n){var r=function(t,r,i){n.targets().each((function(n){var o=yr(r);o.each((function(o){var a=hd(e),s=_s(A,dt.fromDom(e.getDoc()),a),u=Py(o,n,s);Ll(e,t,r,i,u)}))}))},i=function(){return Fl(e)},o=Oy.byAttr(Zs,r,i);return e.on("init",(function(n){var r=e.getWin(),i=Ts(e),a=Ls(e),s=function(){var t=e.selection,n=dt.fromDom(t.getStart()),r=dt.fromDom(t.getEnd()),a=Ni(yr,[n,r]);a.fold((function(){return o.clear(i)}),A)},u=ky(r,i,a,o),c=_y(r,i,a,o),l=By(r,i,a,o),d=function(e){return!0===e.raw.shiftKey};e.on("TableSelectorChange",(function(e){return l(e.start,e.finish)}));var f=function(t,n){d(t)&&(n.kill&&t.kill(),n.selection.each((function(t){var n=ym.relative(t.start,t.finish),i=Om(r,n);e.selection.setRng(i)})))},h=function(t){var n=Oc(t);if(n.raw.shiftKey&&vy(n.raw.which)){var r=e.selection.getRng(),i=dt.fromDom(r.startContainer),o=dt.fromDom(r.endContainer);c.keyup(n,i,r.startOffset,o,r.endOffset).each((function(e){f(n,e)}))}},p=function(n){var r=Oc(n);t().each((function(e){return e.hideBars()}));var i=e.selection.getRng(),o=dt.fromDom(i.startContainer),a=dt.fromDom(i.endContainer),s=wo(yy,by)(dt.fromDom(e.selection.getStart()));c.keydown(r,o,i.startOffset,a,i.endOffset,s).each((function(e){f(r,e)})),t().each((function(e){return e.showBars()}))},m=function(e){return 0===e.button},g=function(e){return void 0===e.buttons||(!(!Np.browser.isEdge()||0!==e.buttons)||0!==(1&e.buttons))},v=function(e){u.clearstate()},y=function(e){m(e)&&Ny(e)&&u.mousedown(Oc(e))},b=function(e){g(e)&&Ny(e)&&u.mouseover(Oc(e))},w=function(e){m(e)&&Ny(e)&&u.mouseup(Oc(e))},x=function(){var e=$a(dt.fromDom(i)),t=$a(0),n=function(n){var r=dt.fromDom(n.target);if("td"===Xt(r)||"th"===Xt(r)){var i=e.get(),o=t.get();mt(i,r)&&n.timeStamp-o<300&&(n.preventDefault(),l(r,r))}e.set(r),t.set(n.timeStamp)};return{touchEnd:n}},C=x();e.on("dragstart",v),e.on("mousedown",y),e.on("mouseover",b),e.on("mouseup",w),e.on("touchend",C.touchEnd),e.on("keyup",h),e.on("keydown",p),e.on("NodeChange",s)})),{clear:o.clear}}var Hy=function(e,t){var n=$a(B.none()),r=$a([]),i=B.none(),o=on("caption"),a=function(e){return i.forall((function(t){return!t[e]}))},s=function(){return Ch(Vs(e),Ls(e)).bind((function(e){var n=yr(e);return n.map((function(n){return o(e)?eu(e):tu(t,n,e)}))}))},u=function(e){var t=yr(e.element);return t.map((function(t){var n=$r.fromTable(t),r=uf(n,e).getOr([]),i=V(r,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Af(n,e).isSome(),unmergeable:hf(n,e).isSome(),locked:i}}))},c=function(){n.set(ie(s)()),i=n.get().bind(u),P(r.get(),(function(e){return e()}))},l=function(e,t){var i=function(){return n.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))};return i(),r.set(r.get().concat([i])),function(){r.set(H(r.get(),(function(e){return e!==i})))}},d=function(e){return i.exists((function(t){return t.locked[e]}))},f=function(e){return l(e,(function(e){return!1}))},A=function(e){return l(e,(function(e){return o(e.element)}))},h=function(e){return function(t){return l(t,(function(t){return o(t.element)||d(e)}))}},p=function(e){return function(t){return l(t,(function(t){return o(t.element)||e().isNone()}))}},m=function(e,t){return function(n){return l(n,(function(n){return o(n.element)||e().isNone()||d(t)}))}},g=function(e){return l(e,(function(e){return a("mergeable")}))},v=function(e){return l(e,(function(e){return a("unmergeable")}))};return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:f,onSetupCellOrRow:A,onSetupColumn:h,onSetupPasteable:p,onSetupPasteableColumn:m,onSetupMergeable:g,onSetupUnmergeable:v,resetTargets:c,targets:function(){return n.get()}}},Ry=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},Vy=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=ud(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},Qy=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}},i=function(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},o={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)});var s={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")});var u={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable});var c={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===ed(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",o),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",s),e.ui.registry.addNestedMenuItem("column",u),e.ui.registry.addNestedMenuItem("cell",c),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold((function(){return""}),(function(e){return"caption"===Xt(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})},jy=function(e){var t=to((function(){return Ts(e)}),(function(){return Ch(Vs(e))}),Zs.selectedSelector),n=Hy(e,t),r=Ed(e),i=Uy(e,r.lazyResize,n),o=_h(e,r.lazyWire,t),a=qp();return Gp(e,o,i,t,a),Kp(e,o,t),su(e,t,o,i),Qy(e,n,a),Ry(e,n,a),Vy(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Zs.firstSelected),e.serializer.addTempAttr(Zs.lastSelected),$p(e)})),$l(e)&&e.on("keydown",(function(t){Mg(t,e,i)})),e.on("remove",(function(){r.destroy()})),Kh(e,a,r,n)};function zy(){no.add("table",jy)}zy()})()},9523:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"9f70":function(e,t,n){var r=n("36c6");function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},a3d6:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idmcore_develop",class:"fullscreen-"+e.fullScreenStatus},[n("div",{staticClass:"top_toolbar",class:{temporary_open:e.dragWorkspace.topAreaLsOpened,hovermode_open:e.isOpenHoverLayer}},[n("idm-a-row",[n("idm-a-col",{attrs:{span:9}},[n("div",{staticClass:"idmcore_topbar_left_box"},[n("TopLeftTitle",{attrs:{height:50,pageId:e.PageSettingData.id,title:e.PageSettingData.pageBaseInfo.title,version:e.PageSettingData.pageBaseInfo.version},on:{changeHandle:e.versionChangeHandle}}),e.isOpenHoverLayer?n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover idm_dev_hoverlayer_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-hoverlayer-menuitem ihm-flex-layout"},[n("div",[e._v(" 悬浮背景 ")]),n("div",{staticClass:"ihm-fl-color-check black-block",on:{click:function(t){return t.stopPropagation(),e.changeHoverBackgroundColor("black")}}},["white"!=e.PageSettingData.developInfo.hoverLayerBgColor?n("idm-a-icon",{attrs:{type:"check"}}):e._e()],1),n("div",{staticClass:"ihm-fl-color-check white-block",on:{click:function(t){return t.stopPropagation(),e.changeHoverBackgroundColor("white")}}},["white"==e.PageSettingData.developInfo.hoverLayerBgColor?n("idm-a-icon",{attrs:{type:"check"}}):e._e()],1)]),n("div",{staticStyle:{padding:"1px 10px"}},[n("idm-a-slider",{attrs:{tipFormatter:function(e){return"悬浮布局透明度："+e},"default-value":30},model:{value:e.PageSettingData.developInfo.hoverLayerBgAlpha,callback:function(t){e.$set(e.PageSettingData.developInfo,"hoverLayerBgAlpha",t)},expression:"PageSettingData.developInfo.hoverLayerBgAlpha"}})],1),n("idm-a-divider"),n("div",{staticClass:"idm-hoverlayer-menuitem",on:{click:function(t){e.isOpenHoverLayer=!e.isOpenHoverLayer}}},[e._v(" 关闭悬浮布局层 ")])],1),n("div",{staticClass:"idmcore-topbar-hover-layer idmcore-active",on:{click:function(t){e.isOpenHoverLayer=!e.isOpenHoverLayer}}},[n("svg-icon",{staticClass:"idmcore-icon",attrs:{"icon-class":"topbar-hover-layer"}})],1)],2):n("idm-a-tooltip",{attrs:{title:(e.isOpenHoverLayer?"关闭":"开启")+"悬浮布局层"}},[n("div",{staticClass:"idmcore-topbar-hover-layer ",class:{"idmcore-active":e.isOpenHoverLayer},on:{click:function(t){e.isOpenHoverLayer=!e.isOpenHoverLayer}}},[n("svg-icon",{staticClass:"idmcore-icon",attrs:{"icon-class":"topbar-hover-layer"}})],1)])],1)]),n("idm-a-col",{attrs:{span:6}},[n("DragAreaSizeDropList",{ref:"dragAreaSizeDropList",attrs:{height:50,adaptScreen:e.adaptScreen,fullScreenStatus:e.fullScreenStatus},on:{changeHandle:e.dragAreaSizeChangeHandle}})],1),n("idm-a-col",{attrs:{span:9}},[n("TopRightAction",{ref:"topRightAction",attrs:{height:50},on:{changeHandle:e.menuActionChangeHandle}}),n("SaveForm",{ref:"saveForm",attrs:{visible:e.saveFormVisible,defaultValue:e.PageSettingData.pageBaseInfo},on:{cancel:e.saveFormHandleCancel,create:e.saveFormHandleCreate}}),n("SaveAsForm",{ref:"saveAsForm",attrs:{visible:e.saveAsFormVisible,defaultValue:e.saveAsFormDefaultData},on:{cancel:function(t){e.saveAsFormVisible=!1},create:e.saveCustomModuleFormHandleCreate}}),n("PreferencesModal",{ref:"preferencesModal",on:{dataChangeHandle:e.preferencesChange}}),n("CreatGuidesModal",{ref:"creatGuidesModal",on:{dataChangeHandle:e.creatGuidesHandle}})],1)],1),n("div",{staticClass:"ctrl_btn",on:{click:function(t){return e.areaToggle("top")}}},[e._v(" "+e._s(e.dragWorkspace.topAreaLsOpened?"收起":"展开")+" ")]),n("div",{staticClass:"idmcore_top_toolbar_box",class:{show_active:e.isOpenHoverLayer,has_anim:e.isOpenHoverLayerChange},style:e.getStyles("toptoolbar")},[n("hover-mode-tool-bar",{ref:"toolBarAction",on:{changeHandle:e.menuActionChangeHandle}})],1)],1),n("div",{staticClass:"lr_sidebar pos_left",class:{area_close:!e.dragWorkspace.leftAreaOpened,temporary_open:e.dragWorkspace.leftAreaLsOpened}},[n("idm-a-tabs",{attrs:{"default-active-key":"101","tab-position":"bottom"}},[n("idm-a-tab-pane",{key:"101",attrs:{forceRender:"",tab:"组件市场"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 组件市场"),n("idm-a-tooltip",{attrs:{placement:"right",title:"用于展示当前所有可用的组件列表，此处展示的组件为组成页面的最小单位组件"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("left")}}},[n("idm-a-icon",{attrs:{type:"left"}})],1)],1),n("ComponentMarket",{on:{loadedHandle:e.ComponentMarketLoadedHandle}})],1),n("idm-a-tab-pane",{key:"102",attrs:{forceRender:"",tab:"业务组件"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 业务组件"),n("idm-a-tooltip",{attrs:{placement:"right",title:"用于展示当前所有可用的业务组件列表，此处展示的组件是基于组件市场中的组件拼凑或制定过属性后符合一定业务需求的组件"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("left")}}},[n("idm-a-icon",{attrs:{type:"left"}})],1)],1),n("ComponentCustom",{on:{loadedHandle:e.ComponentCustomLoadedHandle}})],1)],1),n("div",{staticClass:"ctrl_btn",on:{click:function(t){return e.areaToggle("left")}}},[e._v("组件")])],1),n("div",{staticClass:"lr_sidebar pos_right",class:{area_close:!e.dragWorkspace.rightAreaOpened,temporary_open:e.dragWorkspace.rightAreaLsOpened}},[e.isShowSvgCanvas||e.currentSelectLineData.id?e._e():n("idm-a-tabs",{attrs:{activeKey:e.attrTabsActiveKey,"default-active-key":"11","tab-position":"bottom"},on:{change:e.changeAttrPanelActiveTab}},[n("idm-a-tab-pane",{key:"10",attrs:{disabled:e.multipleSelectedModuleData.length>1||e.multipleSelectedGroupData.length>0,tab:"基本属性"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 基本属性"),n("idm-a-tooltip",{attrs:{placement:"left",title:"用于展示组件的一些基本特性属性，此处的属性所有的组件都是全部一致的，注意：此处属性非组件决定的"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("right")}}},[n("idm-a-icon",{attrs:{type:"right"}})],1)],1),n("MixAttribute",{attrs:{basicAttr:!0,pageData:e.PageSettingData,componentsMap:e.PageSettingData.page.componentsMap,actionData:e.PageSettingData.page.actions,selectedModuleData:e.selectedModuleData,multipleModuleData:e.multipleSelectedModuleData},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},hoverModuleHandle:e.hoverModuleHandle,dataChangeHandle:e.mixAttributeChangeHandle,versionChangeHandle:e.componentVersionChangeHandle,changePageAction:e.changePageActionHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle}})],1),n("idm-a-tab-pane",{key:"11",attrs:{disabled:e.multipleSelectedModuleData.length>1||e.multipleSelectedGroupData.length>0,tab:"综合属性"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 综合属性"),n("idm-a-tooltip",{attrs:{placement:"left",title:"用于展示组件的综合应用属性，此处的属性由组件内部自由完全掌控，此处只是作为一个展示且支持定制的属性区域"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("right")}}},[n("idm-a-icon",{attrs:{type:"right"}})],1)],1),n("MixAttribute",{attrs:{pageData:e.PageSettingData,componentsMap:e.PageSettingData.page.componentsMap,actionData:e.PageSettingData.page.actions,selectedModuleData:e.selectedModuleData},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},hoverModuleHandle:e.hoverModuleHandle,dataChangeHandle:e.mixAttributeChangeHandle,versionChangeHandle:e.componentVersionChangeHandle,changePageAction:e.changePageActionHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle}})],1),n("idm-a-tab-pane",{key:"12",attrs:{tab:"页面结构"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 页面结构"),n("idm-a-tooltip",{attrs:{placement:"left",title:"用于展示当前页面已经存在了哪些组件，并且可以在此处进行选中组件、删除组件，且在大纲树模式下能直接调整组件的布局等等。"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("right")}}},[n("idm-a-icon",{attrs:{type:"right"}})],1)],1),n("PageComponent",{ref:"pageComponent",attrs:{pageData:e.PageSettingData.page,selectedModuleData:e.selectedModuleData,selectedDialogData:e.selectedDialogData,dialogVisibleStatus:e.dialogVisibleStatus,hoverVisibleStatus:e.isOpenHoverLayer,hoverModuleData:e.hoverModuleData,multipleModuleData:e.multipleSelectedModuleData,multipleGroupData:e.multipleSelectedGroupData},on:{"update:pageData":function(t){return e.$set(e.PageSettingData,"page",t)},"update:page-data":function(t){return e.$set(e.PageSettingData,"page",t)},"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},"update:hoverModuleData":function(t){e.hoverModuleData=t},"update:hover-module-data":function(t){e.hoverModuleData=t},"update:multipleModuleData":function(t){e.multipleSelectedModuleData=t},"update:multiple-module-data":function(t){e.multipleSelectedModuleData=t},"update:multipleGroupData":function(t){e.multipleSelectedGroupData=t},"update:multiple-group-data":function(t){e.multipleSelectedGroupData=t},changeActiveTab:e.changeAttrPanelActiveTab,changeDialogVisibleStatus:e.changeDialogVisibleStatus,changeHoverVisibleStatus:e.changeHoverVisibleStatus,selectedModuleHandle:e.selectedModuleHandle,hoverModuleHandle:e.hoverModuleHandle,copyModuleHandle:e.copyModuleToNext,deleteModuleHandle:e.deletePageModule,lockModuleChange:e.hoverModuleLockChange,devSetHiddenModuleChange:e.hoverModuleDevSetHiddenChange}})],1)],1),e.isShowSvgCanvas?n("div",{staticStyle:{height:"100%",width:"100%"}},[n("div",{staticClass:"pane_content_title"},[e._v(" svg属性"),n("idm-a-tooltip",{attrs:{placement:"left",title:"用于设置svg画板中选中的组件属性。"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("right")}}},[n("idm-a-icon",{attrs:{type:"right"}})],1)],1),n("MixAttribute",{attrs:{svgAttr:!0,pageData:e.PageSettingData,componentsMap:e.PageSettingData.page.componentsMap,actionData:e.PageSettingData.page.actions,selectedModuleData:e.selectedModuleData,multipleModuleData:e.multipleSelectedModuleData},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},hoverModuleHandle:e.hoverModuleHandle,dataChangeHandle:e.setSelectElementSvgData,versionChangeHandle:e.componentVersionChangeHandle,changePageAction:e.changePageActionHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle}})],1):e.currentSelectLineData.id?n("div",{staticStyle:{height:"100%",width:"100%"}},[n("div",{staticClass:"pane_content_title"},[e._v(" 连线属性"),n("idm-a-tooltip",{attrs:{placement:"left",title:"用于设置选中连线的属性。"}},[n("idm-a-icon",{attrs:{type:"question-circle"}})],1),n("div",{staticClass:"fewer_btn",attrs:{title:"点击折叠"},on:{click:function(t){return e.areaToggle("right")}}},[n("idm-a-icon",{attrs:{type:"right"}})],1)],1),n("MixAttribute",{attrs:{linkAttr:!0,pageData:e.PageSettingData,componentsMap:e.PageSettingData.page.componentsMap,actionData:e.PageSettingData.page.actions,selectedModuleData:e.currentSelectLineData,multipleModuleData:e.multipleSelectedModuleData},on:{"update:selectedModuleData":function(t){e.currentSelectLineData=t},"update:selected-module-data":function(t){e.currentSelectLineData=t},hoverModuleHandle:e.hoverModuleHandle,dataChangeHandle:e.linkAttributeChangeHandle,versionChangeHandle:e.componentVersionChangeHandle,changePageAction:e.changePageActionHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle}})],1):e._e(),n("div",{staticClass:"ctrl_btn",on:{click:function(t){return e.areaToggle("right")}}},[e._v("属性")])],1),n("div",{staticClass:"scrollbar_style",class:{hovermode_open:e.isOpenHoverLayer},style:e.getStyles("dragwrapper"),attrs:{id:"drag_wrapper"}},[n("div",{staticClass:"drag_simulator_overlay",style:e.getStyles("drag_simulator_overlay")},[e.moveTouchData&&e.moveTouchData.container?n("div",{staticClass:"simulator_outline simulator_dropping_outline",style:e.getStyles("dragcontainer")}):e._e(),e.moveTouchData&&e.moveTouchData.comPos?n("div",{staticClass:"simulator_insertion",class:{simulator_vertical:"right"==e.moveTouchData.comPos.type||"left"==e.moveTouchData.comPos.type},style:e.getStyles("draginsertion")}):e._e(),e.selectedModuleData.boxPos&&"absolute"!=e.selectedModuleData.positionMode?n("div",{staticClass:"simulator_outline simulator_selected_outline",style:e.styleData.selectedcontainer},[e.PageSettingData.id!=e.selectedModuleData.packageid?n("div",{class:"simulator_selected_outline_actions_wrapper simulator_space_"+e.selectedModuleData.handlerBarPos+"_right"},[n("div",{staticClass:"simulator_outline_node_selector"},[n("div",{staticClass:"simulator_outline_node_selector_current"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(e.selectedModuleData.iconClass.indexOf("idmicon ")>-1?e.selectedModuleData.iconClass.replace("idmicon ",""):e.selectedModuleData.iconClass)}})]),n("span",{staticClass:"node_text"},[e._v(e._s(-1==e.selectedModuleData.cIndex?e.selectedModuleData.asName:e.selectedModuleData.innerComName))]),n("idm-a-icon",{staticClass:"node_down",attrs:{type:"down"}})],1),n("div",{class:"simulator_outline_node_selector_popup simulator_outline_node_selector_popup_"+e.selectedModuleData.handlerActionPos},e._l(e.selectedModuleData.globalArray,(function(t,r){return n("div",{key:r,staticClass:"simulator_outline_node_selector_popup_item",on:{click:function(n){return e.selectedPageModule(t.packageid,!1,t.innerModuleIndex)}}},[n("div",{staticClass:"simulator_outline_node_selector_popup_item_inner"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})]),n("span",{staticClass:"node_text"},[e._v(e._s(t.innerModuleIndex||"0"==t.innerModuleIndex?t.innerComName:t.asName))])])])})),0)]),-1==e.selectedModuleData.cIndex?n("div",{staticClass:"simulator_outline_actions"},[n("idm-a-tooltip",{attrs:{title:"拖拽"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"dialog"!=e.selectedModuleData.comType,expression:"selectedModuleData.comType!='dialog'"}],class:e.showDragTool?"idm_module_handle_animate":""},[n("div",{staticClass:"idm_module_handle",attrs:{"data-comType":e.selectedModuleData.comType,"data-id":e.selectedModuleData.packageid}},[n("idm-a-icon",{attrs:{type:"drag"}})],1)])]),n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(t){return e.copyModuleToNext()}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(t){return e.deletePageModule()}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)]),n("div",{staticStyle:{display:"none"},attrs:{id:"idm_module_handle_legend"}},[n("div",{staticClass:"component_item_info",attrs:{"data-comType":e.selectedModuleData.comType,"data-id":e.selectedModuleData.comId,"data-packageid":e.selectedModuleData.packageid}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyles("itemimg",e.selectedModuleData),attrs:{src:e.selectedModuleData.imgList.length>0?e.IDM.url.getWebPath(e.selectedModuleData.imgList[0].src):""}}),n("div",[e._v(e._s(e.selectedModuleData.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title"},[e._v(" "+e._s(e.selectedModuleData.asName)+" ")]),n("div",{staticClass:"component_info_inner_version"},[e._v(" v"+e._s(e.selectedModuleData.currentVersion?e.selectedModuleData.currentVersion.version:e.selectedModuleData.lastVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid"},[e._v(" "+e._s(e.selectedModuleData.classId)+" ")])])])])],1):e._e()]):e._e()]):e._e(),e.hoverModuleData.boxPos?n("div",{staticClass:"simulator_outline simulator_hovering_outline",style:e.getStyles("hoveringcontainer")}):e._e()]),e.STATICFINAL.SCALEOPEN?n("div",{staticClass:"idm_drag_scale_control",style:e.getStyles("dragscalecontrol")},[n("div",{staticClass:"idm_drag_scale_control_left",on:{click:function(t){return e.dragScaleChangeHandle({},-1)}}},[n("idm-a-icon",{attrs:{type:"zoom-out"}})],1),n("idm-a-dropdown",{attrs:{overlayClassName:"idm_dev_theme idm_drag_scale_dropdown",placement:"topCenter"}},[n("div",{staticClass:"idm_drag_scale_control_center"},[e._v(e._s(e.workareaScaleValue)+"%")]),n("idm-a-menu",{attrs:{slot:"overlay"},on:{click:e.dragScaleChangeHandle},slot:"overlay"},[n("idm-a-menu-item-group",{key:"g1"},[n("template",{slot:"title"},[n("div",{staticClass:"idm_drag_scale_control_tip"},[e._v("快捷：Ctrl+滚轮")])])],2),e._l(e.STATICFINAL.SCALELIST,(function(t){return n("idm-a-menu-item",{key:t},[n("div",{staticClass:"dropdown-option-item",class:{active:e.workareaScaleValue==t}},[n("idm-a-icon",{attrs:{type:"check"}}),e._v(" "),n("span",[e._v(e._s(t)+"%")])],1)])}))],2)],1),n("div",{staticClass:"idm_drag_scale_control_right",on:{click:function(t){return e.dragScaleChangeHandle({},1)}}},[n("idm-a-icon",{attrs:{type:"zoom-in"}})],1)],1):e._e(),n("div",{staticClass:"idm_workspace_outbox",class:{idm_workspace_grab:e.isOpenHoverLayer&&e.openWorkspaceMoving},style:e.getStyles("getdragWorkspaceoutstyle"),attrs:{id:"idm_workspace_outbox"}},[n("div",{ref:"idm_drag_documtnt",staticClass:"drag_workspace idm_drag_documtnt",style:e.getStyles(e.dragWorkspace.key),attrs:{id:"idm_drag_documtnt"},on:{click:function(t){return e.selectedPageModule(e.PageSettingData.id)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisibleStatus,expression:"dialogVisibleStatus"}],staticClass:"idm_dialog_wrap",attrs:{id:"idm_dialog_wrap"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenHoverLayer,expression:"isOpenHoverLayer"}],staticClass:"idm_hover_layer_wrap",class:{"hide-plumb-connect-tool":!e.isShowPlumbConnectTool},style:{"background-color":"rgba("+("white"==e.PageSettingData.developInfo.hoverLayerBgColor?"255,255,255":"0,0,0")+","+(e.PageSettingData.developInfo.hoverLayerBgAlpha||(0==e.PageSettingData.developInfo.hoverLayerBgAlpha?0:30))/100+")","--scale":e.workareaScaleValue/100},attrs:{id:"idm_hover_layer_wrap",isOpenHoverLayer:e.isOpenHoverLayer?1:0}}),n("SvgEditor",{ref:"svgEditor",attrs:{multipleSelectedModuleData:e.multipleSelectedModuleData},on:{svgEditHandleContextMenuShow:e.svgEditHandleContextMenuShow,svgCanvasModeChange:e.svgCanvasModeChange,handleSaveSvgToComponent:e.handleSaveSvgToComponent},model:{value:e.isShowSvgCanvas,callback:function(t){e.isShowSvgCanvas=t},expression:"isShowSvgCanvas"}}),n("div",{staticClass:"idm_grid_bg"}),n("div",{staticClass:"idm_page_root",class:""+e.PageSettingData.id,attrs:{id:"PAGE_"+e.PageSettingData.id,"idm-com-anchor-id":e.PageSettingData.id}},[e.showMobileStatusBar?n("div",{staticClass:"mobile_status_bar"},[n("div",[e._v("10:00")]),n("div",[n("svg-icon",{staticClass:"mobile_bar_icon",attrs:{"icon-class":"shoujixinhao"}}),n("svg-icon",{staticClass:"mobile_bar_icon",attrs:{"icon-class":"wifixinhao"}}),n("svg-icon",{staticClass:"mobile_bar_icon",attrs:{"icon-class":"electricityfull"}})],1)]):e._e()])],1),n("svg",{staticClass:"hover_module_region_box",attrs:{"data-spm-anchor-id":"0.0.0.i7.12d52439jryI13"}},[n("rect",{attrs:{stroke:e.hoverModuleRegionObject.stroke,"stroke-width":"1",fill:e.hoverModuleRegionObject.fill,x:e.hoverModuleRegionObject.x,y:e.hoverModuleRegionObject.y,width:e.hoverModuleRegionObject.width,height:e.hoverModuleRegionObject.height}})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.fullScreenStatus&&(!0===e.currentPageCodeVisibility||!0===e.currentActionPanelVisibility||!0===e.currentHistoryVisibility||!0===e.currentDataSourceVisibility),expression:"\n      !fullScreenStatus &&\n      (currentPageCodeVisibility === true ||\n        currentActionPanelVisibility === true ||\n        currentHistoryVisibility === true ||\n        currentDataSourceVisibility === true)\n    "}],ref:"idm_bottom_action_panel",staticClass:"bottom_action_panel",class:{pos_right:!e.dragWorkspace.rightAreaOpened,pos_left:!e.dragWorkspace.leftAreaOpened},style:{height:e.bottomActionPanelHeight+"px"}},[n("idm-a-tabs",{attrs:{tabBarStyle:{"margin-bottom":"0"}},model:{value:e.bottomActionActiveIndex,callback:function(t){e.bottomActionActiveIndex=t},expression:"bottomActionActiveIndex"}},[!0===e.currentPageCodeVisibility?n("idm-a-tab-pane",{key:"1",attrs:{tab:"页面源码","force-render":""}},[n("div",{style:{width:"100%",height:e.bottomActionPanelHeight-44-44+"px"}},[e.monacoEditorIsCanLoad?n("MonacoEditor",{ref:"editor",attrs:{language:"json",theme:"default"==e.currentDevTheme?"vs":"vs-dark"},on:{mounted:e.editorLoaded}}):e._e()],1),n("div",{staticClass:"idm_bottom_action_panel_bottom_action"},[n("div",[e._v(" 欢迎来到页面源码中心，这里存放了所有的配置信息，"),n("span",{staticClass:"remind_red_font"},[e._v("请谨慎操作!")])]),n("div",[n("idm-a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.copyPageSettingData}},[e._v(" 复制 Schema ")]),n("idm-a-button",{attrs:{type:"primary",size:"small"},on:{click:e.importPageSettingData}},[e._v(" 导入 Schema ")])],1)])]):e._e(),!0===e.currentActionPanelVisibility?n("idm-a-tab-pane",{key:"2",attrs:{tab:"动作面板"}},[n("div",{style:{width:"100%",height:e.bottomActionPanelHeight-44+"px"}},[e.monacoEditorIsCanLoad?n("MonacoEditor",{ref:"editorJs",attrs:{language:"javascript",theme:"default"==e.currentDevTheme?"vs":"vs-dark"},on:{mounted:e.editorLoadedJs,codeChange:e.transformPageActionToPageData}}):e._e()],1)]):e._e(),!0===e.currentHistoryVisibility?n("idm-a-tab-pane",{key:"3",attrs:{tab:"历史记录"}},[n("div",{style:{width:"100%",height:e.bottomActionPanelHeight-44+"px"}},[n("HistoryActionPanel",{ref:"HistoryActionPanel",attrs:{pageid:e.PageSettingData.id},on:{selectModule:e.selectedPageModule}})],1)]):e._e(),!0===e.currentDataSourceVisibility?n("idm-a-tab-pane",{key:"4",attrs:{tab:"数据源"}},[n("div",{style:{width:"100%",height:e.bottomActionPanelHeight-44+"px"}},[n("DataSourceActionPanel",{ref:"DataSourceActionPanel",attrs:{height:e.bottomActionPanelHeight-44,pageid:e.PageSettingData.id}})],1)]):e._e(),n("div",{staticClass:"bottom_action_panel_close",attrs:{slot:"tabBarExtraContent"},on:{click:e.closeAllBottomActionPanelHandle},slot:"tabBarExtraContent"},[n("idm-a-icon",{attrs:{type:"close"}})],1)],1),n("div",{staticClass:"idm_draggable_line_top",attrs:{id:"idm_bottom_draggable"}})],1),e.quickSearchShow?n("quick-search",{attrs:{componentsMap:e.PageSettingData.page.componentsMap},on:{closeHandle:function(t){e.quickSearchShow=!1},chooseModuleHandle:e.QuickSearchChooseModuleHandle}}):e._e(),n("idm-a-modal",{attrs:{width:"1000px",wrapClassName:"idm_dev_modal idm_module_md_preview_modal",cancelText:"关闭",footer:null,title:"查看帮助文档"},on:{cancel:function(){return e.previewModuleDocModalVisible=!1},ok:function(){return e.previewModuleDocModalVisible=!1}},model:{value:e.previewModuleDocModalVisible,callback:function(t){e.previewModuleDocModalVisible=t},expression:"previewModuleDocModalVisible"}},[n("div",{ref:"module_md_preview_box",staticClass:"idm_module_md_preview scrollbar_style"},[n("v-md-preview",{ref:"module_md_preview",attrs:{text:e.previewModuleDocText}})],1)]),n("div",{ref:"copyTextBox",staticStyle:{position:"fixed",left:"-100000px",top:"-100000px",opacity:"0"},attrs:{contenteditable:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.contextMenuDisplay,expression:"contextMenuDisplay"}],staticClass:"idm_dev_theme zoomIn-anim",style:e.contextMenuStyle,attrs:{id:"idm_hoverlayout_contextmenu_box"}},[n("context-menu",{ref:"contextMenuAction",on:{changeHandle:e.menuActionChangeHandle}})],1)],1)},i=[],o=n("1da1"),a=n("5530");n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("fb6a"),n("b0c0"),n("a630");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}var l=n("a34a"),d=n.n(l),f=(n("159b"),n("5319"),n("ac1f"),n("4de4"),n("1276"),n("498a"),n("a434"),n("a15b"),n("b64b"),n("d81d"),n("caad"),n("2532"),n("7db0"),n("99af"),n("6dd8"));function A(e,t){var n=[];return document.querySelectorAll(e).forEach((function(e){var r=new h(e,t);n.push(r)})),n}function h(e,t){this.ele=e,this.$ele=e,this.defaultOptions={originalMoveClass:"idmdrag-dragging",elementMoveClass:"idmdrag-dragging-copy",elementDownTriggerClass:"component_item_preview_btn",toContainer:"#idm_drag_documtnt",dialogContainer:"#idm_dialog_wrap",hoverLayoutContainer:"#idm_hover_layer_wrap",rootContainer:".idm_page_root",containerClassName:"drag_container",inlineBlockContainerClassName:"drag_container_inlineblock",emptyContainerClassName:"drag_container_empty",moveTouchHintContainer:".drag_simulator_overlay",moduleClassName:"idm_module",copyDom:!1,dragDom:null,zIndex:9999999999,handle:!1,dragStart:function(e,t){},dragEnd:function(e,t){},dragMove:function(e,t){},dragMoveTouch:function(e,t){}},this.options=h.prototype.utils.extend(this.defaultOptions,t),this.init()}function p(e){this.api=this.builder(),this.api.constructRulers.call(this,e)}h.prototype={constructor:h,init:function(){var e=this;this.hoverLayoutMode=!1,this.dialogLayoutMode=!1,this.dialogEle=!1,this.disabled=!1,this.started=!1,this.eleDiffPos={x:0,y:0},this.$tcInfoList=[];var t=this.options.handle?this.$ele.querySelector(this.options.handle):this.$ele,n=function(t){e.move.call(e,t)},r=function t(r){e.end.call(e,r),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)};t.addEventListener("mousedown",(function(i){if(i.target&&i.target.classList){for(var o=!1,a=0;a<i.target.classList.length;a++){var s=i.target.classList[a];if(s==e.options.elementDownTriggerClass){o=!0;break}}if(o)return}e.dialogEle="dialog"==t.getAttribute("data-comType");var u=document.querySelector(e.options.hoverLayoutContainer);e.hoverLayoutMode=u&&"none"!=u.style.display;var c=document.querySelector(e.options.dialogContainer);e.dialogLayoutMode=c&&"none"!=c.style.display,e.start.call(e,i),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}))},destroy:function(){this.options.handle?this.$ele.querySelector(this.options.handle):this.$ele},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},start:function(e){var t=this;if(!t.disabled){t.started=!0;var n=t.getPosition(this.$ele);return t.options.dragStart&&t.options.dragStart(t.$ele,n),t.utils.addClasss(t.$ele,t.options.originalMoveClass),t.eleDiffPos.x=e.clientX-t.getPosition(t.$ele).x,t.eleDiffPos.y=e.clientY-t.getPosition(t.$ele).y,t.options.copyDom&&t.copyDomToBody(),t.setAllContainerInfo(e),t.$ele.style.cursor="move",t._stopPropagation(e)}},move:function(e){var t=this;if(!t.disabled&&t.started){var n={};return n.x=e.clientX-t.eleDiffPos.x,n.y=e.clientY-t.eleDiffPos.y,t.updatePosition(n),t.options.dragMove&&t.options.dragMove(t.$ele,n),t.moveTouchTarget(e),t._stopPropagation(e)}},end:function(e){var t=this;if(t.started){t.utils.removeClasss(t.ele,t.options.originalMoveClass),t.resetEleDiffPos.call(t),t.started=!1;var n=t.getPosition(t.$ele);t.options.dragEnd&&t.options.dragEnd(t.ele,n,t.$ele),t.$ele=t.ele}return t._stopPropagation(e)},moveTouchTarget:function(e){var t,n,r,i=this.getPosition(this.$ele);this.$tcInfoList.forEach((function(e){"container"==e.type?e.x<i.x&&e.x+e.width>i.x&&e.y<i.y&&e.y+e.height>i.y&&(!t||t&&(i.x-t.x>=i.x-e.x&&i.y-t.y>i.y-e.y||i.x-t.x>i.x-e.x&&i.y-t.y>=i.y-e.y)||t&&e.x>=t.x&&e.y>=t.y&&e.height<=t.height&&e.width<=t.width)&&(t=e):"toContainer"==e.type?n=e:"rootContainer"==e.type&&(r=e)}));var o,a,s,u,c={};c.container=t||n,this.$tcInfoList.forEach((function(e){if(("module"==e.type||"container"==e.type&&-1==e.cIndex)&&(!u||u&&u.module.y<e.y)&&(u={type:"bottom",module:e}),("module"==e.type||"container"==e.type&&-1==e.cIndex)&&e.comId!=c.container.comId&&e.x>=c.container.x&&e.x+e.width<=c.container.x+c.container.width&&e.y>=c.container.y&&e.y+e.height<=c.container.y+c.container.height)if(c.container.isInlineBlockContainer){if(e.x<=i.x&&e.x+e.width>=i.x&&e.y<=i.y&&e.y+e.height>=i.y)o={type:i.x>e.x+parseFloat(e.width/2)?"right":"left",module:e};else if(e.x<=i.x&&e.x+e.width>=i.x){var t=e.y>i.y?e.y-i.y:i.y-e.y-e.height;if(a){var n=a.module.y>i.y?a.module.y-i.y:i.y-a.module.y-a.module.height;t<n&&(a={type:i.x>e.x+parseFloat(e.width/2)?"right":"left",module:e})}else a={type:i.x>e.x+parseFloat(e.width/2)?"right":"left",module:e}}else if(e.y<=i.y&&e.y+e.height>=i.y){t=e.x>i.x?e.x-i.x:i.x-e.x-e.width;if(s){n=s.module.x>i.x?s.module.x-i.x:i.x-s.module.x-s.module.width;t<n&&(s={type:e.x>i.x?"left":"right",module:e})}else s={type:e.x>i.x?"left":"right",module:e}}}else if(e.x<=i.x&&e.x+e.width>=i.x&&e.y<=i.y&&e.y+e.height>=i.y)o={type:i.y>e.y+parseFloat(e.height/2)?"bottom":"top",module:e};else if(e.x<=i.x&&e.x+e.width>=i.x){t=e.y>i.y?e.y-i.y:i.y-e.y-e.height;if(a){n=a.module.y>i.y?a.module.y-i.y:i.y-a.module.y-a.module.height;t<n&&(a={type:e.y>i.y?"top":"bottom",module:e})}else a={type:e.y>i.y?"top":"bottom",module:e}}else e.y<=i.y&&e.y+e.height>=i.y&&(s={type:i.y>e.y+parseFloat(e.height/2)?"bottom":"top",module:e})})),c.comPos=o||a||s||"","toContainer"==c.container.type&&""==c.comPos?(c.comPos=u,u||(c.comPos={type:"bottom",module:r})):c.comPos&&"container"==c.comPos.module.type&&c.comPos.module.x==c.container.x&&c.comPos.module.y==c.container.y&&c.comPos.module.height==c.container.height&&c.comPos.module.width==c.container.width&&(c.comPos=""),this.dialogEle&&(c.container=n,c.comPos=""),c.dialogEle=this.dialogEle,!this.hoverLayoutMode||"container"==c.container.type||c.dialogEle||this.dialogLayoutMode||(c.container=n,c.comPos="",c.hoverLayoutRoot=!0),c.hoverLayoutMode=this.hoverLayoutMode,c.toContainer=n,c.comId=this.$ele.getAttribute("data-id"),this.options.dragMoveTouch&&this.options.dragMoveTouch(this.$ele,c)},moveTouchTarget_old:function(e){var t,n,r,i,o=this.getPosition(this.$ele);this.$tcInfoList.forEach((function(e){"container"==e.type?o.x>=e.x&&e.x+e.width>=o.x&&(e.y<=o.y&&e.y+e.height>=o.y&&!t&&(t=e),e.y+e.height>o.y+o.height&&o.y<e.y&&o.y+o.height>e.y&&!n&&(n=e),e.y>=o.y&&o.y+o.height>=e.y+e.height&&(r=e)):"toContainer"==e.type&&(i=e)}));var a,s,u,c={};c.container=t||n||r||i,this.$tcInfoList.forEach((function(e){if("module"==e.type||"container"==e.type)if(e.x<=o.x&&e.x+e.width>=o.x&&e.y<=o.y&&e.y+e.height>=o.y)a="container"==c.container.type&&c.container.isInlineBlockContainer?{type:o.x>e.x+parseFloat(e.width/2)?"right":"left",module:e}:{type:o.y>e.y+parseFloat(e.height/2)?"bottom":"top",module:e};else if(e.x<=o.x&&e.x+e.width>=o.x)if(o.y<e.y){var t=e.y-o.y;(!s||s&&s.module.y-o.y>t)&&(s={type:"top",module:e})}else{t=o.y-e.y;(!u||u&&o.y-u.module.y>t)&&(u={type:"bottom",module:e})}})),c.container.comId,a.module.comId,this.options.dragMoveTouch&&this.options.dragMoveTouch(this.$ele,c)},setAllContainerInfo:function(e){var t=this;this.$tcInfoList=[];var n=document.querySelector(this.options.toContainer);n&&this.$tcInfoList.push(Object(a["a"])(Object(a["a"])({type:"toContainer"},JSON.parse(JSON.stringify(n.getBoundingClientRect()))),{},{zIndex:n.style.zIndex,comId:n.id,paddingBottom:n.style.paddingBottom.replace("px","")}));var r=document.querySelector(this.options.rootContainer);r&&this.$tcInfoList.push(Object(a["a"])(Object(a["a"])({type:"rootContainer"},JSON.parse(JSON.stringify(r.getBoundingClientRect()))),{},{zIndex:r.style.zIndex,comId:r.id,paddingBottom:r.style.paddingBottom.replace("px","")}));var i=this.options.rootContainer,o=document.querySelector(this.options.dialogContainer);(!o||o&&"none"!=o.style.display)&&(i=this.options.dialogContainer),this.hoverLayoutMode&&!this.dialogLayoutMode&&(i=this.options.hoverLayoutContainer);var s=document.querySelector(i).querySelectorAll("."+this.options.containerClassName);s&&s.forEach((function(e){var n=e.getAttribute("idm-ctrl-id")||e.id,r=e.getAttribute("idm-container-index")||-1;-1!=r&&(n=n.replace("_inner","")),t.$tcInfoList.push(Object(a["a"])(Object(a["a"])({type:"container"},JSON.parse(JSON.stringify(e.getBoundingClientRect()))),{},{zIndex:e.style.zIndex,isEmpty:t.utils.hasClasss(e,t.options.emptyContainerClassName),comId:n,cIndex:r,isInlineBlockContainer:t.utils.hasClasss(e,t.options.inlineBlockContainerClassName),paddingBottom:e.style.paddingBottom.replace("px","")}))}));var u=document.querySelector(i).querySelectorAll("."+this.options.moduleClassName);u&&u.forEach((function(e){t.utils.hasClasss(e,t.options.containerClassName)||t.$tcInfoList.push(Object(a["a"])(Object(a["a"])({type:"module"},JSON.parse(JSON.stringify(e.getBoundingClientRect()))),{},{zIndex:e.style.zIndex,comId:e.id,paddingBottom:e.style.paddingBottom.replace("px","")}))}))},updatePosition:function(e){this.$ele.style.position="fixed",this.$ele.style.left=this.utils.pixelize(e.x),this.$ele.style.top=this.utils.pixelize(e.y),this.$ele.style.bottom="auto",this.$ele.style.right="auto",this.$ele.style.zIndex=this.options.zIndex},copyDomToBody:function(){this.options.dragDom&&(this.$ele=this.utils.convertHtmlToDom(this.options.dragDom)),this.$ele=this.$ele.cloneNode(!0),document.body.appendChild(this.$ele),this.utils.addClasss(this.$ele,this.options.elementMoveClass)},getPosition:function(e){return{x:parseInt(e.getBoundingClientRect().left,10)||0,y:parseInt(e.getBoundingClientRect().top,10)||0,width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}},_stopPropagation:function(e){return e.stopPropagation(),e.preventDefault(),!1},resetEleDiffPos:function(){this.eleDiffPos.x=0,this.eleDiffPos.y=0}},h.prototype.utils={extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},pixelize:function(e){return e+"px"},prependChild:function(e,t){return e.insertBefore(t,e.firstChild)},addClasss:function(e,t){return t instanceof Array||(t=[t]),t.forEach((function(t){e.className+=" "+t})),e},removeClasss:function(e,t){var n=e.className;return t instanceof Array||(t=[t]),t.forEach((function(e){n=n.replace(e,"")})),e.className=n,e},hasClasss:function(e,t){var n=!1,r=e.className;return r&&(r=r.split(" "),r.forEach((function(e){e==t&&(n=!0)}))),n},convertHtmlToDom:function(e){if(e){var t=document.createElement("div"),n=null;return t.innerHTML=e,n=t.childNodes,n[0]}},appendHtmlToDom:function(e,t){var n=document.createElement("div"),r=null,i=document.createDocumentFragment();n.innerHTML=e,r=n.childNodes;for(var o=0,a=r.length;o<a;o+=1)i.appendChild(r[o].cloneNode(!0));return t?t.appendChild(i):document.body.appendChild(i),i}},p.prototype.builder=function(){var e,t=1,n=2,r=0,i=0,o=1,a=1,s={},u=[],c=document.createElement("div"),l=[],d=!1,f={offsetLeft:2500,zoomNumber:24,rulerHeight:15,fontFamily:"",fontSize:"8px",fontColor:"gray",strokeStyle:"gray",sides:["top","left"],cornerSides:["TL"],lineWidth:1,enableMouseTracking:!0,enableToolTip:!0,clearGuidesCallback:null,createGuidesCallback:null,moveGuidesCallback:null,deleteGuidesCallback:null},A=function(e,t){var n="rotate("+t+"deg)",r=p.prototype.utils.pixelize(Math.abs(parseInt(e.canvas.style.left)))+" 100%";e.canvas.style.webkitTransform=n,e.canvas.style.MozTransform=n,e.canvas.style.OTransform=n,e.canvas.style.msTransform=n,e.canvas.style.transform=n,e.canvas.style.webkitTransformOrigin=r,e.canvas.style.MozTransformOrigin=r,e.canvas.style.OTransformOrigin=r,e.canvas.style.msTransformOrigin=r,e.canvas.style.transformOrigin=r},h=function(t,n){switch(t.canvas.style.left=p.prototype.utils.pixelize("50%"===e.offsetLeft?-(t.canvas.width/2-t.canvas.height):-e.offsetLeft),n){case"top":t.orgPos=parseInt(t.canvas.style.left);break;case"left":t.canvas.style.top=p.prototype.utils.pixelize(-t.canvas.height-1),t.orgPos=parseInt(t.canvas.style.top),A(t,90);break}},m=function(e,t){var n=function(e){d||g(t.dimension,e.clientX,e.clientY,e)};t.canvas.addEventListener("mousedown",n),t.clearListeners=function(){t.canvas.removeEventListener("mousedown",n)}},g=function(n,s,l,f,A,h){var m,g=function(n,r,i){var o=n.dimension===t?r:i;n.assigned()?o<e.rulerHeight&&(u.some((function(e,t){if(e.line===n)return m=t,!0})),n.destroy(),u.splice(m,1)):o>e.rulerHeight&&n.assigned(!0)},v=function(e,t){},y=document.createElement("div"),b=n===t?"rul_lineVer":"rul_lineHor",w=n===t?r:i;y.title="双击删除",p.prototype.utils.addClasss(y,["rul_line",b]),y=c.appendChild(y),n===t?(y.style.left=p.prototype.utils.pixelize(s-e.container.getBoundingClientRect().left),A&&(y.style.left=p.prototype.utils.pixelize(Math.round(s/o)+e.rulerHeight))):(y.style.top=p.prototype.utils.pixelize(l-e.container.getBoundingClientRect().top),A&&(y.style.top=p.prototype.utils.pixelize(Math.round(l/o)+e.rulerHeight))),u.push({dimension:n,line:p.prototype.guideLine(y,e.container.querySelector(".rul_wrapper"),n,e,w,g,f,d,v,a)}),h||e.createGuidesCallback&&e.createGuidesCallback(n,s,l,A)},v=function(r,i){var o,a="left"===i||"right"===i?t:n,u=a===t?"rul_ruler_Vertical":"rul_ruler_Horizontal",c=document.createElement("canvas");p.prototype.utils.addClasss(c,["rul_ruler",u,"rul_align_"+i]),o=r.appendChild(c),s[i]=p.prototype.rulerConstructor(o,e,a),s[i].drawRuler(r.offsetWidth,e.rulerHeight),h(s[i],i),m(r,s[i])},y=function(){function t(t,n){var r=document.createElement("div"),i="rul_corner"+n.toUpperCase();return r.title="删除所有参考线",p.prototype.utils.addClasss(r,["rul_corner",i]),r.style.width=p.prototype.utils.pixelize(e.rulerHeight+1),r.style.height=p.prototype.utils.pixelize(e.rulerHeight),e.container.appendChild(r)}function n(e){e.stopPropagation(),D()}return function(e,r){r.forEach((function(r){var i=t(e,r);i.addEventListener("mousedown",n),i.destroy=function(){i.removeEventListener("mousedown",n),i.parentNode.removeChild(i)},l.push(i)}))}}(),b=function(e){u.forEach((function(e){e.line.stopDrag()}))},w=function(t){c=p.prototype.utils.addClasss(c,"rul_wrapper"),e=p.prototype.utils.extend(f,t),c=e.container.appendChild(c),e.sides.forEach((function(e){v(c,e)})),y(c,e.cornerSides),e.container.addEventListener("mouseup",b)},x=function(e){var t=0;for(var n in s)s.hasOwnProperty(n)&&e(s[n],t++)},C=function(e){e&&e.width&&(c.style.width=e.width),e&&e.height&&(c.style.height=e.height)},S=function(){return d},k=function(e){d=e,u.forEach((function(e){e.line.setIsLockGuides(d)}))},_=function(e){var o,a=0,s=0,c=0;x((function(n){n.dimension===t?(o=n.canvas.style.top,n.canvas.style.top=p.prototype.utils.pixelize(n.orgPos+parseInt(e.y)),c=parseInt(o)-parseInt(n.canvas.style.top)):(a=n.canvas.style.left,n.canvas.style.left=p.prototype.utils.pixelize(n.orgPos+parseInt(e.x)),s=parseInt(a)-parseInt(n.canvas.style.left))})),u.forEach((function(t){t.dimension===n?(t.line.guideLine.style.top=p.prototype.utils.pixelize(parseInt(t.line.guideLine.style.top)-c),t.line.curPosDelta(parseInt(e.y))):(t.line.guideLine.style.left=p.prototype.utils.pixelize(parseInt(t.line.guideLine.style.left)-s),t.line.curPosDelta(parseInt(e.x)))})),r=parseInt(e.x),i=parseInt(e.y)},B=function(t,s){var c;x((function(e){e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.context.beginPath(),e.setScale(t),e.context.stroke(),o=t})),a=s,u.forEach((function(o){o.dimension===n?(parseInt(o.line.guideLine.style.top),c=e.rulerHeight+1,parseFloat(t)/o.line.curScale(),o.line.guideLine.style.top=p.prototype.utils.pixelize(o.line.guideLine.dataset.tipnumberScale*s+c+i),o.line.curScale(t),o.line.curScaleNumber(a)):(parseInt(o.line.guideLine.style.left),c=e.rulerHeight+1,parseFloat(t)/o.line.curScale(),o.line.guideLine.style.left=p.prototype.utils.pixelize(o.line.guideLine.dataset.tipnumberScale*s+c+r),o.line.curScale(t),o.line.curScaleNumber(a))}))},D=function(){u.forEach((function(e){e.line.destroy()})),u=[],e.clearGuidesCallback&&e.clearGuidesCallback()},M=function(e){var t=e?"show":"hide";u.forEach((function(e){e.line[t]()}))},E=function(t){var n=t?"block":"none";c.style.display=n;var r=e.container.querySelectorAll(".rul_tracker");r.length>0&&(r[0].style.display=n,r[1].style.display=n)},T=function(){return u.map((function(t){return{posX:Math.round((parseInt(t.line.guideLine.style.left)-r-e.rulerHeight)*o),posY:Math.round((parseInt(t.line.guideLine.style.top)-i-e.rulerHeight)*o),dimension:t.dimension}}))},I=function(e,t){e&&e.forEach((function(e){g(e.dimension,e.posX,e.posY,null,!0,t)}))},O=function(){D(),x((function(e){e.destroy()})),l.forEach((function(e){e.destroy()})),e.container.removeEventListener("mouseup",b),c.parentNode.removeChild(c)};return{VERTICAL:t,HORIZONTAL:n,setPos:_,setScale:B,clearGuides:D,getGuides:T,setGuides:I,constructRulers:w,toggleRulerVisibility:E,toggleGuideVisibility:M,destroy:O,setRulerDomAttr:C,getIsLockGuides:S,setIsLockGuides:k}},p.prototype.rulerConstructor=function(e,t,n){var r=e,i=r.getContext("2d"),o=0,a=0,s=1,u=n||2,c=0,l=document.createElement("div"),d=function(){return a},f=function(){return o},A=function(){return s},h=function(e){return s=parseFloat(e),g(),s},m=function(e,n,u){a=r.width=e*t.zoomNumber,o=r.height=n,s=u||s,i.strokeStyle=t.strokeStyle,i.font=t.fontSize+" "+t.fontFamily,i.fillStyle=t.fontColor,i.lineWidth=t.lineWidth,i.beginPath(),g(),i.stroke()},g=function(){for(var e=0,n="",r=0,u=!1,c=0,l=o/2,d=o/2,f=0;f<=a;f+=1)if(r=("50%"===t.offsetLeft?a/2:t.offsetLeft+t.rulerHeight)-f,u=!1,n="",r%50===0?(e=c,n=Math.round(Math.abs(r)*s),u=!0):r%25===0?(e=l,u=!0):r%5===0&&(e=d,u=!0),u){i.moveTo(f+.5,o+.5),i.lineTo(f+.5,e+.5);try{i.fillText(n,f+1.5,o/2+1)}catch(A){}}},v=function(e){var n=e.clientX,r=e.clientY;2===u?l.style.left=p.prototype.utils.pixelize(n-parseInt(t.container.getBoundingClientRect().left)+t.container.scrollLeft):l.style.top=p.prototype.utils.pixelize(r-parseInt(t.container.getBoundingClientRect().top)+t.container.scrollTop)},y=function(){t.container.removeEventListener("mousemove",v),l.parentNode.removeChild(l),this.clearListeners&&this.clearListeners()},b=function(){l=t.container.appendChild(l),p.prototype.utils.addClasss(l,"rul_tracker");var e=p.prototype.utils.pixelize(t.rulerHeight);2===u?l.style.height=e:l.style.width=e,t.container.addEventListener("mousemove",v),t.container.addEventListener("scroll",v)};return t.enableMouseTracking&&b(),{getLength:d,getThickness:f,getScale:A,setScale:h,dimension:u,orgPos:c,canvas:r,context:i,drawRuler:m,drawPoints:g,destroy:y}},p.prototype.guideLine=function(e,t,n,r,i,o,a,s,u,c){var l,d=e,f=1,A=!1,h=i||0,m=t,g=n||2,v=(o=o||function(){},u=u||function(){},c),y=function(e){return"undefined"===typeof e?h:h=e},b=function(e){return"undefined"===typeof e?A:A=e},w=function(e){v=e},x=function(e){return"undefined"===typeof e?f:f=e},C=function(){return{move:function(e,t){s||(d.style.left=p.prototype.utils.pixelize(e),d.style.top=p.prototype.utils.pixelize(t),_(e,t),o(l,e,t))},startMoving:function(e){if(!s){p.prototype.utils.addClasss(d,["rul_line_dragged"]),e=e||window.event;var t=e?e.clientX:0,n=e?e.clientY:0,i=parseInt(d.style.top||0),o=parseInt(d.style.left||0),a=parseInt(d.offsetWidth),u=parseInt(d.offsetHeight),c=parseInt(m.offsetWidth),l=parseInt(m.offsetHeight),f=2===g?"ns-resize":"ew-resize";r.container.style.cursor=f,d.style.cursor=f;var A=t-o,h=n-i;document.onmousemove=function(e){e=e||window.event;var t=e.clientX,n=e.clientY,r=t-A,i=n-h;r<0&&(r=0),i<0&&(i=0),r+a>c&&(r=c-a),i+u>l&&(i=l-u),C.move(r,i)},S()}},stopMoving:function(){s||(u&&u(l,d),r.container.style.cursor=null,d.style.cursor=null,document.onmousemove=function(){},B(),p.prototype.utils.removeClasss(d,["rul_line_dragged"]))}}}(),S=function(e){r.enableToolTip&&p.prototype.utils.addClasss(d,"rul_tooltip")},k=null,_=function(e,t){t?(d.dataset.tip="Y: "+Math.round((t-r.rulerHeight-h)*(1/v))+" px",d.dataset.tipnumber=Math.round((t-r.rulerHeight-h)*(1/v)),d.dataset.tipnumberScale=Math.round((t-r.rulerHeight-h)*(1/v))):(d.dataset.tip="X: "+Math.round((e-r.rulerHeight-h)*(1/v))+" px",d.dataset.tipnumber=Math.round((e-r.rulerHeight-h)*(1/v)),d.dataset.tipnumberScale=Math.round((e-r.rulerHeight-h)*(1/v))),null===k&&(k=d.dataset.tipnumber)},B=function(e){p.prototype.utils.removeClasss(d,"rul_tooltip")},D=function(){C.stopMoving(),o=null,u=null,d.removeEventListener("mousedown",T),d.removeEventListener("mouseup",I),d.removeEventListener("dblclick",O),d.parentNode&&d.parentNode.removeChild(d)},M=function(){d.style.display="none"},E=function(){d.style.display="block"},T=function(e){e.stopPropagation(),C.startMoving()},I=function(e){r.moveGuidesCallback&&r.moveGuidesCallback(d,g,k),k=null,C.stopMoving()},O=function(e){e.stopPropagation(),r.deleteGuidesCallback&&r.deleteGuidesCallback(d,g),D()},L=function(e){s=e};return d.addEventListener("mousedown",T),d.addEventListener("mouseup",I),d.addEventListener("dblclick",O),a&&C.startMoving(a),l={setAsDraggable:C,startDrag:C.startMoving,stopDrag:C.stopMoving,destroy:D,curScale:x,assigned:b,curPosDelta:y,guideLine:d,dimension:g,hide:M,show:E,setIsLockGuides:L,curScaleNumber:w},l},p.prototype.utils={extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},pixelize:function(e){return e+"px"},prependChild:function(e,t){return e.insertBefore(t,e.firstChild)},addClasss:function(e,t){return t instanceof Array||(t=[t]),t.forEach((function(t){e.className+=" "+t})),e},removeClasss:function(e,t){var n=e.className;return t instanceof Array||(t=[t]),t.forEach((function(e){n=n.replace(e,"")})),e.className=n,e}};var m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-area-size-droplist",style:e.getStyle("root")},[n("div",[n("idm-a-dropdown",{attrs:{overlayClassName:"idm_dev_theme",placement:"bottomCenter"}},[n("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v(" "+e._s(e.selectDataInfo.showText)+" "),n("idm-a-icon",{attrs:{type:"down"}})],1),n("idm-a-menu",{attrs:{slot:"overlay"},on:{click:e.dragAreaSizeChangeHandle},slot:"overlay"},[e._l(e.dragAreaSizeList,(function(t){return[-1==t.type?n("idm-a-menu-divider",{key:t.key}):2==t.type?n("idm-a-sub-menu",{key:t.key},[n("div",{staticClass:"dropdown-option-item",class:{active:e.selectDataInfo.key==t.key},attrs:{slot:"title"},slot:"title"},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))])],1),n("idm-a-menu-item",{key:"9999",staticStyle:{"text-align":"center"}},[n("div",{staticClass:"dropdown-option-item active",staticStyle:{"padding-right":"0"}},[n("idm-a-icon",{attrs:{type:"save"}}),n("span",[e._v("保存当前尺寸")])],1)]),n("idm-a-menu-divider",{key:"9998"}),e._l(t.subList,(function(t,r){return n("idm-a-menu-item",{key:t.key},[n("div",{staticClass:"dropdown-option-item",class:{active:e.selectDataInfo.subKey==t.key}},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))]),n("idm-a-icon",{attrs:{type:"delete"},on:{click:function(n){return e.deleteItem(t,r)}}})],1)])}))],2):n("idm-a-menu-item",{key:t.key},[n("div",{staticClass:"dropdown-option-item",class:{active:e.selectDataInfo.key==t.key}},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))])],1)])]}))],2)],1)],1),n("div",[n("idm-a-input-number",{staticStyle:{width:"64px"},attrs:{size:"small",min:100,max:2500},on:{change:e.setSelectDataInfo},model:{value:e.selectDataInfo.width,callback:function(t){e.$set(e.selectDataInfo,"width",t)},expression:"selectDataInfo.width"}})],1),n("div",{staticClass:"symbol-multiply-by"},[n("idm-a-icon",{attrs:{type:"close"}})],1),n("div",[n("idm-a-input-number",{staticStyle:{width:"64px"},attrs:{size:"small",min:100,max:5e3},on:{change:e.setSelectDataInfo},model:{value:e.selectDataInfo.height,callback:function(t){e.$set(e.selectDataInfo,"height",t)},expression:"selectDataInfo.height"}})],1)])},g=[],v=(n("a9e3"),{name:"DragAreaSizeDropList",data:function(){return{dragAreaSizeList:[{key:"1",width:0,height:0,showText:"适应当前",type:1},{key:"2",showText:"自定义",type:2,subList:[]},{key:"-1",type:-1}],selectDataInfo:{key:"1",width:0,height:0,showText:"适应当前",type:1,subKey:null}}},props:{height:{type:Number,default:60},adaptScreen:{type:Object},fullScreenStatus:{type:Boolean}},created:function(){var e=this;IDM.setting.develop.dragAreaSizeList.forEach((function(t){e.dragAreaSizeList.push(t)}));var t=window.localStorage["DragAreaSizeCustomList"];if(t&&0==t.indexOf("[{")){t=JSON.parse(t);var n=this.dragAreaSizeList.filter((function(e){return 2==e.type}));n[0].subList=t}},mounted:function(){this.refreshAdaptScreen(this.adaptScreen,this.fullScreenStatus),console.log(this.selectDataInfo)},destroyed:function(){},methods:{refreshSelectedKey:function(e){this.dragAreaSizeChangeHandle({key:e},!0)},selectDragAreaSizeList:function(e){this.selectDataInfo=e,2==e.type?this.setSelectDataInfo():this.dragAreaSizeChangeHandle({key:e.key},!0)},refreshAdaptScreen:function(e,t){var n=this.dragAreaSizeList.filter((function(e){return 1==e.type}));n.length>0&&(n[0].width=t?e.fullWidth:e.minWidth,n[0].height=t?e.fullHeight:e.minHeight),1==this.selectDataInfo.type&&(this.selectDataInfo.width=t?e.fullWidth:e.minWidth,this.selectDataInfo.height=t?e.fullHeight:e.minHeight),this.$emit("changeHandle",this.selectDataInfo,!0)},deleteItem:function(e,t){var n=this.dragAreaSizeList.filter((function(e){return 2==e.type})),r=n[0].subList.splice(t,1);window.localStorage["DragAreaSizeCustomList"]=JSON.stringify(r[0].subList),this.idm_$message.success("删除成功！")},setSelectDataInfo:function(){var e=this,t=this.dragAreaSizeList.filter((function(e){return 2==e.type}));if(t.length>0){this.selectDataInfo.showText=t[0].showText,this.selectDataInfo.key=t[0].key,this.selectDataInfo.type=2;var n=t[0].subList.filter((function(t){return t.width==e.selectDataInfo.width&&t.height==e.selectDataInfo.height}));n.length>0?this.selectDataInfo.subKey=n[0].key:this.selectDataInfo.subKey=null}this.$emit("changeHandle",this.selectDataInfo,!1)},dragAreaSizeChangeHandle:function(e,t){var n=this,r=e.key;if(9999!=r){var i=this.dragAreaSizeList.filter((function(e){return e.key==r})),o="",a="";if(0==i.length){var s=this.dragAreaSizeList.filter((function(e){return 2==e.type}));s.length>0&&(o=s[0].showText,a=s[0].key,i=s[0].subList.filter((function(e){return e.key==r})))}1==i.length&&(this.selectDataInfo=JSON.parse(JSON.stringify(i[0])),8==i[0].type&&(this.selectDataInfo.showText=o,this.selectDataInfo.type=2,this.selectDataInfo.key=a,this.selectDataInfo.subKey=r)),this.$emit("changeHandle",this.selectDataInfo,t||!1)}else{var u=this.dragAreaSizeList.filter((function(e){return 2==e.type})),c=u[0].subList.some((function(e){return e.width==n.selectDataInfo.width&&e.height==n.selectDataInfo.height}));c?this.idm_$message.warning("目标尺寸已存在，不需要重复保存。"):(u[0].subList.push({key:Date.now(),width:this.selectDataInfo.width,height:this.selectDataInfo.height,showText:"".concat(this.selectDataInfo.width,"*").concat(this.selectDataInfo.height),type:8}),window.localStorage["DragAreaSizeCustomList"]=JSON.stringify(u[0].subList),this.idm_$message.success("保存成功！"))}},getStyle:function(e){var t={};switch(e){case"root":t["height"]=this.height+"px",t["line-height"]=this.height+"px";break;default:break}return t}}}),y=v,b=(n("32b5"),n("2877")),w=Object(b["a"])(y,m,g,!1,null,"d844e41c",null),x=w.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dragarea-top-left-title",style:e.getStyle("root")},[r("div",{staticClass:"backbtn"},[r("img",{staticStyle:{"margin-top":"-2px"},attrs:{src:e.IDM.setting.develop.logoImgSrc||n("cf05"),width:"30",height:"30"}})]),r("div",{staticClass:"title-content"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditTitle,expression:"!isEditTitle"}],staticClass:"readonlytitle",attrs:{title:e.pageTitle}},[r("div",[e._v(e._s(e.pageTitle||"请输入页面标题"))]),r("div",[r("idm-a-tooltip",[r("template",{slot:"title"},[r("span",[e._v("点击修改页面标题")])]),r("idm-a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:function(t){return e.showEditInput()}}})],2)],1)]),r("idm-a-input",{directives:[{name:"show",rawName:"v-show",value:e.isEditTitle,expression:"isEditTitle"}],ref:"inputtitle",staticClass:"inputtitle",attrs:{placeholder:"请输入页面标题"},on:{change:e.pageTitleChange,blur:function(t){e.isEditTitle=!e.isEditTitle}},model:{value:e.pageTitle,callback:function(t){e.pageTitle=t},expression:"pageTitle"}},[r("idm-a-tooltip",{attrs:{slot:"suffix",title:"该标题将作用于浏览器的页面标题"},slot:"suffix"},[r("idm-a-icon",{attrs:{type:"info-circle"}})],1)],1)],1),r("div",{staticClass:"version-dropdown"},[r("idm-a-dropdown",{attrs:{overlayClassName:"idm_dev_theme"}},[r("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v(" v"+e._s(e.version||e.versionList[0].version)+" "),r("idm-a-icon",{attrs:{type:"down"}})],1),r("idm-a-menu",{attrs:{slot:"overlay"},slot:"overlay"},e._l(e.versionList,(function(t,n){return r("idm-a-menu-item",{key:t.version,on:{click:function(n){return e.changeVersion(t)}}},[r("a",{attrs:{href:"javascript:;"}},[e._v("v"+e._s(t.version)+e._s(t.version==e.version?"（当前）":0==n?"（最新）":""))])])})),1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.versionList&&e.versionList.length>0&&e.versionList[0].version!=e.version,expression:"versionList&&versionList.length>0&&versionList[0].version != version"}],staticClass:"updatebtn"},[r("idm-a-button",{attrs:{type:"link"},on:{click:function(t){return e.changeVersion(e.versionList[0])}}},[r("idm-a-icon",{attrs:{type:"sync"}}),e._v("更新版本 ")],1)],1)])},S=[],k={name:"TopLeftTitle",data:function(){return{isEditTitle:!1,pageTitle:"",versionList:[{version:"1.0.0",author:"作者",remark:"版本备注",datetime:"2021-03-23 12:50:14"}]}},props:{title:{type:String,default:""},version:{type:String},height:{type:Number,default:60},pageId:{type:String,default:""}},created:function(){},mounted:function(){var e=this;this.pageTitle=this.title,this.$developApi.fetchPageVersionListData({pageid:this.pageId}).then((function(t){e.versionList=t.data.data,(!e.versionList||e.versionList&&0==e.versionList.length)&&(e.versionList=[{version:"1.0.0",author:"作者",remark:"版本备注",datetime:"2021-03-23 12:50:14"}]),e.$nextTick((function(){e.$emit("loadedHandle",e.versionList)}))}))},destroyed:function(){},methods:{pageTitleChange:function(){this.refreshOutData()},changeVersion:function(e){this.refreshOutData(e)},showEditInput:function(){this.isEditTitle=!this.isEditTitle,this.$nextTick((function(){this.$refs.inputtitle.focus()}))},refreshOutData:function(e){var t=this,n=this.versionList.filter((function(e){return e.version==t.version}));this.$emit("changeHandle",{title:this.pageTitle,version:e||(n.length>0?n[0]:this.versionList[0])})},getStyle:function(e){var t={};switch(e){case"root":t["height"]=this.height+"px",t["line-height"]=this.height+"px";break;default:break}return t}},watch:{title:{handler:function(e,t){this.pageTitle=this.title}},version:{handler:function(e,t){var n=this;this.$developApi.fetchPageVersionListData({pageid:this.pageId}).then((function(e){n.versionList=e.data.data}))}}}},B=k,D=(n("3c42"),Object(b["a"])(B,C,S,!1,null,"16b54bea",null)),M=D.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dragarea-top-right-action",style:e.getStyle("root")},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.getMenuObjectForKey("400").active,expression:"getMenuObjectForKey('400').active"}],attrs:{disabled:e.getMenuObjectForKey("401").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"401"})}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("全屏模式")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.getMenuObjectForKey("401").active,expression:"getMenuObjectForKey('401').active"}],attrs:{disabled:e.getMenuObjectForKey("400").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"400"})}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("标准模式")])]),n("div",{attrs:{disabled:e.getMenuObjectForKey("304").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"304"})}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("页面设置")])]),n("div",[n("idm-a-dropdown",{attrs:{overlayClassName:"idm_dev_theme",placement:"bottomCenter"}},[n("a",{on:{click:function(e){return e.preventDefault()}}},[e._v(" 更多 ")]),n("idm-a-menu",{attrs:{slot:"overlay"},on:{click:e.actionMenuClickHandle},slot:"overlay"},[e._l(e.actionMenuList,(function(t){return[-1==t.type?n("idm-a-menu-divider",{key:t.key}):2!=t.type||t.hidden?t.hidden?e._e():n("idm-a-menu-item",{key:t.key,attrs:{disabled:t.disabled}},[n("div",{staticClass:"menu-option-item",class:{active:t.active}},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))]),n("div",{staticClass:"shortcutkey"},[e._v(e._s(t.shortcutKey))])],1)]):n("idm-a-sub-menu",{key:t.key,attrs:{disabled:t.disabled}},[n("div",{staticClass:"menu-option-item",class:{active:t.active},attrs:{slot:"title"},slot:"title"},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))])],1),e._l(t.subList,(function(t){return[-1==t.type?n("idm-a-menu-divider",{key:t.key}):t.hidden?e._e():n("idm-a-menu-item",{key:t.key,attrs:{disabled:t.disabled}},[n("div",{staticClass:"menu-option-item",class:{active:t.active}},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))]),n("div",{staticClass:"shortcutkey"},[e._v(e._s(t.shortcutKey))])],1)])]}))],2)]}))],2)],1)],1),n("div",{attrs:{disabled:e.getMenuObjectForKey("106").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"106"})}}},[n("idm-a-tooltip",{attrs:{title:"全局搜索 Ctrl+Shift+F"}},[n("div",[n("idm-a-icon",{staticClass:"oneicon",attrs:{type:"search"}})],1)])],1),n("div",{staticClass:"backout",attrs:{disabled:e.getMenuObjectForKey("104").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"104"})}}},[n("idm-a-tooltip",{attrs:{title:"撤销 Ctrl+Z"}},[n("div",[n("svg-icon",{staticClass:"oneicon",attrs:{"icon-class":"revocation"}})],1)])],1),n("div",{attrs:{disabled:e.getMenuObjectForKey("105").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"105"})}}},[n("idm-a-tooltip",{attrs:{title:"重做 Ctrl+Shift+Z"}},[n("div",[n("svg-icon",{staticClass:"oneicon",attrs:{"icon-class":"revocation"}})],1)])],1),n("div",{attrs:{disabled:e.getMenuObjectForKey("303").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"303"})}}},[n("idm-a-tooltip",{attrs:{title:"历史记录 Ctrl+Shift+Alt+H"}},[n("div",[n("idm-a-icon",{staticClass:"oneicon",attrs:{type:"history"}})],1)])],1),n("div",{attrs:{disabled:e.getMenuObjectForKey("102").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"102"})}}},[n("idm-a-tooltip",{attrs:{title:"预览 Ctrl+P"}},[n("div",[n("idm-a-icon",{staticClass:"oneicon",staticStyle:{"font-size":"18px"},attrs:{type:"eye"}})],1)])],1),n("div",{staticStyle:{padding:"0"},attrs:{disabled:e.getMenuObjectForKey("100").disabled},on:{click:function(t){return e.actionMenuClickHandle({key:"100"})}}},[n("idm-a-tooltip",{attrs:{title:"保存 Ctrl+S"}},[n("div",{staticClass:"savebtn"},[e._v("保 存")])])],1)])},T=[],I={name:"TopRightAction",data:function(){return{actionMenuList:[{key:"1",showText:"常用操作",type:2,subList:[{key:"100",showText:"保存",value:"",type:1,active:!1,disabled:!1,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"83"},shortcutKey:"Ctrl+S"},{key:"101",showText:"另存为",value:"",type:1,hidden:"easy"==IDM.url.queryObject().mode,active:!1,disabled:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"83"},shortcutKey:"Ctrl+Shift+S"},{key:"102",showText:"预览",value:"",type:1,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"80"},shortcutKey:"Ctrl+P"},{key:"104",showText:"撤销",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"90"},shortcutKey:"Ctrl+Z"},{key:"105",showText:"重做",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"90"},shortcutKey:"Ctrl+Shift+Z"},{key:"106",showText:"搜索",value:"",type:1,active:!1,disabled:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"70"},shortcutKey:"Ctrl+Shift+F"},{key:"107",type:-1},{key:"110",showText:"剪切组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"88"},shortcutKey:"Ctrl+X"},{key:"108",showText:"拷贝组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"67"},shortcutKey:"Ctrl+C"},{key:"109",showText:"粘贴组件",value:"",type:1,active:!1,disabled:!1,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"86"},shortcutKey:"Ctrl+V"},{key:"126",showText:"复制组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"67"},shortcutKey:"Ctrl+Shift+C"},{key:"111",showText:"删除组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!0,keyCode:"46"},shortcutKey:"Alt+Del"},{key:"112",type:-1},{key:"121",showText:"上移一层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"221"},shortcutKey:"Ctrl+]"},{key:"122",showText:"下移一层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"219"},shortcutKey:"Ctrl+["},{key:"123",showText:"置于顶层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"84"},shortcutKey:"Ctrl+T"},{key:"124",showText:"置于底层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"66"},shortcutKey:"Ctrl+B"},{key:"131",type:-1},{key:"113",showText:"选择父组件",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"38"},shortcutKey:"↑"},{key:"114",showText:"选择子组件",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"40"},shortcutKey:"↓"},{key:"115",showText:"向右选择兄弟组件",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"39"},shortcutKey:"→"},{key:"116",showText:"向左选择兄弟组件",value:"",type:1,active:!1,disabled:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"37"},shortcutKey:"←"},{key:"117",showText:"拖拽组件并复制",value:"",type:1,active:!1,disabled:!0,shortcutKey:"Alt+Drag"},{key:"132",type:-1},{key:"118",showText:"组合",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"71"},shortcutKey:"Ctrl+G"},{key:"119",showText:"取消组合",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,hidden:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"71"},shortcutKey:"Ctrl+Shift+G"},{key:"128",showText:"锁定",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"76"},shortcutKey:"Ctrl+L"},{key:"131",showText:"解锁",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,hidden:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"76"},shortcutKey:"Ctrl+Shift+L"},{key:"129",showText:"隐藏",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"72"},shortcutKey:"Ctrl+H"}]},{key:"2",showText:"工具辅助",type:2,subList:[{key:"200",showText:"显示网格",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"222"},shortcutKey:"Ctrl+Alt+'"},{key:"201",showText:"显示标尺",value:"",type:1,active:!0,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"188"},shortcutKey:"Ctrl+Alt+,"},{key:"202",showText:"显示参考线",value:"",type:1,active:!0,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"190"},shortcutKey:"Ctrl+Alt+."},{key:"203",showText:"创建参考线",value:"",type:1,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"78"},shortcutKey:"Ctrl+Alt+N"},{key:"204",showText:"锁定参考线",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"76"},shortcutKey:"Ctrl+Shift+Alt+L"},{key:"205",showText:"删除所有参考线",value:"",type:1,active:!1,shortcutKey:""}]},{key:"3",showText:"功能区",type:2,subList:[{key:"300",showText:"开关左侧功能区",value:"",type:1,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"219"},shortcutKey:"Ctrl+Shift+Alt+["},{key:"301",showText:"开关右侧属性区",value:"",type:1,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"221"},shortcutKey:"Ctrl+Shift+Alt+]"},{key:"302",type:-1},{key:"303",showText:"历史记录",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"72"},shortcutKey:"Ctrl+Shift+Alt+H"},{key:"304",showText:"页面设置",value:"",type:1,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"83"},shortcutKey:"Ctrl+Shift+Alt+S"},{key:"305",showText:"动作面板",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"77"},shortcutKey:"Ctrl+Shift+Alt+M"},{key:"306",showText:"页面源码",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"67"},shortcutKey:"Ctrl+Shift+Alt+C"},{key:"307",showText:"数据源",value:"",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:"82"},shortcutKey:"Ctrl+Shift+Alt+R"}]},{key:"4",showText:"屏幕模式",type:2,subList:[{key:"400",showText:"标准模式",value:!1,type:1,active:!0,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"49"},shortcutKey:"Ctrl+Shift+1"},{key:"401",showText:"全屏模式",value:!0,type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"50"},shortcutKey:"Ctrl+Shift+2"}]},{key:"5",showText:"当前主题",type:2,subList:[{key:"500",showText:"默认主题",value:"default",type:1,active:!0,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"49"},shortcutKey:"Ctrl+1"},{key:"501",showText:"酷黑主题",value:"night",type:1,active:!1,mayCheck:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"50"},shortcutKey:"Ctrl+2"}]},{key:"-1",type:-1},{key:"6",showText:"IDM学院",type:3,active:!1,disabled:!0,openUrl:IDM.setting.develop.schoolsUrl,shortcutKey:""},{key:"7",showText:"组件开发",type:3,active:!1,disabled:!1,openUrl:IDM.setting.develop.devComponentUrl,shortcutKey:""},{key:"8",showText:"帮助文档",type:3,active:!1,disabled:!1,openUrl:IDM.setting.develop.helpDocumentUrl,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"112"},shortcutKey:"Ctrl+F1"},{key:"12",showText:"文档管理",type:3,active:!1,disabled:!1,openUrl:IDM.setting.develop.documentManageUrl,shortcutKey:""},{key:"9",type:-1},{key:"11",showText:"偏好设置",type:9,active:!1,shortcutKey:""},{key:"10",showText:"关于",type:9,active:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"65"},shortcutKey:"Ctrl+Shift+A"}],selectedModuleData:{},copyOrCutModuleData:null,parseType:""}},props:{height:{type:Number,default:60}},created:function(){this.loadActionCacheToPage()},mounted:function(){},destroyed:function(){},methods:{menuStatusChange:function(e){var t=this;switch(console.log("外部调用刷新菜单的参数：",e),e.type){case"changeLockState":var n=e.data;this.actionMenuList[0].subList.forEach((function(e){"128"==e.key?(e.disabled=!n,e.hidden=!n):"131"==e.key&&(e.disabled=n,e.hidden=n)}));break;case"changeGroupState":var r=e.data;this.actionMenuList[0].subList.forEach((function(e){"118"==e.key?(e.disabled=!r.group,e.hidden=!1===r.group&&!1===r.ungroup):"119"==e.key&&(e.disabled=!r.ungroup,e.hidden=!1)}));break;case"changeZindexState":this.actionMenuList[0].subList.forEach((function(t){"121"==t.key||"123"==t.key?t.disabled=!e.data.zIndexUp:"122"!=t.key&&"124"!=t.key||(t.disabled=!e.data.zIndexDown)}));break;case"selectedGroup":this.actionMenuList[0].subList.forEach((function(t){e&&e.data&&e.data.length&&["108","109","110","126","129","111"].includes(t.key)&&(t.disabled=!1)}));break;case"selectedModule":this.selectedModuleData=e.data,this.actionMenuList[0].subList.forEach((function(n){"0"==e.data.comId||-1!=e.data.cIndex?((["108","110","126","111","128","129","131","117","121","122","123","124","118","119"].includes(n.key)||"0"==e.data.comId&&"113"==n.key)&&(n.disabled=!0),-1!=e.data.cIndex&&"113"==n.key&&(n.disabled=!1)):"absolute"==t.selectedModuleData.positionMode&&"129"==n.key?n.disabled=!1:(["108","110","126","111","113","117"].includes(n.key)&&(n.disabled=!1),"129"==n.key&&(n.disabled=!0)),"absolute"!=t.selectedModuleData.positionMode&&["128","131","121","122","123","124"].includes(n.key)&&(n.disabled=!0),["114","115","116"].includes(n.key)&&(n.disabled=!1),(!t.selectedModuleData.hasChildrenModule&&"114"==n.key||"0"==e.data.comId&&"115"==n.key||"0"==e.data.comId&&"116"==n.key)&&(n.disabled=!0)}));break;case"closeBottomPanel":this.actionMenuList.forEach((function(e){"3"==e.key&&e.subList.forEach((function(e){["303","305","306","307"].includes(e.key)&&(e.active=!1)}))})),this.saveActionStateToCache();break;case"openBottomActionPanel":this.actionMenuList.forEach((function(e){"3"==e.key&&e.subList.forEach((function(e){"305"==e.key&&(e.active=!0)}))})),this.saveActionStateToCache();break}this.changPasteMenuStatus()},changPasteMenuStatus:function(){this.actionMenuList[0].subList.forEach((function(e){e.key}))},keyDownEventHandle:function(e){var t=this,n=e.ctrlKey,r=e.shiftKey,i=e.altKey,o=e.keyCode;if("BODY"!=document.activeElement.tagName)return!0;var a=!0,s="";return this.actionMenuList.map((function(e){e.keyGroup&&(e.keyGroup.ctrlKey!=n||e.keyGroup.shiftKey!=r||e.keyGroup.altKey!=i||e.keyGroup.keyCode!=o||e.hidden||(s=e.key,t.actionMenuClickHandle({key:e.key,event:!0}),a=!1)),e.subList&&e.subList.map((function(e){e.keyGroup&&(e.keyGroup.ctrlKey!=n||e.keyGroup.shiftKey!=r||e.keyGroup.altKey!=i||e.keyGroup.keyCode!=o||e.hidden||(s=e.key,t.actionMenuClickHandle({key:e.key,event:!0}),a=!1))}))})),a||"109"==s||(e.preventDefault(),e.returnValue=!1),a},actionMenuClickHandle:function(e){var t=this,n=e.key,r=e.event,i=this.getMenuObjectForKey(n);if(i.event=r,i&&i.mayCheck){if((0==n.indexOf("4")||0==n.indexOf("5"))&&i.active)return void this.idm_$message.warning("当前已是【"+i.showText+"】");i.active=!i.active}var o=["4","5"];o.map((function(e){if(0==n.indexOf(e)){var r=t.getMenuObjectForKey(e);r&&r.subList.map((function(e){e.key!=n&&(e.active=!1)}))}})),i&&i.openUrl&&window.open(this.IDM.url.getWebPath(i.openUrl)),console.log(i),this.$emit("changeHandle",i),this.saveActionStateToCache()},loadActionCacheToPage:function(){var e=this,t=window.localStorage["DevelopActionState"];t&&0==t.indexOf("[{")&&(t=JSON.parse(t),t.map((function(t){var n=e.getMenuObjectForKey(t.key);e.actionChangeToFatherEvent(n,t),t.subList&&t.subList.map((function(t){var n=e.getMenuObjectForKey(t.key);e.actionChangeToFatherEvent(n,t)}))})))},actionChangeToFatherEvent:function(e,t){1==e.type?e.active!=t.active&&(e.active=t.active,this.$emit("changeHandle",e)):e.active=t.active},saveActionStateToCache:function(){window.localStorage["DevelopActionState"]=JSON.stringify(this.actionMenuList)},getMenuObjectForKey:function(e){var t;return this.actionMenuList.map((function(n,r){n.key==e&&(t=n),n.subList&&n.subList.map((function(n){n.key==e&&(t=n)}))})),t},getStyle:function(e){var t={};switch(e){case"root":t["height"]=this.height+"px",t["line-height"]=this.height+"px";break;default:break}return t}}},O=I,L=(n("7b20"),Object(b["a"])(O,E,T,!1,null,"5197dcf0",null)),F=L.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-market",style:e.getStyle("root")},[n("div",{staticClass:"market_search"},[n("div",{staticClass:"group_box"},[n("idm-a-select",{attrs:{"default-value":"",dropdownClassName:"idm_dev_theme"},on:{change:e.groupHandleChange},model:{value:e.filterModel.group,callback:function(t){e.$set(e.filterModel,"group",t)},expression:"filterModel.group"}},[n("idm-a-select-option",{key:"-1",attrs:{value:""}},[e._v(" 全部 ")]),e._l(e.marketData,(function(t){return n("idm-a-select-option",{key:t.groupId,attrs:{value:t.groupId}},[e._v(" "+e._s(t.groupTitle)+" ")])}))],2)],1),n("div",{staticClass:"search_box"},[n("idm-a-input-search",{staticStyle:{width:"228px"},attrs:{placeholder:"搜索组件"},on:{search:e.onSearch},model:{value:e.filterModel.text,callback:function(t){e.$set(e.filterModel,"text",t)},expression:"filterModel.text"}}),n("idm-a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v(e._s("grid"==e.filterModel.listType?"点击切换成列表模式":"点击切换成网格模式"))])]),n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"grid"==e.filterModel.listType,expression:"filterModel.listType=='grid'"}],staticClass:"list_type_btn",attrs:{icon:"unordered-list"},on:{click:function(t){e.filterModel.listType="list"}}}),n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType=='list'"}],staticClass:"list_type_btn",attrs:{icon:"appstore"},on:{click:function(t){e.filterModel.listType="grid"}}})],2)],1)]),n("div",{staticClass:"market_content scrollbar_style"},[n("idm-a-collapse",{attrs:{activeKey:e.getGroupAllKey(),"expand-icon-position":"right"}},[e._l(e.marketData,(function(t){return[n("idm-a-collapse-panel",{directives:[{name:"show",rawName:"v-show",value:e.showGroupSwitch(t),expression:"showGroupSwitch(item)"}],key:t.groupId,attrs:{header:t.groupTitle}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType=='list'"}],staticClass:"market_content_inner"},[e._l(t.componentList,(function(r,i){return[n("div",{directives:[{name:"show",rawName:"v-show",value:r.comName.indexOf(e.filterModel.text)>-1||r.asName.indexOf(e.filterModel.text)>-1||r.classId.indexOf(e.filterModel.text)>-1||""==e.filterModel.text,expression:"sitem.comName.indexOf(filterModel.text)>-1||sitem.asName.indexOf(filterModel.text)>-1||sitem.classId.indexOf(filterModel.text)>-1||filterModel.text==''"}],key:r.comId+"_list",staticClass:"component_item_info",attrs:{"data-comType":r.comType,"data-id":r.comId,title:r.asName}},[n("div",{staticClass:"component_pimg"},[r.imgList?n("img",{style:e.getStyle("itemimg",r),attrs:{src:r.imgList.length>0?e.IDM.url.getWebPath(r.imgList[0].src):""}}):e._e(),n("div",[e._v(e._s(r.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",attrs:{title:r.asName}},[e._v(e._s(r.asName))]),r.lastVersion&&r.lastVersion.version?n("div",{staticClass:"component_info_inner_version",attrs:{title:r.lastVersion.version}},[e._v("v"+e._s(r.lastVersion.version))]):e._e(),n("div",{staticClass:"component_info_inner_classid",attrs:{title:r.classId}},[e._v(e._s(r.classId))])]),n("div",{staticClass:"component_item_preview_btn",on:{click:function(t){return e.openPreviewModule(t,r)}}},[e._v("预览")])]),n("idm-a-divider",{directives:[{name:"show",rawName:"v-show",value:t.componentList.length!=i+1&&(r.comName.indexOf(e.filterModel.text)>-1||r.asName.indexOf(e.filterModel.text)>-1||r.classId.indexOf(e.filterModel.text)>-1||""==e.filterModel.text),expression:"item.componentList.length!=index+1&&(sitem.comName.indexOf(filterModel.text)>-1||sitem.asName.indexOf(filterModel.text)>-1||sitem.classId.indexOf(filterModel.text)>-1||filterModel.text=='')"}],key:t.groupId+i})]})),!t.componentList||t.componentList&&0==t.componentList.length?n("div",{staticClass:"no_market_content"},[e._v("暂无组件")]):e._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:"grid"==e.filterModel.listType,expression:"filterModel.listType=='grid'"}],staticClass:"market_content_inner gridmarket"},[e._l(t.componentList,(function(t){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.comName.indexOf(e.filterModel.text)>-1||t.asName.indexOf(e.filterModel.text)>-1||t.classId.indexOf(e.filterModel.text)>-1||""==e.filterModel.text,expression:"sitem.comName.indexOf(filterModel.text)>-1||sitem.asName.indexOf(filterModel.text)>-1||sitem.classId.indexOf(filterModel.text)>-1||filterModel.text==''"}],key:t.comId+"_grid",staticClass:"component_grid_info",attrs:{"data-comType":t.comType,"data-id":t.comId,title:t.asName}},[n("div",{staticClass:"icon_box"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})])]),n("div",{staticClass:"name_box"},[e._v(e._s(t.asName))]),n("div",{staticClass:"component_item_preview_btn",on:{click:function(n){return e.openPreviewModule(n,t)}}},[e._v("预览")])])]})),!t.componentList||t.componentList&&0==t.componentList.length?n("div",{staticClass:"no_market_content"},[e._v("暂无组件")]):e._e()],2)])]}))],2)],1),n("idm-a-modal",{attrs:{width:"1000px",wrapClassName:"idm_dev_modal idm_module_md_preview_modal",cancelText:"关闭",destroyOnClose:!0,footer:null,centered:!0,title:"组件预览【"+e.previewModuleObject.asName+"】"},on:{cancel:function(){return e.previewModuleModalVisible=!1},ok:function(){return e.previewModuleModalVisible=!1}},model:{value:e.previewModuleModalVisible,callback:function(t){e.previewModuleModalVisible=t},expression:"previewModuleModalVisible"}},[n("idm-a-tabs",{attrs:{"default-active-key":"1"}},[n("idm-a-tab-pane",{key:"1",attrs:{tab:"图片预览"}},[n("div",{staticStyle:{height:"70vh",overflow:"auto","text-align":"center"}},[e._l(e.previewModuleObject.imgList,(function(t,r){return[n("img",{key:r,staticStyle:{"max-width":"96%"},attrs:{src:e.IDM.url.getWebPath(t.src)}}),n("div",{key:"text"+r,staticStyle:{"text-align":"center",padding:"10px 0px 20px"}},[e._v("图"+e._s(r+1)+"："+e._s(t.name))])]}))],2)]),n("idm-a-tab-pane",{key:"2",attrs:{tab:"运行效果"}},[n("div",{staticStyle:{height:"70vh",overflow:"hidden"}},[e.previewModuleObject.lastVersion?n("iframe",{staticStyle:{height:"100%",overflow:"auto",border:"none",width:"100%"},attrs:{src:e.IDM.url.getWebPath("@"+e.previewModuleObject.lastVersion.codeSrc.replace("static/main.js","")+"index.html#/?className="+e.previewModuleObject.className,e.previewModuleObject.lastVersion.projectNo)}}):e._e()])])],1)],1)],1)},N=[],U=n("2f62"),H={name:"ComponentMarket",data:function(){return{previewModuleModalVisible:!1,previewModuleObject:{},filterModel:{group:"",text:"",listType:IDM.setting.develop.componentMarketListDefaultType},marketData:[{groupId:"1",groupTitle:"",componentList:[{comId:"",comName:"",asName:"",classId:"",iconClass:"",type:"platform",imgList:[{src:"",width:0,height:0,size:"187298"}],lastVersion:{version:"1.1.9",codeSrc:"",datetime:"2021-03-23 12:50:14"},versionList:[{version:"1.1.9",codeSrc:"",datetime:"2021-03-23 12:50:14"},{version:"1.1.8",codeSrc:"",datetime:"2021-03-23 12:50:14"}]}]}]}},props:{},created:function(){},mounted:function(){var e=this,t=this;this.$developApi.fetchComponentMarketData().then((function(n){e.marketData=n.data.data,e.$nextTick((function(){t.$emit("loadedHandle",t.marketData)})),e.DEVELOP_MARKET_MODULE_LIST(e.marketData)}))},destroyed:function(){},methods:Object(a["a"])(Object(a["a"])({},Object(U["b"])({DEVELOP_MARKET_MODULE_LIST:"DEVELOP_MARKET_MODULE_LIST"})),{},{openPreviewModule:function(e,t){e.stopPropagation(),e.preventDefault(),this.previewModuleModalVisible=!0,this.previewModuleObject=t},showGroupSwitch:function(e){var t=this,n=!1;return""!=this.filterModel.text?e.componentList&&e.componentList.forEach((function(e){(e.comName.indexOf(t.filterModel.text)>-1||e.asName.indexOf(t.filterModel.text)>-1||e.classId.indexOf(t.filterModel.text)>-1)&&(n=!0)})):n=!0,e.groupId!=this.filterModel.group&&""!=this.filterModel.group&&(n=!1),n},onSearch:function(e){},groupHandleChange:function(e){},getGroupAllKey:function(){var e=[];return this.marketData.forEach((function(t){e.push(t.groupId)})),e},getStyle:function(e,t){var n={};switch(e){case"root":break;case"itemimg":if(t&&t.imgList&&t.imgList.length>0){var r=t.imgList[0];parseInt(r.width)>parseInt(r.height)?n["height"]="100%":n["width"]="100%"}break;default:break}return n}})},R=H,V=Object(b["a"])(R,P,N,!1,null,"b4ff3830",null),Q=V.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-market",style:e.getStyle("root")},[n("div",{staticClass:"market_search"},[n("div",{staticClass:"group_box"},[n("idm-a-select",{attrs:{"default-value":"",dropdownClassName:"idm_dev_theme"},on:{change:e.groupHandleChange},model:{value:e.filterModel.group,callback:function(t){e.$set(e.filterModel,"group",t)},expression:"filterModel.group"}},[n("idm-a-select-option",{key:"-1",attrs:{value:""}},[e._v(" 全部 ")]),e._l(e.marketData,(function(t){return n("idm-a-select-option",{key:t.groupId,attrs:{value:t.groupId}},[e._v(" "+e._s(t.groupTitle)+" ")])}))],2)],1),n("div",{staticClass:"search_box"},[n("idm-a-input-search",{staticStyle:{width:"228px"},attrs:{placeholder:"搜索组件"},on:{search:e.onSearch},model:{value:e.filterModel.text,callback:function(t){e.$set(e.filterModel,"text",t)},expression:"filterModel.text"}}),n("idm-a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v(e._s("grid"==e.filterModel.listType?"点击切换成列表模式":"点击切换成网格模式"))])]),n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"grid"==e.filterModel.listType,expression:"filterModel.listType=='grid'"}],staticClass:"list_type_btn",attrs:{icon:"unordered-list"},on:{click:function(t){e.filterModel.listType="list"}}}),n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType=='list'"}],staticClass:"list_type_btn",attrs:{icon:"appstore"},on:{click:function(t){e.filterModel.listType="grid"}}})],2)],1)]),n("div",{staticClass:"market_content scrollbar_style"},[n("idm-a-collapse",{attrs:{activeKey:e.getGroupAllKey(),"expand-icon-position":"right"}},[e._l(e.marketData,(function(t){return[n("idm-a-collapse-panel",{directives:[{name:"show",rawName:"v-show",value:e.showGroupSwitch(t),expression:"showGroupSwitch(item)"}],key:t.groupId,attrs:{header:t.groupTitle}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType=='list'"}],staticClass:"market_content_inner"},[e._l(t.componentList,(function(r,i){return[n("div",{directives:[{name:"show",rawName:"v-show",value:r.comName.indexOf(e.filterModel.text)>-1||r.remark.indexOf(e.filterModel.text)>-1||""==e.filterModel.text,expression:"sitem.comName.indexOf(filterModel.text)>-1||sitem.remark.indexOf(filterModel.text)>-1||filterModel.text==''"}],key:r.comId+"_list",staticClass:"component_item_info",attrs:{"data-comType":r.comType,"data-id":r.comId,title:r.comName}},[n("div",{staticClass:"component_pimg"},[r.imgList?n("img",{style:e.getStyle("itemimg",r),attrs:{src:r.imgList.length>0?e.IDM.url.getWebPath(r.imgList[0].src):""}}):e._e(),r.schemaText&&r.schemaText.page&&r.schemaText.page.componentsMap?n("div",[e._v(e._s("含"+(r.schemaText.page.componentsMap.length-1)+"个组件"))]):e._e()]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",attrs:{title:r.comName}},[e._v(e._s(r.comName))]),n("p",{staticClass:"component_info_inner_version",attrs:{title:r.remark}},[e._v(e._s(r.remark))])]),n("div",{staticClass:"component_item_preview_btn",on:{click:function(t){return e.openPreviewModule(t,r)}}},[e._v("预览")])]),n("idm-a-divider",{directives:[{name:"show",rawName:"v-show",value:t.componentList.length!=i+1&&(r.comName.indexOf(e.filterModel.text)>-1||r.remark.indexOf(e.filterModel.text)>-1||""==e.filterModel.text),expression:"item.componentList.length!=index+1&&(sitem.comName.indexOf(filterModel.text)>-1||sitem.remark.indexOf(filterModel.text)>-1||filterModel.text=='')"}],key:t.groupId+i})]})),!t.componentList||t.componentList&&0==t.componentList.length?n("div",{staticClass:"no_market_content"},[e._v("暂无组件")]):e._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:"grid"==e.filterModel.listType,expression:"filterModel.listType=='grid'"}],staticClass:"market_content_inner gridmarket"},[e._l(t.componentList,(function(t){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.comName.indexOf(e.filterModel.text)>-1||t.remark.indexOf(e.filterModel.text)>-1||""==e.filterModel.text,expression:"sitem.comName.indexOf(filterModel.text)>-1||sitem.remark.indexOf(filterModel.text)>-1||filterModel.text==''"}],key:t.comId+"_grid",staticClass:"component_grid_info",attrs:{"data-comType":t.comType,"data-id":t.comId,title:t.comName}},[n("div",{staticClass:"icon_box"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})])]),n("div",{staticClass:"name_box"},[e._v(e._s(t.comName))]),n("div",{staticClass:"component_item_preview_btn",on:{click:function(n){return e.openPreviewModule(n,t)}}},[e._v("预览")])])]})),!t.componentList||t.componentList&&0==t.componentList.length?n("div",{staticClass:"no_market_content"},[e._v("暂无组件")]):e._e()],2)])]}))],2)],1),n("idm-a-modal",{attrs:{width:"1000px",wrapClassName:"idm_dev_modal idm_module_md_preview_modal",cancelText:"关闭",destroyOnClose:!0,footer:null,centered:!0,title:"组件预览【"+e.previewModuleObject.comName+"】"},on:{cancel:function(){return e.previewModuleModalVisible=!1},ok:function(){return e.previewModuleModalVisible=!1}},model:{value:e.previewModuleModalVisible,callback:function(t){e.previewModuleModalVisible=t},expression:"previewModuleModalVisible"}},[n("idm-a-tabs",{attrs:{"default-active-key":"1"}},[n("idm-a-tab-pane",{key:"1",attrs:{tab:"图片预览"}},[n("div",{staticStyle:{height:"70vh",overflow:"auto","text-align":"center"}},[e._l(e.previewModuleObject.imgList,(function(t,r){return[n("img",{key:r,staticStyle:{"max-width":"96%"},attrs:{src:e.IDM.url.getWebPath(t.src)}}),n("div",{key:"text"+r,staticStyle:{"text-align":"center",padding:"10px 0px 20px"}},[e._v("图"+e._s(r+1)+"："+e._s(t.name))])]}))],2)]),n("idm-a-tab-pane",{key:"2",attrs:{tab:"运行效果"}},[n("div",{staticStyle:{height:"70vh",overflow:"hidden"}},[n("iframe",{staticStyle:{height:"100%",overflow:"auto",border:"none",width:"100%"},attrs:{src:"./index.html?schemaType=1#/preview/"+e.previewModuleObject.comId}})])])],1)],1)],1)},z=[],G={name:"ComponentCustom",data:function(){return{previewModuleModalVisible:!1,previewModuleObject:{},filterModel:{group:"",text:"",listType:IDM.setting.develop.componentMarketListDefaultType},marketData:[{groupId:"1",groupTitle:"组件测试",componentList:[{comId:"gtJGORo5x1fSE9OMASulGf57mjYxDj9h",comName:"通用待办卡片",remark:"已配置好的图片组件，已配置好的图片组件，已配置好的图片组件",comType:"business",iconClass:"idmicon idm-icon-yingyongguanli",type:"platform",projectNo:"p1000",schemaText:{},imgList:[{src:"",width:0,height:0,size:"187298"}]}]}]}},props:{},created:function(){},mounted:function(){var e=this,t=this;this.$developApi.fetchComponentCustomData().then((function(n){e.marketData=n.data.data,e.$nextTick((function(){t.$emit("loadedHandle",t.marketData)})),e.DEVELOP_CUSTOM_MODULE_LIST(e.marketData)})).catch((function(e){t.$emit("loadedHandle",t.marketData)}))},destroyed:function(){},methods:Object(a["a"])(Object(a["a"])({},Object(U["b"])({DEVELOP_CUSTOM_MODULE_LIST:"DEVELOP_CUSTOM_MODULE_LIST"})),{},{openPreviewModule:function(e,t){e.stopPropagation(),e.preventDefault(),this.previewModuleModalVisible=!0,this.previewModuleObject=t},showGroupSwitch:function(e){var t=this,n=!1;return""!=this.filterModel.text?e.componentList&&e.componentList.forEach((function(e){(e.comName.indexOf(t.filterModel.text)>-1||e.remark.indexOf(t.filterModel.text)>-1)&&(n=!0)})):n=!0,e.groupId!=this.filterModel.group&&""!=this.filterModel.group&&(n=!1),n},onSearch:function(e){},groupHandleChange:function(e){},getGroupAllKey:function(){var e=[];return this.marketData.forEach((function(t){e.push(t.groupId)})),e},getStyle:function(e,t){var n={};switch(e){case"root":break;case"itemimg":if(t&&t.imgList&&t.imgList.length>0){var r=t.imgList[0];parseInt(r.width)>parseInt(r.height)?n["height"]="100%":n["width"]="100%"}break;default:break}return n}})},K=G,q=Object(b["a"])(K,j,z,!1,null,"49098158",null),W=q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-component",style:e.getStyle("root")},[n("div",{staticClass:"pagecom_navigator"},[n("div",{staticClass:"pagecom_navigator_inner"},[n("div",[n("div",[n("i",{class:e.navLastThreeData.length>0&&e.navLastThreeData[e.navLastThreeData.length-1].iconClass})]),0==e.navLastThreeData.length?n("div",[e._v("未选中")]):e._e(),e._l(e.navLastThreeData,(function(t,r){return[n("div",{key:r,staticClass:"nav_name",on:{click:function(n){return e.selectModule(t)}}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:r<e.navLastThreeData.length-1,expression:"index < navLastThreeData.length - 1"}],key:"arrow_"+r,staticClass:"right_arrow"},[n("idm-a-icon",{attrs:{type:"right"}})],1)]}))],2),n("div",{staticClass:"list_type_box"},[n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.filterModel.listType,expression:"filterModel.listType == 'tree'"}],staticClass:"list_type_btn",attrs:{icon:"unordered-list",title:"列表模式"},on:{click:function(t){e.filterModel.listType="list"}}}),n("idm-a-button",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType == 'list'"}],staticClass:"list_type_btn idm-ant-btn-icon-only",attrs:{title:"大纲树"},on:{click:function(t){e.filterModel.listType="tree"}}},[n("svg-icon",{staticClass:"bicon",attrs:{"icon-class":"treelist"}})],1)],1)]),n("a-divider")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"list"==e.filterModel.listType,expression:"filterModel.listType == 'list'"}],staticClass:"pagecom_content scrollbar_style"},[e._l(e.pageData.componentsMap,(function(t,r){return["0"==t.comId?n("div",{key:t.comId+r,staticClass:"component_item_info",class:{is_active:t.packageid==e.selectedModuleData.packageid},attrs:{"data-id":t.comId},on:{click:function(n){return e.selectModule(t)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyle("itemimg",t),attrs:{src:t.imgList.length>0?e.IDM.url.getWebPath(t.imgList[0].src):""}}),n("div",[e._v(e._s(t.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",staticStyle:{"max-width":"130px"},attrs:{title:t.asName}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{staticClass:"component_info_inner_version",attrs:{title:t.currentVersion.version}},[e._v(" v"+e._s(t.currentVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid",attrs:{title:t.classId}},[e._v(" "+e._s(t.classId)+" ")])]),"0"!=t.comId?n("div",{staticClass:"op_action"},[n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e()]):e._e()]})),n("idm-a-collapse",{attrs:{"expand-icon-position":"left"}},[e.dialogComList.length>0?n("idm-a-collapse-panel",{key:"1",attrs:{header:"模态视图层"}},[n("div",{attrs:{slot:"extra"},on:{click:e.changeDialogVisibleStatus},slot:"extra"},[n("svg-icon",{attrs:{"icon-class":e.dialogVisibleStatus?"eye-show":"eye-hide"}})],1),e._l(e.dialogComList,(function(t,r){return[n("div",{key:t.comId+r,staticClass:"component_item_info dialog_item_info",class:{is_active:t.packageid==e.selectedModuleData.packageid,select_active:t.packageid==e.selectedDialogData.packageid&&e.dialogVisibleStatus},attrs:{"data-id":t.comId},on:{click:function(n){return e.selectModule(t)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyle("itemimg",t),attrs:{src:t.imgList.length>0?e.IDM.url.getWebPath(t.imgList[0].src):""}}),n("div",[e._v(e._s(t.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",staticStyle:{"max-width":"130px"},attrs:{title:t.asName}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{staticClass:"component_info_inner_version",attrs:{title:t.currentVersion.version}},[e._v(" v"+e._s(t.currentVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid",attrs:{title:t.classId}},[e._v(" "+e._s(t.classId)+" ")])]),"0"!=t.comId?n("div",{staticClass:"op_action"},[n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e(),n("svg-icon",{staticClass:"dialog_check_icon",attrs:{"icon-class":"triangle-check-badge"}})],1),n("idm-a-divider",{key:r})]})),e._l(e.dialogSubComList,(function(t,r){return[n("div",{key:t.comId+r,staticClass:"component_item_info dialog_item_info",class:{is_active:t.packageid==e.selectedModuleData.packageid,select_active:t.globalId.indexOf(e.selectedDialogData.packageid)>-1&&e.dialogVisibleStatus},attrs:{"data-id":t.comId},on:{click:function(n){return e.selectModule(t,!0)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyle("itemimg",t),attrs:{src:t.imgList.length>0?e.IDM.url.getWebPath(t.imgList[0].src):""}}),n("div",[e._v(e._s(t.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",staticStyle:{"max-width":"130px"},attrs:{title:t.asName}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{staticClass:"component_info_inner_version",attrs:{title:t.currentVersion.version}},[e._v(" v"+e._s(t.currentVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid",attrs:{title:t.classId}},[e._v(" "+e._s(t.classId)+" ")])]),"0"!=t.comId?n("div",{staticClass:"op_action"},[n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e()]),n("idm-a-divider",{key:r})]}))],2):e._e(),e.hoverModeComList.length>0?n("idm-a-collapse-panel",{key:"3",attrs:{header:"悬浮视图层"}},[n("div",{attrs:{slot:"extra"},on:{click:e.changeHoverVisibleStatus},slot:"extra"},[n("svg-icon",{attrs:{"icon-class":e.hoverVisibleStatus?"eye-show":"eye-hide"}})],1),e._l(e.hoverModeComList.concat(e.hoverModeSubComList),(function(t,r){return[n("div",{key:t.comId+r,staticClass:"component_item_info dialog_item_info",class:{is_active:"absolute"!=t.positionMode&&t.packageid==e.selectedModuleData.packageid||e.multipleModuleData.filter((function(e){return e.packageid==t.packageid})).length>0,select_active:e.hoverVisibleStatus},attrs:{"data-id":t.comId},on:{click:function(n){return e.selectModule(t,!1,!0)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyle("itemimg",t),attrs:{src:t.imgList.length>0?e.IDM.url.getWebPath(t.imgList[0].src):""}}),n("div",[e._v(e._s(t.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",staticStyle:{"max-width":"130px"},attrs:{title:t.asName}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{staticClass:"component_info_inner_version",attrs:{title:t.currentVersion.version}},[e._v(" v"+e._s(t.currentVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid",attrs:{title:t.classId}},[e._v(" "+e._s(t.classId)+" ")])]),"0"!=t.comId?n("div",{staticClass:"op_action"},[n("idm-a-tooltip",{attrs:{title:t.lock?"锁定":"解锁"}},[n("div",{class:{op_show:t.lock},on:{click:function(n){return e.lockModuleChange(n,t)}}},[n("svg-icon",{attrs:{"icon-class":t.lock?"attr-lock":"attr-unlock"}})],1)]),n("idm-a-tooltip",{attrs:{title:t.devSetHidden?"隐藏":"显示"}},[n("div",{class:{op_show:t.devSetHidden},on:{click:function(n){return e.devSetHiddenModuleChange(n,t)}}},[n("svg-icon",{attrs:{"icon-class":t.devSetHidden?"eye-hide":"eye-show"}})],1)]),n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e()]),n("idm-a-divider",{key:r})]}))],2):e._e(),e.commonComList.length>0?n("idm-a-collapse-panel",{key:"2",attrs:{header:"页面内容层"}},[e._l(e.commonComList,(function(t,r){return[n("div",{key:t.comId+r,staticClass:"component_item_info",class:{is_active:t.packageid==e.selectedModuleData.packageid},attrs:{"data-id":t.comId},on:{click:function(n){return e.selectModule(t)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"component_pimg"},[n("img",{style:e.getStyle("itemimg",t),attrs:{src:t.imgList.length>0?e.IDM.url.getWebPath(t.imgList[0].src):""}}),n("div",[e._v(e._s(t.comName))])]),n("div",{staticClass:"component_info_inner"},[n("div",{staticClass:"component_info_inner_title",staticStyle:{"max-width":"130px"},attrs:{title:t.asName}},[e._v(" "+e._s(t.asName)+" ")]),n("div",{staticClass:"component_info_inner_version",attrs:{title:t.currentVersion.version}},[e._v(" v"+e._s(t.currentVersion.version)+" ")]),n("div",{staticClass:"component_info_inner_classid",attrs:{title:t.classId}},[e._v(" "+e._s(t.classId)+" ")])]),"0"!=t.comId?n("div",{staticClass:"op_action"},[n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e()]),n("idm-a-divider",{key:r})]}))],2):e._e()],1)],2),n("div",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.filterModel.listType,expression:"filterModel.listType == 'tree'"}],staticClass:"pagecom_content scrollbar_style"},[n("idm-a-collapse",{attrs:{"expand-icon-position":"left",defaultActiveKey:"2"}},[e.dialogComList.length>0?n("idm-a-collapse-panel",{key:"1",attrs:{header:"模态视图层"}},[n("div",{attrs:{slot:"extra"},on:{click:e.changeDialogVisibleStatus},slot:"extra"},[n("svg-icon",{attrs:{"icon-class":e.dialogVisibleStatus?"eye-show":"eye-hide"}})],1),e._l(e.dialogAllList,(function(t,r){return n("div",{key:r},[n("tree-node",{attrs:{selectedModuleData:e.selectedModuleData,selectedDialogData:e.selectedDialogData,hoverModuleData:e.hoverModuleData,nodeList:e.dialogAllList[r],isDialog:!0,dialogVisibleStatus:e.dialogVisibleStatus},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},"update:selectedDialogData":function(t){e.selectedDialogData=t},"update:selected-dialog-data":function(t){e.selectedDialogData=t},"update:hoverModuleData":function(t){e.hoverModuleData=t},"update:hover-module-data":function(t){e.hoverModuleData=t},"update:nodeList":function(t){return e.$set(e.dialogAllList,r,t)},"update:node-list":function(t){return e.$set(e.dialogAllList,r,t)},"update:dialogVisibleStatus":function(t){e.dialogVisibleStatus=t},"update:dialog-visible-status":function(t){e.dialogVisibleStatus=t},selectModule:e.selectModule,selectModuleAndChange:e.selectModuleAndChange,hoverModule:e.hoverModule,deletePageModule:e.deletePageModule,copyModuleToNext:e.copyModuleToNext}})],1)}))],2):e._e(),e.hoverModeComList.length>0?n("idm-a-collapse-panel",{key:"3",attrs:{header:"悬浮视图层"}},[n("div",{attrs:{slot:"extra"},on:{click:e.changeHoverVisibleStatus},slot:"extra"},[n("svg-icon",{attrs:{"icon-class":e.hoverVisibleStatus?"eye-show":"eye-hide"}})],1),e._l(e.hoverModeAllList,(function(t,r){return n("div",{key:r},[n("tree-node",{attrs:{selectedModuleData:e.selectedModuleData,multipleModuleData:e.multipleModuleData,multipleGroupData:e.multipleGroupData,selectedDialogData:e.selectedDialogData,hoverModuleData:e.hoverModuleData,nodeList:e.hoverModeAllList[r],dialogVisibleStatus:e.hoverVisibleStatus,hoverMode:!0},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},"update:multipleModuleData":function(t){e.multipleModuleData=t},"update:multiple-module-data":function(t){e.multipleModuleData=t},"update:multipleGroupData":function(t){e.multipleGroupData=t},"update:multiple-group-data":function(t){e.multipleGroupData=t},"update:selectedDialogData":function(t){e.selectedDialogData=t},"update:selected-dialog-data":function(t){e.selectedDialogData=t},"update:hoverModuleData":function(t){e.hoverModuleData=t},"update:hover-module-data":function(t){e.hoverModuleData=t},"update:nodeList":function(t){return e.$set(e.hoverModeAllList,r,t)},"update:node-list":function(t){return e.$set(e.hoverModeAllList,r,t)},"update:dialogVisibleStatus":function(t){e.hoverVisibleStatus=t},"update:dialog-visible-status":function(t){e.hoverVisibleStatus=t},selectModule:e.selectModule,selectModuleAndChange:e.selectModuleAndChange,hoverModule:e.hoverModule,deletePageModule:e.deletePageModule,copyModuleToNext:e.copyModuleToNext,lockModuleChange:e.lockModuleChange,devSetHiddenModuleChange:e.devSetHiddenModuleChange}})],1)}))],2):e._e(),n("idm-a-collapse-panel",{key:"2",attrs:{header:"页面内容层"}},[n("tree-node",{attrs:{selectedModuleData:e.selectedModuleData,selectedDialogData:e.selectedDialogData,hoverModuleData:e.hoverModuleData,nodeList:e.componentTreeData},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},"update:selectedDialogData":function(t){e.selectedDialogData=t},"update:selected-dialog-data":function(t){e.selectedDialogData=t},"update:hoverModuleData":function(t){e.hoverModuleData=t},"update:hover-module-data":function(t){e.hoverModuleData=t},"update:nodeList":function(t){e.componentTreeData=t},"update:node-list":function(t){e.componentTreeData=t},selectModule:e.selectModule,selectModuleAndChange:e.selectModuleAndChange,hoverModule:e.hoverModule,deletePageModule:e.deletePageModule,copyModuleToNext:e.copyModuleToNext}})],1)],1)],1)])},Y=[],J=n("ade3"),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.componentTreeData,(function(t,r){return n("div",{key:r,staticClass:"idm-core-leaf",class:{"idm-core-leaf-expandable":"0"!=t.comId&&t.children.length>0,"idm-core-leaf-collapsed":t.collapsed,"idm-core-leaf-selected":e.hoverMode?e.multipleModuleData.filter((function(e){return e.packageid==t.packageid})).length>0||e.multipleGroupData.filter((function(e){return e.id==t.id})).length>0:t.packageid==e.selectedModuleData.packageid,"idm-core-leaf-hovering":t.packageid&&t.packageid==e.hoverModuleData.packageid,"idm-core-leaf-dialog":0==e.levelNumber&&e.hoverMode&&!e.dialogVisibleStatus||e.isDialog&&(0==e.levelNumber&&t.globalId&&-1==t.globalId.indexOf(e.selectedDialogData.packageid)||!e.dialogVisibleStatus)}},[n("div",{staticClass:"idm-core-leaf-title",style:{"padding-left":12*e.levelNumber+"px","margin-left":12*-e.levelNumber+"px"},on:{click:function(n){return e.selectModule(t,e.isDialog&&e.levelNumber>0)},dblclick:function(n){return n.stopPropagation(),e.selectModuleAndChange(t,e.isDialog&&e.levelNumber>0)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"idm-core-leaf-title-inner",attrs:{title:t.packageid?"双击设置":"点击选择"}},[n("div",{staticClass:"ic-leaf-icon-button",on:{click:function(n){return n.stopPropagation(),e.itemCollapsedHandle(t)}}},[n("svg",{staticClass:"ve-svgicon",attrs:{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:"12px",height:"12px",viewBox:"0 0 1024 1024","data-spm-anchor-id":"a2q5o.26736379.0.i9.2dc75195zSy2i9"}},[n("path",{attrs:{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z","data-spm-anchor-id":"a2q5o.26736379.0.i8.2dc75195zSy2i9"}})])]),n("div",{staticClass:"ic-leaf-component-svgicon"},[t.iconClass?n("svg",{staticClass:"ic-leaf-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})]):n("svg-icon",{class:"ic-leaf-svg-icon",attrs:{"icon-class":"layout-module-group"}})],1),n("div",{staticClass:"ic-leaf-text"},[n("span",[e._v(e._s(t.asName||t.name))]),n("idm-a-tooltip",{attrs:{title:t.packageid||t.id}},[n("span",{staticClass:"ic-leaf-text-id"},[e._v("("+e._s((t.packageid||t.id).substr(0,3)+"..."+(t.packageid||t.id).substr((t.packageid||t.id).length-6,6))+")")])])],1),"0"!=t.comId?n("div",{staticClass:"ic-leaf-opicon-button"},[!e.hoverMode||"absolute"!=t.positionMode&&t.packageid?e._e():n("idm-a-tooltip",{attrs:{title:t.lock?"锁定":"解锁"}},[n("div",{class:{op_show:t.lock},on:{click:function(n){return n.stopPropagation(),e.lockModuleChange(n,t)}}},[n("svg-icon",{attrs:{"icon-class":t.lock?"attr-lock":"attr-unlock"}})],1)]),!e.hoverMode||"absolute"!=t.positionMode&&t.packageid?e._e():n("idm-a-tooltip",{attrs:{title:t.devSetHidden?"隐藏":"显示"}},[n("div",{class:{op_show:t.devSetHidden},on:{click:function(n){return n.stopPropagation(),e.devSetHiddenModuleChange(n,t)}}},[n("svg-icon",{attrs:{"icon-class":t.devSetHidden?"eye-hide":"eye-show"}})],1)]),n("idm-a-tooltip",{attrs:{title:"复制"}},[n("div",{on:{click:function(n){return n.stopPropagation(),e.copyModuleToNext(n,t)}}},[n("idm-a-icon",{attrs:{type:"copy"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return n.stopPropagation(),e.deletePageModule(n,t)}}},[n("idm-a-icon",{attrs:{type:"delete"}})],1)])],1):e._e()])]),n("div",{staticClass:"idm-core-branches"},[n("tree-node",{ref:"node_"+r,refInFor:!0,attrs:{selectedModuleData:e.selectedModuleData,multipleModuleData:e.multipleModuleData,multipleGroupData:e.multipleGroupData,selectedDialogData:e.selectedDialogData,hoverModuleData:e.hoverModuleData,levelNumber:e.levelNumber+1,nodeList:t.children,isDialog:e.isDialog,hoverMode:e.hoverMode,dialogVisibleStatus:e.dialogVisibleStatus},on:{"update:selectedModuleData":function(t){e.selectedModuleData=t},"update:selected-module-data":function(t){e.selectedModuleData=t},"update:multipleModuleData":function(t){e.multipleModuleData=t},"update:multiple-module-data":function(t){e.multipleModuleData=t},"update:multipleGroupData":function(t){e.multipleGroupData=t},"update:multiple-group-data":function(t){e.multipleGroupData=t},"update:selectedDialogData":function(t){e.selectedDialogData=t},"update:selected-dialog-data":function(t){e.selectedDialogData=t},"update:hoverModuleData":function(t){e.hoverModuleData=t},"update:hover-module-data":function(t){e.hoverModuleData=t},"update:nodeList":function(n){return e.$set(t,"children",n)},"update:node-list":function(n){return e.$set(t,"children",n)},selectModule:e.selectModule,selectModuleAndChange:e.selectModuleAndChange,hoverModule:e.hoverModule,copyModuleToNext:e.copyModuleToNext,deletePageModule:e.deletePageModule,lockModuleChange:e.lockModuleChange,devSetHiddenModuleChange:e.devSetHiddenModuleChange}})],1)])})),0)},ee=[],te={components:{},name:"TreeNode",props:{isDialog:{type:Boolean,default:!1},hoverMode:{type:Boolean,default:!1},nodeList:{type:Array},levelNumber:{type:Number,default:0},selectedModuleData:{type:Object,default:function(){return{}}},selectedDialogData:{type:Object,default:function(){return{}}},hoverModuleData:{type:Object,default:function(){return{}}},dialogVisibleStatus:{type:Boolean,default:!1},multipleModuleData:{type:Array,default:function(){return[]}},multipleGroupData:{type:Array,default:function(){return[]}}},data:function(){return{componentTreeData:[],isreload:!0}},created:function(){this.formatNodeList()},methods:{formatNodeList:function(e){var t=this,n=e||this.nodeList;n&&n.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"collapsed")||(e.collapsed=!1),e.children||(e.children=[])})),this.componentTreeData=n,console.log("🚀 ~ file: treeNode.vue ~ line 58 ~ formatNodeList ~ this.componentTreeData",this.componentTreeData),this.$forceUpdate(),this.$refs&&Object.keys(this.$refs).forEach((function(e){var n=t.componentTreeData[parseInt(e.replace("node_",""))];try{n&&n.children&&t.$refs[e][0].formatNodeList(n.children)}catch(r){}}))},itemCollapsedHandle:function(e){e.collapsed=!e.collapsed,this.$forceUpdate()},selectModule:function(e,t){this.$emit("selectModule",e,t,this.hoverMode)},selectModuleAndChange:function(e,t){this.$emit("selectModuleAndChange",e,t,this.hoverMode)},hoverModule:function(e){this.$emit("hoverModule",e)},deletePageModule:function(e,t){this.$emit("deletePageModule",e,t)},copyModuleToNext:function(e,t){this.$emit("copyModuleToNext",e,t)},lockModuleChange:function(e,t){this.$emit("lockModuleChange",e,t)},devSetHiddenModuleChange:function(e,t){this.$emit("devSetHiddenModuleChange",e,t)}},watch:{nodeList:{handler:function(e,t){this.formatNodeList()},deep:!0}}},ne=te,re=Object(b["a"])(ne,Z,ee,!1,null,"f017450c",null),ie=re.exports,oe={components:Object(J["a"])({},"tree-node",ie),name:"PageComponent",data:function(){return{filterModel:{listType:"tree"},navLastThreeData:[],commonVisible:!0,clickDisable:!1,dialogComList:[],dialogSubComList:[],commonComList:[],componentTreeData:[],dialogAllList:[],hoverModeComList:[],hoverModeSubComList:[],hoverModeAllList:[]}},props:{pageData:{type:Object,default:function(){return{componentsMap:[],layout:{},group:{}}}},selectedModuleData:{type:Object,default:function(){return{}}},hoverModuleData:{type:Object,default:function(){return{}}},selectedDialogData:{type:Object,default:function(){return{}}},dialogVisibleStatus:{type:Boolean,default:!1},hoverVisibleStatus:{type:Boolean,default:!1},multipleModuleData:{type:Array,default:function(){return[]}},multipleGroupData:{type:Array,default:function(){return[]}}},created:function(){this.initModuleList()},mounted:function(){},destroyed:function(){},methods:{refreshPageData:function(e){this.initModuleList(e)},initModuleList:function(e){var t=this,n=e&&e.componentsMap||this.pageData&&this.pageData.componentsMap||[];if(console.log("🚀 ~ file: PageComponent.vue ~ line 406 ~ initModuleList ~ this.componentTreeData",n),this.dialogComList=[],this.dialogSubComList=[],this.hoverModeComList=[],this.hoverModeSubComList=[],this.commonComList=[],this.dialogAllList=[],this.hoverModeAllList=[],this.componentTreeData=[],this.pageData&&this.pageData.layout){var r=_.cloneDeep(this.pageData.layout),i=[],o=[];r.children&&r.children.forEach((function(e,r){if("dialog"==e.comType)t.dialogAllList.push([e]);else if("absolute"==e.positionMode){var a=n.filter((function(t){return t.packageid==e.packageid}));a&&a.length&&(e.lock=a[0].lock,e.devSetHidden=a[0].devSetHidden),t.pageData.group&&t.pageData.group.allModuleList&&t.pageData.group.allModuleList.includes(e.packageid)?o.push(e):t.hoverModeAllList.push([e])}else i.push(e)}));var a=function e(t){t instanceof Array||(t=[t]),t&&t.forEach((function(t){t.children&&t.children.length&&e(t.children);var n=o.filter((function(e){return t.moduleList.includes(e.packageid)}));t.children||(t.children=[]),t.children=[].concat(n,t.children)}))};this.pageData.group&&this.pageData.group.list&&this.pageData.group.list.forEach((function(e){var n=_.cloneDeep(e);a(n),console.log("🚀 ~ file: PageComponent.vue:630 ~ initModuleList ~ _item",n),t.hoverModeAllList.push([n])})),r.children=i,this.componentTreeData=[r]}n.forEach((function(e){"dialog"==e.comType?t.dialogComList.push(e):"absolute"==e.positionMode&&t.hoverModeComList.push(e)})),n.forEach((function(e){var n=!1,r=!1;t.dialogComList.forEach((function(t){e.globalId.indexOf(t.packageid)>-1&&(n=!0)})),t.hoverModeComList.forEach((function(t){e.globalId.indexOf(t.packageid)>-1&&(r=!0)})),n&&"dialog"!=e.comType?t.dialogSubComList.push(e):r&&"absolute"!=e.positionMode?t.hoverModeSubComList.push(e):"dialog"!=e.comType&&"absolute"!=e.positionMode&&"0"!=e.comId&&t.commonComList.push(e)}))},changeDialogVisibleStatus:function(e){e.stopPropagation(),this.$emit("changeDialogVisibleStatus",this)},changeHoverVisibleStatus:function(e){e.stopPropagation(),this.$emit("changeHoverVisibleStatus",this)},copyModuleToNext:function(e,t){e&&e.stopPropagation(),this.$emit("copyModuleHandle",t)},lockModuleChange:function(e,t){e&&e.stopPropagation(),this.$emit("lockModuleChange",t)},devSetHiddenModuleChange:function(e,t){e&&e.stopPropagation(),this.$emit("devSetHiddenModuleChange",t)},deletePageModule:function(e,t){e&&e.stopPropagation(),this.$emit("deleteModuleHandle",t),this.hoverModule()},selectModuleAndChange:function(e,t,n){e.packageid&&(this.selectModule(e,t,n),this.$emit("changeActiveTab","11"))},selectModule:function(e,t,n){var r=this;this.clickDisable||e.packageid==this.selectedModuleData.packageid&&"absolute"!=e.positionMode||(this.clickDisable=!0,this.$emit("selectedModuleHandle",e,t,n),setTimeout((function(){r.clickDisable=!1}),500))},hoverModule:function(e){this.$emit("hoverModuleHandle",e)},getStyle:function(e,t){var n={};switch(e){case"root":break;case"itemimg":if(t.imgList.length>0){var r=t.imgList[0];parseInt(r.width)>=parseInt(r.height)?n["height"]="100%":n["width"]="100%"}break;default:break}return n}},watch:{selectedModuleData:{handler:function(e,t){if(e&&e.globalId){var n=e.globalId.split(".");_.reverse(n),this.navLastThreeData=[];var r=this;n.forEach((function(e,t){if(t<3){console.log(r.pageData.componentsMap);var n=r.pageData.componentsMap.filter((function(t){return t.packageid==e}));n.length>0&&r.navLastThreeData.push(n[0])}})),_.reverse(this.navLastThreeData)}console.log("页面信息发生变化，变化前====》",t,"变化后====》",e,this.navLastThreeData)}},pageData:{handler:function(e,t){this.initModuleList()},deep:!0}}},ae=oe,se=(n("afc8"),Object(b["a"])(ae,X,Y,!1,null,"b82aa3b6",null)),ue=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mix-attribute scrollbar_style",style:e.getStyle("root")},[e.svgAttr||e.linkAttr?e._e():n("div",[e.basicAttr&&e.multipleModuleData&&e.multipleModuleData.length<2||!e.basicAttr&&e.selectedModuleData&&e.selectedModuleData.comName?n("div",{staticClass:"mixattr_baseinfo"},[n("div",{staticClass:"mixattr_baseinfo_title"},[e._v(e._s(e.selectedModuleData.asName))]),n("div",{staticClass:"mixattr_baseinfo_version"},[n("div",[n("idm-a-dropdown",{attrs:{overlayClassName:"idm_dev_theme"}},[n("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v(" v"+e._s(e.selectedModuleData.currentVersion&&e.selectedModuleData.currentVersion.version)+" "),"0"!=e.selectedModuleData.comId?n("idm-a-icon",{attrs:{type:"down"}}):e._e()],1),"0"!=e.selectedModuleData.comId?n("idm-a-menu",{attrs:{slot:"overlay"},slot:"overlay"},e._l(e.selectedModuleData.versionList,(function(t,r){return n("idm-a-menu-item",{key:t.name,on:{click:function(n){return e.changeVersion(t)}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("v"+e._s(t.version)+e._s(e.selectedModuleData.currentVersion&&t.version==e.selectedModuleData.currentVersion.version?"（当前）":0==r?"（最新）":""))])])})),1):e._e()],1)],1),n("idm-a-divider",{attrs:{type:"vertical"}}),n("div",[e._v(e._s(e.selectedModuleData.comName))])],1),n("idm-a-icon",{staticClass:"help_icon",attrs:{type:"question-circle"},on:{click:function(t){return e.openModuleAttrDocHandle()}}})],1):n("div",{staticClass:"mixattr_module_selected_box"},[n("div",{staticClass:"mixattr_module_selected_asname"},[e._v(" 已选择 "+e._s(e.multipleModuleData.map((function(e){return e.asName})).join("、"))+" ")]),n("idm-a-dropdown",{attrs:{trigger:["click"]}},[n("a",[e._v(e._s(e.multipleModuleData.length)+" "),n("idm-a-icon",{staticStyle:{"font-size":"14px"},attrs:{type:"down"}})],1)])],1)]),n("idm-a-divider"),e.moduleAttr&&e.moduleAttr.length>0?n("div",{staticClass:"mixattr_attribute_box",class:{pt10:e.moduleAttr.length>0&&"group"!=e.moduleAttr[0].type&&"table"!=e.moduleAttr[0].type}},[e._l(e.moduleAttr,(function(t,r){return["group"==t.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r,staticClass:"collapse_level_0",attrs:{defaultActiveKey:t.openGroup?"1":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"1"},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(t.text)+" "),t.desc?n("idm-a-tooltip",{attrs:{title:t.desc},on:{click:function(n){return e.openModuleAttrDocHandle(t,n)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1),t.children&&t.children.length>0?n("div",[e._l(t.children,(function(t,r){return["group"==t.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r+"group",staticClass:"collapse_level_1",attrs:{defaultActiveKey:t.openGroup?"11":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"11"},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(t.text)+" "),t.desc?n("idm-a-tooltip",{attrs:{title:t.desc},on:{click:function(n){return e.openModuleAttrDocHandle(t,n)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1),t.children&&t.children.length>0?n("div",[e._l(t.children,(function(t,r){return["inlineGroup"==t.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item2)"}],key:r,staticClass:"inlineGroup"},[e._l(t.children,(function(t,r){return[e.inlineGroupArrary.indexOf(t.type)>-1?n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(itemG)"}],key:r,tag:"component",attrs:{index:1,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[itemG.bindKey]"}}):e._e()]}))],2):"actionSelect"==t.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item2)"}],key:r+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item2.bindKey]"}}):"pageModuleSelect"==t.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item2)"}],key:r+"pagemodule",attrs:{componentsMap:e.componentsMap,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item2.bindKey]"}}):n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item2)"}],key:r+"common",tag:"component",attrs:{index:1,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item2.bindKey]"}})]}))],2):e._e()])],1):"table"==t.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r+"table",staticClass:"collapse_level_1",attrs:{defaultActiveKey:t.openGroup?"12":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"12"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"table_header_title_box"},[e._v(" "+e._s(t.text)+" "),t.desc?n("idm-a-tooltip",{attrs:{title:t.desc},on:{click:function(n){return e.openModuleAttrDocHandle(t,n)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1)]),n("div",{staticClass:"extra_op",attrs:{slot:"extra"},slot:"extra"},[n("i",{on:{click:function(n){return e.addTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"在当前页签后面添加新页签"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-plus"}})],1)],1),n("i",{on:{click:function(n){return e.prevShiftTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"将当前页签向前移一位"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-left"}})],1)],1),n("i",{on:{click:function(n){return e.nextShiftTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"将当前页签向后移一位"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-right"}})],1)],1),n("i",{on:{click:function(n){return e.removeTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"删除当前的页签"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-delete"}})],1)],1)]),t.children&&t.children.length>0?n("div",{staticClass:"table_out_box"},[n("idm-a-tabs",{attrs:{size:"small"},model:{value:e.tableTabActive[t.bindKey],callback:function(n){e.$set(e.tableTabActive,t.bindKey,n)},expression:"tableTabActive[item1.bindKey]"}},e._l(e.moduleSetData[t.bindKey],(function(r,i){return n("idm-a-tab-pane",{key:i,attrs:{tab:t.tabText.replace("[index]",i+1)}},[n("div",{staticClass:"table_inner_box"},[e._l(t.children,(function(r,o){return["group"==r.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2, item1.bindKey, forindex)"}],key:o,staticClass:"collapse_level_1",attrs:{defaultActiveKey:r.openGroup?"121":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"121"},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(r.text)+" "),r.desc?n("idm-a-tooltip",{attrs:{title:r.desc},on:{click:function(t){return e.openModuleAttrDocHandle(r,t)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1),r.children&&r.children.length>0?n("div",[e._l(r.children,(function(r,o){return["inlineGroup"==r.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item1.bindKey,forindex)"}],key:o,staticClass:"inlineGroup"},[e._l(r.children,(function(r,o){return[e.inlineGroupArrary.indexOf(r.type)>-1?n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(itemG,item1.bindKey,forindex)"}],key:o,tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][itemG.bindKey]"}}):e._e()]}))],2):"actionSelect"==r.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item1.bindKey,forindex)"}],key:o+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item3.bindKey]"}}):"pageModuleSelect"==r.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item1.bindKey,forindex)"}],key:o+"pagemodule",attrs:{componentsMap:e.componentsMap,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item3.bindKey]"}}):n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item1.bindKey,forindex)"}],key:o+"common",tag:"component",attrs:{index:2,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item3.bindKey]"}})]}))],2):e._e()])],1):"inlineGroup"==r.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item1.bindKey,forindex)"}],key:o+"inlinegroup",staticClass:"inlineGroup"},[e._l(r.children,(function(r,o){return[e.inlineGroupArrary.indexOf(r.type)>-1?n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(itemG,item1.bindKey,forindex)"}],key:o,tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][itemG.bindKey]"}}):e._e()]}))],2):"actionSelect"==r.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item1.bindKey,forindex)"}],key:o+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item2.bindKey]"}}):"pageModuleSelect"==r.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item1.bindKey,forindex)"}],key:o+"pagemodule",attrs:{componentsMap:e.componentsMap,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item2.bindKey]"}}):n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item1.bindKey,forindex)"}],key:o+"common",tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item1.bindKey][forindex][item2.bindKey]"}})]}))],2)])})),1)],1):e._e()])],1):"inlineGroup"==t.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r,staticClass:"inlineGroup"},[e._l(t.children,(function(t,r){return[e.inlineGroupArrary.indexOf(t.type)>-1?n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item2)"}],key:r,tag:"component",attrs:{index:1,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item2.bindKey]"}}):e._e()]}))],2):"actionSelect"==t.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item1.bindKey]"}}):"pageModuleSelect"==t.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r+"pagemodule",attrs:{componentsMap:e.componentsMap,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item1.bindKey]"}}):n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r+"common",tag:"component",attrs:{index:1,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item1.bindKey]"}})]}))],2):e._e()])],1):"table"==t.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r+"table",staticClass:"collapse_level_0",attrs:{defaultActiveKey:t.openGroup?"2":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"2"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"table_header_title_box"},[e._v(" "+e._s(t.text)+" "),t.desc?n("idm-a-tooltip",{attrs:{title:t.desc},on:{click:function(n){return e.openModuleAttrDocHandle(t,n)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1)]),n("div",{staticClass:"extra_op",attrs:{slot:"extra"},slot:"extra"},[n("i",{on:{click:function(n){return e.addTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"在当前页签后面添加新页签"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-plus"}})],1)],1),n("i",{on:{click:function(n){return e.prevShiftTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"将当前页签向前移一位"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-left"}})],1)],1),n("i",{on:{click:function(n){return e.nextShiftTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"将当前页签向后移一位"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-right"}})],1)],1),n("i",{on:{click:function(n){return e.removeTableTab(n,t)}}},[n("idm-a-tooltip",{attrs:{title:"删除当前的页签"}},[n("svg-icon",{staticClass:"sort-arrow-icon",attrs:{"icon-class":"sort-arrow-delete"}})],1)],1)]),t.children&&t.children.length>0?n("div",{staticClass:"table_out_box"},[n("idm-a-tabs",{attrs:{size:"small"},model:{value:e.tableTabActive[t.bindKey],callback:function(n){e.$set(e.tableTabActive,t.bindKey,n)},expression:"tableTabActive[item.bindKey]"}},e._l(e.moduleSetData[t.bindKey],(function(r,i){return n("idm-a-tab-pane",{key:i,attrs:{tab:t.tabText.replace("[index]",i+1)}},[n("div",{staticClass:"table_inner_box"},[e._l(t.children,(function(r,o){return["group"==r.type?n("idm-a-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2, item.bindKey,forindex)"}],key:o,staticClass:"collapse_level_1",attrs:{defaultActiveKey:r.openGroup?"21":"","expand-icon-position":"right"}},[n("idm-a-collapse-panel",{key:"21"},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(r.text)+" "),r.desc?n("idm-a-tooltip",{attrs:{title:r.desc},on:{click:function(t){return e.openModuleAttrDocHandle(r,t)}}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1),r.children&&r.children.length>0?n("div",[e._l(r.children,(function(r,o){return["inlineGroup"==r.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item.bindKey,forindex)"}],key:o,staticClass:"inlineGroup"},[e._l(r.children,(function(r,o){return[e.inlineGroupArrary.indexOf(r.type)>-1?n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(itemG,item.bindKey,forindex)"}],key:o,tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][itemG.bindKey]"}}):e._e()]}))],2):"actionSelect"==r.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item.bindKey,forindex)"}],key:o+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item3.bindKey]"}}):"pageModuleSelect"==r.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item.bindKey,forindex)"}],key:o+"pagemodule",attrs:{componentsMap:e.componentsMap,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item3.bindKey]"}}):n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item3,item.bindKey,forindex)"}],key:o+"common",tag:"component",attrs:{index:2,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item3.bindKey]"}})]}))],2):e._e()])],1):"inlineGroup"==r.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item.bindKey,forindex)"}],key:o+"inlinegroup",staticClass:"inlineGroup"},[e._l(r.children,(function(r,o){return[e.inlineGroupArrary.indexOf(r.type)>-1?n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(itemG,item.bindKey,forindex)"}],key:o,tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][itemG.bindKey]"}}):e._e()]}))],2):"actionSelect"==r.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item.bindKey,forindex)"}],key:o+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item2.bindKey]"}}):"pageModuleSelect"==r.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item.bindKey,forindex)"}],key:o+"pagemodule",attrs:{componentsMap:e.componentsMap,item:r},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item2.bindKey]"}}):n("i"+r.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(r,t.bindKey,i),expression:"show(item2,item.bindKey,forindex)"}],key:o+"common",tag:"component",attrs:{index:1,item:r,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData,moduleTablePropData:e.moduleSetData[t.bindKey][i]},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t},"update:moduleTablePropData":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)},"update:module-table-prop-data":function(n){return e.$set(e.moduleSetData[t.bindKey],i,n)}},model:{value:e.moduleSetData[t.bindKey][i][r.bindKey],callback:function(n){e.$set(e.moduleSetData[t.bindKey][i],r.bindKey,n)},expression:"moduleSetData[item.bindKey][forindex][item2.bindKey]"}})]}))],2)])})),1)],1):e._e()])],1):"font"==t.type?n("ifont",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r+"ifont",attrs:{index:0,item:t},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item.bindKey]"}}):n("div",{key:r+"_out",staticClass:"firstAttrContainer"},["inlineGroup"==t.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r,staticClass:"inlineGroup"},[e._l(t.children,(function(t,r){return[e.inlineGroupArrary.indexOf(t.type)>-1?n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item1)"}],key:r,tag:"component",attrs:{index:1,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item1.bindKey]"}}):e._e()]}))],2):"actionSelect"==t.type?n("IactionSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r+"action",attrs:{componentsMap:e.componentsMap,actionData:e.actionData,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,changePageAction:e.changePageAction,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item.bindKey]"}}):"pageModuleSelect"==t.type?n("IpageModuleSelect",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r+"pagemodule",attrs:{componentsMap:e.componentsMap,item:t},on:{hoverModuleHandle:e.hoverModuleHandle,openModuleAttrDocHandle:e.openModuleAttrDocHandle},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item.bindKey]"}}):n("i"+t.type.toLocaleLowerCase(),{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:r+"common",tag:"component",attrs:{index:0,item:t,pageData:e.pageData,selectedModuleData:e.selectedModuleData,modulePropData:e.moduleSetData},on:{openModuleAttrDocHandle:e.openModuleAttrDocHandle,"update:modulePropData":function(t){e.moduleSetData=t},"update:module-prop-data":function(t){e.moduleSetData=t}},model:{value:e.moduleSetData[t.bindKey],callback:function(n){e.$set(e.moduleSetData,t.bindKey,n)},expression:"moduleSetData[item.bindKey]"}})],1)]}))],2):e._e()],1)},le=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-input",{attrs:{allowClear:!e.item.disabled,size:"small",placeholder:e.item.placeholder||"",disabled:!!e.item.disabled&&"disabled",maxLength:e.item.maxLength||9999999999999,value:e.value},on:{input:e.change}})],1)])},fe=[],Ae={props:{},data:function(){return{}},watch:{},methods:{openModuleAttrDoc:function(){this.$emit("openModuleAttrDocHandle",this.item)}},mounted:function(){}},he={mixins:[Ae],name:"Iinput",props:{value:String,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){var t=e.target.value;this.$emit("input",t)}},computed:{}},pe=he,me=Object(b["a"])(pe,de,fe,!1,null,"431b0d2b",null),ge=me.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idm_attr_itextarea",class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-textarea",{attrs:{size:"small",disabled:e.item.disabled,placeholder:e.item.placeholder||"",maxLength:e.item.maxLength||9999999999999,"allow-clear":"",autoSize:{minRows:1,maxRows:6},value:e.value},on:{input:e.change}})],1)])},ye=[],be={mixins:[Ae],name:"Itextarea",props:{value:String,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){var t=e.target.value;this.$emit("input",t)}},computed:{}},we=be,xe=Object(b["a"])(we,ve,ye,!1,null,"6158e857",null),Ce=xe.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-input-number",{attrs:{size:"small",placeholder:e.item.placeholder||"",disabled:e.item.disabled,max:e.item.max||99999999999999,min:0==e.item.min?0:e.item.min||-99999999999999,value:e.value},on:{change:e.change}})],1)])},ke=[],_e={mixins:[Ae],name:"Inumber",props:{value:Number,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){this.$emit("input",e)}},computed:{}},Be=_e,De=Object(b["a"])(Be,Se,ke,!1,null,"1321b41b",null),Me=De.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"islider_box",staticStyle:{display:"flex"}},[n("idm-a-slider",{staticClass:"islider_ctrl",attrs:{disabled:e.item.disabled,value:e.value,max:e.item.max||100,min:e.item.min||0},on:{change:e.change}}),n("idm-a-input-number",{staticClass:"islider_ctrl_input",attrs:{size:"small",disabled:e.item.disabled,placeholder:e.item.placeholder||"",max:e.item.max||100,min:e.item.min||0,value:e.value},on:{change:e.change}})],1)])},Te=[],Ie={mixins:[Ae],name:"Islider",props:{value:Number,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){this.$emit("input",e)}},computed:{}},Oe=Ie,Le=Object(b["a"])(Oe,Ee,Te,!1,null,"b5920fe6",null),Fe=Le.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-select",{attrs:{size:"small",allowClear:"",dropdownClassName:"idm_dev_theme",mode:e.item.multiple?e.item.ctrlAttrObject&&"tags"==e.item.ctrlAttrObject.mode?"tags":"multiple":e.item.ctrlAttrObject&&"combobox"==e.item.ctrlAttrObject.mode?"combobox":"default",disabled:e.item.disabled,placeholder:e.item.placeholder||"","default-value":"",value:e.value},on:{change:e.change}},e._l(e.item.dataSourceUrl?e.serverDictionary:e.item.dictionary,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label||t.text)+" ")])})),1)],1)])},Ne=[],Ue={mixins:[Ae],name:"Iselect",props:{value:String,item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},data:function(){return{serverDictionary:[]}},created:function(){var e=this;this.item.dataSourceUrl&&this.$developApi.fetchModuleAttrSourceData(this.item.dataSourceUrl,{pageId:this.pageData.id,comId:this.selectedModuleData.comId,classId:this.selectedModuleData.classId,className:this.selectedModuleData.className,packageid:this.selectedModuleData.packageid}).then((function(t){200==t.data.code?e.serverDictionary=t.data.data:e.serverDictionary=[]}))},mounted:function(){},destroyed:function(){},methods:{change:function(e){this.$emit("input",e)}},computed:{}},He=Ue,Re=Object(b["a"])(He,Pe,Ne,!1,null,"680f1620",null),Ve=Re.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-switch",{attrs:{size:"small",disabled:e.item.disabled,checked:e.value},on:{change:e.change}})],1)])},je=[],ze={mixins:[Ae],name:"Iswitch",props:{value:Boolean,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){this.$emit("input",e)}},computed:{}},Ge=ze,Ke=Object(b["a"])(Ge,Qe,je,!1,null,"0491696c",null),qe=Ke.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-radio-group",{attrs:{"default-value":"",disabled:e.item.disabled,size:"small",value:e.value},on:{change:e.change}},[e._l(e.item.dataSourceUrl?e.serverDictionary:e.item.dictionary,(function(t,r){return["radio"==e.item.styleType?n("idm-a-radio",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")]):n("idm-a-radio-button",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])]}))],2)],1)])},$e=[],Xe={mixins:[Ae],name:"Iradio",props:{value:String,item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},data:function(){return{serverDictionary:[]}},created:function(){var e=this;this.item.dataSourceUrl&&this.$developApi.fetchModuleAttrSourceData(this.item.dataSourceUrl,{pageId:this.pageData.id,comId:this.selectedModuleData.comId,classId:this.selectedModuleData.classId,className:this.selectedModuleData.className,packageid:this.selectedModuleData.packageid}).then((function(t){200==t.data.code?e.serverDictionary=t.data.data:e.serverDictionary=[]}))},mounted:function(){},destroyed:function(){},methods:{change:function(e){var t=e.target.value;this.$emit("input",t)}},computed:{}},Ye=Xe,Je=Object(b["a"])(Ye,We,$e,!1,null,"4a881296",null),Ze=Je.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(" "+e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-checkbox-group",{attrs:{disabled:e.item.disabled,options:e.item.dataSourceUrl?e.serverDictionary:e.item.dictionary,value:e.value},on:{change:e.change}})],1)])},tt=[],nt={mixins:[Ae],name:"Icheckbox",props:{value:Array,item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},data:function(){return{serverDictionary:[]}},created:function(){var e=this;this.item.dataSourceUrl&&this.$developApi.fetchModuleAttrSourceData(this.item.dataSourceUrl,{pageId:this.pageData.id,comId:this.selectedModuleData.comId,classId:this.selectedModuleData.classId,className:this.selectedModuleData.className,packageid:this.selectedModuleData.packageid}).then((function(t){200==t.data.code?e.serverDictionary=t.data.data:e.serverDictionary=[]}))},mounted:function(){},destroyed:function(){},methods:{change:function(e){this.$emit("input",e)}},computed:{}},rt=nt,it=Object(b["a"])(rt,et,tt,!1,null,"2b8573ce",null),ot=it.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-date-picker",{attrs:{size:"small",disabled:e.item.disabled,dropdownClassName:"idm_dev_theme",placeholder:e.item.placeholder||"",locale:e.locale,value:e.value},on:{change:e.change}})],1)])},st=[],ut=n("41b2"),ct=n.n(ut),lt={today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},dt={placeholder:"请选择时间"},ft=dt,At={lang:ct()({placeholder:"请选择日期",rangePlaceholder:["开始日期","结束日期"]},lt),timePickerLocale:ct()({},ft)};At.lang.ok="确 定";var ht=At,pt={mixins:[Ae],name:"Idatepicker",data:function(){return{locale:ht}},props:{value:String,item:{type:Object,default:function(){return{}}}},methods:{change:function(e){this.$emit("input",e)}},computed:{}},mt=pt,gt=Object(b["a"])(mt,at,st,!1,null,"52b4f3c6",null),vt=gt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box idm_colorpicker_input"},[e.item.disabled?n("idm-a-input",{ref:"colorpicker",attrs:{size:"small",disabled:!0,readOnly:!0,placeholder:e.item.placeholder||""},on:{change:e.inputChange},model:{value:e.colors.hex8,callback:function(t){e.$set(e.colors,"hex8",t)},expression:"colors.hex8"}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.colors.hex8},attrs:{slot:"prefix"},slot:"prefix"})]):n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{on:{input:e.change},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),n("idm-a-input",{ref:"colorpicker",attrs:{size:"small",placeholder:e.item.placeholder||"",readOnly:e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.disabledInput,allowClear:""},on:{change:e.inputChange},model:{value:e.colors.hex8,callback:function(t){e.$set(e.colors,"hex8",t)},expression:"colors.hex8"}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.colors.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])},bt=[],wt=n("c345a"),xt={mixins:[Ae],name:"Icolorpicker",components:{"sketch-picker":wt["Sketch"]},data:function(){return{visible:!1,colors:{}}},props:{value:{type:Object},item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.colors=this.value)},mounted:function(){},methods:{change:function(e){console.log("-------------颜色改变",e),this.$emit("input",e)},inputChange:function(e){var t=e.target.value;if(this.colors.hex8=t,t||(this.colors={}),this.colors.hex=this.colors.hex8.length>7?this.colors.hex8.substring(0,7):this.colors.hex8,this.colors.hex8.length>8)try{this.colors.rgba=IDM.hex8ToRgbaObject(this.colors.hex8)}catch(n){}this.$emit("input",this.colors)}},computed:{},watch:{value:{handler:function(e,t){this.value?this.colors=this.value:this.colors={}},deep:!0}}},Ct=xt,St=Object(b["a"])(Ct,yt,bt,!1,null,null,null),kt=St.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(" "+e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",disabled:e.item.disabled,placeholder:e.item.placeholder||"",max:e.item.max||99999999999999,min:e.item.min||-99999999999999},on:{change:e.change},model:{value:e.innerData.inputVal,callback:function(t){e.$set(e.innerData,"inputVal",t)},expression:"innerData.inputVal"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small",disabled:e.item.disabled,"default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:e.innerData.selectVal,callback:function(t){e.$set(e.innerData,"selectVal",t)},expression:"innerData.selectVal"}},e._l(e.item.dataSourceUrl?e.serverDictionary:e.item.dictionary,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])])},Bt=[],Dt={mixins:[Ae],name:"Inumberunit",data:function(){return{serverDictionary:[],innerData:{inputVal:0,selectVal:""}}},props:{value:Object,item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},created:function(){var e=this;this.value&&(this.innerData=this.value),this.item.dataSourceUrl&&this.$developApi.fetchModuleAttrSourceData(this.item.dataSourceUrl,{pageId:this.pageData.id,comId:this.selectedModuleData.comId,classId:this.selectedModuleData.classId,className:this.selectedModuleData.className,packageid:this.selectedModuleData.packageid}).then((function(t){200==t.data.code?e.serverDictionary=t.data.data:e.serverDictionary=[]}))},methods:{ddlChange:function(e){this.$emit("input",this.innerData)},change:function(e){this.$emit("input",this.innerData)}},computed:{},watch:{value:{handler:function(e,t){this.innerData=this.value||{}},deep:!0}}},Mt=Dt,Et=Object(b["a"])(Mt,_t,Bt,!1,null,"9765e0ba",null),Tt=Et.exports,It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[n("idm-a-radio-group",{attrs:{"default-value":"",size:"small"},on:{change:e.changeDisplay},model:{value:e.innerData.display,callback:function(t){e.$set(e.innerData,"display",t)},expression:"innerData.display"}},e._l(e.dict.display,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.text}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{staticClass:"layout-icon",attrs:{"icon-class":e.icon}})],1)],1)})),1)],1),"flex"==e.innerData.display?n("div",[n("idm-a-radio-group",{staticClass:"idm-mt5",attrs:{"default-value":"",size:"small"},on:{change:e.changeDisplay},model:{value:e.innerData.direction,callback:function(t){e.$set(e.innerData,"direction",t)},expression:"innerData.direction"}},e._l(e.dict.display[3].direction,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.text}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{staticClass:"layout-icon",attrs:{"icon-class":e.icon}})],1)],1)})),1),e._l(e.dict.display[3].direction,(function(t,r){return[e.innerData.direction==t.value?n("idm-a-radio-group",{key:r+"_align",staticClass:"idm-mt5",attrs:{"default-value":"",size:"small"},on:{change:e.changeDisplay},model:{value:e.innerData.align,callback:function(t){e.$set(e.innerData,"align",t)},expression:"innerData.align"}},e._l(t.align,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.text}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{staticClass:"layout-icon",attrs:{"icon-class":e.icon}})],1)],1)})),1):e._e(),e.innerData.direction==t.value?n("idm-a-radio-group",{key:r+"_justify",staticClass:"idm-mt5",attrs:{"default-value":"",size:"small"},on:{change:e.changeDisplay},model:{value:e.innerData.justify,callback:function(t){e.$set(e.innerData,"justify",t)},expression:"innerData.justify"}},e._l(t.justify,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.text}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{staticClass:"layout-icon",attrs:{"icon-class":e.icon}})],1)],1)})),1):e._e()]}))],2):e._e()])])},Ot=[],Lt={mixins:[Ae],name:"Ilayout",data:function(){return{dict:{display:[{value:"block",text:"block",icon:"display-block"},{value:"inline-block",text:"inline-block",icon:"display-inline-block"},{value:"inline",text:"inline",icon:"display-inline"},{value:"flex",text:"flex",icon:"display-flex",direction:[{value:"row",text:"row",icon:"direction-row",align:[{value:"flex-start",text:"flex-start",icon:"row-align-flex-start"},{value:"center",text:"center",icon:"row-align-center"},{value:"flex-end",text:"flex-end",icon:"row-align-flex-end"},{value:"stretch",text:"stretch",icon:"row-align-stretch"},{value:"baseline",text:"baseline",icon:"row-align-baseline"}],justify:[{value:"flex-start",text:"flex-start",icon:"row-justify-flex-start"},{value:"center",text:"center",icon:"row-justify-center"},{value:"flex-end",text:"flex-end",icon:"row-justify-flex-end"},{value:"space-between",text:"space-between",icon:"row-justify-space-between"},{value:"space-around",text:"space-around",icon:"row-justify-space-around"}]},{value:"column",text:"column",icon:"direction-column",align:[{value:"flex-start",text:"flex-start",icon:"column-align-flex-start"},{value:"center",text:"center",icon:"column-align-center"},{value:"flex-end",text:"flex-end",icon:"column-align-flex-end"},{value:"stretch",text:"stretch",icon:"column-align-stretch"},{value:"baseline",text:"baseline",icon:"column-align-baseline"}],justify:[{value:"flex-start",text:"flex-start",icon:"column-justify-flex-start"},{value:"center",text:"center",icon:"column-justify-center"},{value:"flex-end",text:"flex-end",icon:"column-justify-flex-end"},{value:"space-between",text:"space-between",icon:"column-justify-space-between"},{value:"space-around",text:"space-around",icon:"column-justify-space-around"}]},{value:"row-reverse",text:"row-reverse",icon:"direction-row-reverse",align:[{value:"flex-start",text:"flex-start",icon:"row-reverse-align-flex-start"},{value:"center",text:"center",icon:"row-reverse-align-center"},{value:"flex-end",text:"flex-end",icon:"row-reverse-align-flex-end"},{value:"stretch",text:"stretch",icon:"row-reverse-align-stretch"},{value:"baseline",text:"baseline",icon:"row-reverse-align-baseline"}],justify:[{value:"flex-start",text:"flex-start",icon:"row-reverse-justify-flex-start"},{value:"center",text:"center",icon:"row-reverse-justify-center"},{value:"flex-end",text:"flex-end",icon:"row-reverse-justify-flex-end"},{value:"space-between",text:"space-between",icon:"row-reverse-justify-space-between"},{value:"space-around",text:"space-around",icon:"row-reverse-justify-space-around"}]},{value:"column-reverse",text:"column-reverse",icon:"direction-column-reverse",align:[{value:"flex-start",text:"flex-start",icon:"column-reverse-align-flex-start"},{value:"center",text:"center",icon:"column-reverse-align-center"},{value:"flex-end",text:"flex-end",icon:"column-reverse-align-flex-end"},{value:"stretch",text:"stretch",icon:"column-reverse-align-stretch"},{value:"baseline",text:"baseline",icon:"column-reverse-align-baseline"}],justify:[{value:"flex-start",text:"flex-start",icon:"column-reverse-justify-flex-start"},{value:"center",text:"center",icon:"column-reverse-justify-center"},{value:"flex-end",text:"flex-end",icon:"column-reverse-justify-flex-end"},{value:"space-between",text:"space-between",icon:"column-reverse-justify-space-between"},{value:"space-around",text:"space-around",icon:"column-reverse-justify-space-around"}]}]}]},innerData:{display:"",direction:"",align:"",justify:""}}},props:{value:Object,item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.innerData=this.value)},methods:{changeDisplay:function(e){this.$emit("input",this.innerData)},change:function(e){var t=e.target.value;this.$emit("input",t)}},computed:{},watch:{value:{handler:function(e,t){this.innerData=this.value||{}},deep:!0}}},Ft=Lt,Pt=Object(b["a"])(Ft,It,Ot,!1,null,"e00a0efc",null),Nt=Pt.exports,Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[n("idm-a-radio-group",{attrs:{"default-value":"",size:"small",value:e.value},on:{change:e.change}},e._l(e.dict,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.text}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{staticClass:"layout-icon",attrs:{"icon-class":e.icon}})],1)],1)})),1)],1),n("div",{staticClass:"idm-mt5"},[n("idm-a-input",{attrs:{size:"small",placeholder:e.item.placeholder||"自定义配置比例",value:e.value},on:{input:e.change}})],1)])])},Ht=[],Rt={mixins:[Ae],name:"Igrid",data:function(){return{dict:[{value:"12:12",text:"12:12",icon:"grid-12-12"},{value:"8:8:8",text:"8:8:8",icon:"grid-8-8-8"},{value:"6:6:6:6",text:"6:6:6:6",icon:"grid-6-6-6-6"},{value:"6:18",text:"6:18",icon:"grid-6-18"},{value:"18:6",text:"18:6",icon:"grid-18-6"},{value:"6:12:6",text:"6:12:6",icon:"grid-6-12-6"},{value:"4:6:10:4",text:"4:6:10:4",icon:"grid-4-6-10-4"},{value:"4:10:6:4",text:"4:10:6:4",icon:"grid-4-10-6-4"},{value:"4:4:4:8:4",text:"4:4:4:8:4",icon:"grid-4-4-4-8-4"},{value:"4:4:4:4:4:4",text:"4:4:4:4:4:4",icon:"grid-4-4-4-4-4-4"}]}},props:{value:String,item:{type:Object,default:function(){return{}}}},created:function(){},methods:{change:function(e){var t=e.target.value;this.$emit("input",t)}},computed:{},watch:{}},Vt=Rt,Qt=Object(b["a"])(Vt,Ut,Ht,!1,null,"ea46d3a4",null),jt=Qt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box uploadimg_box"},[n("idm-a-input",{attrs:{size:"small",disabled:e.item.disabled,title:e.item.placeholder||"",placeholder:e.item.placeholder||"",value:e.value},on:{input:e.change}},[n("idm-a-popover",{attrs:{slot:"suffix",disabled:!e.item.disabled,overlayClassName:"idm_dev_popover upload_popover",trigger:"click",placement:"left"},slot:"suffix",model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("idm-a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"cloud-upload"}}),n("idm-a-spin",{attrs:{slot:"content",spinning:e.spinning},slot:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.cropperImgSrc,expression:"!cropperImgSrc"}],staticStyle:{height:"250px"}},[n("idm-a-upload-dragger",{attrs:{name:"file",multiple:!1,showUploadList:!1,customRequest:e.uploadImage},on:{change:e.handleChange}},[n("p",{staticClass:"idm-ant-upload-drag-icon"},[n("idm-a-icon",{attrs:{type:"inbox"}})],1),n("p",{staticClass:"idm-ant-upload-text"},[e._v(" 单击或拖动文件到该区域进行上传 ")]),n("p",{staticClass:"idm-ant-upload-hint"},[e._v(" "+e._s(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.desc?e.item.ctrlAttrObject.desc:"支持"+(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.suffix?e.item.ctrlAttrObject.suffix.join(","):"jpg,jpeg,png,gif,bmp,ico")+"格式文件，请上传尺寸小于"+(e.getMaxSizeLength().newSize+e.getMaxSizeLength().newUnit)+"的图片")+" ")])])],1),e.item.ctrlAttrObject&&e.item.ctrlAttrObject.cropper?n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropperImgSrc,expression:"cropperImgSrc"}],staticStyle:{height:"250px"}},[n("div",{staticStyle:{height:"210px"}},[n("vueCropper",{ref:"cropper",attrs:{img:e.IDM.url.getWebPath(e.cropperImgSrc),outputSize:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.outputSize||1,outputType:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.outputType||"jpeg",info:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.info,canScale:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.canScale,autoCrop:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.autoCrop,autoCropWidth:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.autoCropWidth||200,autoCropHeight:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.autoCropHeight||200,fixed:e.item.ctrlAttrObject.cropperOption&&!0===e.item.ctrlAttrObject.cropperOption.fixed,fixedNumber:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.fixedNumber||[1,1],full:e.item.ctrlAttrObject.cropperOption&&!0===e.item.ctrlAttrObject.cropperOption.full,canMove:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.canMove,canMoveBox:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.canMoveBox,original:e.item.ctrlAttrObject.cropperOption&&!0===e.item.ctrlAttrObject.cropperOption.original,centerBox:e.item.ctrlAttrObject.cropperOption&&!0===e.item.ctrlAttrObject.cropperOption.centerBox,high:!e.item.ctrlAttrObject.cropperOption||!1!==e.item.ctrlAttrObject.cropperOption.high,infoTrue:e.item.ctrlAttrObject.cropperOption&&!0===e.item.ctrlAttrObject.cropperOption.infoTrue,maxImgSize:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.maxImgSize||2e3,enlarge:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.enlarge||1,mode:e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.mode||"contain"}})],1),n("div",{staticClass:"cropper_opbox_out",staticStyle:{height:"40px"}},[n("div",[n("idm-a-button",{attrs:{shape:"circle"},on:{click:function(t){return e.changeScale(1)}}},[n("svg-icon",{staticClass:"cropper-icon",attrs:{"icon-class":"search-max"}})],1),n("idm-a-button",{attrs:{shape:"circle"},on:{click:function(t){return e.changeScale(-1)}}},[n("svg-icon",{staticClass:"cropper-icon",attrs:{"icon-class":"search-min"}})],1),n("idm-a-button",{attrs:{shape:"circle"},on:{click:function(t){return e.changeRotate("left")}}},[n("svg-icon",{staticClass:"cropper-icon",attrs:{"icon-class":"rotate-left"}})],1),n("idm-a-button",{attrs:{shape:"circle"},on:{click:function(t){return e.changeRotate("right")}}},[n("svg-icon",{staticClass:"cropper-icon",attrs:{"icon-class":"rotate-right"}})],1)],1),n("div",[n("idm-a-button",{on:{click:function(t){e.cropperImgSrc=""}}},[e._v(" 取消 ")]),n("idm-a-button",{attrs:{type:"primary"},on:{click:e.getCropData}},[e._v(" 确定 ")])],1)])]):e._e(),e.item.dictionary&&e.item.dictionary.length>0?n("div",[n("div",{staticClass:"uploadimg_box_title"},[e._v("可选图库（"+e._s(e.item.dictionary?e.item.dictionary.length:0)+"）")]),n("div",{staticClass:"uploadimg_box_resource_box"},e._l(e.item.dictionary,(function(t,r){return n("div",{key:r,class:{active:t==e.value},on:{click:function(n){return e.selectResourceImage(t)}}},[n("img",{style:e.getStyleObject(),attrs:{src:e.IDM.url.getWebPath(t)}})])})),0)]):e._e()])],1)],1)],1)])},Gt=[],Kt={mixins:[Ae],name:"Iuploadimage",data:function(){return{innerData:"",spinning:!1,visible:!1,cropperFileName:"",cropperImgSrc:""}},props:{value:String,item:{type:Object,default:function(){return{}}}},created:function(){this.innerData=this.value||""},methods:{handleChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList)},change:function(e){var t=e.target.value;this.$emit("input",t)},getMaxSizeLength:function(){var e=this.item.ctrlAttrObject&&this.item.ctrlAttrObject.maxSize?this.item.ctrlAttrObject.maxSize:10485760,t="B";return e>=1024&&(e/=1024,t="KB"),e>=1024&&(e/=1024,t="MB"),{newSize:e,newUnit:t}},uploadImage:function(e){var t=this;if(console.log("🚀 ~ file: Iuploadimage.vue ~ line 145 ~ uploadImage ~ file",e),this.item.ctrlAttrObject&&this.item.ctrlAttrObject.maxSize<e.file.size){var n=this.getMaxSizeLength();IDM.message.error("上传文件大小不能超过"+n.newSize+n.newUnit)}else{if(this.item.ctrlAttrObject&&this.item.ctrlAttrObject.suffix&&this.item.ctrlAttrObject.suffix.length>0){var r=e.file.name,i=r.split(".")[r.split(".").length-1],o=this.item.ctrlAttrObject.suffix;if(o.forEach((function(e,t){o[t]=e.toLocaleLowerCase()})),r.split(".").length>1&&-1==o.indexOf(i.toLocaleLowerCase()))return void IDM.message.error("上传文件格式不正确，只能为【"+o.join(",")+"】")}this.spinning=!this.spinning,this.$developApi.uploadImage(e.file,{type:"dev_uploadimage_ctrl"}).then((function(n){var r=n.data.data;if(console.log("上传数据结果",r),t.spinning=!t.spinning,t.item&&t.item.ctrlAttrObject&&t.item.ctrlAttrObject.cropper)return t.cropperImgSrc=r.filePath.split("?")[0],void(t.cropperFileName=e.file.name);t.$emit("input",r.filePath),t.visible=!t.visible,t.idm_$message.success("".concat(e.file.name," 上传成功."))})).catch((function(n){t.idm_$message.error("".concat(e.file.name," 上传失败."))}))}},changeRotate:function(e){"left"==e?this.$refs.cropper.rotateLeft():this.$refs.cropper.rotateRight()},changeScale:function(e){this.$refs.cropper.changeScale(e)},getCropData:function(){var e=this,t=e.item.ctrlAttrObject&&e.item.ctrlAttrObject.cropperOption&&e.item.ctrlAttrObject.cropperOption.outputType||"jpeg";this.$refs.cropper.getCropData((function(n){e.$developApi.saveCropperBase64Image({type:"dev_uploadimage_ctrl",data:n.replace("data:image/"+t+";base64,",""),suffix:t}).then((function(t){var n=t.data.data;e.cropperImgSrc="",e.$emit("input",n.filePath),e.visible=!e.visible,e.idm_$message.success("".concat(e.cropperFileName," 裁剪并上传成功."))})),console.log(n)}))},cancelCrop:function(){var e=this;e.cropperImgSrc=""},selectResourceImage:function(e){this.$emit("input",e),this.visible=!this.visible},getStyleObject:function(){var e={};return this.item&&this.item.ctrlAttrObject&&(e["width"]=this.item.ctrlAttrObject.width||"auto",e["height"]=this.item.ctrlAttrObject.height||"auto"),e}},computed:{},watch:{value:{handler:function(e,t){console.log("数据变更",this.value),this.innerData=this.value||""},deep:!0}}},qt=Kt,Wt=Object(b["a"])(qt,zt,Gt,!1,null,"41bda011",null),$t=Wt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-block"},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box ibox_layout_padding_margin"},[n("div",{staticClass:"ibox_layout_margin"},[n("div",{staticClass:"ibox_layout_handle ibox_handle_top",on:{click:function(t){return e.addNumber("mt")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-top"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_top",class:{ibox_highlight:""!=e.innerData.marginTopVal},on:{click:function(t){return e.showInput("mt")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"mt"!=e.ctrlStatus,expression:"ctrlStatus!='mt'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.marginTopVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"mt"==e.ctrlStatus,expression:"ctrlStatus=='mt'"},{name:"model",rawName:"v-model",value:e.innerData.marginTopVal,expression:"innerData.marginTopVal"}],ref:"inputmt",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.marginTopVal},on:{change:e.change,blur:function(t){return e.inputBurl("mt")},input:function(t){t.target.composing||e.$set(e.innerData,"marginTopVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_right",on:{click:function(t){return e.addNumber("mr")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-right"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_right",class:{ibox_highlight:""!=e.innerData.marginRightVal},on:{click:function(t){return e.showInput("mr")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"mr"!=e.ctrlStatus,expression:"ctrlStatus!='mr'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.marginRightVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"mr"==e.ctrlStatus,expression:"ctrlStatus=='mr'"},{name:"model",rawName:"v-model",value:e.innerData.marginRightVal,expression:"innerData.marginRightVal"}],ref:"inputmr",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.marginRightVal},on:{blur:function(t){return e.inputBurl("mr")},input:function(t){t.target.composing||e.$set(e.innerData,"marginRightVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_bottom",on:{click:function(t){return e.addNumber("mb")}}},[n("span",{staticClass:"ibox_handle_inscription"},[e._v("MARGIN")]),n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-bottom"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_bottom",class:{ibox_highlight:""!=e.innerData.marginBottomVal},on:{click:function(t){return e.showInput("mb")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"mb"!=e.ctrlStatus,expression:"ctrlStatus!='mb'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.marginBottomVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"mb"==e.ctrlStatus,expression:"ctrlStatus=='mb'"},{name:"model",rawName:"v-model",value:e.innerData.marginBottomVal,expression:"innerData.marginBottomVal"}],ref:"inputmb",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.marginBottomVal},on:{blur:function(t){return e.inputBurl("mb")},input:function(t){t.target.composing||e.$set(e.innerData,"marginBottomVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_left",on:{click:function(t){return e.addNumber("ml")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-left"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_left",class:{ibox_highlight:""!=e.innerData.marginLeftVal},on:{click:function(t){return e.showInput("ml")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"ml"!=e.ctrlStatus,expression:"ctrlStatus!='ml'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.marginLeftVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"ml"==e.ctrlStatus,expression:"ctrlStatus=='ml'"},{name:"model",rawName:"v-model",value:e.innerData.marginLeftVal,expression:"innerData.marginLeftVal"}],ref:"inputml",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.marginLeftVal},on:{blur:function(t){return e.inputBurl("ml")},input:function(t){t.target.composing||e.$set(e.innerData,"marginLeftVal",t.target.value)}}})])]),n("div",{staticClass:"ibox_layout_padding"},[n("div",{staticClass:"ibox_layout_handle ibox_handle_top",on:{click:function(t){return e.addNumber("pt")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-top"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_top",class:{ibox_highlight:""!=e.innerData.paddingTopVal},on:{click:function(t){return e.showInput("pt")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"pt"!=e.ctrlStatus,expression:"ctrlStatus!='pt'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.paddingTopVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"pt"==e.ctrlStatus,expression:"ctrlStatus=='pt'"},{name:"model",rawName:"v-model",value:e.innerData.paddingTopVal,expression:"innerData.paddingTopVal"}],ref:"inputpt",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.paddingTopVal},on:{blur:function(t){return e.inputBurl("pt")},input:function(t){t.target.composing||e.$set(e.innerData,"paddingTopVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_right",on:{click:function(t){return e.addNumber("pr")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-right"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_right",class:{ibox_highlight:""!=e.innerData.paddingRightVal},on:{click:function(t){return e.showInput("pr")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"pr"!=e.ctrlStatus,expression:"ctrlStatus!='pr'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.paddingRightVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"pr"==e.ctrlStatus,expression:"ctrlStatus=='pr'"},{name:"model",rawName:"v-model",value:e.innerData.paddingRightVal,expression:"innerData.paddingRightVal"}],ref:"inputpr",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.paddingRightVal},on:{blur:function(t){return e.inputBurl("pr")},input:function(t){t.target.composing||e.$set(e.innerData,"paddingRightVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_bottom",on:{click:function(t){return e.addNumber("pb")}}},[n("span",{staticClass:"ibox_handle_inscription"},[e._v("PADDING")]),n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-bottom"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_bottom",class:{ibox_highlight:""!=e.innerData.paddingBottomVal},on:{click:function(t){return e.showInput("pb")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"pb"!=e.ctrlStatus,expression:"ctrlStatus!='pb'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.paddingBottomVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"pb"==e.ctrlStatus,expression:"ctrlStatus=='pb'"},{name:"model",rawName:"v-model",value:e.innerData.paddingBottomVal,expression:"innerData.paddingBottomVal"}],ref:"inputpb",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.paddingBottomVal},on:{blur:function(t){return e.inputBurl("pb")},input:function(t){t.target.composing||e.$set(e.innerData,"paddingBottomVal",t.target.value)}}})]),n("div",{staticClass:"ibox_layout_handle ibox_handle_left",on:{click:function(t){return e.addNumber("pl")}}},[n("svg-icon",{staticClass:"box-arrow-icon",attrs:{"icon-class":"box-arrow-left"}})],1),n("div",{staticClass:"ibox_inline_input ibox_layout_input_left",class:{ibox_highlight:""!=e.innerData.paddingLeftVal},on:{click:function(t){return e.showInput("pl")}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"pl"!=e.ctrlStatus,expression:"ctrlStatus!='pl'"}],staticClass:"ibox_inline_input_text"},[e._v(e._s(e.innerData.paddingLeftVal.replace("px","")||0))]),n("input",{directives:[{name:"show",rawName:"v-show",value:"pl"==e.ctrlStatus,expression:"ctrlStatus=='pl'"},{name:"model",rawName:"v-model",value:e.innerData.paddingLeftVal,expression:"innerData.paddingLeftVal"}],ref:"inputpl",staticClass:"ibox_inline_input_input",attrs:{type:"text",placeholder:"0px"},domProps:{value:e.innerData.paddingLeftVal},on:{blur:function(t){return e.inputBurl("pl")},input:function(t){t.target.composing||e.$set(e.innerData,"paddingLeftVal",t.target.value)}}})])]),n("div",{staticClass:"box_auto_btn_box",class:{active:e.autoActive},on:{click:function(t){return e.setAuto()}}},[n("svg-icon",{staticClass:"box-auto-icon",attrs:{"icon-class":"box-auto"}})],1)])])},Yt=[],Jt={mixins:[Ae],name:"Ibox",data:function(){return{innerData:{marginTopVal:"",marginRightVal:"",marginBottomVal:"",marginLeftVal:"",paddingTopVal:"",paddingRightVal:"",paddingBottomVal:"",paddingLeftVal:""},ctrlStatus:"",autoActive:!1}},props:{value:Object,item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.innerData=this.value)},methods:{addNumber:function(e){var t="";switch(e){case"mt":t="marginTopVal";break;case"mr":t="marginRightVal";break;case"mb":t="marginBottomVal";break;case"ml":t="marginLeftVal";break;case"pt":t="paddingTopVal";break;case"pr":t="paddingRightVal";break;case"pb":t="paddingBottomVal";break;case"pl":t="paddingLeftVal";break}isNaN(parseFloat(this.innerData[t]))?this.innerData[t]="1px":this.innerData[t].lastIndexOf("%")==this.innerData[t].length-1?this.innerData[t]=parseFloat(this.innerData[t])+1+"%":this.innerData[t]=parseFloat(this.innerData[t])+1+"px",this.formatInnerData(),this.$emit("input",this.innerData)},setAuto:function(){this.autoActive=!0,this.innerData.marginRightVal="auto",this.innerData.marginLeftVal="auto",this.$emit("input",this.innerData)},change:function(e){this.formatInnerData(),this.$emit("input",this.innerData)},formatInnerData:function(){var e=this;Object.keys(this.innerData).forEach((function(t){""==e.innerData[t]||(isNaN(parseFloat(e.innerData[t]))?"auto"!=e.innerData[t]&&(e.innerData[t]="0px"):e.innerData[t].lastIndexOf("%")!=e.innerData[t].length-1?e.innerData[t]=isNaN(parseFloat(e.innerData[t]))?0:parseFloat(e.innerData[t])+"px":e.innerData[t]=parseFloat(e.innerData[t])+"%")})),this.autoActive="auto"==this.innerData.marginRightVal&&"auto"==this.innerData.marginLeftVal},showInput:function(e){this.ctrlStatus=e,this.$nextTick((function(t){switch(e){case"mt":this.$refs.inputmt.select();break;case"mr":this.$refs.inputmr.select();break;case"mb":this.$refs.inputmb.select();break;case"ml":this.$refs.inputml.select();break;case"pt":this.$refs.inputpt.select();break;case"pr":this.$refs.inputpr.select();break;case"pb":this.$refs.inputpb.select();break;case"pl":this.$refs.inputpl.select();break}}))},inputBurl:function(e){this.formatInnerData(),this.ctrlStatus="",this.$emit("input",this.innerData)}},computed:{},watch:{value:{handler:function(e,t){this.innerData=this.value||{marginTopVal:"0px",marginRightVal:"0px",marginBottomVal:"0px",marginLeftVal:"0px",paddingTopVal:"0px",paddingRightVal:"0px",paddingBottomVal:"0px",paddingLeftVal:"0px"},this.autoActive="auto"==this.innerData.marginRightVal&&"auto"==this.innerData.marginLeftVal},deep:!0}}},Zt=Jt,en=Object(b["a"])(Zt,Xt,Yt,!1,null,"53b3fc68",null),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-block"},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",{staticClass:"ctrl_box_border"},[n("div",{staticClass:"border_ctrl_wrap"},[n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"left"==e.curActive.border},on:{click:function(t){return e.changeActive("border","left")}}},[n("idm-a-tooltip",{attrs:{title:"左边框"}},[e._v(" ┣ ")])],1)]),n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"top"==e.curActive.border},on:{click:function(t){return e.changeActive("border","top")}}},[n("idm-a-tooltip",{attrs:{title:"上边框"}},[e._v(" ┳ ")])],1),n("div",{class:{active:"all"==e.curActive.border},on:{click:function(t){return e.changeActive("border","all")}}},[n("idm-a-tooltip",{attrs:{title:"全部"}},[e._v(" ╋ ")])],1),n("div",{class:{active:"bottom"==e.curActive.border},on:{click:function(t){return e.changeActive("border","bottom")}}},[n("idm-a-tooltip",{attrs:{title:"下边框"}},[e._v(" ┻ ")])],1)]),n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"right"==e.curActive.border},on:{click:function(t){return e.changeActive("border","right")}}},[n("idm-a-tooltip",{attrs:{title:"右边框"}},[e._v(" ┫ ")])],1)])]),e._l(e.innerData.border,(function(t,r,i){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.curActive.border==r,expression:"curActive.border==name"}],key:i,staticClass:"border_ctrl_content"},[n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"线行"}},[e._v("线行")]),n("div",{staticClass:"ctrl_box"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small",placeholder:"无","default-value":"none"},on:{change:e.change},model:{value:t.style,callback:function(n){e.$set(t,"style",n)},expression:"iitem.style"}},e._l(e.dictionary.border,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"宽"}},[e._v("宽")]),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999},on:{change:e.change},model:{value:t.width,callback:function(n){e.$set(t,"width",n)},expression:"iitem.width"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:t.widthUnit,callback:function(n){e.$set(t,"widthUnit",n)},expression:"iitem.widthUnit"}},e._l(e.dictionary.widthUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"颜色"}},[e._v("颜色")]),n("div",{staticClass:"ctrl_box idm_colorpicker_input"},[n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:t.visible,callback:function(n){e.$set(t,"visible",n)},expression:"iitem.visible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{on:{input:e.change},model:{value:t.colors,callback:function(n){e.$set(t,"colors",n)},expression:"iitem.colors"}})],1),n("idm-a-input",{ref:"colorpicker",refInFor:!0,attrs:{size:"small",allowClear:"",placeholder:e.item.placeholder||""},on:{change:function(n){return e.inputChange(t)}},model:{value:t.colors.hex8,callback:function(n){e.$set(t.colors,"hex8",n)},expression:"iitem.colors.hex8"}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":t.colors.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])])]})),n("div",{directives:[{name:"show",rawName:"v-show",value:"all"==e.curActive.border,expression:"curActive.border=='all'"}],staticClass:"border_ctrl_content"},[n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"线行"}},[e._v("线行")]),n("div",{staticClass:"ctrl_box"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small",placeholder:"无","default-value":"none",value:e.ctrlAllData.border.style},on:{change:e.borderChangeAllStyle}},e._l(e.dictionary.border,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"宽"}},[e._v("宽")]),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999,value:e.ctrlAllData.border.width},on:{change:e.borderChangeAllWidth}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择",value:e.ctrlAllData.border.widthUnit},on:{change:e.borderChangeAllWidthUnit}},e._l(e.dictionary.widthUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text",attrs:{title:"颜色"}},[e._v("颜色")]),n("div",{staticClass:"ctrl_box idm_colorpicker_input"},[n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{attrs:{value:e.ctrlAllData.border.colors},on:{input:e.borderChangeAllColors}})],1),n("idm-a-input",{ref:"colorpicker",attrs:{size:"small",allowClear:"",placeholder:e.item.placeholder||""},on:{change:e.borderChangeAllColorsInput},model:{value:e.ctrlAllData.border.colors.hex8,callback:function(t){e.$set(e.ctrlAllData.border.colors,"hex8",t)},expression:"ctrlAllData.border.colors.hex8"}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.ctrlAllData.border.colors.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])])],2),n("div",{staticClass:"ctrl_box_radius"},[n("div",{staticClass:"border_ctrl_wrap"},[n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"leftTop"==e.curActive.radius},on:{click:function(t){return e.changeActive("radius","leftTop")}}},[n("idm-a-tooltip",{attrs:{title:"左上角"}},[e._v(" ┏ ")])],1),n("div",{class:{active:"leftBottom"==e.curActive.radius},on:{click:function(t){return e.changeActive("radius","leftBottom")}}},[n("idm-a-tooltip",{attrs:{title:"左下角"}},[e._v(" ┗ ")])],1)]),n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"all"==e.curActive.radius},on:{click:function(t){return e.changeActive("radius","all")}}},[n("idm-a-tooltip",{attrs:{title:"全部"}},[e._v(" ╋ ")])],1)]),n("div",{staticClass:"border_setting_row"},[n("div",{class:{active:"rightTop"==e.curActive.radius},on:{click:function(t){return e.changeActive("radius","rightTop")}}},[n("idm-a-tooltip",{attrs:{title:"右上角"}},[e._v(" ┓ ")])],1),n("div",{class:{active:"rightBottom"==e.curActive.radius},on:{click:function(t){return e.changeActive("radius","rightBottom")}}},[n("idm-a-tooltip",{attrs:{title:"右下角"}},[e._v(" ┛ ")])],1)])]),e._l(e.innerData.radius,(function(t,r,i){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.curActive.radius==r,expression:"curActive.radius==name"}],key:i,staticClass:"border_ctrl_content"},[n("div",{staticClass:"layoutType-inline idm-mt5"},[n("div",{staticClass:"label_text",attrs:{title:"圆角"}},[e._v("圆角")]),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999},on:{change:e.change},model:{value:t.radius,callback:function(n){e.$set(t,"radius",n)},expression:"iitem.radius"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:t.radiusUnit,callback:function(n){e.$set(t,"radiusUnit",n)},expression:"iitem.radiusUnit"}},e._l(e.dictionary.widthUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])])])]})),n("div",{directives:[{name:"show",rawName:"v-show",value:"all"==e.curActive.radius,expression:"curActive.radius=='all'"}],staticClass:"border_ctrl_content"},[n("div",{staticClass:"layoutType-inline idm-mt5"},[n("div",{staticClass:"label_text",attrs:{title:"圆角"}},[e._v("圆角")]),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999,value:e.ctrlAllData.radius.radius},on:{change:e.radiusChangeAllRadius}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择",value:e.ctrlAllData.radius.radiusUnit},on:{change:e.radiusChangeAllRadiusUnit}},e._l(e.dictionary.widthUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])])])],2)])])},rn=[],on={mixins:[Ae],name:"Iborder",components:{"sketch-picker":wt["Sketch"]},data:function(){return{visible:!1,innerData:{border:{top:{style:"none",width:0,widthUnit:"px",colors:{}},right:{style:"none",width:0,widthUnit:"px",colors:{}},bottom:{style:"none",width:0,widthUnit:"px",colors:{}},left:{style:"none",width:0,widthUnit:"px",colors:{}}},radius:{leftTop:{radius:0,radiusUnit:"px"},rightTop:{radius:0,radiusUnit:"px"},leftBottom:{radius:0,radiusUnit:"px"},rightBottom:{radius:0,radiusUnit:"px"}}},ctrlAllData:{border:{style:"none",width:0,widthUnit:"px",colors:{}},radius:{radius:0,radiusUnit:"px"}},curActive:{border:"all",radius:"all"},dictionary:{border:[{value:"none",label:"无"},{value:"solid",label:"实线"},{value:"dotted",label:"点线"},{value:"dashed",label:"虚线"}],widthUnit:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"}]}}},props:{value:Object,item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.innerData=_.cloneDeep(this.value),this.ctrlAllData={border:{style:"none",width:0,widthUnit:"px",colors:{}},radius:{radius:0,radiusUnit:"px"}},this.updateCtrlAllData("radius","all"),this.updateCtrlAllData("border","all"))},methods:{changeActive:function(e,t){this.curActive[e]=t,this.updateCtrlAllData(e,t)},updateCtrlAllData:function(e,t){if("all"==t){var n=0;if("border"==e)for(var r in this.innerData.border){var i=this.innerData.border[r];n>0?(this.ctrlAllData.border.style!=i.style&&(this.ctrlAllData.border.style="none"),this.ctrlAllData.border.width!=i.width&&(this.ctrlAllData.border.width=null),this.ctrlAllData.border.widthUnit!=i.widthUnit&&(this.ctrlAllData.border.widthUnit=""),JSON.stringify(this.ctrlAllData.border.colors)!=JSON.stringify(i.colors)&&(this.ctrlAllData.border.colors={})):this.ctrlAllData.border=_.cloneDeep(i),n++}else for(var o in this.innerData.radius){var a=this.innerData.radius[o];n>0?(this.ctrlAllData.radius.radius!=a.radius&&(this.ctrlAllData.radius.radius=null),this.ctrlAllData.radius.radiusUnit!=a.radiusUnit&&(this.ctrlAllData.radius.radiusUnit="")):this.ctrlAllData.radius=_.cloneDeep(a),n++}}},radiusChangeAll:function(e){var t=JSON.parse(JSON.stringify(this.innerData));("radius"==e||"radiusUnit"==e&&0!=this.ctrlAllData.radius.radius&&null!=this.ctrlAllData.radius.radius)&&(t.radius.leftTop.radius=_.cloneDeep(this.ctrlAllData.radius.radius),t.radius.leftBottom.radius=_.cloneDeep(this.ctrlAllData.radius.radius),t.radius.rightTop.radius=_.cloneDeep(this.ctrlAllData.radius.radius),t.radius.rightBottom.radius=_.cloneDeep(this.ctrlAllData.radius.radius),t.radius.leftTop.radiusUnit=_.cloneDeep(this.ctrlAllData.radius.radiusUnit),t.radius.leftBottom.radiusUnit=_.cloneDeep(this.ctrlAllData.radius.radiusUnit),t.radius.rightTop.radiusUnit=_.cloneDeep(this.ctrlAllData.radius.radiusUnit),t.radius.rightBottom.radiusUnit=_.cloneDeep(this.ctrlAllData.radius.radiusUnit)),this.$emit("input",_.cloneDeep(t))},radiusChangeAllRadius:function(e){this.ctrlAllData.radius.radius=e,this.radiusChangeAll("radius")},radiusChangeAllRadiusUnit:function(e){this.ctrlAllData.radius.radiusUnit=e,this.radiusChangeAll("radiusUnit")},borderChangeAllStyle:function(e){this.ctrlAllData.border.style=e,this.borderChangeAll("style")},borderChangeAllWidth:function(e){this.ctrlAllData.border.width=e,this.borderChangeAll("width")},borderChangeAllWidthUnit:function(e){this.ctrlAllData.border.widthUnit=e,this.borderChangeAll("widthUnit")},borderChangeAllColors:function(e){this.ctrlAllData.border.colors=e,this.borderChangeAll("colors")},borderChangeAllColorsInput:function(e){if(this.ctrlAllData.border.colors.hex=this.ctrlAllData.border.colors.hex8.length>7?this.ctrlAllData.border.colors.hex8.substring(0,7):this.ctrlAllData.border.colors.hex8,this.ctrlAllData.border.colors.hex8.length>8)try{this.ctrlAllData.border.colors.rgba=IDM.hex8ToRgbaObject(this.ctrlAllData.border.colors.hex8)}catch(t){}this.borderChangeAll("colors")},borderChangeAll:function(e){console.log(e);var t=JSON.parse(JSON.stringify(this.innerData));"width"==e||"widthUnit"==e&&0!=this.ctrlAllData.border.width&&null!=this.ctrlAllData.border.width?(t.border.top.width=_.cloneDeep(this.ctrlAllData.border.width),t.border.right.width=_.cloneDeep(this.ctrlAllData.border.width),t.border.bottom.width=_.cloneDeep(this.ctrlAllData.border.width),t.border.left.width=_.cloneDeep(this.ctrlAllData.border.width),t.border.top.widthUnit=_.cloneDeep(this.ctrlAllData.border.widthUnit),t.border.right.widthUnit=_.cloneDeep(this.ctrlAllData.border.widthUnit),t.border.bottom.widthUnit=_.cloneDeep(this.ctrlAllData.border.widthUnit),t.border.left.widthUnit=_.cloneDeep(this.ctrlAllData.border.widthUnit)):"style"==e?(t.border.top.style=_.cloneDeep(this.ctrlAllData.border.style),t.border.right.style=_.cloneDeep(this.ctrlAllData.border.style),t.border.bottom.style=_.cloneDeep(this.ctrlAllData.border.style),t.border.left.style=_.cloneDeep(this.ctrlAllData.border.style)):"colors"==e&&(t.border.top.colors=_.cloneDeep(this.ctrlAllData.border.colors),t.border.right.colors=_.cloneDeep(this.ctrlAllData.border.colors),t.border.bottom.colors=_.cloneDeep(this.ctrlAllData.border.colors),t.border.left.colors=_.cloneDeep(this.ctrlAllData.border.colors)),console.log("修改全部后得innerData",t),this.$emit("input",_.cloneDeep(t))},ddlChange:function(e){this.$emit("input",_.cloneDeep(this.innerData))},change:function(e){this.$emit("input",_.cloneDeep(this.innerData))},inputChange:function(e){if(e.colors.hex=e.colors.hex8.length>7?e.colors.hex8.substring(0,7):e.colors.hex8,e.colors.hex8.length>8)try{e.colors.rgba=IDM.hex8ToRgbaObject(e.colors.hex8)}catch(t){}this.$emit("input",_.cloneDeep(this.innerData))}},computed:{},watch:{value:{handler:function(e,t){this.innerData=_.cloneDeep(this.value||{border:{top:{style:"none",width:0,widthUnit:"px",colors:{}},right:{style:"none",width:0,widthUnit:"px",colors:{}},bottom:{style:"none",width:0,widthUnit:"px",colors:{}},left:{style:"none",width:0,widthUnit:"px",colors:{}}},radius:{leftTop:{radius:0,radiusUnit:"px"},rightTop:{radius:0,radiusUnit:"px"},leftBottom:{radius:0,radiusUnit:"px"},rightBottom:{radius:0,radiusUnit:"px"}}}),this.ctrlAllData={border:{style:"none",width:0,widthUnit:"px",colors:{}},radius:{radius:0,radiusUnit:"px"}},this.updateCtrlAllData("radius","all"),this.updateCtrlAllData("border","all")},deep:!0}}},an=on,sn=Object(b["a"])(an,nn,rn,!1,null,"481f2c1b",null),un=sn.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-collapse",{class:"collapse_level_"+e.index,staticStyle:{"margin-bottom":"10px"},attrs:{"expand-icon-position":"right"}},[n("idm-a-collapse-panel",[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(e.item.text)+" "),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1),n("div",{staticClass:"ctrl_box_fontbox"},[n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"字体"}},[n("svg-icon",{attrs:{"icon-class":"font-family"}})],1)],1),n("div",{staticClass:"ctrl_box"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small",placeholder:"无","default-value":""},on:{change:e.change},model:{value:e.innerData.fontFamily,callback:function(t){e.$set(e.innerData,"fontFamily",t)},expression:"innerData.fontFamily"}},e._l(e.dictionary.fontFamily,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[n("span",{style:"font-family:"+t.value,attrs:{title:t.label}},[e._v(e._s(t.label))])])})),1)],1)]),n("div",{staticClass:"inlineGroup"},[n("div",{staticClass:"layoutType-inline",staticStyle:{width:"calc(100% - 90px)"}},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"字重"}},[n("svg-icon",{attrs:{"icon-class":"font-weight"}})],1)],1),n("div",{staticClass:"ctrl_box"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small",placeholder:"无","default-value":""},on:{change:e.change},model:{value:e.innerData.fontWeight,callback:function(t){e.$set(e.innerData,"fontWeight",t)},expression:"innerData.fontWeight"}},e._l(e.dictionary.fontWeight,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[n("span",{style:"font-weight:"+t.value.split(" ")[0],attrs:{title:t.label}},[e._v(e._s(t.label))])])})),1)],1)]),n("div",{staticClass:"layoutType-inline",staticStyle:{width:"90px","flex-shrink":"0"}},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"样式"}},[n("svg-icon",{attrs:{"icon-class":"font-style"}})],1)],1),n("div",{staticClass:"ctrl_box"},[n("idm-a-radio-group",{attrs:{"default-value":"",size:"small"},on:{change:e.change},model:{value:e.innerData.fontStyle,callback:function(t){e.$set(e.innerData,"fontStyle",t)},expression:"innerData.fontStyle"}},e._l(e.dictionary.fontStyle,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.label}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{attrs:{"icon-class":e.icon}})],1)],1)})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"字体颜色"}},[n("svg-icon",{attrs:{"icon-class":"font-color"}})],1)],1),n("div",{staticClass:"ctrl_box idm_colorpicker_input"},[n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{on:{input:e.change},model:{value:e.innerData.fontColors,callback:function(t){e.$set(e.innerData,"fontColors",t)},expression:"innerData.fontColors"}})],1),n("idm-a-input",{ref:"colorpicker",attrs:{size:"small",placeholder:"",readOnly:e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.disabledInput,allowClear:""},on:{change:e.inputChange},model:{value:e.innerData.fontColors.hex8,callback:function(t){e.$set(e.innerData.fontColors,"hex8",t)},expression:"innerData.fontColors.hex8"}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.innerData.fontColors.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"大小"}},[n("svg-icon",{attrs:{"icon-class":"font-size"}})],1)],1),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999},on:{change:e.change},model:{value:e.innerData.fontSize,callback:function(t){e.$set(e.innerData,"fontSize",t)},expression:"innerData.fontSize"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:e.innerData.fontSizeUnit,callback:function(t){e.$set(e.innerData,"fontSizeUnit",t)},expression:"innerData.fontSizeUnit"}},e._l(e.dictionary.fontSizeUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"行高"}},[n("svg-icon",{attrs:{"icon-class":"font-line-height"}})],1)],1),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999},on:{change:e.change},model:{value:e.innerData.fontLineHeight,callback:function(t){e.$set(e.innerData,"fontLineHeight",t)},expression:"innerData.fontLineHeight"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:e.innerData.fontLineHeightUnit,callback:function(t){e.$set(e.innerData,"fontLineHeightUnit",t)},expression:"innerData.fontLineHeightUnit"}},e._l(e.dictionary.fontLineHeightUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"间隔"}},[n("svg-icon",{attrs:{"icon-class":"font-letter-spacing"}})],1)],1),n("div",{staticClass:"inumberunit_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",max:999999,min:-999999},on:{change:e.change},model:{value:e.innerData.fontLetterSpacing,callback:function(t){e.$set(e.innerData,"fontLetterSpacing",t)},expression:"innerData.fontLetterSpacing"}})],1),n("div",{staticClass:"unit_select"},[n("idm-a-select",{attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",size:"small","default-value":"",placeholder:"请选择"},on:{change:e.ddlChange},model:{value:e.innerData.fontLetterSpacingUnit,callback:function(t){e.$set(e.innerData,"fontLetterSpacingUnit",t)},expression:"innerData.fontLetterSpacingUnit"}},e._l(e.dictionary.fontLetterSpacingUnit,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"对齐"}},[n("svg-icon",{attrs:{"icon-class":"font-text-align"}})],1)],1),n("div",{staticClass:"ctrl_box inner_width_100"},[n("idm-a-radio-group",{attrs:{"default-value":"",size:"small"},on:{change:e.change},model:{value:e.innerData.fontTextAlign,callback:function(t){e.$set(e.innerData,"fontTextAlign",t)},expression:"innerData.fontTextAlign"}},e._l(e.dictionary.fontTextAlign,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.label}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{style:e.style,attrs:{"icon-class":e.icon}})],1)],1)})),1)],1)]),n("div",{staticClass:"layoutType-inline"},[n("div",{staticClass:"label_text"},[n("idm-a-tooltip",{attrs:{title:"修饰"}},[n("svg-icon",{attrs:{"icon-class":"font-text-align"}})],1)],1),n("div",{staticClass:"ctrl_box inner_width_100"},[n("idm-a-radio-group",{attrs:{"default-value":"",size:"small"},on:{change:e.change},model:{value:e.innerData.fontDecoration,callback:function(t){e.$set(e.innerData,"fontDecoration",t)},expression:"innerData.fontDecoration"}},e._l(e.dictionary.fontDecoration,(function(e,t){return n("idm-a-tooltip",{key:t,attrs:{title:e.label}},[n("idm-a-radio-button",{attrs:{value:e.value}},[n("svg-icon",{attrs:{"icon-class":e.icon}})],1)],1)})),1)],1)])])])],1)},ln=[],dn={mixins:[Ae],name:"Ifont",components:{"sketch-picker":wt["Sketch"]},data:function(){return{visible:!1,innerData:{fontFamily:"",fontColors:{},fontLetterSpacingUnit:"",fontLetterSpacing:""},dictionary:{fontFamily:IDM.setting.applications.fontFamilyList||[{value:"arial, helvetica, 'microsoft yahei'",label:"Arial, Helvetica, 微软雅黑"},{value:"arial, helvetica, simhei",label:"Arial, Helvetica, 黑体"},{value:"'comic sans ms', 'microsoft yahei'",label:"Comic Sans MS, 微软雅黑"},{value:"'comic sans ms', simhei",label:"Comic Sans MS, 黑体"},{value:"impact, 'microsoft yahei'",label:"Impact, 微软雅黑"},{value:"impact, simhei",label:"Impact, 黑体"},{value:"'lucida sans unicode', 'microsoft yahei'",label:"Lucida Sans Unicode, 微软雅黑"},{value:"'lucida sans unicode', simhei",label:"Lucida Sans Unicode, 黑体"}],fontWeight:[{value:"100 Thin",label:"100 Thin"},{value:"100 Extra Light",label:"100 Extra Light"},{value:"100 Light",label:"100 Light"},{value:"400 Normal",label:"400 Normal"},{value:"500 Medium",label:"500 Medium"},{value:"600 Semi Bold",label:"600 Semi Bold"},{value:"700 Bold",label:"700 Bold"},{value:"800 Extra Bold",label:"800 Extra Bold"},{value:"900 Black",label:"900 Black"},{value:"Lighter",label:"Lighter"},{value:"Bolder",label:"Bolder"}],fontSizeUnit:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"}],fontLineHeightUnit:[{value:"-",label:"-"},{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"}],fontLetterSpacingUnit:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"}],fontStyle:[{value:"normal",label:"normal",icon:"font-style-normal"},{value:"italic",label:"italic",icon:"font-style-italic"}],fontTextAlign:[{value:"left",label:"left",icon:"font-text-align-left"},{value:"center",label:"center",icon:"font-text-align-center"},{value:"right",label:"right",icon:"font-text-align-right",style:"transform: scale(-1);"},{value:"justify",label:"justify",icon:"font-text-align-justify"}],fontDecoration:[{value:"none",label:"none",icon:"font-text-decoration-none"},{value:"underline",label:"underline",icon:"font-text-decoration-underline"},{value:"line-through",label:"line-through",icon:"font-text-decoration-line-through"}]}}},props:{index:Number,value:Object,item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.innerData=this.value)},methods:{ddlChange:function(e){this.$emit("input",this.innerData)},change:function(e){this.$emit("input",this.innerData)},inputChange:function(e){var t=e.target.value;if(this.innerData.fontColors.hex8=t,t||(this.innerData.fontColors={}),this.innerData.fontColors.hex=this.innerData.fontColors.hex8.length>7?this.innerData.fontColors.hex8.substring(0,7):this.innerData.fontColors.hex8,this.innerData.fontColors.hex8.length>8)try{this.innerData.fontColors.rgba=IDM.hex8ToRgbaObject(this.innerData.fontColors.hex8)}catch(n){}this.$emit("input",this.innerData)}},computed:{},watch:{value:{handler:function(e,t){this.innerData=this.value||{fontColors:{}}},deep:!0}}},fn=dn,An=Object(b["a"])(fn,cn,ln,!1,null,"0997b769",null),hn=An.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-button",{style:{width:"block"==e.item.layoutType&&e.item.width?e.item.width:"auto"},attrs:{type:"primary",disabled:e.item.disabled,size:"small"},on:{click:e.showModal}},[e._v(" "+e._s(e.item.buttonText||"编辑内容")+" ")]),n("idm-a-modal",{attrs:{wrapClassName:"idm_dev_modal_richtext","ok-text":"确认","cancel-text":"取消",width:"1000px",title:e.item.buttonText||"编辑内容"},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible1?n("div",[n("vue-tinymce",{attrs:{setting:e.setting},model:{value:e.innerData,callback:function(t){e.innerData=t},expression:"innerData"}})],1):e._e()])],1)])},mn=[],gn={mixins:[Ae],name:"Irichtext",data:function(){return{visible:!1,visible1:!1,innerData:"",setting:{menubar:!1,toolbar:"undo redo | fullscreen | formatselect alignleft aligncenter alignright alignjustify | link unlink | numlist bullist | image media table | fontselect fontsizeselect forecolor backcolor | bold italic underline strikethrough | indent outdent | superscript subscript | removeformat |",toolbar_drawer:"sliding",quickbars_selection_toolbar:"removeformat | bold italic underline strikethrough | fontsizeselect forecolor backcolor",plugins:"link image media table lists fullscreen quickbars",language:"zh_CN",height:350}}},props:{value:String,item:{type:Object,default:function(){return{}}}},created:function(){this.value&&(this.innerData=this.value)},methods:{showModal:function(){this.setting.height=document.body.clientHeight-300,this.visible=!0,this.$nextTick((function(e){this.visible1=!0}))},handleOk:function(e){console.log(e),this.visible=!1,this.$emit("input",this.innerData)}},computed:{},watch:{value:{handler:function(e,t){this.innerData=this.value||""},deep:!0}}},vn=gn,yn=Object(b["a"])(vn,pn,mn,!1,null,"1b2b37d5",null),bn=yn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownClassName:"idm_dev_select scrollbar_style",size:"small",disabled:e.item.disabled,placeholder:e.item.placeholder||"","show-search":"",value:e.innerData,treeNodeLabelProp:e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.treeCheckStrictly?"label":"title",dropdownMatchSelectWidth:!0,"dropdown-style":{maxHeight:"400px",overflow:"auto"},"allow-clear":"",multiple:!!e.item.multiple,showCheckedStrategy:"TreeSelect.SHOW_ALL",treeNodeFilterProp:e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.treeCheckStrictly?"label":"title",replaceFields:e.item.ctrlAttrObject&&e.item.ctrlAttrObject.replaceFields?e.item.ctrlAttrObject.replaceFields:{children:"children",title:"title",key:"key",value:"value"},treeCheckStrictly:!!e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.treeCheckStrictly,treeCheckable:!!e.item.ctrlAttrObject&&!0===e.item.ctrlAttrObject.treeCheckable,"tree-default-expand-all":!e.item.ctrlAttrObject||!1!==e.item.ctrlAttrObject.treeDefaultExpandAll,treeData:e.item.dataSourceUrl?e.serverDictionary:e.item.dictionary},on:{change:e.change},scopedSlots:e._u([{key:"custom",fn:function(t){return[e._v(" "+e._s(t.titleText)+" "),t.children&&t.children.length?n("a",{staticClass:"idm-select-allchildren",on:{click:function(n){return n.stopPropagation(),e.checkChildrenNode(t)}}},[e._v("全选下级")]):e._e()]}}])})],1)])},xn=[],Cn={mixins:[Ae],name:"ItreeSelect",props:{value:{type:Object,default:function(){}},item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},data:function(){return{innerData:void 0,serverDictionary:[]}},created:function(){var e=this;this.item.dataSourceUrl&&this.$developApi.fetchModuleAttrSourceData(this.item.dataSourceUrl,{pageId:this.pageData.id,comId:this.selectedModuleData.comId,classId:this.selectedModuleData.classId,className:this.selectedModuleData.className,packageid:this.selectedModuleData.packageid}).then((function(t){200==t.data.code?(e.recursiveObjectAddAttr(t.data.data),e.serverDictionary=t.data.data,console.log("🚀 ~ file: ItreeSelect.vue ~ line 98 ~ .then ~ this.serverDictionary",e.serverDictionary)):e.serverDictionary=[]})),this.assignValue()},mounted:function(){},destroyed:function(){},methods:{recursiveObjectAddAttr:function(e){if(e)for(var t=e instanceof Array?e:[e],n=0;n<t.length;n++){var r=t[n];this.item.ctrlAttrObject&&this.item.ctrlAttrObject.treeCheckStrictly&&(r.label=r.title,r.titleText=r.title,r.title=null,r.scopedSlots={title:"custom"}),r.children&&this.recursiveObjectAddAttr(r.children)}},checkChildrenNode:function(e){this.checkChildrenNodeFunction(e),this.change(this.innerData)},checkChildrenNodeFunction:function(e,t,n){var r=this;t||(t=this.item.dataSourceUrl?this.serverDictionary:this.item.dictionary),t.forEach((function(t){if(t.value==e.value||n){if(!1!==t.selectable&&!t.disabled){r.innerData||(r.innerData=[]);var i=r.innerData.filter((function(e){return e.value==t.value}));(!i||!i.length)&&r.innerData.push(t)}t.children&&t.children.length&&r.checkChildrenNodeFunction(e,t.children,!0)}else t.children&&t.children.length&&r.checkChildrenNodeFunction(e,t.children,!1)}))},assignValue:function(){if(this.item.ctrlAttrObject&&this.item.ctrlAttrObject.treeCheckStrictly)this.innerData=this.value?_.cloneDeep(this.value):void 0;else{var e=void 0;this.value&&(this.value instanceof Array?(e=[],this.value.forEach((function(t){e.push(t.value)}))):e=this.value instanceof Object?this.value.value:this.value),this.innerData=e}},recursiveObject:function(e,t){var n=null;if(e){for(var r=e instanceof Array?e:[e],i=0;i<r.length;i++){var o=r[i];if(o.value==t?(n=_.cloneDeep(o),delete n.children):o.children&&(n=this.recursiveObject(o.children,t)),null!=n)break}return n}return n},change:function(e){var t=this;console.log("🚀 ~ file: ItreeSelect.vue ~ line 145 ~ change ~ value",e);var n=e,r=this.item.dataSourceUrl?this.serverDictionary:this.item.dictionary;e instanceof Array?(n=[],e.forEach((function(e){var i=e;t.item.ctrlAttrObject&&t.item.ctrlAttrObject.treeCheckStrictly&&(i=e.value);var o=t.recursiveObject(r,i);o&&n.push(o)}))):"string"===typeof e&&(n=this.recursiveObject(r,e)),this.$emit("input",n)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},computed:{},watch:{value:{handler:function(e,t){this.assignValue()},deep:!0}}},Sn=Cn,kn=Object(b["a"])(Sn,wn,xn,!1,null,"658299a2",null),_n=kn.exports,Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[e._l(e.value,(function(t,r){return[t.moduleName.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.moduleName}},[n("idm-a-tag",{key:t.moduleId,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.moduleName.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:t.moduleId,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.moduleName)+" ")])]})),n("idm-a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayClassName:"idm_dev_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-quick-search-popover min-search"},[n("div",{staticClass:"idm-quick-search-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"quicksearchinput",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入组件的名称、别名、类ID、类名、属性名、属性内容"},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.resultList.length>0,expression:"resultList.length > 0"}],staticClass:"idm-quick-search-results scrollbar_style"},e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-quick-search-result-item-wrapper",on:{click:function(n){return e.selectModule(t)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"idm-quick-search-result-item-type idm-quick-search-type-node"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})])]),n("div",{staticClass:"idm-quick-search-result-item-cbox"},[n("div",{staticClass:"idm-quick-search-result-item-title-wrapper"},[n("div",{staticClass:"idm-quick-search-result-item-name"},[e._v(" "+e._s(t.asName)+" · "+e._s(t.className)+" ")]),n("div",{staticClass:"idm-quick-search-result-item-version"},[e._v(" "+e._s(t.currentVersion&&t.currentVersion.version||"1.0.0")+" ")])]),n("div",{staticClass:"idm-quick-search-result-item-content"},[e._v(" "+e._s(t.classId)+" ")])]),e.hasCheck(t)?n("div",{staticClass:"check_layer"},[n("idm-a-icon",{staticClass:"check_icon",attrs:{type:"check"}})],1):e._e()])})),0)])]),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" 选择 ")],1)],2)],2)])])},Dn=[],Mn={mixins:[Ae],name:"IpageModuleSelect",props:{componentsMap:{type:Array},value:{type:Array,default:void 0},item:{type:Object,default:function(){return{}}}},data:function(){return{searchValue:"",resultList:[]}},created:function(){this.resultList=this.componentsMap},mounted:function(){},destroyed:function(){},methods:{hoverModule:function(e){this.$emit("hoverModuleHandle",e)},hasCheck:function(e){var t=!1;return this.value&&this.value.forEach((function(n,r){n.moduleId==e.packageid&&(t=!0)})),t},selectModule:function(e){var t=_.cloneDeep(this.value)||[],n=!1;t.forEach((function(r,i){r.moduleId==e.packageid&&(n=!0,t.splice(i,1))})),this.item.multiple||(t=[]),n||t.push({moduleId:e.packageid,moduleName:e.asName}),this.$emit("input",t)},searchFromComponentsMap:function(){var e=this;this.resultList=[],""!=this.searchValue?this.componentsMap&&this.componentsMap.forEach((function(t){(t.asName.indexOf(e.searchValue)>-1||t.comName.indexOf(e.searchValue)>-1||t.classId.indexOf(e.searchValue)>-1||t.className.indexOf(e.searchValue)>-1||t.attrSetting&&t.attrSetting.compositeAttr&&e.recursiveSearchAttrText(t.attrSetting.compositeAttr)||t.attrSetting&&t.attrSetting.innerAttr&&e.recursiveSearchAttrText(t.attrSetting.innerAttr)||t.props&&t.props.compositeAttr&&e.recursiveSearchAttrContent(t.props.compositeAttr)||t.props&&t.props.innerAttr&&e.recursiveSearchAttrContent(t.props.innerAttr))&&e.resultList.push(t)})):this.resultList=this.componentsMap},recursiveSearchAttrText:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){e.text.indexOf(t.searchValue)>-1?n=!0:!n&&e.children&&e.children.length>0&&(n=t.recursiveSearchAttrText(e.children))})),n},recursiveSearchAttrContent:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){Object.keys(e).forEach((function(r){!n&&JSON.stringify(e[r]).indexOf(t.searchValue)>-1&&(n=!0)}))})),n},handleClose:function(e){var t=this.resultList.filter((function(t){return t.packageid==e.moduleId}));t&&t.length>0&&this.selectModule(t[0])},change:function(e){this.$emit("input",e)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},computed:{},watch:{searchValue:{handler:function(e,t){this.searchFromComponentsMap()}}}},En=Mn,Tn=Object(b["a"])(En,Bn,Dn,!1,null,"74f75a20",null),In=Tn.exports,On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[e._l(e.value,(function(t,r){return[t.length>20?n("idm-a-tooltip",{key:r,attrs:{title:t}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.selectModule(t)}}},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+t}})]),e._v(e._s(t.slice(0,20)+"...")+" ")])],1):n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.selectModule(t)}}},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+t}})]),e._v(e._s(t)+" ")])]})),n("idm-a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayClassName:"idm_dev_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-quick-search-popover min-search"},[n("div",{staticClass:"idm-quick-search-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"quicksearchinput",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入标识关键词"},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.resultList.length>0,expression:"resultList.length > 0"}],staticClass:"idm-quick-search-results scrollbar_style idm-attr-item-box"},e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-attr-item-wrapper",on:{click:function(n){return e.selectModule(t)}}},[n("idm-a-tooltip",{attrs:{title:t}},[n("div",{staticClass:"idm-attr-item-node"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+t}})])]),e.hasCheck(t)?n("div",{staticClass:"check_layer"},[n("idm-a-icon",{staticClass:"check_icon",attrs:{type:"check"}})],1):e._e()])],1)})),0)])]),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" 选择 ")],1)],2)],2)])])},Ln=[],Fn={mixins:[Ae],name:"IiconSelect",props:{value:{type:Array,default:void 0},item:{type:Object,default:function(){return{}}}},data:function(){return{searchValue:"",resultList:[],iconList:[]}},created:function(){var e=this;e.iconList=[],e.resultList=[],$("body>svg:not('#__SVG_SPRITE_NODE__')>symbol").each((function(){e.resultList.push($(this).attr("id")),e.iconList.push($(this).attr("id"))}))},mounted:function(){},destroyed:function(){},methods:{hasCheck:function(e){var t=!1;return this.value&&this.value.forEach((function(n,r){n==e&&(t=!0)})),t},selectModule:function(e){var t=_.cloneDeep(this.value)||[],n=!1;t.forEach((function(r,i){r==e&&(n=!0,t.splice(i,1))})),this.item.multiple||(t=[]),n||t.push(e),this.$emit("input",t)},searchIconMap:function(){var e=this;this.resultList=[],""!=this.searchValue?this.iconList&&this.iconList.forEach((function(t){t.indexOf(e.searchValue)>-1&&e.resultList.push(t)})):this.resultList=this.iconList},change:function(e){this.$emit("input",e)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},computed:{},watch:{searchValue:{handler:function(e,t){this.searchIconMap()}}}},Pn=Fn,Nn=Object(b["a"])(Pn,On,Ln,!1,null,"4494681e",null),Un=Nn.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[n("draggable",{attrs:{tag:"div","chosen-class":"idmcore-datasource-param-ghost","force-fallback":"true",animation:"300",group:"people",handle:".handle"},on:{start:function(t){e.drag=!0},end:function(t){return e.endSort()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("transition-group",e._l(e.value,(function(t,r){return n("div",{key:r,staticClass:"action_item"},[n("div",{staticClass:"action_item_name",attrs:{title:t.name}},[n("svg-icon",{staticClass:"handle",attrs:{"icon-class":"listdrag-icon"}}),e._v(" "+e._s(t.name)+" ")],1),n("div",{staticClass:"action_icon"},[n("idm-a-tooltip",{attrs:{title:"定位到代码"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.idmBuiltin,expression:"!element.idmBuiltin"}],on:{click:function(n){return e.addOutCode(t.name,"position")}}},[n("svg-icon",{attrs:{"icon-class":"code-icon"}})],1)]),n("idm-a-tooltip",{attrs:{title:"编辑"}},[n("div",{on:{click:function(n){return e.editAction(t)}}},[n("svg-icon",{attrs:{"icon-class":"config-icon"}})],1)]),n("idm-a-tooltip",{attrs:{title:"删除"}},[n("div",{on:{click:function(n){return e.deleteAction(t)}}},[n("svg-icon",{attrs:{"icon-class":"delete-icon"}})],1)])],1)])})),0)],1),n("div",{staticStyle:{padding:"5px 10px"}},[n("idm-a-button",{attrs:{type:"primary",block:""},on:{click:e.showModal}},[e._v(" 添加 ")])],1),n("idm-a-modal",{attrs:{width:"800px",bodyStyle:{"padding-top":"10px"},wrapClassName:"idm_dev_modal idm_attr_actionselect",title:"页面动作选择",okText:"确定",cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("idm-a-tabs",{attrs:{size:"small"},on:{change:e.actionTypeChange},model:{value:e.currentActiveKey,callback:function(t){e.currentActiveKey=t},expression:"currentActiveKey"}},[n("idm-a-tab-pane",{key:"nzdz01",attrs:{tab:"内置动作"}},[n("div",{staticClass:"idm_linkage_box"},[n("div",{staticClass:"left_linkage_box"},[n("div",{staticClass:"linkage_title"},[e._v("响应动作")]),n("div",{staticClass:"action_name_box"},[n("div",{staticClass:"action-name-search-input"},[n("idm-a-input-search",{attrs:{autocomplete:"true",autocorrect:"true",placeholder:"搜索"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),n("div",{staticClass:"action_list scrollbar_style"},[e._l(e.innerActionData.list,(function(t,r){return[n("div",{directives:[{name:"show",rawName:"v-show",value:""==e.searchValue||t.label.indexOf(e.searchValue)>-1,expression:"searchValue==''||item.label.indexOf(searchValue)>-1"}],key:r,staticClass:"action_item",class:{active:e.checkValue==t.value},on:{click:function(n){return e.selectAction(t.value,!0)}}},[e._v(" "+e._s(t.label)),e.checkValue==t.value?n("idm-a-icon",{staticClass:"action_check",attrs:{type:"check"}}):e._e()],1)]}))],2)])]),n("div",{staticClass:"right_linkage_box"},[n("div",{staticClass:"linkage_title"},[e._v("参数设置")]),"IdmBuiltin_OpenUrl"==e.checkValue?n("div",{staticClass:"action_param_item"},[n("div",{staticClass:"action_param_item_title"},[e._v("打开地址（选填） "),n("idm-a-tooltip",{attrs:{title:"点击查看地址设置指南"}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1)],1),n("idm-a-input",{ref:"newActionName",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入"},model:{value:e.innerData.openUrl,callback:function(t){e.$set(e.innerData,"openUrl",t)},expression:"innerData.openUrl"}})],1):e._e(),"IdmBuiltin_OpenUrl"==e.checkValue?n("div",{staticClass:"action_param_item"},[n("div",{staticClass:"action_param_item_title"},[e._v("窗口名称（选填） "),n("idm-a-tooltip",{attrs:{title:"这个名称可以用作标记 <a> 和 <form> 的属性 target 的值。如果该参数指定了一个已经存在的窗口，那么就不再创建一个新窗口。在这种情况下，窗口特征 将被忽略。例如：_self为当前窗口、_blank为新窗口"}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1)],1),n("idm-a-input",{ref:"newActionName",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入"},model:{value:e.innerData.openName,callback:function(t){e.$set(e.innerData,"openName",t)},expression:"innerData.openName"}})],1):e._e(),"IdmBuiltin_OpenUrl"==e.checkValue?n("div",{staticClass:"action_param_item"},[n("div",{staticClass:"action_param_item_title"},[e._v("窗口特征（选填） "),n("idm-a-tooltip",{attrs:{title:"可选填，声明了新窗口要显示的标准浏览器的特征。如果省略该参数，新窗口将具有所有标准特征，点击查看窗口特征"}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1)],1),n("idm-a-input",{ref:"newActionName",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入"},model:{value:e.innerData.openFeatures,callback:function(t){e.$set(e.innerData,"openFeatures",t)},expression:"innerData.openFeatures"}})],1):e._e(),"IdmBuiltin_OpenUrl"!=e.checkValue?n("div",{staticClass:"action_param_item"},[n("div",{staticClass:"action_param_item_title"},[e._v("目标组件")]),n("div",[e._l(e.innerData.targetModule,(function(t,r){return[t.moduleName.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.moduleName}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.moduleName.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.moduleName)+" ")])]})),n("idm-a-popover",{attrs:{trigger:"click",placement:"bottom",overlayClassName:"idm_dev_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-quick-search-popover min-search"},[n("div",{staticClass:"idm-quick-search-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.moduleSearchValue,expression:"moduleSearchValue"}],ref:"quicksearchinput",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入组件的名称、别名、类ID、类名、属性名、属性内容"},domProps:{value:e.moduleSearchValue},on:{input:function(t){t.target.composing||(e.moduleSearchValue=t.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.resultList.length>0,expression:"resultList.length > 0"}],staticClass:"idm-quick-search-results scrollbar_style"},e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-quick-search-result-item-wrapper",on:{click:function(n){return e.selectModule(t)},mouseover:function(n){return e.hoverModule(t)},mouseout:function(t){return e.hoverModule()}}},[n("div",{staticClass:"idm-quick-search-result-item-type idm-quick-search-type-node"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})])]),n("div",{staticClass:"idm-quick-search-result-item-cbox"},[n("div",{staticClass:"idm-quick-search-result-item-title-wrapper"},[n("div",{staticClass:"idm-quick-search-result-item-name"},[e._v(" "+e._s(t.asName)+" · "+e._s(t.className)+" ")]),n("div",{staticClass:"idm-quick-search-result-item-version"},[e._v(" "+e._s(t.currentVersion&&t.currentVersion.version||"1.0.0")+" ")])]),n("div",{staticClass:"idm-quick-search-result-item-content"},[e._v(" "+e._s(t.classId)+" ")])]),e.hasCheck(t)?n("div",{staticClass:"check_layer"},[n("idm-a-icon",{staticClass:"check_icon",attrs:{type:"check"}})],1):e._e()])})),0)])]),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" 选择 ")],1)],2)],2)]):e._e()])])]),n("idm-a-tab-pane",{key:"zdy01",attrs:{tab:"自定义动作",forceRender:""}},[n("div",{staticClass:"idm_linkage_box"},[n("div",{staticClass:"left_linkage_box"},[n("div",{staticClass:"linkage_title"},[e._v("响应动作")]),n("div",{staticClass:"action_name_box"},[n("div",{staticClass:"action-name-search-input"},[n("idm-a-input-search",{attrs:{autocomplete:"true",autocorrect:"true",placeholder:"搜索"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),n("div",{staticClass:"action_list scrollbar_style"},[n("div",{staticClass:"action_item",class:{active:""==e.checkValue},on:{click:function(t){return e.selectAction("",!1)}}},[e._v("添加新动作"),""==e.checkValue?n("idm-a-icon",{staticClass:"action_check",attrs:{type:"check"}}):e._e()],1),e._l(e.actionData.list,(function(t,r){return[n("div",{directives:[{name:"show",rawName:"v-show",value:""==e.searchValue||t.toLocaleUpperCase().indexOf(e.searchValue.toLocaleUpperCase())>-1,expression:"searchValue==''||item.toLocaleUpperCase().indexOf(searchValue.toLocaleUpperCase())>-1"}],key:r,staticClass:"action_item",class:{active:e.checkValue==t},on:{click:function(n){return e.selectAction(t,!1)}}},[e._v(" "+e._s(t)),e.checkValue==t?n("idm-a-icon",{staticClass:"action_check",attrs:{type:"check"}}):e._e()],1)]}))],2)])]),n("div",{staticClass:"right_linkage_box"},[""==e.checkValue?n("div",{staticClass:"linkage_title"},[e._v("动作名称")]):e._e(),""==e.checkValue?n("div",{staticClass:"action-name-search-input"},[n("idm-a-input",{ref:"newActionName",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"输入动作名称"},model:{value:e.newActionName,callback:function(t){e.newActionName=t},expression:"newActionName"}}),n("div",{staticClass:"name-input-tip"},[e._v("点击 确定 之后将在动作面板中创建一个该名称的新动作")])],1):e._e(),n("div",{staticClass:"linkage_title",style:"margin-top:"+(""==e.checkValue?10:0)+"px"},[e._v(" 参数设置 "),n("idm-a-tooltip",{attrs:{title:"参数为jsonObject对象的json格式，更多用法点击？查看参数设置文档"}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1)],1),n("div",{staticClass:"action_param_box",style:"height:"+(""==e.checkValue?304:400)+"px"},[n("MonacoEditor",{ref:"editor",attrs:{language:"json",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.editorLoaded}})],1)])])])],1)],1)],1)])])},Rn=[],Vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.style})},Qn=[],jn=n("8869"),zn=jn["a"],Gn=Object(b["a"])(zn,Vn,Qn,!1,null,null,null),Kn=Gn.exports,qn={mixins:[Ae],name:"IactionSelect",components:{MonacoEditor:Kn},props:{componentsMap:{type:Array},value:{type:Array,default:void 0},actionData:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,resultList:[],moduleSearchValue:"",searchValue:"",checkValue:"IdmBuiltin_OpenUrl",newActionName:"",isEdit:!1,innerData:{targetModule:[]},innerActionData:{list:[{label:"打开URL",value:"IdmBuiltin_OpenUrl"},{label:"打开弹窗",value:"IdmBuiltin_OpenDialog"},{label:"关闭弹窗",value:"IdmBuiltin_CloseDialog"},{label:"显示组件",value:"IdmBuiltin_ShowModule"},{label:"隐藏组件",value:"IdmBuiltin_HideModule"}]},checkIsInner:!1,currentActiveKey:"nzdz01",lsOldItem:null}},created:function(){this.resultList=this.componentsMap},computed:Object(a["a"])({},Object(U["c"])({developCurrentThemeKey:function(e){return e.developCurrentThemeKey}})),mounted:function(){},destroyed:function(){},methods:{endSort:function(){this.drag=!1,this.change(this.value)},handleCancel:function(){this.visible=!1,this.lsOldItem&&this.selectActionReturn(_.cloneDeep(this.lsOldItem),!0)},editAction:function(e){this.currentActiveKey=e.idmBuiltin?"nzdz01":"zdy01",this.lsOldItem=e?_.cloneDeep(e):null,this.showModal(!0),this.selectAction(e.name,e.idmBuiltin),"zdy01"==this.currentActiveKey&&e.param?this.$nextTick((function(t){this.$refs.editor&&this.$refs.editor.setContent(JSON.stringify(e.param))})):"nzdz01"==this.currentActiveKey&&e.param&&(this.innerData=e.param)},deleteAction:function(e){this.selectActionReturn(e,!1,!0)},editorLoaded:function(){var e="{}";this.$refs.editor&&this.$refs.editor.setContent(e),this.$refs.editor&&(this.vsLoaded=!0)},editorLayoutReset:function(){this.$nextTick((function(e){this.$refs.editor&&this.$refs.editor.layout()}))},selectAction:function(e,t){this.checkIsInner=t||!1,this.checkValue=e,this.innerData.targetModule=[],this.editorLayoutReset(),this.editorLoaded(),this.searchFromComponentsMap()},actionTypeChange:function(e){this.selectAction("nzdz01"==e?"IdmBuiltin_OpenUrl":"","nzdz01"==e)},showModal:function(e){this.isEdit=!0===e,this.visible=!0,this.selectAction("IdmBuiltin_OpenUrl",!0),this.newActionName="",this.isEdit||(this.currentActiveKey="nzdz01"),this.innerData={targetModule:[]}},handleOk:function(e){var t=this,n=this.checkValue||this.newActionName,r=this.$refs.editor&&this.$refs.editor.getContent();if("nzdz01"==this.currentActiveKey){if(!this.checkValue)return this.idm_$message.error("请选择要添加的动作！"),!1;if(("IdmBuiltin_OpenDialog"==n||"IdmBuiltin_CloseDialog"==n||"IdmBuiltin_ShowModule"==n||"IdmBuiltin_HideModule"==n)&&(!this.innerData.targetModule||this.innerData.targetModule&&0==this.innerData.targetModule.length))return this.idm_$message.error("目标组件不能为空，至少选择一个！"),!1;r=JSON.stringify(this.innerData)}try{JSON.parse(r)}catch(o){return this.idm_$message.error("参数格式不正确！"),!1}if(!n)return this.$refs.newActionName.focus(),this.idm_$message.error("动作名称不能为空！"),!1;var i={name:n,param:JSON.parse(r),idmBuiltin:this.checkIsInner||!1};if(this.actionExists(i)){if(this.isEdit)return t.selectActionReturn(i,!0),void(t.visible=!1);this.idm_$confirm({title:"当前动作已经添加了，确定要替换吗？",okText:"确定",cancelText:"取消",onOk:function(){t.selectActionReturn(i,!0),t.visible=!1},onCancel:function(){}})}else this.visible=!1,this.selectActionReturn(i),this.checkValue||this.addOutCode(n,"new")},addOutCode:function(e,t){this.$emit("changePageAction",{name:e,type:t})},actionExists:function(e){var t=!1;return this.value&&this.value.forEach((function(n,r){n.name==e.name&&(t=!0)})),t},selectActionReturn:function(e,t,n){var r=_.cloneDeep(this.value)||[],i=!1;r.forEach((function(t,o){t.name==e.name&&(i=!0,r[o]=e,n&&r.splice(o,1))})),this.item.multiple||(r=[]),(!i||i&&t&&!this.item.multiple)&&r.push(e),this.$emit("input",r)},hoverModule:function(e){this.$emit("hoverModuleHandle",e)},hasCheck:function(e){var t=!1;return this.innerData.targetModule&&this.innerData.targetModule.forEach((function(n,r){n.moduleId==e.packageid&&(t=!0)})),t},selectModule:function(e){var t=_.cloneDeep(this.innerData.targetModule)||[],n=!1;t.forEach((function(r,i){r.moduleId==e.packageid&&(n=!0,t.splice(i,1))})),this.item.multiple||(t=[]),n||t.push({moduleId:e.packageid,moduleName:e.asName}),this.innerData.targetModule=t},searchFromComponentsMap:function(){var e=this;if(this.resultList=[],""!=this.moduleSearchValue)this.componentsMap&&this.componentsMap.forEach((function(t){switch(e.checkValue){case"IdmBuiltin_OpenDialog":case"IdmBuiltin_CloseDialog":if("dialog"!=t.comType)return;break;case"IdmBuiltin_ShowModule":case"IdmBuiltin_HideModule":if("dialog"==t.comType)return;break}(t.asName.indexOf(e.moduleSearchValue)>-1||t.comName.indexOf(e.moduleSearchValue)>-1||t.classId.indexOf(e.moduleSearchValue)>-1||t.className.indexOf(e.moduleSearchValue)>-1||t.attrSetting&&t.attrSetting.compositeAttr&&e.recursiveSearchAttrText(t.attrSetting.compositeAttr)||t.attrSetting&&t.attrSetting.innerAttr&&e.recursiveSearchAttrText(t.attrSetting.innerAttr)||t.props&&t.props.compositeAttr&&e.recursiveSearchAttrContent(t.props.compositeAttr)||t.props&&t.props.innerAttr&&e.recursiveSearchAttrContent(t.props.innerAttr))&&e.resultList.push(t)}));else switch(this.resultList=this.componentsMap,this.checkValue){case"IdmBuiltin_OpenDialog":case"IdmBuiltin_CloseDialog":this.resultList=this.componentsMap.filter((function(e){return"dialog"==e.comType}));break;case"IdmBuiltin_ShowModule":case"IdmBuiltin_HideModule":this.resultList=this.componentsMap.filter((function(e){return"dialog"!=e.comType}));break}},recursiveSearchAttrText:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){e.text.indexOf(t.moduleSearchValue)>-1?n=!0:!n&&e.children&&e.children.length>0&&(n=t.recursiveSearchAttrText(e.children))})),n},recursiveSearchAttrContent:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){Object.keys(e).forEach((function(r){!n&&JSON.stringify(e[r]).indexOf(t.moduleSearchValue)>-1&&(n=!0)}))})),n},handleClose:function(e){var t=this.resultList.filter((function(t){return t.packageid==e.moduleId}));t&&t.length>0&&this.selectModule(t[0])},change:function(e){this.$emit("input",e)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},watch:{moduleSearchValue:{handler:function(e,t){this.searchFromComponentsMap()}}}},Wn=qn,$n=Object(b["a"])(Wn,Hn,Rn,!1,null,"53f73ba1",null),Xn=$n.exports,Yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[e._l(e.value,(function(t,r){return[t.title.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.title}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:r+"a",attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title)+" ")])]})),n("idm-a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayClassName:"idm_dev_popover idm_dev_page_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-page-select-popover"},[n("div",{staticClass:"idm-page-select-search"},[n("idm-a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.group,callback:function(t){e.$set(e.conditionValue,"group",t)},expression:"conditionValue.group"}},e._l(e.ConditionGroup,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"100px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.pagetype,callback:function(t){e.$set(e.conditionValue,"pagetype",t)},expression:"conditionValue.pagetype"}},e._l(e.ConditionType,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.sort,callback:function(t){e.$set(e.conditionValue,"sort",t)},expression:"conditionValue.sort"}},e._l(e.ConditionSort,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词"},on:{search:e.handleChange},model:{value:e.conditionValue.searchText,callback:function(t){e.$set(e.conditionValue,"searchText",t)},expression:"conditionValue.searchText"}})],1),n("div",{staticClass:"idm-page-select-content scrollbar_style",on:{scroll:e.scrollHandle}},[e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-page-select-content-item",on:{click:function(n){return e.selectModule(t)}}},[n("div",{staticClass:"idm-psc-item-inner",class:{active:e.hasCheck(t)}},[n("div",{staticClass:"idm-psc-item-inner-image"},[t.previewImgObject&&t.previewImgObject.length>0?n("img",{attrs:{src:e.IDM.url.getWebPath(t.previewImgObject[0].ourl)}}):e._e(),n("div",{on:{click:function(n){return n.stopPropagation(),e.openPreview(t)}}},[e._v("点击预览")])]),n("div",[n("div",{staticClass:"idm-psc-item-inner-title"},[n("label",[e._v(e._s(t.title))]),n("idm-a-tag",[e._v(" "+e._s(t.moduleGroupText)+" ")]),n("idm-a-tag",[e._v(" "+e._s(e.getShowPageTypeText(t.pageType))+" ")])],1),n("div",{staticClass:"idm-psc-item-inner-desc"},[e._v(" "+e._s(t.pageRemark)+" ")])]),n("svg-icon",{staticClass:"rb-select-icon",attrs:{"icon-class":"rb-select-icon"}})],1)])})),n("div",{staticClass:"idm-page-select-content-loading",staticStyle:{"text-align":"center",padding:"20px 0px"}},[e.loading?n("idm-a-spin"):e._e(),e._v(" "+e._s(e.loadEnd?0==e.resultList.length?"暂无数据":"没有更多了":"")+" ")],1)],2),e.value&&e.value.length>0?n("div",{staticClass:"idm-page-select-result"},[n("div",[e._l(e.value,(function(t,r){return[t.title.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.title}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:r+"a",attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title)+" ")])]}))],2)]):e._e()])]),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" 选择 ")],1)],2)],2)])])},Jn=[],Zn={mixins:[Ae],name:"IpageSelect",props:{value:{type:Array,default:void 0},item:{type:Object,default:function(){return{}}}},data:function(){return{searchValue:"",ConditionType:IDM.setting.develop.pageSelectConditionType instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.pageSelectConditionType):[],ConditionSort:IDM.setting.develop.pageSelectConditionSort instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.pageSelectConditionSort):[],ConditionGroup:IDM.setting.develop.pageSelectConditionGroup instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.pageSelectConditionGroup):[],resultList:[],conditionValue:{pageIndex:1,pageSize:10,pagetype:"",group:"",sort:"",searchText:""},loading:!1,loadEnd:!1}},created:function(){var e=this;IDM.develop.cacheData.ConditionGroupList||"string"!=IDM.type(IDM.setting.develop.pageSelectConditionGroup)?"string"==IDM.type(IDM.setting.develop.pageSelectConditionGroup)&&(this.ConditionGroup=IDM.develop.cacheData.ConditionGroupList):IDM.http.get(IDM.setting.develop.pageSelectConditionGroup).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.ConditionGroupList=n,e.ConditionGroup=n})),IDM.develop.cacheData.ConditionTypeList||"string"!=IDM.type(IDM.setting.develop.pageSelectConditionType)?"string"==IDM.type(IDM.setting.develop.pageSelectConditionType)&&(this.ConditionType=IDM.develop.cacheData.ConditionTypeList):IDM.http.get(IDM.setting.develop.pageSelectConditionType).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.ConditionTypeList=n,e.ConditionType=n})),IDM.develop.cacheData.ConditionSortList||"string"!=IDM.type(IDM.setting.develop.pageSelectConditionSort)?"string"==IDM.type(IDM.setting.develop.pageSelectConditionSort)&&(this.ConditionSort=IDM.develop.cacheData.ConditionSortList):IDM.http.get(IDM.setting.develop.pageSelectConditionSort).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.ConditionSortList=n,e.ConditionSort=n})),e.loadData()},mounted:function(){},destroyed:function(){},methods:{getShowPageTypeText:function(e){var t="";return this.ConditionType.forEach((function(n){n.value==e&&e&&(t=n.text)})),t},openPreview:function(e){window.open(window.location.href.split("#")[0]+"#/preview/"+e.id)},scrollHandle:function(e){e.target.scrollHeight-e.target.scrollTop-e.target.clientHeight<=100&&(this.loading||this.loadEnd||(this.conditionValue.pageIndex=this.conditionValue.pageIndex+1,this.loadData()))},handleChange:function(){this.conditionValue.pageIndex=1,this.loadEnd=!1,this.loadData(!0)},loadData:function(e){var t=this;if((IDM.setting.api.pageSelectFetchPageListApi||IDM.setting.mockurl.pageSelectFetchPageListApi)&&!t.loading){e&&(t.resultList=[]),t.loading=!0;var n={pageIndex:this.conditionValue.pageIndex,pageSize:this.conditionValue.pageSize,searchText:this.conditionValue.searchText};this.conditionValue.pagetype&&(n["pagetype"]=JSON.stringify([{value:this.conditionValue.pagetype}])),this.conditionValue.group&&(n["group"]=JSON.stringify([{value:this.conditionValue.group}])),this.conditionValue.sort&&(n["sort"]=JSON.stringify([{value:this.conditionValue.sort}])),IDM.http.get(IDM.setting.api.pageSelectFetchPageListApi||IDM.setting.mockurl.pageSelectFetchPageListApi,n).then((function(e){if(e&&e.data&&"200"==e.data.code&&e.data.data&&e.data.data.rows){for(var n=0;n<e.data.data.rows.length;n++){var r=e.data.data.rows[n];if(!r.previewImgObject&&r.previewImgJson)try{r.previewImgObject=JSON.parse(r.previewImgJson)}catch(i){}}e.data.data.rows.length<t.conditionValue.pageSize&&(t.loadEnd=!0),t.resultList=t.resultList.concat(e.data.data.rows)}t.loading=!1})).catch((function(e){IDM.message.error(e.message),t.loading=!1}))}},hasCheck:function(e){var t=!1;return this.value&&this.value.forEach((function(n,r){n.id==e.id&&(t=!0)})),t},selectModule:function(e){var t=_.cloneDeep(this.value)||[],n=!1;t.forEach((function(r,i){r.id==e.id&&(n=!0,t.splice(i,1))})),this.item.multiple||(t=[]),n||t.push({id:e.id,title:e.title}),this.$emit("input",t)},handleClose:function(e){var t=this.resultList.filter((function(t){return t.id==e.id}));t&&t.length>0&&this.selectModule(t[0])},change:function(e){this.$emit("input",e)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},computed:{},watch:{}},er=Zn,tr=Object(b["a"])(er,Yn,Jn,!1,null,"25ec9a72",null),nr=tr.exports,rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("div",[e._l(e.value,(function(t,r){return[t.title&&t.title.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.title}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title)+" ")])]})),n("idm-a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayClassName:"idm_dev_popover idm_dev_page_popover"}},[n("template",{slot:"content"},[n("div",{staticClass:"idm-page-select-popover"},[n("div",{staticClass:"idm-page-select-search"},[n("idm-a-select",{staticStyle:{width:"100px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.TYPE,callback:function(t){e.$set(e.conditionValue,"TYPE",t)},expression:"conditionValue.TYPE"}},e._l(e.ConditionType,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.GROUP_ID,callback:function(t){e.$set(e.conditionValue,"GROUP_ID",t)},expression:"conditionValue.GROUP_ID"}},e._l(e.ConditionGroup,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词"},on:{search:e.handleChange},model:{value:e.conditionValue.searchText,callback:function(t){e.$set(e.conditionValue,"searchText",t)},expression:"conditionValue.searchText"}})],1),n("idm-a-tabs",{attrs:{"default-active-key":"1"},on:{change:e.callback}},[n("idm-a-tab-pane",{key:"1",attrs:{tab:"推荐数据源("+e.recommendList.length+")","force-render":""}},[n("div",{staticClass:"idm-page-select-content scrollbar_style"},[e._l(e.recommendList,(function(t,r){return n("div",{key:r,staticClass:"idm-page-select-content-item",on:{click:function(n){return e.selectModule(t)}}},[n("div",{staticClass:"idm-psc-item-inner",class:{active:e.hasCheck(t)}},[n("div",[n("div",{staticClass:"idm-psc-item-inner-title"},[n("label",[e._v(e._s(t.title))]),n("idm-a-tag",{attrs:{color:e.tagColorArray[t.type]}},[e._v(" "+e._s(e.ConditionType.filter((function(e){return e.value==t.type})).length?e.ConditionType.filter((function(e){return e.value==t.type}))[0].text:"")+" ")]),n("idm-a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(e.ConditionGroup.filter((function(e){return e.value==t.groupId})).length?e.ConditionGroup.filter((function(e){return e.value==t.groupId}))[0].text:"")+" ")]),n("idm-a-tag",[e._v(" "+e._s("0"==t.shareType?"私有":"共享")+" ")])],1),n("div",{staticClass:"idm-psc-item-inner-desc",staticStyle:{height:"auto","max-height":"46px"}},[e._v(" "+e._s(t.remark)+" ")]),n("div",{staticClass:"idm-psc-item-inner-recomment"},[e._v(" 推荐理由："+e._s(0==t.recommentArray.length?"适配组件":"数据源结果相似度 "+100*(t.recommentArray.length/t.tags.split(",").length).toFixed(4)+"%")+" ")])]),n("svg-icon",{staticClass:"rb-select-icon",attrs:{"icon-class":"rb-select-icon"}})],1)])})),n("div",{staticClass:"idm-page-select-content-loading",staticStyle:{"text-align":"center",padding:"20px 0px"}},[e.recommendLoading?n("idm-a-spin"):e._e(),e._v(" "+e._s(e.recommendLoadingEnd?0==e.recommendList.length?"暂无推荐":"没有更多了":"")+" ")],1)],2)]),n("idm-a-tab-pane",{key:"2",attrs:{tab:"全部数据源("+e.totalCount+")","force-render":""}},[n("div",{staticClass:"idm-page-select-content scrollbar_style",on:{scroll:e.scrollHandle}},[e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-page-select-content-item",on:{click:function(n){return e.selectModule(t)}}},[n("div",{staticClass:"idm-psc-item-inner",class:{active:e.hasCheck(t)}},[n("div",[n("div",{staticClass:"idm-psc-item-inner-title"},[n("label",[e._v(e._s(t.title))]),n("idm-a-tag",{attrs:{color:e.tagColorArray[t.type]}},[e._v(" "+e._s(e.ConditionType.filter((function(e){return e.value==t.type})).length?e.ConditionType.filter((function(e){return e.value==t.type}))[0].text:"")+" ")]),n("idm-a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(e.ConditionGroup.filter((function(e){return e.value==t.groupId})).length?e.ConditionGroup.filter((function(e){return e.value==t.groupId}))[0].text:"")+" ")]),n("idm-a-tag",[e._v(" "+e._s("0"==t.shareType?"私有":"共享")+" ")])],1),n("div",{staticClass:"idm-psc-item-inner-desc",staticStyle:{height:"auto","max-height":"46px"}},[e._v(" "+e._s(t.remark)+" ")])]),n("svg-icon",{staticClass:"rb-select-icon",attrs:{"icon-class":"rb-select-icon"}})],1)])})),n("div",{staticClass:"idm-page-select-content-loading",staticStyle:{"text-align":"center",padding:"20px 0px"}},[e.loading?n("idm-a-spin"):e._e(),e._v(" "+e._s(e.loadEnd?0==e.resultList.length?"暂无数据":"没有更多了":"")+" ")],1)],2)])],1),e.value&&e.value.length>0?n("div",{staticClass:"idm-page-select-result"},[n("div",[e._l(e.value,(function(t,r){return[t.title&&t.title.length>10?n("idm-a-tooltip",{key:r,attrs:{title:t.title}},[n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title.slice(0,10)+"...")+" ")])],1):n("idm-a-tag",{key:r,attrs:{closable:!0},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.title)+" ")])]}))],2)]):e._e()],1)]),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" 选择 ")],1)],2)],2)])])},ir=[],or={mixins:[Ae],name:"IdataSourceSelect",props:{value:{type:Array,default:void 0},item:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},data:function(){return{tagColorArray:["","#f50","#108ee9","#fdc500","#2dd300","#4250ff"],searchValue:"",ConditionType:IDM.setting.develop.dataSourceConditionType instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataSourceConditionType):[],ConditionGroup:IDM.setting.develop.dataSourceConditionGroup instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataSourceConditionGroup):[],recommendList:[],resultList:[],totalCount:0,conditionValue:{pageIndex:1,pageSize:10,TYPE:"",GROUP_ID:"",searchText:""},recommendLoading:!1,recommendLoadingEnd:!1,loading:!1,loadEnd:!1}},created:function(){var e=this;IDM.develop.cacheData.DataSourceConditionGroupList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionGroup)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionGroup)&&(this.ConditionGroup=IDM.develop.cacheData.DataSourceConditionGroupList):IDM.http.get(IDM.setting.develop.dataSourceConditionGroup).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionGroupList=n,e.ConditionGroup=n})),IDM.develop.cacheData.DataSourceConditionTypeList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionType)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionType)&&(this.ConditionType=IDM.develop.cacheData.DataSourceConditionTypeList):IDM.http.get(IDM.setting.develop.dataSourceConditionType).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionTypeList=n,e.ConditionType=n})),e.loadData(),e.loadData(!0,!0)},mounted:function(){},destroyed:function(){},methods:{getShowPageTypeText:function(e){var t="";return this.ConditionType.forEach((function(n){n.value==e&&e&&(t=n.text)})),t},openPreview:function(e){window.open(window.location.href.split("#")[0]+"#/preview/"+e.id)},scrollHandle:function(e){e.target.scrollHeight-e.target.scrollTop-e.target.clientHeight<=100&&(this.loading||this.loadEnd||(this.conditionValue.pageIndex=this.conditionValue.pageIndex+1,this.loadData()))},handleChange:function(){this.conditionValue.pageIndex=1,this.loadEnd=!1,this.recommendLoadingEnd=!1,this.loadData(!0),this.loadData(!0,!0)},loadData:function(e,t){var n=this;if(!(!IDM.setting.api.dataSourceFetchListApi&&!IDM.setting.mockurl.dataSourceFetchListApi||!t&&n.loading||t&&n.recommendLoading)){var r=this.item.ctrlAttrObject&&this.item.ctrlAttrObject.tags||[];e&&(t?n.recommendList=[]:n.resultList=[]),t?n.recommendLoading=!0:n.loading=!0;var i={pageIndex:t?1:this.conditionValue.pageIndex,pageSize:t?9999:this.conditionValue.pageSize,searchText:this.conditionValue.searchText};if(this.conditionValue.TYPE&&(i["TYPE"]=JSON.stringify([{value:this.conditionValue.TYPE}])),this.conditionValue.GROUP_ID&&(i["GROUP_ID"]=JSON.stringify([{value:this.conditionValue.GROUP_ID}])),t){i["MODULE_IDS"]=JSON.stringify([{value:this.selectedModuleData.comId}]);var o=[];r.forEach((function(e){o.push({value:e})})),i["TAGS"]=JSON.stringify(o),i["noPage"]=1,i["tagor"]=1}IDM.http.get(IDM.setting.api.dataSourceFetchListApi||IDM.setting.mockurl.dataSourceFetchListApi,i).then((function(e){if(e&&e.data&&"200"==e.data.code&&e.data.data&&e.data.data.rows)if(e.data.data.rows.length<n.conditionValue.pageSize&&!t&&(n.loadEnd=!0),t){n.recommendLoadingEnd=!0;for(var i=[],o=[],a=0;a<e.data.data.rows.length;a++){var s=e.data.data.rows[a];if(s.moduleIds&&s.moduleIds.split(",").indexOf(n.selectedModuleData.comId)>-1)s.recommentArray=[],i.push(s);else if(s.tags&&(s.recommentArray=_.intersection(s.tags.split(","),r),s.recommentArray.length>0))if(o.length){for(var u=-1,c=0;c<o.length;c++){var l=o[c];if(l.recommentArray.length/l.tags.split(",").length<s.recommentArray.length/s.tags.split(",").length){u=c;break}}-1==u?o.push(s):o.splice(u,0,s)}else o.push(s)}n.recommendList=i.concat(o)}else n.resultList=n.resultList.concat(e.data.data.rows),n.totalCount=e.data.data.total;t?n.recommendLoading=!1:n.loading=!1})).catch((function(e){IDM.message.error(e.message),t?n.recommendLoading=!1:n.loading=!1}))}},hasCheck:function(e){var t=!1,n=this.value;return n?(n instanceof Array||(n=[n]),n&&n.forEach((function(n,r){n.id==e.id&&(t=!0)})),t):t},selectModule:function(e){var t=_.cloneDeep(this.value)||[];t instanceof Array||(t=[t]);var n=!1;t.forEach((function(r,i){r.id==e.id&&(n=!0,t.splice(i,1))})),this.item.multiple||(t=[]),n||t.push({id:e.id,title:e.title,refreshJson:e.refreshJson}),this.$emit("input",t)},handleClose:function(e){var t=this.resultList.filter((function(t){return t.id==e.id}));t&&t.length>0&&this.selectModule(t[0])},change:function(e){this.$emit("input",e)},onSearch:function(){var e;(e=console).log.apply(e,arguments)},onSelect:function(){var e;(e=console).log.apply(e,arguments)}},computed:{},watch:{}},ar=or,sr=Object(b["a"])(ar,rr,ir,!1,null,"8bdd0bb4",null),ur=sr.exports,cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"ctrl_box"},[n("idm-a-input",{attrs:{size:"small",disabled:e.item.disabled,title:e.item.placeholder||"",placeholder:e.item.placeholder||"",value:e.value},on:{input:e.change}},[n("idm-a-popover",{attrs:{slot:"suffix",disabled:!e.item.disabled,overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},slot:"suffix",model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("idm-a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"api"}}),n("div",{staticClass:"idm-datasourcefiled-select-box",attrs:{slot:"content"},slot:"content"},[null!=e.jsonData?["array"==e.IDM.type(e.jsonData)?n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("idm-a-input",{staticStyle:{width:"300px"},attrs:{value:e.value,placeholder:e.item.placeholder||"请选择或输入要显示的字段"},on:{input:e.change}},[n("idm-a-tooltip",{attrs:{slot:"suffix",title:"该数据源结果为数组格式，如果设置为循环模式则第一位数组的索引将会被移除，请根据组件的需求进行选择"},slot:"suffix"},[n("idm-a-icon",{attrs:{type:"info-circle"}})],1)],1),n("idm-a-switch",{attrs:{"checked-children":"循环模式","un-checked-children":"正常模式"},on:{change:e.forModeChange},model:{value:e.forMode,callback:function(t){e.forMode=t},expression:"forMode"}})],1):n("idm-a-input",{attrs:{value:e.value,placeholder:e.item.placeholder||"请选择或输入要显示的字段"},on:{input:e.change}}),n("div",{staticClass:"idm-datasourcefiled-select-jsonbox scrollbar_style"},[n("json-viewer",{attrs:{theme:"idmcore-json-theme",value:e.jsonData},on:{keyclick:e.jsonkeyclick}})],1),n("idm-a-alert",{attrs:{message:"温馨提示：点击要显示的key即可选择或在输入框手动输入",type:"info",banner:"","show-icon":!1}})]:n("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[n("idm-a-empty",{attrs:{description:"暂无数据源结果"}})],1)],2)],1)],1)],1)])},lr=[],dr={mixins:[Ae],name:"IdataSourceFiledSelect",props:{componentsMap:{type:Array},value:String,item:{type:Object,default:function(){return{}}},modulePropData:{type:Object,default:function(){return{}}},moduleTablePropData:{type:Object,default:function(){return{}}}},data:function(){return{lastKeyPath:"",forMode:!1,visible:!1,dataSourceId:"",jsonData:null}},created:function(){},mounted:function(){},destroyed:function(){},methods:{jsonkeyclick:function(e){this.lastKeyPath=e,console.log("🚀 ~ file: IdataSourceFiledSelect.vue ~ line 113 ~ jsonkeyclick ~ e,e1,e2",e);var t=e.split("."),n=[],r=this.jsonData;t&&t.forEach((function(e,t){("$"!=e&&0==t||t>0)&&("array"==IDM.type(r)?n.push("["+e+"]"):n.push("."+e),r=r[e])})),this.forMode&&"array"==IDM.type(this.jsonData)&&n.splice(0,1),this.$emit("input",n.join("").startsWiths(".")?n.join("").substr(1):n.join(""))},forModeChange:function(){this.jsonkeyclick(this.lastKeyPath)},change:function(e){var t=e.target.value;this.$emit("input",t)},loadDataSourceData:function(){var e=this;this.dataSourceId?IDM.datasource.getConfig(this.dataSourceId,(function(t){if(t&&t.data&&t.data.data&&t.data.data.debugResult)try{e.jsonData=JSON.parse(t.data.data.debugResult)}catch(n){}}),(function(e){})):this.jsonData=null}},computed:{},watch:{dataSourceId:{handler:function(e,t){console.log("🚀 ~ file: IdataSourceFiledSelect.vue ~ line 178 ~ handler ~ newVal,oldVal",e,t),this.loadDataSourceData()},deep:!0},modulePropData:{handler:function(e,t){this.item.ctrlAttrObject&&this.item.ctrlAttrObject.dataSourceBindkey&&this.modulePropData[this.item.ctrlAttrObject.dataSourceBindkey]&&(this.modulePropData[this.item.ctrlAttrObject.dataSourceBindkey].length?this.dataSourceId=this.modulePropData[this.item.ctrlAttrObject.dataSourceBindkey][0].id:0==this.modulePropData[this.item.ctrlAttrObject.dataSourceBindkey].length&&(this.dataSourceId=""))},deep:!0},moduleTablePropData:{handler:function(e,t){this.item.ctrlAttrObject&&this.item.ctrlAttrObject.dataSourceBindkey&&this.moduleTablePropData[this.item.ctrlAttrObject.dataSourceBindkey]&&(this.moduleTablePropData[this.item.ctrlAttrObject.dataSourceBindkey].length?this.dataSourceId=this.moduleTablePropData[this.item.ctrlAttrObject.dataSourceBindkey][0].id:0==this.moduleTablePropData[this.item.ctrlAttrObject.dataSourceBindkey].length&&(this.dataSourceId=""))},deep:!0}}},fr=dr,Ar=Object(b["a"])(fr,cr,lr,!1,null,"595295b0",null),hr=Ar.exports,pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"layoutType-"+e.item.layoutType},[e.item.text?n("div",{staticClass:"label_text",attrs:{title:e.item.text}},[e._v(" "+e._s(e.item.text)),e.item.desc?n("idm-a-tooltip",{attrs:{title:e.item.desc},on:{click:e.openModuleAttrDoc}},[n("idm-a-icon",{staticClass:"help_tip_icon",attrs:{type:"question-circle"}})],1):e._e()],1):e._e(),n("div",{staticClass:"inumberdouble_box"},[n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",disabled:e.item.disabled,formatter:function(t){return(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.prefix&&e.item.ctrlAttrObject.prefix.length>0?e.item.ctrlAttrObject.prefix[0]+" ":"")+t},parser:function(t){return t.replace(""+(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.prefix&&e.item.ctrlAttrObject.prefix.length>0?e.item.ctrlAttrObject.prefix[0]:""),"").replace(" ","")},placeholder:e.item.placeholder||"",max:e.item.max||99999999999999,min:e.item.min||-99999999999999},on:{change:e.changeOne},model:{value:e.innerData.oneVal,callback:function(t){e.$set(e.innerData,"oneVal",t)},expression:"innerData.oneVal"}})],1),n("div",{staticClass:"number_lock",attrs:{title:e.item.ctrlAttrObject&&e.item.ctrlAttrObject.lock?e.innerData.lock?"已解除锁定":"已锁定":""},on:{click:e.doubleChangeClick}},[e.item.ctrlAttrObject&&e.item.ctrlAttrObject.lock?[e.innerData.lock?n("svg-icon",{attrs:{"icon-class":"attr-lock"}}):n("svg-icon",{attrs:{"icon-class":"attr-unlock"}})]:e._e()],2),n("div",{staticClass:"number_input"},[n("idm-a-input-number",{attrs:{size:"small",disabled:e.item.disabled,formatter:function(t){return(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.prefix&&e.item.ctrlAttrObject.prefix.length>1?e.item.ctrlAttrObject.prefix[1]+" ":"")+t},parser:function(t){return t.replace(""+(e.item.ctrlAttrObject&&e.item.ctrlAttrObject.prefix&&e.item.ctrlAttrObject.prefix.length>1?e.item.ctrlAttrObject.prefix[1]:""),"").replace(" ","")},placeholder:e.item.placeholder||"",max:e.item.max||99999999999999,min:e.item.min||-99999999999999},on:{change:e.changeTwo},model:{value:e.innerData.twoVal,callback:function(t){e.$set(e.innerData,"twoVal",t)},expression:"innerData.twoVal"}})],1)])])},mr=[],gr=(n("b680"),{mixins:[Ae],name:"InumberDouble",data:function(){return{serverDictionary:[],innerData:{oneVal:0,twoVal:0,lock:!1},lastCacheInnerData:{oneVal:0,twoVal:0}}},props:{value:String,item:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}}},created:function(){if(this.value){var e=this.value.split(",");e.length>0&&(this.innerData.oneVal=parseFloat(e[0]),this.isIntNumber(this.innerData.oneVal)||(this.innerData.oneVal=parseFloat(this.innerData.oneVal).toFixed(2))),e.length>1&&(this.innerData.twoVal=parseFloat(e[1]),this.isIntNumber(this.innerData.twoVal)||(this.innerData.twoVal=parseFloat(this.innerData.twoVal).toFixed(2))),e.length>2&&(this.innerData.lock="0"!=e[2]),this.lastCacheInnerData=_.cloneDeep(this.innerData)}},methods:{doubleChangeClick:function(){this.item.ctrlAttrObject&&this.item.ctrlAttrObject.lock&&(this.innerData.lock=!this.innerData.lock)},changeOne:function(e){if(this.innerData.lock){var t=this.lastCacheInnerData.twoVal/this.lastCacheInnerData.oneVal,n=this.innerData.oneVal-this.lastCacheInnerData.oneVal;this.innerData.twoVal=parseFloat(this.innerData.twoVal)+parseFloat(n*t),console.log("🚀 ~ file: Inumberdouble.vue ~ line 127 ~ changeOne ~ this.innerData.twoVal",this.innerData.twoVal),this.isIntNumber(this.innerData.twoVal)||(this.innerData.twoVal=parseFloat(this.innerData.twoVal).toFixed(2))}this.lastCacheInnerData=_.cloneDeep(this.innerData),this.change()},changeTwo:function(e){if(this.innerData.lock){var t=this.lastCacheInnerData.oneVal/this.lastCacheInnerData.twoVal,n=this.innerData.twoVal-this.lastCacheInnerData.twoVal;this.innerData.oneVal=parseFloat(this.innerData.oneVal)+parseFloat(n*t),this.isIntNumber(this.innerData.oneVal)||(this.innerData.oneVal=parseFloat(this.innerData.oneVal).toFixed(2))}this.lastCacheInnerData=_.cloneDeep(this.innerData),this.change()},isIntNumber:function(e){return"number"===typeof e&&e%1===0},change:function(e){var t=[this.innerData.oneVal,this.innerData.twoVal,this.innerData.lock?"1":"0"];this.$emit("input",t.join(","))}},computed:{},watch:{value:{handler:function(e,t){if(this.value){var n=this.value.split(",");n.length>0&&(this.innerData.oneVal=parseFloat(n[0]),this.isIntNumber(this.innerData.oneVal)||(this.innerData.oneVal=parseFloat(this.innerData.oneVal).toFixed(2))),n.length>1&&(this.innerData.twoVal=parseFloat(n[1]),this.isIntNumber(this.innerData.twoVal)||(this.innerData.twoVal=parseFloat(this.innerData.twoVal).toFixed(2))),n.length>2&&(this.innerData.lock="0"!=n[2])}else this.innerData.oneVal=null,this.innerData.twoVal=null,this.innerData.lock=null;this.lastCacheInnerData=_.cloneDeep(this.innerData)},deep:!0}}}),vr=gr,yr=Object(b["a"])(vr,pr,mr,!1,null,"6c0388d3",null),br=yr.exports,wr=n("5836"),xr=n("7472"),Cr=n("f62d"),Sr={name:"MixAttribute",components:{iinput:ge,itextarea:Ce,iinputnumber:Me,islider:Fe,iselect:Ve,iswitch:qe,iradio:Ze,icheckbox:ot,idatepicker:vt,icolorpicker:kt,iinputnumberunit:Tt,ilayout:Nt,igrid:jt,iuploadimage:$t,ibox:tn,iborder:un,ifont:hn,irichtext:bn,itreeselect:_n,iiconselect:Un,IpageModuleSelect:In,IactionSelect:Xn,idatasourceselect:ur,ipageselect:nr,idatasourcefiledselect:hr,iinputnumberdouble:br},data:function(){return{refreshAttr:!0,moduleSetData:{},tableTabActive:{},moduleAttr:[],inlineGroupArrary:["input","inputNumber","select","treeSelect","switch","datePicker","colorPicker","uploadImage","richText","dataSourceFiledSelect"]}},props:{linkAttr:{type:Boolean,default:!1},svgAttr:{type:Boolean,default:!1},basicAttr:{type:Boolean,default:!1},componentsMap:{type:Array},actionData:{type:Object,default:function(){return{}}},defaultData:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}},selectedModuleData:{type:Object,default:function(){return{attrSetting:{compositeAttr:[],innerAttr:[]}}}},multipleModuleData:{type:Array,default:function(){return[]}}},created:function(){this.selectedModuleDataChangeHandle(!1)},mounted:function(){},computed:Object(a["a"])({},Object(U["c"])({developMarketModuleList:function(e){return e.developMarketModuleList}})),destroyed:function(){},methods:{openModuleAttrDocHandle:function(e,t){t&&t.stopPropagation(),this.$emit("openModuleAttrDocHandle",e)},changePageAction:function(e){this.$emit("changePageAction",e)},hoverModuleHandle:function(e){this.$emit("hoverModuleHandle",e)},changeVersion:function(e){(!this.selectedModuleData.currentVersion||this.selectedModuleData.currentVersion&&this.selectedModuleData.currentVersion.version!=e.version)&&this.$emit("versionChangeHandle",e)},prevShiftTableTab:function(e,t){e.stopPropagation(),!this.moduleSetData[t.bindKey]||this.moduleSetData[t.bindKey]&&0==this.moduleSetData[t.bindKey].length?IDM.message.warning("没有可移动的页签"):0!=this.tableTabActive[t.bindKey]?(this.moduleSetData[t.bindKey][this.tableTabActive[t.bindKey]-1]=this.moduleSetData[t.bindKey].splice(this.tableTabActive[t.bindKey],1,this.moduleSetData[t.bindKey][this.tableTabActive[t.bindKey]-1])[0],this.tableTabActive[t.bindKey]=this.tableTabActive[t.bindKey]-1):IDM.message.warning("已经是第一位啦！")},nextShiftTableTab:function(e,t){e.stopPropagation(),!this.moduleSetData[t.bindKey]||this.moduleSetData[t.bindKey]&&0==this.moduleSetData[t.bindKey].length?IDM.message.warning("没有可移动的页签"):this.tableTabActive[t.bindKey]>=this.moduleSetData[t.bindKey].length-1?IDM.message.warning("已经是最后一位啦！"):(this.moduleSetData[t.bindKey][this.tableTabActive[t.bindKey]+1]=this.moduleSetData[t.bindKey].splice(this.tableTabActive[t.bindKey],1,this.moduleSetData[t.bindKey][this.tableTabActive[t.bindKey]+1])[0],this.tableTabActive[t.bindKey]=this.tableTabActive[t.bindKey]+1)},removeTableTab:function(e,t){e.stopPropagation(),this.moduleSetData[t.bindKey].splice(this.tableTabActive[t.bindKey],1),this.$set(this.tableTabActive,t.bindKey,this.tableTabActive[t.bindKey]-1<0?0:this.tableTabActive[t.bindKey]-1)},addTableTab:function(e,t){e.stopPropagation(),this.moduleSetData[t.bindKey]||(this.moduleSetData[t.bindKey]=[{}]);var n=this.getDefaultData(t);this.moduleSetData[t.bindKey].splice(this.tableTabActive[t.bindKey]+1,0,n),this.$set(this.tableTabActive,t.bindKey,1==this.moduleSetData[t.bindKey].length?0:this.tableTabActive[t.bindKey]+1)},getDefaultData:function(e){var t={};if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children[n];if(this.setItemData(r,t),r.children&&r.children.length>0)for(var i=0;i<r.children.length;i++){var o=r.children[i];this.setItemData(o,t)}}return t},show:function(e,t,n){return!e||!e.display||(t&&(n||0==n)?this.$eval(e.display,Object(a["a"])(Object(a["a"])(Object(a["a"])({},this.moduleSetData),this.moduleSetData[t][n]),{},{IdmModuleObject:this.selectedModuleData})):this.$eval(e.display,Object(a["a"])(Object(a["a"])({},this.moduleSetData),{},{IdmModuleObject:this.selectedModuleData})))},getStyle:function(e){var t={};switch(e){case"root":break;default:break}return t},setItemData:function(e,t){if(!_.has(t||this.moduleSetData,e.bindKey)&&e.default)if("string"==IDM.type(e.default)||"number"==IDM.type(e.default)){var n,r=!1===e.defaultValRegExp?e.default:this.$replace(e.default,Object(a["a"])(Object(a["a"])({},this.selectedModuleData),{},{IDM:IDM}));n="inputNumber"==e.type||"slider"==e.type?parseFloat(r):"inputNumberUnit"==e.type?{inputVal:parseFloat(r)}:r,t?t[e.bindKey]=n:this.$set(this.moduleSetData,e.bindKey,n)}else{if("object"===IDM.type(e.default))for(var i in e.default)e.default[i]=!1===e.defaultValRegExp?e.default[i]:this.$replace(e.default[i],Object(a["a"])(Object(a["a"])({},this.selectedModuleData),{},{IDM:IDM}));t?t[e.bindKey]=e.default:this.$set(this.moduleSetData,e.bindKey,e.default)}},basicAttributeMergeData:function(e){var t=this,n=IDM.type(e),r=e;"object"==n&&(r=[r]),r.forEach((function(e){var n=IDM.setting.applications.basicAttributeAuthorizeConfig,r=n.openAuthorize;switch(e.bindKey){case"showType":if(!1===r&&e.dictionary){for(var i=0;i<e.dictionary.length;i++){var o=e.dictionary[i];"role"==o.value&&e.dictionary.splice(i,1)}e.default="show"}break;case"privilegeList":var a=n.privilege||{};!1===a.open||!1===r?(e.display="@[false]",e.dataSourceUrl=""):e.dataSourceUrl=IDM.express.replace(a.dataSourceUrl,{IDM:IDM,window:window});break;case"roleList":var s=n.role||{};!1===s.open||!1===r?(e.display="@[false]",e.dataSourceUrl=""):e.dataSourceUrl=IDM.express.replace(s.dataSourceUrl,{IDM:IDM,window:window});break;case"deptList":var u=n.dept||{};!1===u.open||!1===r?(e.display="@[false]",e.dataSourceUrl=""):e.dataSourceUrl=IDM.express.replace(u.dataSourceUrl,{IDM:IDM,window:window});break;case"userList":var c=n.user||{};!1===c.open||!1===r?(e.display="@[false]",e.dataSourceUrl=""):e.dataSourceUrl=IDM.express.replace(c.dataSourceUrl,{IDM:IDM,window:window});break}e.children&&e.children.length&&t.basicAttributeMergeData(e.children)}))},handleSetDisabled:function(e,t){var n=this;e.forEach((function(e){var r;"string"===typeof e.disabled&&(n.$replace(e.disabled,t)?e.disabled=!0:e.disabled=!1),(null===e||void 0===e||null===(r=e.children)||void 0===r?void 0:r.length)>0&&n.handleSetDisabled(e.children,t)}))},selectedModuleDataChangeHandle:function(e){var t=this;if(this.developMarketModuleList&&this.developMarketModuleList.length>0&&this.developMarketModuleList.forEach((function(e){e&&e.componentList instanceof Array&&e.componentList.forEach((function(e){if(e.comId==t.selectedModuleData.comId){var n=e.versionList;n&&(n=n.reverse()),n&&n.forEach((function(e){for(var n=!1,r=0;r<t.selectedModuleData.versionList.length;r++){var i=t.selectedModuleData.versionList[r];if(e.version==i.version){n=!0;break}}!n&&t.selectedModuleData.versionList.unshift(_.cloneDeep(e))}))}}))})),this.basicAttr)this.selectedModuleData.props&&this.selectedModuleData.props.basicAttr?this.moduleSetData=this.selectedModuleData.props&&this.selectedModuleData.props.basicAttr:this.moduleSetData={};else if(this.svgAttr)this.selectedModuleData.props&&this.selectedModuleData.props.svgAttr?this.moduleSetData=this.selectedModuleData.props&&this.selectedModuleData.props.svgAttr:this.moduleSetData={};else if(this.linkAttr)this.selectedModuleData.propData?this.moduleSetData=this.selectedModuleData.propData:this.moduleSetData={};else if(-1==this.selectedModuleData.cIndex)this.selectedModuleData.props&&this.selectedModuleData.props.compositeAttr?this.moduleSetData=this.selectedModuleData.props&&this.selectedModuleData.props.compositeAttr:this.moduleSetData={};else if(this.selectedModuleData.props&&this.selectedModuleData.props.innerAttr){var n=this.selectedModuleData.props.innerAttr.filter((function(e){return e.containerIndex==t.selectedModuleData.cIndex}));n.length>0?this.moduleSetData=n[0].dataAttr:this.moduleSetData={}}else this.moduleSetData={};if(this.basicAttr){var r=_.cloneDeep(wr);this.basicAttributeMergeData(r),this.moduleAttr=r}else this.svgAttr?(this.moduleAttr=_.cloneDeep(xr),this.handleSetDisabled(this.moduleAttr,this.moduleSetData)):this.linkAttr?(this.moduleAttr=_.cloneDeep(Cr),this.handleSetDisabled(this.moduleAttr,this.moduleSetData)):this.moduleAttr=this.selectedModuleData.attrSetting?-1==this.selectedModuleData.cIndex?this.selectedModuleData.attrSetting.compositeAttr:this.selectedModuleData.attrSetting.innerAttr:[];if(this.moduleAttr)for(var i=0;i<this.moduleAttr.length;i++){var o=this.moduleAttr[i];if("table"!=o.type||this.moduleSetData[o.bindKey]){if("table"==o.type&&this.moduleSetData[o.bindKey])(!this.tableTabActive[o.bindKey]||this.tableTabActive&&this.tableTabActive[o.bindKey]+1>this.moduleSetData[o.bindKey].length)&&this.$set(this.tableTabActive,o.bindKey,0);else if(o.children&&o.children.length>0)for(var a=0;a<o.children.length;a++){var s=o.children[a];if("table"!=s.type||this.moduleSetData[s.bindKey])"table"==s.type&&this.moduleSetData[s.bindKey]&&(!this.tableTabActive[s.bindKey]||this.tableTabActive&&this.tableTabActive[s.bindKey]+1>this.moduleSetData[s.bindKey].length)&&this.$set(this.tableTabActive,s.bindKey,0);else{var u=this.getDefaultData(s);this.$set(this.moduleSetData,s.bindKey,[u]),this.$set(this.tableTabActive,s.bindKey,0)}}}else{var c=this.getDefaultData(o);this.$set(this.moduleSetData,o.bindKey,[c]),this.$set(this.tableTabActive,o.bindKey,0)}if("group"==o.type||"inlineGroup"==o.type)for(var l=0;l<o.children.length;l++){var d=o.children[l];if("group"==d.type||"inlineGroup"==d.type)for(var f=0;f<d.children.length;f++){var A=d.children[f];if("group"==A.type||"inlineGroup"==A.type)for(var h=0;h<A.children.length;h++){var p=A.children[h];this.setItemData(p)}else"table"!=A.type&&this.setItemData(A)}else"table"!=d.type&&this.setItemData(d)}else"table"!=o.type&&this.setItemData(o)}else this.moduleSetData={}}},watch:{moduleSetData:{handler:function(e,t){this.$emit("dataChangeHandle",this.moduleSetData,this.selectedModuleData,this.basicAttr),console.log("属性信息发生变化，变化前====》",_.cloneDeep(t),"变化后====》",e)},deep:!0},selectedModuleData:{handler:function(e,t){console.log("复制复制复制复制复制复制复制复制复制复制复制复制",this.selectedModuleData,Object.keys(this.selectedModuleData).length),this.selectedModuleDataChangeHandle(!0),console.log("选中组件的信息发生变化，变化前====》",_.cloneDeep(t),"变化后====》",e)},deep:!0}}},kr=Sr,_r=Object(b["a"])(kr,ce,le,!1,null,"cf354d2e",null),Br=_r.exports,Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{visible:e.visible,wrapClassName:"idm_dev_modal",title:"创建版本信息",okText:"保存",cancelText:"取消"},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[n("idm-a-form",{attrs:{layout:"vertical",form:e.form}},[n("idm-a-form-item",{attrs:{label:"版本号（相同的版本号会被覆盖）"}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["version",{initialValue:e.defaultValue.version,rules:[{required:!0,message:"请输入版本号!"}]}],expression:"[\n            'version',\n            {\n              initialValue:defaultValue.version,\n              rules: [{ required: true, message: '请输入版本号!' }],\n            }\n          ]"}],attrs:{placeholder:"请注意版本号规则（示例：1.0.0）"}})],1),n("idm-a-form-item",{attrs:{label:"作者"}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["author",{initialValue:e.defaultValue.author,rules:[{required:!0,message:"请输入作者!"}]}],expression:"[\n            'author',\n            {\n              initialValue:defaultValue.author,\n              rules: [{ required: true, message: '请输入作者!' }],\n            }\n          ]"}]})],1),n("idm-a-form-item",{attrs:{label:"备注"}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{initialValue:e.defaultValue.remark}],expression:"['remark',{\n              initialValue:defaultValue.remark\n          }]"}],attrs:{type:"textarea"}})],1),n("idm-a-form-item",{attrs:{label:"使用此版本"}},[n("idm-a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["isUseBoolean",{valuePropName:"checked",initialValue:e.defaultValue.isUseBoolean||!0}],expression:"['isUseBoolean',{\n              valuePropName: 'checked',\n          initialValue:defaultValue.isUseBoolean||true\n        }]"}]})],1)],1),e.IDM.setting.applications.useProjectNoSetting?n("idm-a-alert",{attrs:{"show-icon":!1,message:"当前平台编号为："+e.IDM.setting.webRoot.platformNo+"，项目编号为："+e.IDM.setting.webRoot.projectNo+"，保存的版本信息会存储在"+e.IDM.setting.webRoot.projectNo+"下，请确保自身是为平台还是项目，如需修改编号请在“"+e.IDM.setting.webRoot.platformNo+"/idm/setting.js”修改后再保存!",banner:""}}):e._e()],1)},Mr=[],Er={name:"SaveForm",data:function(){return{}},props:{visible:{type:Boolean,default:!1},defaultValue:{type:Object}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"form_in_modal"})},created:function(){},mounted:function(){},destroyed:function(){},methods:{getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}}},Tr=Er,Ir=Object(b["a"])(Tr,Dr,Mr,!1,null,"bd223782",null),Or=Ir.exports,Lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{visible:e.visible,wrapClassName:"idm_dev_modal",width:"600px",title:e.defaultValue.isEditInfo?"修改自定义组件信息":"另存为",okText:"保存",cancelText:"取消"},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[n("idm-a-form",{attrs:{layout:"horizontal",form:e.form}},[n("idm-a-form-item",{attrs:{label:"另存类型","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["moduleType",{initialValue:e.defaultValue.moduleType,rules:[{required:!0,message:"请选择类型!"}]}],expression:"['moduleType',\n            {\n              initialValue:defaultValue.moduleType,\n              rules: [{ required: true, message: '请选择类型!' }],\n            }]"}],attrs:{disabled:e.defaultValue.isEditInfo||!1}},[n("idm-a-radio",{attrs:{value:"-1"}},[e._v(" 新页面 ")]),n("idm-a-radio",{attrs:{value:"0"}},[e._v(" 布局组件 ")]),n("idm-a-radio",{attrs:{value:"1"}},[e._v(" 业务组件 ")])],1)],1),n("idm-a-form-item",{attrs:{label:"标题","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.defaultValue.title,rules:[{required:!0,message:"请输入标题!"}]}],expression:"[\n            'title',\n            {\n              initialValue:defaultValue.title,\n              rules: [{ required: true, message: '请输入标题!' }],\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1),"-1"==e.form.getFieldValue("moduleType")?n("idm-a-form-item",{attrs:{label:"标识","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["classname",{initialValue:e.defaultValue.classname,rules:[{required:!0,message:"请输入标识!"}]}],expression:"[\n            'classname',\n            {\n              initialValue:defaultValue.classname,\n              rules: [{ required: true, message: '请输入标识!' }],\n            }\n          ]"}],attrs:{placeholder:"请输入字母+数字组合的唯一标识"}})],1):e._e(),"-1"==e.form.getFieldValue("moduleType")?n("idm-a-form-item",{attrs:{label:"版本号","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["version",{initialValue:e.defaultValue.version,rules:[{required:!0,message:"请输入版本号!"}]}],expression:"[\n            'version',\n            {\n              initialValue:defaultValue.version,\n              rules: [{ required: true, message: '请输入版本号!' }],\n            }\n          ]"}],attrs:{placeholder:"请注意版本号规则（示例：1.0.0）"}})],1):e._e(),n("idm-a-form-item",{attrs:{label:"作者","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["author",{initialValue:e.defaultValue.author,rules:[{required:!0,message:"请输入作者!"}]}],expression:"[\n            'author',\n            {\n              initialValue:defaultValue.author,\n              rules: [{ required: true, message: '请输入作者!' }],\n            }\n          ]"}]})],1),n("idm-a-form-item",{attrs:{label:"备注","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{initialValue:e.defaultValue.remark}],expression:"['remark',{\n              initialValue:defaultValue.remark\n          }]"}],attrs:{type:"textarea"}})],1),"-1"!=e.form.getFieldValue("moduleType")?n("idm-a-form-item",{attrs:{label:"字体图标","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["moduleIconfont",{initialValue:e.defaultValue.moduleIconfont}],expression:"[\n            'moduleIconfont',\n            {\n              initialValue:defaultValue.moduleIconfont,\n            }\n          ]"}],attrs:{placeholder:"请输入在配置模式下展示的组件图标classname"}})],1):e._e(),"0"==e.form.getFieldValue("moduleType")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 容器数量 "),n("idm-a-tooltip",{attrs:{title:"请输入该布局组件能容纳多少组件，也就是布局组件的格子数"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["moduleContainerCount",{initialValue:e.defaultValue.moduleContainerCount||1}],expression:"['moduleContainerCount', { initialValue: defaultValue.moduleContainerCount||1 }]"}],attrs:{placeholder:"请输入",min:1,max:100}})],1):e._e(),n("idm-a-form-item",{attrs:{label:"预览图","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["previewImgJson",{initialValue:e.defaultValue.previewImgJson,valuePropName:"fileList",rules:[]}],expression:"[\n            'previewImgJson',\n            {\n              initialValue:defaultValue.previewImgJson,\n              valuePropName: 'fileList',\n              rules: [],\n            },\n          ]"}],attrs:{multiple:!0,"list-type":"picture-card",customRequest:function(t){return e.uploadFileHandle(t,"previewImgJson")}},on:{preview:e.handlePreview,change:function(t){return e.uploadFileChange(t,"previewImgJson")}}},[n("div",[n("idm-a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v(" 上传图片 ")])],1)])],1)],1),e.IDM.setting.applications.useProjectNoSetting?n("idm-a-alert",{attrs:{"show-icon":!1,message:"当前平台编号为："+e.IDM.setting.webRoot.platformNo+"，项目编号为："+e.IDM.setting.webRoot.projectNo+"，保存的信息会存储在"+e.IDM.setting.webRoot.projectNo+"下，请确保自身是为平台还是项目，如需修改编号请在“"+e.IDM.setting.webRoot.platformNo+"/idm/setting.js”修改后再保存!",banner:""}}):e._e()],1)},Fr=[],Pr={name:"SaveAsForm",data:function(){return{}},props:{visible:{type:Boolean,default:!1},defaultValue:{type:Object}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"form_in_modal_as"}),"-1"!=this.form.getFieldValue("moduleType")&&"0"!=this.form.getFieldValue("moduleType")&&"1"!=this.form.getFieldValue("moduleType")&&this.form.setFieldsValue({moduleType:"-1"})},created:function(){},mounted:function(){},computed:{formItemLayout:function(){this.formLayout;return{labelCol:{span:4},wrapperCol:{span:20}}}},destroyed:function(){},methods:{uploadFileChange:function(e,t){var n=e.file,r=e.fileList,i=this.form.getFieldValue(t)||[];this.fileList=r,n&&"removed"==n.status&&(i&&i.forEach((function(e,t){var n=r.filter((function(t){return t.uid==e.uid}));(!n||n&&0==n.length)&&i.splice(t,1)})),this.changeSetFormValue(t,i))},uploadFileHandle:function(e,t){console.log("🚀 ~ file: IControlSettingPanel.vue ~ line 736 ~ uploadFileHandle ~ file",e);var n=this,r={uid:(new Date).getTime()+IDM.uuid(),name:e.file.name,status:"uploading"},i=_.cloneDeep(this.form.getFieldValue(t))||[];i instanceof Array&&i.push(r),n.changeSetFormValue(t,i);var o=Object(a["a"])({},IDM.setting.webRoot);IDM.http.upload(IDM.setting.api.uploadFileServerUrl,e.file,o).then((function(e){var o=e.data.data;r.status="done",r.url=IDM.url.getWebPath(o.filePath),r.ourl=o.filePath,r.src=r.ourl,r.size=o.fileSize,r.width=o.imageWidth,r.height=o.imageHeight,n.changeSetFormValue(t,i)})).catch((function(e){r.status="error"}))},changeSetFormValue:function(e,t){var n={};n[e]=_.cloneDeep(t);var r=this;setTimeout((function(){r.form.setFieldsValue(n)}),10)},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}},watch:{defaultValue:{handler:function(){this.form.setFieldsValue({moduleType:this.defaultValue.moduleType||0==this.defaultValue.moduleType?this.defaultValue.moduleType+"":"-1"})},deep:!0}}},Nr=Pr,Ur=Object(b["a"])(Nr,Lr,Fr,!1,null,"056d696e",null),Hr=Ur.exports,Rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{visible:e.visible,wrapClassName:"idm_dev_modal preferences_dev_modal",title:"偏好设置",okText:"保存并应用",cancelText:"取消"},on:{cancel:e.hide,ok:e.saveForm}},[n("idm-a-form",{attrs:{layout:"vertical",form:e.form}},[n("idm-a-tabs",{attrs:{"default-active-key":"1",size:"small"}},[n("idm-a-tab-pane",{key:"1",attrs:{tab:"常规",forceRender:""}},[n("idm-a-form-item",{attrs:{label:"启用备份","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["openBackup",{initialValue:!1!==e.defaultValues.openBackup,valuePropName:"checked"}],expression:"[\n              'openBackup',\n              {\n                initialValue:\n                  defaultValues.openBackup === false ? false : true,\n                valuePropName: 'checked',\n              },\n            ]"}]})],1),n("idm-a-form-item",{attrs:{label:"备份间隔","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["backupInterval",{initialValue:e.defaultValues.backupInterval||15}],expression:"[\n              'backupInterval',\n              { initialValue: defaultValues.backupInterval || 15 },\n            ]"}],attrs:{min:1,max:60}}),n("span",{staticClass:"ant-form-text"},[e._v(" 分钟 ")])],1)],1),n("idm-a-tab-pane",{key:"2",attrs:{tab:"网格",forceRender:""}},[n("idm-a-form-item",{attrs:{label:"间距","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["gridSpace",{initialValue:e.defaultValues.gridSpace||10}],expression:"[\n              'gridSpace',\n              { initialValue: defaultValues.gridSpace || 10 },\n            ]"}],attrs:{min:1,max:60}}),n("span",{staticClass:"ant-form-text"},[e._v(" px ")])],1),n("idm-a-form-item",{attrs:{label:"样式","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["gridStyle",{initialValue:e.defaultValues.gridStyle||"0"}],expression:"[\n              'gridStyle',\n              { initialValue: defaultValues.gridStyle || '0' },\n            ]"}]},[n("idm-a-radio",{attrs:{value:"0"}},[e._v(" 线条 ")]),n("idm-a-radio",{attrs:{value:"1"}},[e._v(" 交叉点 ")])],1)],1),n("idm-a-form-item",{attrs:{label:"颜色","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:e.colorVisible_grid,callback:function(t){e.colorVisible_grid=t},expression:"colorVisible_grid"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{on:{input:e.change},model:{value:e.colors_grid,callback:function(t){e.colors_grid=t},expression:"colors_grid"}})],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["gridColor",{initialValue:e.colors_grid.hex8}],expression:"[\n                'gridColor',\n                {\n                  initialValue: colors_grid.hex8,\n                },\n              ]"}],ref:"colorpicker",attrs:{readOnly:!0}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.colors_grid.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1),n("idm-a-tab-pane",{key:"3",attrs:{tab:"参考线",forceRender:""}},[n("idm-a-form-item",{attrs:{label:"颜色","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-popover",{attrs:{overlayClassName:"idm_dev_popover",trigger:"click",placement:"left"},model:{value:e.colorVisible_line,callback:function(t){e.colorVisible_line=t},expression:"colorVisible_line"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("sketch-picker",{on:{input:e.change},model:{value:e.colors_line,callback:function(t){e.colors_line=t},expression:"colors_line"}})],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["guidesColor",{initialValue:e.colors_line.hex8}],expression:"[\n                'guidesColor',\n                {\n                  initialValue: colors_line.hex8,\n                },\n              ]"}],ref:"colorpicker",attrs:{readOnly:!0}},[n("div",{staticClass:"colorpicker_icon",style:{"background-color":e.colors_line.hex8},attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1)],1)],1)],1)},Vr=[],Qr={name:"PreferencesModal",components:{"sketch-picker":wt["Sketch"]},data:function(){return{visible:!1,colorVisible_grid:!1,colorVisible_line:!1,colors_grid:{hex8:"#3BB7C7FF"},colors_line:{hex8:"#3BB7C7FF"},defaultValues:{}}},props:{},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"form_in_modal"})},created:function(){},mounted:function(){},destroyed:function(){},methods:{change:function(e){},saveForm:function(){var e=this,t=this.form;t.validateFields((function(t,n){t||(n.colors_grid=e.colors_grid,n.colors_line=e.colors_line,window.localStorage["DevelopPreferencesData"]=JSON.stringify(n),e.$emit("dataChangeHandle",n),e.hide())}))},show:function(){var e=window.localStorage["DevelopPreferencesData"];console.log(e),e&&0==e.indexOf("{")&&(this.defaultValues=JSON.parse(e),this.colors_grid=this.defaultValues.colors_grid||{},this.colors_line=this.defaultValues.colors_line||{}),this.visible=!0},hide:function(){this.visible=!1},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}}},jr=Qr,zr=Object(b["a"])(jr,Rr,Vr,!1,null,"4f779b1c",null),Gr=zr.exports,Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idm-quick-search"},[n("div",{staticClass:"idm-quick-search-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"quicksearchinput",attrs:{autocomplete:"true",autocorrect:"true",placeholder:"请输入组件的名称、别名、类ID、类名、属性名、属性内容"},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),n("div",{staticClass:"idm-quick-search-close",on:{click:e.closeHandle}},[n("idm-a-icon",{attrs:{type:"close"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.resultList.length>0,expression:"resultList.length > 0"}],staticClass:"idm-quick-search-results scrollbar_style"},e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-quick-search-result-item-wrapper",on:{click:function(n){return e.selectModule(t)}}},[n("div",{staticClass:"idm-quick-search-result-item-type idm-quick-search-type-node"},[n("svg",{staticClass:"idm-svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+(t.iconClass.indexOf("idmicon ")>-1?t.iconClass.replace("idmicon ",""):t.iconClass)}})])]),n("div",{staticClass:"idm-quick-search-result-item-cbox"},[n("div",{staticClass:"idm-quick-search-result-item-title-wrapper"},[n("div",{staticClass:"idm-quick-search-result-item-name"},[e._v(" "+e._s(t.asName)+" · "+e._s(t.className)+" ")]),n("div",{staticClass:"idm-quick-search-result-item-version"},[e._v(" "+e._s(t.currentVersion&&t.currentVersion.version||"1.0.0")+" ")])]),n("div",{staticClass:"idm-quick-search-result-item-content"},[e._v(" "+e._s(t.classId)+" ")])])])})),0)])},qr=[],Wr={name:"QuickSearch",data:function(){return{searchValue:"",resultList:[]}},props:{componentsMap:{type:Array}},beforeCreate:function(){},created:function(){},mounted:function(){this.$refs.quicksearchinput.focus()},destroyed:function(){},methods:{searchFromComponentsMap:function(){var e=this;this.resultList=[],""!=this.searchValue&&this.componentsMap&&this.componentsMap.forEach((function(t){(t.asName.indexOf(e.searchValue)>-1||t.comName.indexOf(e.searchValue)>-1||t.classId.indexOf(e.searchValue)>-1||t.className.indexOf(e.searchValue)>-1||t.attrSetting&&t.attrSetting.compositeAttr&&e.recursiveSearchAttrText(t.attrSetting.compositeAttr)||t.attrSetting&&t.attrSetting.innerAttr&&e.recursiveSearchAttrText(t.attrSetting.innerAttr)||t.props&&t.props.compositeAttr&&e.recursiveSearchAttrContent(t.props.compositeAttr)||t.props&&t.props.innerAttr&&e.recursiveSearchAttrContent(t.props.innerAttr))&&e.resultList.push(t)}))},recursiveSearchAttrText:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){e.text.indexOf(t.searchValue)>-1?n=!0:!n&&e.children&&e.children.length>0&&(n=t.recursiveSearchAttrText(e.children))})),n},recursiveSearchAttrContent:function(e){var t=this,n=!1;return e instanceof Array||(e=[e]),e.forEach((function(e){Object.keys(e).forEach((function(r){!n&&JSON.stringify(e[r]).indexOf(t.searchValue)>-1&&(n=!0)}))})),n},selectModule:function(e){this.$emit("chooseModuleHandle",e)},closeHandle:function(){this.$emit("closeHandle")},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}},watch:{searchValue:{handler:function(e,t){this.searchFromComponentsMap()}}}},$r=Wr,Xr=Object(b["a"])($r,Kr,qr,!1,null,"b07e3f8c",null),Yr=Xr.exports,Jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{visible:e.visible,wrapClassName:"idm_dev_modal",title:"创建参考线",okText:"创建",cancelText:"取消"},on:{cancel:e.hide,ok:e.saveForm}},[n("idm-a-form",{attrs:{layout:"vertical",form:e.form}},[n("idm-a-form-item",{attrs:{label:"取向","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["direction",{initialValue:"1"}],expression:"[\n          'direction',\n          { initialValue: '1' },\n        ]"}]},[n("idm-a-radio",{attrs:{value:"1"}},[e._v(" 垂直 ")]),n("idm-a-radio",{attrs:{value:"2"}},[e._v(" 水平 ")])],1)],1),n("idm-a-form-item",{attrs:{label:"位置","label-col":{span:4},"wrapper-col":{span:14}}},[n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["position",{rules:[{required:!0,message:"请输入位置!"}]}],expression:"[\n          'position',\n            {rules: [{ required: true, message: '请输入位置!' }]}\n        ]"}],attrs:{min:-30,max:1e5}})],1)],1)],1)},Zr=[],ei={name:"CreatGuidesModal",components:{},data:function(){return{visible:!1}},props:{},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"form_in_modal"})},created:function(){},mounted:function(){},destroyed:function(){},methods:{saveForm:function(){var e=this,t=this.form;t.validateFields((function(t,n){t||(e.$emit("dataChangeHandle",n),e.hide())}))},show:function(){this.visible=!0},hide:function(){this.visible=!1},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}}},ti=ei,ni=Object(b["a"])(ti,Jr,Zr,!1,null,"bfb8a010",null),ri=ni.exports,ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dragarea-bottom-history scrollbar_style",style:e.getStyle("root")},[n("idm-a-timeline",[e._l(e.developHistoryActionDate,(function(t,r){return n("idm-a-timeline-item",{key:t,attrs:{color:0==r?"red":"gray"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"1==2"}]},[e._v(e._s(e.lsindex=0))]),e._l(e.developHistoryActionList,(function(r,i){return[r.opDate==t?n("div",{key:i},[0==e.lsindex?n("p",{staticClass:"history_date"},[e._v(" "+e._s(e.$trace.getNowDate()==t?"今天":t)+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"1==2"}]},[e._v(e._s(e.lsindex=1))])]):e._e(),n("div",[n("div",{staticClass:"history_action"},[e._v(" "+e._s(e.$trace.getActionType(r.actionType))+" · "+e._s(r.opTime)+" ")]),1==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 在『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』 "+e._s(""!=r.opContent.opModule.containerIndex?"组件的内部容器索引为"+r.opContent.opModule.containerIndex+"的":"")+"容器中添加了『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件 "),n("span",{directives:[{name:"show",rawName:"v-show",value:r.opContent.relationModule&&r.opContent.relationModule.id,expression:"\n                  item.opContent.relationModule &&\n                  item.opContent.relationModule.id\n                "}]},[e._v(" ，位于『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.relationModule)}}},[e._v(e._s(r.opContent.relationModule.asName))]),e._v("』组件"+e._s(e.getPosCn(r.opContent.opModule.relationType))+" ")])]):2==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件 "),e._v(" 移到了 "),r.opContent.opModule.relationType.indexOf("inner_")>-1?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』组件的内部容器索引为"+e._s(r.opContent.opModule.containerIndex)+"的容器中 ")]):"inner"==r.opContent.opModule.relationType?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』容器中 ")]):n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.relationModule)}}},[e._v(e._s(r.opContent.relationModule.asName))]),e._v("』组件的"+e._s(e.getPosCn(r.opContent.opModule.relationType))+" ")])]):3==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件从『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』组件容器中删除了 ")]):4==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件的 "),-1==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性的数据删除了一行 ")]):1==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性的数据增加了一行 ")]):0==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性数据中的“"+e._s(r.opContent.attrName)+"”属性值修改为了“"+e._s(r.opContent.attrNewData)+"” ")]):n("span",[e._v(" “"+e._s(r.opContent.attrName)+"”属性值修改为了“"+e._s(r.opContent.attrNewData)+"” ")])]):5==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件从版本“"+e._s(r.opContent.oldVersion)+"”切换为了“"+e._s(r.opContent.newVersion)+"” ")]):6==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 修改了页面标题为“"+e._s(r.opContent.newTitle)+"” ")]):7==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 保存了页面，保存信息为【版本："+e._s(r.opContent.pageInfo.version)+"，页面作者："+e._s(r.opContent.pageInfo.author)+"，是否使用此版本："+e._s(r.opContent.pageInfo.isUseBoolean?"是":"否")+"，版本备注："+e._s(r.opContent.pageInfo.remark)+"】 ")]):8==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 修改了页面尺寸为“"+e._s(r.opContent.newPageSize.showText)+"”，尺寸为【"+e._s(r.opContent.newPageSize.width)+"*"+e._s(r.opContent.newPageSize.height)+"】 ")]):9==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把页面的 "),-1==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性的数据删除了一行 ")]):1==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性的数据增加了一行 ")]):0==r.opContent.attrTableType?n("span",[e._v(" “"+e._s(r.opContent.attrTableName)+"”表格属性数据中的“"+e._s(r.opContent.attrName)+"”属性值修改为了“"+e._s(r.opContent.attrNewData)+"” ")]):n("span",[e._v(" “"+e._s(r.opContent.attrName)+"”属性值修改为了“"+e._s(r.opContent.attrNewData)+"” ")])]):10==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 复制了『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件到"),r.opContent.opModule.relationType.indexOf("inner_")>-1?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』组件的内部容器索引为"+e._s(r.opContent.opModule.containerIndex)+"的容器中 ")]):"inner"==r.opContent.opModule.relationType?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』容器中 ")]):n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.relationModule)}}},[e._v(e._s(r.opContent.relationModule.asName))]),e._v("』组件的"+e._s(e.getPosCn(r.opContent.opModule.relationType))+" ")])]):11==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 把『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.opModule)}}},[e._v(e._s(r.opContent.opModule.asName))]),e._v("』组件 剪切到了 "),r.opContent.opModule.relationType.indexOf("inner_")>-1?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』组件的内部容器索引为"+e._s(r.opContent.opModule.containerIndex)+"的容器中 ")]):"inner"==r.opContent.opModule.relationType?n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.parentModule)}}},[e._v(e._s(r.opContent.parentModule.asName))]),e._v("』容器中 ")]):n("span",[e._v(" 『"),n("a",{on:{click:function(t){return e.selectModule(r.opContent.relationModule)}}},[e._v(e._s(r.opContent.relationModule.asName))]),e._v("』组件的"+e._s(e.getPosCn(r.opContent.opModule.relationType))+" ")])]):12==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 创建了"+e._s(1==r.opContent.dimension?"Y":"X")+"轴辅助线 ")]):13==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 删除了"+e._s(1==r.opContent.dimension?"Y":"X")+"轴辅助线，坐标为"+e._s(1==r.opContent.dimension?r.opContent.x:r.opContent.y)+" ")]):14==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 清除全部辅助线 ")]):15==r.actionType?n("div",{staticClass:"history_content"},[e._v(" 移动了"+e._s(1==r.opContent.oldGuidesObject.dimension?"Y":"X")+"轴辅助线，旧坐标为"+e._s(r.opContent.oldGuidesObject.xy)+"，新坐标为"+e._s(r.opContent.newGuidesObject.xy)+" ")]):e._e(),n("div",{staticClass:"history_info"},[r.opContent&&r.opContent.opModule?n("div",[e._v(" 组件对象："+e._s(r.opContent.opModule.asName)+" ")]):e._e(),r.opContent&&r.opContent.opModule&&r.opContent.opModule.currentVersion?n("div",[e._v(" 组件版本："+e._s(r.opContent.opModule.currentVersion.version)+" ")]):e._e(),n("div",[e._v("页面版本："+e._s(r.pageVersion))])])])]):e._e()]}))],2)})),e.loaded?e._e():n("idm-a-timeline-item",{attrs:{color:"#1890ff"}},[n("a",{on:{click:function(t){return e.getList()}}},[e._v("加载更多"),n("idm-a-icon",{attrs:{type:"down"}})],1)]),e.loaded?n("idm-a-timeline-item",{attrs:{color:"#e8e8e8"}},[n("span",{staticClass:"history_info"},[e._v("已经到底了")])]):e._e()],2)],1)},oi=[],ai={name:"HistoryActionPanel",data:function(){return{pageIndex:1,pageNumber:10,loaded:!1}},props:{pageid:{type:String}},created:function(){this.getList()},mounted:function(){},computed:Object(a["a"])({},Object(U["c"])({developHistoryActionList:function(e){return e.developHistoryActionList},developHistoryActionDate:function(e){return e.developHistoryActionDate}})),destroyed:function(){},methods:Object(a["a"])(Object(a["a"])({},Object(U["b"])({DEVELOP_HISTORY_ACTION_LIST:"DEVELOP_HISTORY_ACTION_LIST"})),{},{selectModule:function(e){this.$emit("selectModule",e.packageid)},reload:function(){this.pageIndex=1,this.loaded=!1,this.DEVELOP_HISTORY_ACTION_LIST({reload:!0}),this.getList()},getList:function(){var e=this;this.$developApi.fetchDevelopTraceListData(this.pageid,(this.pageIndex-1)*this.pageNumber,this.pageNumber).then((function(t){200==t.data.code&&(e.pageIndex=e.pageIndex+1,e.DEVELOP_HISTORY_ACTION_LIST({new:!1,data:t.data.data}),t.data.data.length<e.pageNumber&&(e.loaded=!0))})).catch((function(e){}))},getPosCn:function(e){var t="内部";switch(e){case"bottom":t="下方";break;case"top":t="上方";break;case"left":t="左方";break;case"right":t="右方";break}return t},getStyle:function(e){var t={};switch(e){case"root":break;default:break}return t}}),watch:{}},si=ai,ui=Object(b["a"])(si,ii,oi,!1,null,"dfcecc86",null),ci=ui.exports,li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dragarea-bottom-datasource scrollbar_style",style:e.getStyle("root")},[n("div",{staticClass:"idm-dbd-condition"},[n("idm-a-select",{staticStyle:{width:"100px"},attrs:{size:"small",allowClear:"",dropdownClassName:"idm_dev_theme",placeholder:"类型","default-value":""},on:{change:e.change},model:{value:e.condition.TYPE,callback:function(t){e.$set(e.condition,"TYPE",t)},expression:"condition.TYPE"}},e._l(e.ConditionType,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"150px"},attrs:{size:"small",allowClear:"",dropdownClassName:"idm_dev_theme",placeholder:"分组","default-value":""},on:{change:e.change},model:{value:e.condition.GROUP_ID,callback:function(t){e.$set(e.condition,"GROUP_ID",t)},expression:"condition.GROUP_ID"}},e._l(e.ConditionGroup,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"250px"},attrs:{size:"small",allowClear:"",dropdownClassName:"idm_dev_theme",mode:"multiple",optionFilterProp:"children",placeholder:"适配组件","default-value":""},on:{change:e.change},model:{value:e.condition.moduleList,callback:function(t){e.$set(e.condition,"moduleList",t)},expression:"condition.moduleList"}},[e.ConditionModuleList&&e.ConditionModuleList.length&&e.ConditionModuleList[0].groupId?e._l(e.ConditionModuleList,(function(t,r){return n("idm-a-select-opt-group",{key:r,attrs:{label:t.groupTitle}},e._l(t.componentList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value||t.comId}},[e._v(" "+e._s(t.text||t.asName)+" ")])})),1)})):e._l(e.ConditionModuleList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])}))],2),n("idm-a-select",{staticStyle:{width:"150px"},attrs:{size:"small",allowClear:"",dropdownClassName:"idm_dev_theme",mode:"multiple",optionFilterProp:"children",placeholder:"产品标签","default-value":""},on:{change:e.change},model:{value:e.condition.productList,callback:function(t){e.$set(e.condition,"productList",t)},expression:"condition.productList"}},e._l(e.ConditionProductList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-input-search",{staticStyle:{width:"200px"},attrs:{allowClear:"",size:"small",placeholder:"搜索关键词"},on:{search:e.change},model:{value:e.condition.searchText,callback:function(t){e.$set(e.condition,"searchText",t)},expression:"condition.searchText"}}),n("idm-a-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"},on:{click:function(t){return e.resetCondition()}}},[e._v(" 重置搜索 ")]),n("idm-a-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.showDataSourceFormModal()}}},[e._v(" 新建数据源 ")])],1),n("div",{staticClass:"idm-dbd-tablebox"},[n("idm-a-table",{attrs:{columns:e.columns,"data-source":e.dataRows,loading:e.loading,scroll:{y:e.height-150},locale:{emptyText:"暂无数据源"},pagination:{current:e.current,"pageSize(.sync)":e.pageSize,total:e.totalCount},size:"small",rowKey:"id"},on:{change:e.changePage},scopedSlots:e._u([{key:"action",fn:function(t,r,i){return n("div",{},[n("a",{on:{click:function(t){return e.editDataRow(r,i)}}},[e._v("编辑")]),n("a-divider",{staticStyle:{margin:"0 5px"},attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.showDataSourceDebugFormModal(r,i)}}},[e._v("调试")]),n("a-divider",{staticStyle:{margin:"0 5px"},attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.delDataRow(r,i)}}},[e._v("删除")]),n("a-divider",{staticStyle:{margin:"0 5px"},attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.copyDataRow(r,i)}}},[e._v("复制")])],1)}},{key:"tags",fn:function(t){return n("div",{},[e._l(t.split(","),(function(t,r){return[t?n("idm-a-tag",{key:r},[e._v(e._s(t))]):e._e()]}))],2)}},{key:"type",fn:function(t){return n("div",{},[e._v(" "+e._s(e.ConditionType.filter((function(e){return e.value==t})).length?e.ConditionType.filter((function(e){return e.value==t}))[0].text:"")+" ")])}},{key:"groupId",fn:function(t){return n("div",{},[e._v(" "+e._s(e.ConditionGroup.filter((function(e){return e.value==t})).length?e.ConditionGroup.filter((function(e){return e.value==t}))[0].text:"")+" ")])}},{key:"expandedRowRender",fn:function(t){return n("div",{staticStyle:{margin:"0"}},[n("div",{staticStyle:{"margin-bottom":"5px","font-weight":"bold"}},[e._v("基本信息")]),n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:"2"}},[n("idm-a-descriptions-item",{attrs:{label:"作者"}},[e._v(" "+e._s(t.author)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"共享属性"}},[e._v(" "+e._s("0"==t.shareType?"私有":"共享")+" ")]),n("idm-a-descriptions-item",{attrs:{label:"排序"}},[e._v(" "+e._s(t.itemIndex)+" ")]),t.productNames?n("idm-a-descriptions-item",{attrs:{label:"产品标签",span:3}},[e._l(t.productNames.split(","),(function(t,r){return[t?n("idm-a-tag",{key:r},[e._v(e._s(t))]):e._e()]}))],2):e._e(),n("idm-a-descriptions-item",{attrs:{label:"适用组件",span:3}},[e._l(t.moduleNames.split(","),(function(t,r){return[t?n("idm-a-tag",{key:r},[e._v(e._s(t))]):e._e()]}))],2),n("idm-a-descriptions-item",{attrs:{label:"数据源标签",span:3}},[e._l(t.tags.split(","),(function(t,r){return[t?n("idm-a-tag",{key:r},[e._v(e._s(t))]):e._e()]}))],2),n("idm-a-descriptions-item",{attrs:{label:"描述",span:3}},[e._v(" "+e._s(t.remark)+" ")])],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("div",{staticStyle:{"margin-bottom":"5px","font-weight":"bold"}},[e._v("详细信息")]),"1"==t.type?n("div",[n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:3}},[n("idm-a-descriptions-item",{attrs:{label:"加载类型"}},[e._v(" "+e._s("0"==t.loadType?"前端请求":"后端转发请求")+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求方式"}},[e._v(" "+e._s(t.requestType)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"支持跨域"}},[e._v(" "+e._s("1"==t.crossOrigin?"支持":"不支持")+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求地址",span:2}},[e._v(" "+e._s(t.api)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"超时时长(毫秒)"}},[e._v(" "+e._s(t.timeout)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求参数",span:3}},[e._v(" "+e._s(t.paramJson)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求头信息",span:3}},[e._v(" "+e._s(t.headerJson)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求前对参数的处理函数",span:3}},[e._v(" "+e._s(t.functionParam)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求成功对结果的处理函数",span:3}},[e._v(" "+e._s(t.functionResult)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求失败对异常的处理函数",span:3}},[e._v(" "+e._s(t.functionError)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"调试结果",span:3}},[e._v(" "+e._s(t.debugResult)+" ")])],1)],1):"2"==t.type?n("div",[n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:1}},[n("idm-a-descriptions-item",{attrs:{label:"响应数据"}},[e._v(" "+e._s(t.resultJson)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"数据处理函数"}},[e._v(" "+e._s(t.functionResult)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"调试结果"}},[e._v(" "+e._s(t.debugResult)+" ")])],1)],1):"3"==t.type||"5"==t.type?n("div",[n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:1}},[n("idm-a-descriptions-item",{attrs:{label:"文件名"}},[e._v(" "+e._s(t.fileName)+" "),n("a",{staticStyle:{"margin-left":"20px"},on:{click:function(n){return e.downloadFile(t)}}},[e._v("下载")])]),n("idm-a-descriptions-item",{attrs:{label:"文件内容"}},[e._v(" "+e._s(t.fileContent)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"数据处理函数"}},[e._v(" "+e._s(t.functionResult)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"调试结果"}},[e._v(" "+e._s(t.debugResult)+" ")])],1)],1):"4"==t.type?n("div",[n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:1}},[n("idm-a-descriptions-item",{attrs:{label:"驱动名称"}},[e._v(" "+e._s(t.dbName)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"SQL语句"}},[e._v(" "+e._s(t.dbSql)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求前对参数的处理函数"}},[e._v(" "+e._s(t.functionParam)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求成功对结果的处理函数"}},[e._v(" "+e._s(t.functionResult)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"请求失败对异常的处理函数"}},[e._v(" "+e._s(t.functionError)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"调试结果"}},[e._v(" "+e._s(t.debugResult)+" ")])],1)],1):"6"==t.type?n("div",[n("idm-a-descriptions",{attrs:{bordered:"",size:"small",column:1}},[n("idm-a-descriptions-item",{attrs:{label:"数据模型"}},[e._v(" "+e._s(t.datamodelName)+" ")]),n("idm-a-descriptions-item",{attrs:{label:"调试结果"}},[e._v(" "+e._s(t.debugResult)+" ")])],1)],1):e._e()])],1)}}])})],1),n("DataSourceForm",{ref:"DataSourceForm",attrs:{visible:e.DataSourceFormVisible,defaultValue:e.DataSourceFormDefaultData,ConditionGroup:e.ConditionGroup,ConditionType:e.ConditionType,ConditionModuleList:e.ConditionModuleList,ConditionProductList:e.ConditionProductList,destroyOnClose:!0},on:{"update:defaultValue":function(t){e.DataSourceFormDefaultData=t},"update:default-value":function(t){e.DataSourceFormDefaultData=t},cancel:function(t){e.DataSourceFormVisible=!1,e.DataSourceFormDefaultData={}},create:e.saveCustomModuleFormHandleCreate}}),n("DataSourceFormDebug",{ref:"DataSourceFormDebug",attrs:{visible:e.DataSourceFormDebugVisible,defaultValue:e.DataSourceFormDebugDefaultData,destroyOnClose:""},on:{"update:defaultValue":function(t){e.DataSourceFormDebugDefaultData=t},"update:default-value":function(t){e.DataSourceFormDebugDefaultData=t},cancel:function(t){e.DataSourceFormDebugVisible=!1,e.DataSourceFormDebugDefaultData={}}}})],1)},di=[],fi=(n("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{visible:e.visible,wrapClassName:"idm_dev_modal",bodyStyle:{padding:0},centered:!0,width:"800px",title:e.defaultValue.isEditInfo?"修改数据源":"创建数据源",okText:"保存",cancelText:"取消"},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"footer"},slot:"footer"},[n("idm-a-button",{key:"debug",on:{click:e.debugDataSource}},[e._v(" 调试 ")]),n("div",[n("idm-a-button",{key:"back",on:{click:function(){e.$emit("cancel")}}},[e._v(" 取消 ")]),n("idm-a-button",{key:"submit",attrs:{type:"primary"},on:{click:function(){e.$emit("create")}}},[e._v(" 保存 ")])],1)],1),n("div",{staticClass:"scrollbar_style",staticStyle:{height:"80vh",overflow:"auto",padding:"20px"}},[n("idm-a-form",{attrs:{layout:"horizontal",form:e.form}},[n("idm-a-form-item",{attrs:{label:"数据源类型","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{initialValue:e.defaultValue.type,rules:[{required:!0,message:"请选择类型!"}]}],expression:"['type',\n            {\n              initialValue:defaultValue.type,\n              rules: [{ required: true, message: '请选择类型!' }],\n            }]"}],attrs:{allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.typeChange}},[e._l(e.ConditionType,(function(t,r){return[t.value?n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.value?t.text:"请选择")+" ")]):e._e()]}))],2)],1),n("idm-a-form-item",{attrs:{label:"数据源名称","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.defaultValue.title,rules:[{required:!0,message:"请输入名称!"}]}],expression:"[\n            'title',\n            {\n              initialValue:defaultValue.title,\n              rules: [{ required: true, message: '请输入名称!' }],\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1),n("idm-a-form-item",{attrs:{label:"共享属性","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["shareType",{initialValue:e.defaultValue.shareType,rules:[{required:!0,message:"请选择共享属性!"}]}],expression:"['shareType',\n            {\n              initialValue:defaultValue.shareType,\n              rules: [{ required: true, message: '请选择共享属性!' }],\n            }]"}]},[n("idm-a-radio",{attrs:{value:0}},[e._v(" 私有 ")]),n("idm-a-radio",{attrs:{value:1}},[e._v(" 共享 ")])],1)],1),n("idm-a-form-item",{attrs:{label:"作者","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["author",{initialValue:e.defaultValue.author,rules:[{required:!0,message:"请输入作者!"}]}],expression:"[\n            'author',\n            {\n              initialValue:defaultValue.author,\n              rules: [{ required: true, message: '请输入作者!' }],\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1),n("idm-a-form-item",{attrs:{label:"描述","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{initialValue:e.defaultValue.remark,rules:[]}],expression:"[\n            'remark',\n            {\n              initialValue:defaultValue.remark,\n              rules: [],\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1),n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 产品标签 "),n("idm-a-tooltip",{attrs:{title:"维护数据源所属产品的编号，方便对数据源进行快速的归类和导出，如果属于多个产品可多选"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productArray",{initialValue:e.defaultValue.productArray,rules:[]}],expression:"['productArray',\n            {\n              initialValue:defaultValue.productArray,\n              rules: [],\n            }]"}],attrs:{allowClear:"",labelInValue:"",optionFilterProp:"children",dropdownClassName:"idm_dev_theme",mode:"multiple"}},e._l(e.ConditionProductList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.value?t.text:"请选择")+" ")])})),1)],1),n("idm-a-form-item",{attrs:{label:"所属分组","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["groupId",{initialValue:e.defaultValue.groupId,rules:[{required:!0,message:"请选择分组!"}]}],expression:"['groupId',\n            {\n              initialValue:defaultValue.groupId,\n              rules: [{ required: true, message: '请选择分组!' }],\n            }]"}],attrs:{allowClear:"",dropdownClassName:"idm_dev_theme"}},[e._l(e.ConditionGroup,(function(t,r){return[t.value?n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.value?t.text:"请选择")+" ")]):e._e()]}))],2)],1),n("idm-a-form-item",{attrs:{label:"所属目录","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["codeId",{initialValue:e.defaultValue.codeId,rules:[{required:!0,message:"请选择所属目录!"}]}],expression:"['codeId',\n            {\n              initialValue:defaultValue.codeId,\n              rules: [{ required: true, message: '请选择所属目录!' }],\n            }]"}],attrs:{allowClear:"","tree-data":e.CodeTreeData,showSearch:!0,treeNodeFilterProp:"title",dropdownClassName:"idm_dev_theme",replaceFields:{children:"children",title:"name",key:"id",value:"id"}}})],1),n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 适配组件 "),n("idm-a-tooltip",{attrs:{title:"选择此数据源适配的组件可以在组件配置数据源的时候快速选择到你配置的数据源，选择适配组件会自动把所需要的参数带过来(如果有的话)，选择多个只会使用最后一个组件的参数，如参数手动变更过则不会再应用适配组件的自带参数"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["moduleArray",{initialValue:e.defaultValue.moduleArray,rules:[]}],expression:"['moduleArray',\n            {\n              initialValue:defaultValue.moduleArray,\n              rules: [],\n            }]"}],attrs:{allowClear:"",labelInValue:"",optionFilterProp:"children",dropdownClassName:"idm_dev_theme",mode:"multiple"},on:{change:e.moduleChange}},[e.ConditionModuleList&&e.ConditionModuleList.length&&e.ConditionModuleList[0].groupId?e._l(e.ConditionModuleList,(function(t,r){return n("idm-a-select-opt-group",{key:r,attrs:{label:t.groupTitle}},e._l(t.componentList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value||t.comId}},[e._v(" "+e._s(t.text||t.asName)+" ")])})),1)})):e._l(e.ConditionModuleList,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.value?t.text:"请选择")+" ")])}))],2),e.form.getFieldValue("moduleArray")&&e.form.getFieldValue("moduleArray").length>0?n("div",{staticStyle:{"line-height":"initial"}},[e._v(" 已选择"+e._s(e.form.getFieldValue("moduleArray").length)+"个组件，点击查看组件的"),n("a",{on:{click:function(t){return e.openModuleIntelfaceInfo()}}},[e._v("接口描述")])]):e._e()],1),n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 标签 "),n("idm-a-tooltip",{attrs:{title:"选择或输入返回结果中有哪些关键词，通过关键词可以在选择的时候能快速选到组件想要的数据源"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["tags",{initialValue:e.defaultValue.tags,rules:[]}],expression:"['tags',\n            {\n              initialValue:defaultValue.tags,\n              rules: [],\n            }]"}],attrs:{allowClear:"",dropdownClassName:"idm_dev_theme",mode:"tags"}},e._l(e.tagsList,(function(t){return n("idm-a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),n("idm-a-form-item",{attrs:{label:"排序","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemIndex",{initialValue:e.defaultValue.itemIndex||1}],expression:"['itemIndex', { initialValue: defaultValue.itemIndex||1 }]"}],attrs:{placeholder:"请输入",min:1,max:1e4}})],1),n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 刷新标识 "),n("idm-a-tooltip",{attrs:{title:"在此处维护数据源的刷新标识可以使组件实现局部刷新，此处维护的就是局部刷新的标识，配合websocket使用。"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["refreshJson",{initialValue:e.defaultValue.refreshJson}],expression:"[\n            'refreshJson',\n            {\n              initialValue:defaultValue.refreshJson,\n            }\n          ]"}],staticStyle:{display:"none"}}),n("draggable",{attrs:{tag:"div","chosen-class":"idmcore-datasource-param-ghost","force-fallback":"true",animation:"300",group:"refresh",handle:".handle"},on:{start:function(t){e.paramSelectDrag=!0},end:function(t){e.paramSelectDrag=!1}},model:{value:e.refreshJson,callback:function(t){e.refreshJson=t},expression:"refreshJson"}},[n("transition-group",e._l(e.refreshJson,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[n("svg-icon",{staticClass:"handle",attrs:{"icon-class":"listdrag-icon"}})],1),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{placeholder:"请输入标识(key)"},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"element.key"}}),n("div"),n("div",{staticStyle:{width:"400px","flex-shrink":"0"}},[n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入标识说明"},model:{value:t.desc,callback:function(n){e.$set(t,"desc",n)},expression:"element.desc"}})],1),n("div",{on:{click:function(t){return e.deleteListRow("refreshJson",r)}}},[n("svg-icon",{attrs:{"icon-class":"delete-icon"}})],1)],1)])})),0)],1),n("div",[n("idm-a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.pushNewRow("refreshJson")}}},[e._v("添加")])],1)],1),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 加载类型 "),n("idm-a-tooltip",{attrs:{title:"内部接口建议选择前端请求，如果由客户端无法访问到维护的[请求地址]或不支持跨域则建议使用后端转发请求"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["loadType",{initialValue:e.defaultValue.loadType,rules:[{required:!0,message:"请选择加载类型!"}]}],expression:"['loadType',\n            {\n              initialValue:defaultValue.loadType,\n              rules: [{ required: true, message: '请选择加载类型!' }],\n            }]"}]},[n("idm-a-radio",{attrs:{value:"0"}},[e._v(" 前端请求 ")]),n("idm-a-radio",{attrs:{value:"1"}},[e._v(" 后端转发请求 ")])],1)],1):e._e(),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 请求地址 "),n("idm-a-tooltip",{attrs:{title:"内部接口不需要填写ip、domain、projectName，外部接口请填写完整地址"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["api",{initialValue:e.defaultValue.api,rules:[{required:!0,message:"请输入请求地址!"}]}],expression:"[\n            'api',\n            {\n              initialValue:defaultValue.api,\n              rules: [{ required: true, message: '请输入请求地址!' }],\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1):e._e(),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{label:"请求方式","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["requestType",{initialValue:e.defaultValue.requestType,rules:[{required:!0,message:"请选择请求方式!"}]}],expression:"['requestType',\n            {\n              initialValue:defaultValue.requestType,\n              rules: [{ required: true, message: '请选择请求方式!' }],\n            }]"}]},[n("idm-a-radio",{attrs:{value:"GET"}},[e._v(" GET ")]),n("idm-a-radio",{attrs:{value:"POST"}},[e._v(" POST ")])],1)],1):e._e(),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 超时时长(毫秒) "),n("idm-a-tooltip",{attrs:{title:"如果请求时间超过 `超时时长` 的值，则请求会被中断，默认值是 `0` (永不超时)"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["timeout",{initialValue:e.defaultValue.timeout||0}],expression:"['timeout', { initialValue: defaultValue.timeout||0 }]"}],attrs:{placeholder:"请输入",min:0,max:1e7}})],1):e._e(),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 支持跨域 "),n("idm-a-tooltip",{attrs:{title:"设置支持跨域仅仅是允许此api支持客户端跨域，但要实现跨域支持请确认服务端请求地址是否支持跨域"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["crossOrigin",{valuePropName:"checked",initialValue:e.defaultValue.crossOrigin||!0}],expression:"['crossOrigin',{\n              valuePropName: 'checked',\n          initialValue:defaultValue.crossOrigin||true\n        }]"}]})],1):e._e(),"1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s("4"==e.form.getFieldValue("type")?"SQL参数":"请求参数")+" "),n("idm-a-tooltip",{attrs:{title:("4"==e.form.getFieldValue("type")?"请根据SQL语句中的问号数量按需填写参数，否则将执行失败，请注意参数的顺序。":"请求地址所需要的参数，支持IDM表达式的方式。")+"例如：此处填写(举例url中有abc=123的参数) @[url('abc')+'---'+abc]，组件传递了 {abc:4567} ，则这里替换后则为 123---4567"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["paramJson",{initialValue:e.defaultValue.paramJson}],expression:"[\n            'paramJson',\n            {\n              initialValue:defaultValue.paramJson,\n            }\n          ]"}],staticStyle:{display:"none"}}),n("draggable",{attrs:{tag:"div","chosen-class":"idmcore-datasource-param-ghost","force-fallback":"true",animation:"300",group:"param",handle:".handle"},on:{start:function(t){e.paramSelectDrag=!0},end:function(t){e.paramSelectDrag=!1}},model:{value:e.paramJson,callback:function(t){e.paramJson=t},expression:"paramJson"}},[n("transition-group",e._l(e.paramJson,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[n("svg-icon",{staticClass:"handle",attrs:{"icon-class":"listdrag-icon"}})],1),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{style:{width:"4"==e.form.getFieldValue("type")?"90px":"130px"},attrs:{placeholder:"name"},on:{change:function(t){return e.paramChange()}},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{style:{width:"4"==e.form.getFieldValue("type")?"220px":"300px","flex-shrink":0}},["1"==t.valueType?n("idm-a-switch",{on:{change:function(t){return e.paramChange()}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):"2"==t.valueType?n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入表达式（示例：@[data.value]）"},on:{change:function(t){return e.paramChange()}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入字符串"},on:{change:function(t){return e.paramChange()}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}})],1),n("idm-a-select",{style:{width:"4"==e.form.getFieldValue("type")?"90px":"100px"},attrs:{allowClear:"",dropdownClassName:"idm_dev_theme","default-value":0},on:{change:function(t){return e.paramChange()}},model:{value:t.valueType,callback:function(n){e.$set(t,"valueType",n)},expression:"element.valueType"}},[n("idm-a-select-option",{attrs:{value:0}},[e._v("字符串")]),n("idm-a-select-option",{attrs:{value:1}},[e._v("布尔")]),n("idm-a-select-option",{attrs:{value:2}},[e._v("表达式")])],1),"4"==e.form.getFieldValue("type")?n("idm-a-select",{staticStyle:{width:"120px"},attrs:{allowClear:"",dropdownClassName:"idm_dev_theme","default-value":0},on:{change:function(t){return e.paramChange()}},model:{value:t.paramType,callback:function(n){e.$set(t,"paramType",n)},expression:"element.paramType"}},e._l(e.paramTypeArray,(function(t){return n("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1):e._e(),n("div",{on:{click:function(t){return e.deleteListRow("paramJson",r)}}},[n("svg-icon",{attrs:{"icon-class":"delete-icon"}})],1)],1)])})),0)],1),n("div",[n("idm-a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.pushNewRow("paramJson")}}},[e._v("添加")])],1)],1):e._e(),"1"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 请求头信息 "),n("idm-a-tooltip",{attrs:{title:"如果参数值为IDM表达式则支持动态获取非固定值。例如：此处填写(举例url中有abc=123的参数) @[url('abc')+'---'+abc]，组件传递了 {abc:4567} ，则这里替换后则为 123---4567"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["headerJson",{initialValue:e.defaultValue.headerJson}],expression:"[\n            'headerJson',\n            {\n              initialValue:defaultValue.headerJson,\n            }\n          ]"}],staticStyle:{display:"none"}}),n("draggable",{attrs:{tag:"div","chosen-class":"idmcore-datasource-param-ghost","force-fallback":"true",animation:"300",group:"header",handle:".handle"},on:{start:function(t){e.paramSelectDrag=!0},end:function(t){e.paramSelectDrag=!1}},model:{value:e.headerJson,callback:function(t){e.headerJson=t},expression:"headerJson"}},[n("transition-group",e._l(e.headerJson,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[n("svg-icon",{staticClass:"handle",attrs:{"icon-class":"listdrag-icon"}})],1),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{staticStyle:{width:"300px","flex-shrink":"0"}},["1"==t.valueType?n("idm-a-switch",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):"2"==t.valueType?n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入表达式（示例：@[data.value]）"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入字符串"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}})],1),n("idm-a-select",{staticStyle:{width:"100px"},attrs:{allowClear:"",dropdownClassName:"idm_dev_theme","default-value":0},model:{value:t.valueType,callback:function(n){e.$set(t,"valueType",n)},expression:"element.valueType"}},[n("idm-a-select-option",{attrs:{value:0}},[e._v("字符串")]),n("idm-a-select-option",{attrs:{value:1}},[e._v("布尔")]),n("idm-a-select-option",{attrs:{value:2}},[e._v("表达式")])],1),n("div",{on:{click:function(t){return e.deleteListRow("headerJson",r)}}},[n("svg-icon",{attrs:{"icon-class":"delete-icon"}})],1)],1)])})),0)],1),n("div",[n("idm-a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.pushNewRow("headerJson")}}},[e._v("添加")])],1)],1):e._e(),n("idm-a-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.form.getFieldValue("type"),expression:"form.getFieldValue('type')=='2'"}],attrs:{label:"响应数据","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["resultJson",{initialValue:e.defaultValue.resultJson}],expression:"[\n            'resultJson',\n            {\n              initialValue:defaultValue.resultJson,\n            }\n          ]"}],staticStyle:{display:"none"}}),"2"==e.form.getFieldValue("type")?n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"200px"}},[n("MonacoEditor",{ref:"resultJson",attrs:{language:"json",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.jsonEditorLoaded,codeChange:function(t){return e.transformAllContentToForm("resultJson")}}})],1):e._e()],1),"4"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 驱动名称 "),n("idm-a-tooltip",{attrs:{title:"设置要使用的数据库链接驱动名称，如果为空则使用默认的"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbName",{initialValue:e.defaultValue.dbName}],expression:"[\n            'dbName',\n            {\n              initialValue:defaultValue.dbName,\n            }\n          ]"}],attrs:{placeholder:"请输入"}})],1):e._e(),n("idm-a-form-item",{directives:[{name:"show",rawName:"v-show",value:"4"==e.form.getFieldValue("type"),expression:"form.getFieldValue('type')=='4'"}],attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" SQL语句 "),n("idm-a-tooltip",{attrs:{title:"sql语句支持表达式和参数的方式，一般情况不建议在此处使用表达式进行替换，建议使用参数的方式"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbSql",{initialValue:e.defaultValue.dbSql}],expression:"[\n            'dbSql',\n            {\n              initialValue:defaultValue.dbSql,\n            }\n          ]"}],staticStyle:{display:"none"}}),"4"==e.form.getFieldValue("type")?n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"200px"}},[n("MonacoEditor",{ref:"resultSql",attrs:{language:"sql",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.sqlEditorLoaded,codeChange:function(t){return e.transformAllContentToForm("resultSql")}}})],1):e._e()],1),"3"==e.form.getFieldValue("type")||"5"==e.form.getFieldValue("type")?n("idm-a-form-item",{attrs:{label:"3"==e.form.getFieldValue("type")?"JSON文件":"CSV文件","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["file_name",{initialValue:e.defaultValue.file_name,valuePropName:"fileList",rules:[]}],expression:"[\n            'file_name',\n            {\n              initialValue:defaultValue.file_name,\n              valuePropName: 'fileList',\n              rules: [],\n            },\n          ]"}],attrs:{"list-type":"text",accept:"3"==e.form.getFieldValue("type")?".json":".csv",customRequest:function(t){return e.uploadFileHandle(t,"file_name")}},on:{preview:e.handlePreview,change:function(t){return e.uploadFileChange(t,"file_name")}}},[n("idm-a-button",[n("idm-a-icon",{attrs:{type:"upload"}}),e._v(" 点击上传 ")],1)],1)],1):e._e(),n("idm-a-form-item",{directives:[{name:"show",rawName:"v-show",value:"6"==e.form.getFieldValue("type"),expression:"form.getFieldValue('type')=='6'"}],attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 数据模型 "),n("idm-a-tooltip",{attrs:{title:"可直接选择数据模型中缓存下拉的数据作为数据使用，无需传任何参数。"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1)],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["datamodelId",{initialValue:e.defaultValue.datamodelId}],expression:"[\n            'datamodelId',\n            {\n              initialValue:defaultValue.datamodelId,\n            }\n          ]"}],staticStyle:{display:"none"}}),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["datamodelName",{initialValue:e.defaultValue.datamodelName}],expression:"[\n            'datamodelName',\n            {\n              initialValue:defaultValue.datamodelName,\n            }\n          ]"}],staticStyle:{display:"none"}}),n("div",{staticClass:"idm-datamodel-selbox"},[e.form.getFieldValue("datamodelName")?n("idm-a-tag",[e._v(" "+e._s(e.form.getFieldValue("datamodelName"))+" ")]):e._e(),n("idm-a-tag",{staticStyle:{borderStyle:"dashed"},on:{click:e.addModelClick}},[n("idm-a-icon",{attrs:{type:"plus"}}),e._v(" "+e._s(e.form.getFieldValue("datamodelName")?"重新":"")+"选择 ")],1)],1)],1),n("idm-a-form-item",{attrs:{label:"数据处理函数","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["functionParam",{initialValue:e.defaultValue.functionParam}],expression:"[\n              'functionParam',\n              {\n                initialValue:defaultValue.functionParam,\n              }\n            ]"}],staticStyle:{display:"none"}}),"1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")?n("div",{staticClass:"monacoeditor-box-title"},[e._v("请求前对参数的处理函数 "),n("idm-a-tooltip",{attrs:{title:"处理函数如果执行失败将起不到任何效果"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),n("a",{staticStyle:{"margin-left":"20px"},on:{click:function(t){e.customFunctionVisible.one=!e.customFunctionVisible.one}}},[e._v(e._s(e.customFunctionVisible.one?"折叠":"展开"))])],1):e._e(),"1"!=e.form.getFieldValue("type")&&"4"!=e.form.getFieldValue("type")||!e.customFunctionVisible.one?e._e():n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"200px"}},[n("MonacoEditor",{ref:"resultJavascriptParam",attrs:{language:"javascript",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.javascriptParamEditorLoaded,codeChange:function(t){return e.transformAllContentToForm("resultJavascriptParam")}}})],1),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["functionResult",{initialValue:e.defaultValue.functionResult}],expression:"[\n              'functionResult',\n              {\n                initialValue:defaultValue.functionResult,\n              }\n            ]"}],staticStyle:{display:"none"}}),n("div",{staticClass:"monacoeditor-box-title"},[e._v(e._s("1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")||"6"==e.form.getFieldValue("type")?"请求成功对结果的处理函数":"结果处理函数")+" "),n("idm-a-tooltip",{attrs:{title:"处理函数如果执行失败将起不到任何效果"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),n("a",{staticStyle:{"margin-left":"20px"},on:{click:function(t){e.customFunctionVisible.two=!e.customFunctionVisible.two}}},[e._v(e._s(e.customFunctionVisible.two?"折叠":"展开"))])],1),e.customFunctionVisible.two?n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"200px"}},[n("MonacoEditor",{ref:"resultJavascriptResult",attrs:{language:"javascript",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.javascriptResultEditorLoaded,codeChange:function(t){return e.transformAllContentToForm("resultJavascriptResult")}}})],1):e._e(),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["functionError",{initialValue:e.defaultValue.functionError}],expression:"[\n              'functionError',\n              {\n                initialValue:defaultValue.functionError,\n              }\n            ]"}],staticStyle:{display:"none"}}),n("idm-a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["debugResult",{initialValue:e.defaultValue.debugResult}],expression:"[\n              'debugResult',\n              {\n                initialValue:defaultValue.debugResult,\n              }\n            ]"}],staticStyle:{display:"none"}}),"1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")||"6"==e.form.getFieldValue("type")?n("div",{staticClass:"monacoeditor-box-title"},[e._v("请求失败对异常的处理函数 "),n("idm-a-tooltip",{attrs:{title:"处理函数如果执行失败将起不到任何效果"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),n("a",{staticStyle:{"margin-left":"20px"},on:{click:function(t){e.customFunctionVisible.three=!e.customFunctionVisible.three}}},[e._v(e._s(e.customFunctionVisible.three?"折叠":"展开"))])],1):e._e(),"1"!=e.form.getFieldValue("type")&&"4"!=e.form.getFieldValue("type")&&"6"!=e.form.getFieldValue("type")||!e.customFunctionVisible.three?e._e():n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"200px"}},[n("MonacoEditor",{ref:"resultJavascriptError",attrs:{language:"javascript",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.javascriptErrorEditorLoaded,codeChange:function(t){return e.transformAllContentToForm("resultJavascriptError")}}})],1)],1)],1)],1),n("idm-a-modal",{attrs:{wrapClassName:"idm_dev_modal",bodyStyle:{padding:0},centered:!0,width:"800px",footer:null,title:"接口描述"},model:{value:e.moduleIntelfaceVisible,callback:function(t){e.moduleIntelfaceVisible=t},expression:"moduleIntelfaceVisible"}},[n("idm-a-tabs",{attrs:{"default-active-key":0}},e._l(e.form.getFieldValue("moduleArray"),(function(t,r){return n("idm-a-tab-pane",{key:r,attrs:{tab:t.label,"force-render":""}},[n("div",{staticClass:"scrollbar_style",staticStyle:{height:"500px",overflow:"auto",padding:"20px"}},[e.getIntelfaceInfo(t.key)?n("div",{domProps:{innerHTML:e._s(e.getIntelfaceInfo(t.key))}}):n("idm-a-empty",{attrs:{description:"暂无接口描述"}})],1)])})),1)],1),n("idm-a-modal",{attrs:{wrapClassName:"idm_dev_modal",centered:!0,width:"1000px",title:"数据源调试",okText:"测试",cancelText:"关闭",destroyOnClose:""},on:{ok:e.debugDataSourceTest},model:{value:e.intelfaceDebugVisible,callback:function(t){e.intelfaceDebugVisible=t},expression:"intelfaceDebugVisible"}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"footer"},slot:"footer"},[n("div",{staticStyle:{color:"red","line-height":"32px"}},[e._v(" 温馨提示：数据源保存会记录最后一次调试结果以作用于组件能快速选择要展示的结果属性。 ")]),n("div",[n("idm-a-button",{key:"back",on:{click:function(t){e.intelfaceDebugVisible=!1}}},[e._v(" 关闭 ")]),n("idm-a-button",{key:"submit",attrs:{loading:e.testLoading,type:"primary"},on:{click:e.debugDataSourceTest}},[e._v(" 测试 ")])],1)]),n("div",{staticClass:"idmcore-datasource-debugbox"},["1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")?n("div",{staticClass:"scrollbar_style",staticStyle:{height:"60vh",width:"50%",overflow:"auto"}},[n("div",{staticClass:"idd-title"},[e._v("请求参数 "),n("idm-a-tooltip",{attrs:{title:"请求参数中的值类型如果为表达式则需要自行替换实际接口需要的值文本，调试过程中不会对参数进行表达式转换"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1),n("div",e._l(e.paramJson_debug,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[e._v(" "+e._s(r+1)+" ")]),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{disabled:"",placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{staticStyle:{width:"260px","flex-shrink":"0"}},["1"==t.valueType?n("idm-a-switch",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):(t.valueType,n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入参数值"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}))],1)],1)])})),0),e.paramJson_debug.length?e._e():n("div",{staticStyle:{"text-align":"center"}},[n("idm-a-empty",{attrs:{description:"暂无请求参数"}})],1),"1"==e.form.getFieldValue("type")?n("div",{staticClass:"idd-title",staticStyle:{"padding-top":"10px"}},[e._v("请求头信息 "),n("idm-a-tooltip",{attrs:{title:"请求头信息中的值类型如果为表达式则需要自行替换实际接口需要的值文本，调试过程中不会对请求头信息进行表达式转换"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1):e._e(),"1"==e.form.getFieldValue("type")?n("div",[e._l(e.headerJson_debug,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[e._v(" "+e._s(r+1)+" ")]),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{disabled:"",placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{staticStyle:{width:"260px","flex-shrink":"0"}},["1"==t.valueType?n("idm-a-switch",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):(t.valueType,n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入参数值"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}))],1)],1)])})),e.headerJson_debug.length?e._e():n("div",{staticStyle:{"text-align":"center"}},[n("idm-a-empty",{attrs:{description:"暂无请求头信息"}})],1)],2):e._e()]):e._e(),n("div",{style:"1"==e.form.getFieldValue("type")||"4"==e.form.getFieldValue("type")?"width: 49%;":"width: 100%;"},[n("div",{staticClass:"idd-title"},[e._v("调试结果 "),n("idm-a-tooltip",{attrs:{title:"调试结果并非数据源直接返回的结果，此处显示的结果是经过了数据处理函数格式化后显示的结果"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1),n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"calc(60vh - 34px)"}},[n("MonacoEditor",{ref:"resultJSONDebug",attrs:{language:"json",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.javascriptDebugEditorLoaded}})],1)])])]),n("idm-a-modal",{attrs:{wrapClassName:"idm_dev_modal idm_module_md_preview_modal",centered:!0,width:"700px",title:"数据模型选择",footer:null,destroyOnClose:""},model:{value:e.dataModelSelectVisible,callback:function(t){e.dataModelSelectVisible=t},expression:"dataModelSelectVisible"}},[n("div",{staticClass:"idm-page-select-popover"},[n("div",{staticClass:"idm-page-select-search"},[n("idm-a-select",{staticStyle:{width:"100px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.TYPE,callback:function(t){e.$set(e.conditionValue,"TYPE",t)},expression:"conditionValue.TYPE"}},e._l(e.DataModelConditionType,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"",allowClear:"",dropdownClassName:"idm_dev_theme"},on:{change:e.handleChange},model:{value:e.conditionValue.GROUP_ID,callback:function(t){e.$set(e.conditionValue,"GROUP_ID",t)},expression:"conditionValue.GROUP_ID"}},e._l(e.DataModelConditionGroup,(function(t,r){return n("idm-a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),1),n("idm-a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词"},on:{search:e.handleChange},model:{value:e.conditionValue.searchText,callback:function(t){e.$set(e.conditionValue,"searchText",t)},expression:"conditionValue.searchText"}})],1),n("div",{staticClass:"idm-page-select-content scrollbar_style",on:{scroll:e.scrollHandle}},[e._l(e.resultList,(function(t,r){return n("div",{key:r,staticClass:"idm-page-select-content-item",on:{click:function(n){return e.selectDataModel(t)}}},[n("div",{staticClass:"idm-psc-item-inner",class:{active:e.hasCheck(t)}},[n("div",[n("div",{staticClass:"idm-psc-item-inner-title"},[n("label",[e._v(e._s(t.title))]),n("idm-a-tag",{attrs:{color:e.tagColorArray[t.type]}},[e._v(" "+e._s(e.DataModelConditionType.filter((function(e){return e.value==t.type})).length?e.DataModelConditionType.filter((function(e){return e.value==t.type}))[0].text:"")+" ")]),n("idm-a-tag",{attrs:{color:"blue"}},[e._v(" "+e._s(e.DataModelConditionGroup.filter((function(e){return e.value==t.groupId})).length?e.DataModelConditionGroup.filter((function(e){return e.value==t.groupId}))[0].text:"")+" ")]),n("idm-a-tag",[e._v(" "+e._s("0"==t.shareType?"私有":"共享")+" ")])],1),n("div",{staticClass:"idm-psc-item-inner-desc",staticStyle:{height:"auto","max-height":"46px"}},[e._v(" "+e._s(t.remark)+" ")])]),n("svg-icon",{staticClass:"rb-select-icon",attrs:{"icon-class":"rb-select-icon"}})],1)])})),n("div",{staticClass:"idm-page-select-content-loading",staticStyle:{"text-align":"center",padding:"20px 0px"}},[e.loading?n("idm-a-spin"):e._e(),e._v(" "+e._s(e.loadEnd?0==e.resultList.length?"暂无数据":"没有更多了":"")+" ")],1)],2)])])],1)}),Ai=[],hi={name:"DataSourceForm",components:{MonacoEditor:Kn},data:function(){return{paramTypeArray:["STRING","INTEGER","CHAR","BOOLEAN","DATE","DATE_TIME","NUMERIC","BINARY","BLOB","BIT","CLOB","FLOAT","OTHER"],paramEdit:!1,moduleIntelfaceVisible:!1,intelfaceDebugVisible:!1,dataModelSelectVisible:!1,tagsList:["{}","[]","[{}]"],paramJson:[],headerJson:[],refreshJson:[],paramSelectDrag:!1,customFunctionVisible:{one:!1,two:!1,three:!1},paramJson_debug:[],headerJson_debug:[],testLoading:!1,tagColorArray:["","#108ee9","#fdc500","#2dd300","#4250ff"],DataModelConditionType:IDM.setting.develop.dataModelConditionType instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataModelConditionType):[],DataModelConditionGroup:IDM.setting.develop.dataModelConditionGroup instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataModelConditionGroup):[],CodeTreeData:IDM.setting.develop.dataSourceDirectoryTree instanceof Array?IDM.setting.develop.dataSourceDirectoryTree:[],resultList:[],totalCount:0,conditionValue:{pageIndex:1,pageSize:10,TYPE:"",GROUP_ID:"",searchText:""},loading:!1,loadEnd:!1}},props:{visible:{type:Boolean,default:!1},defaultValue:{type:Object},ConditionGroup:{type:Array,default:function(){return[]}},ConditionType:{type:Array,default:function(){return[]}},ConditionModuleList:{type:Array,default:function(){return[]}},ConditionProductList:{type:Array,default:function(){return[]}}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"form_in_modal_ds"}),this.form.getFieldValue("type")||this.form.setFieldsValue({type:"1"}),this.form.getFieldValue("shareType")||this.form.setFieldsValue({shareType:"1"}),this.form.getFieldValue("loadType")||this.form.setFieldsValue({loadType:"0"}),this.form.getFieldValue("remark")||this.form.setFieldsValue({remark:""}),this.form.getFieldValue("groupId")||this.form.setFieldsValue({groupId:""}),this.form.getFieldValue("codeId")||this.form.setFieldsValue({codeId:""}),this.form.getFieldValue("datamodelId")||this.form.setFieldsValue({datamodelId:""}),this.form.getFieldValue("title")||this.form.setFieldsValue({title:""}),this.form.getFieldValue("author")||this.form.setFieldsValue({author:""}),this.form.getFieldValue("moduleArray")||this.form.setFieldsValue({moduleArray:[]}),this.form.getFieldValue("productArray")||this.form.setFieldsValue({productArray:[]}),this.form.getFieldValue("tags")||this.form.setFieldsValue({tags:[]}),this.form.getFieldValue("api")||this.form.setFieldsValue({api:""}),this.form.getFieldValue("requestType")||this.form.setFieldsValue({requestType:"GET"}),this.form.getFieldValue("timeout")||this.form.setFieldsValue({timeout:0}),this.form.getFieldValue("itemIndex")||this.form.setFieldsValue({itemIndex:1}),this.form.getFieldValue("crossOrigin")&&!1!==this.form.getFieldValue("crossOrigin")||this.form.setFieldsValue({crossOrigin:!1}),this.form.getFieldValue("resultJson")||this.form.setFieldsValue({resultJson:"{}"}),this.form.getFieldValue("dbName")||this.form.setFieldsValue({dbName:""}),this.form.getFieldValue("dbSql")||this.form.setFieldsValue({dbSql:"SELECT"}),this.form.getFieldValue("file_name")||this.form.setFieldsValue({file_name:""}),this.form.getFieldValue("functionParam")||this.form.setFieldsValue({functionParam:"function (options){\n\treturn options;\n}"}),this.form.getFieldValue("functionResult")||this.form.setFieldsValue({functionResult:"function (res){\n\treturn res.data;\n}"}),this.form.getFieldValue("functionError")||this.form.setFieldsValue({functionError:"function (err){\n\n}"})},created:function(){var e=this;IDM.develop.cacheData.DataModelConditionGroupList||"string"!=IDM.type(IDM.setting.develop.dataModelConditionGroup)?"string"==IDM.type(IDM.setting.develop.dataModelConditionGroup)&&(this.DataModelConditionGroup=IDM.develop.cacheData.DataModelConditionGroupList):IDM.http.get(IDM.setting.develop.dataModelConditionGroup).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataModelConditionGroupList=n,e.DataModelConditionGroup=n})),IDM.develop.cacheData.DataModelConditionTypeList||"string"!=IDM.type(IDM.setting.develop.dataModelConditionType)?"string"==IDM.type(IDM.setting.develop.dataModelConditionType)&&(this.DataModelConditionType=IDM.develop.cacheData.DataModelConditionTypeList):IDM.http.get(IDM.setting.develop.dataModelConditionType).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataModelConditionTypeList=n,e.DataModelConditionType=n})),IDM.develop.cacheData.DataSourceDirectoryTree||"string"!=IDM.type(IDM.setting.develop.dataSourceDirectoryTree)?"string"==IDM.type(IDM.setting.develop.dataSourceDirectoryTree)&&(this.CodeTreeData=IDM.develop.cacheData.DataSourceDirectoryTree):IDM.http.get(IDM.setting.develop.dataSourceDirectoryTree).then((function(t){var n=[];200==t.data.code&&(n=t.data.data.codeList),IDM.develop.cacheData.DataSourceDirectoryTree=n,e.CodeTreeData=n}))},activated:function(){},mounted:function(){},computed:Object(a["a"])(Object(a["a"])({},Object(U["c"])({developCurrentThemeKey:function(e){return e.developCurrentThemeKey}})),{},{formItemLayout:function(){this.formLayout;return{labelCol:{span:4},wrapperCol:{span:20}}}}),destroyed:function(){},methods:{scrollHandle:function(e){e.target.scrollHeight-e.target.scrollTop-e.target.clientHeight<=100&&(this.loading||this.loadEnd||(this.conditionValue.pageIndex=this.conditionValue.pageIndex+1,this.loadData()))},addModelClick:function(){1==this.conditionValue.pageIndex&&this.handleChange(),this.dataModelSelectVisible=!0},handleChange:function(){this.conditionValue.pageIndex=1,this.loadEnd=!1,this.loadData(!0)},loadData:function(e){var t=this;if((IDM.setting.api.dataModelFetchListApi||IDM.setting.mockurl.dataModelFetchListApi)&&!t.loading){e&&(t.resultList=[]),t.loading=!0;var n={pageIndex:this.conditionValue.pageIndex,pageSize:this.conditionValue.pageSize,searchText:this.conditionValue.searchText};this.conditionValue.TYPE&&(n["TYPE"]=this.conditionValue.TYPE),this.conditionValue.GROUP_ID&&(n["GROUP_ID"]=this.conditionValue.GROUP_ID),IDM.http.get(IDM.setting.api.dataModelFetchListApi||IDM.setting.mockurl.dataModelFetchListApi,n).then((function(e){e&&e.data&&"200"==e.data.code&&e.data.data&&e.data.data.rows&&(e.data.data.rows.length<t.conditionValue.pageSize&&(t.loadEnd=!0),t.resultList=t.resultList.concat(e.data.data.rows),t.totalCount=e.data.data.total),t.loading=!1})).catch((function(e){IDM.message.error(e.message),t.loading=!1}))}},hasCheck:function(e){var t=!1,n=this.form.getFieldValue("datamodelId");return n?(n instanceof Array||(n=[n]),n==e.id&&(t=!0),t):t},selectDataModel:function(e){this.form.setFieldsValue({datamodelId:e.id,datamodelName:e.title}),this.dataModelSelectVisible=!1},debugDataSourceTest:function(){var e=this,t=this.form.getFieldsValue();t.paramJson_debug=this.paramJson_debug,t.headerJson_debug=this.headerJson_debug,this.defaultValue.isEditInfo&&(t.dataSourceId=this.defaultValue.id),this.testLoading=!0;var n=IDM.datasource.debug(t,(function(t){e.testLoading=!1,e.$refs.resultJSONDebug&&e.$refs.resultJSONDebug.setContent(JSON.stringify(t)),e.changeSetFormValue("debugResult",JSON.stringify(t),0),IDM.message.success("测试成功！关闭后再次保存数据源此次调试结果才会被保存。")}),(function(t){IDM.message.error("测试失败！"+t.message),e.testLoading=!1}));!1===n&&(e.testLoading=!1)},javascriptDebugEditorLoaded:function(){},debugDataSource:function(){this.testLoading=!1,this.intelfaceDebugVisible=!0,this.paramJson_debug=_.cloneDeep(this.paramJson),this.headerJson_debug=_.cloneDeep(this.headerJson),"1"!=this.form.getFieldValue("type")&&"4"!=this.form.getFieldValue("type")&&this.$nextTick((function(){this.debugDataSourceTest()}))},typeChange:function(){this.customFunctionVisible.one=!1,this.customFunctionVisible.two=!1,this.customFunctionVisible.three=!1},paramChange:function(){this.paramEdit=!0},moduleChange:function(e,t){var n=this,r=e&&e.length?e[e.length-1]:null;if(r&&!this.defaultValue.isEditInfo&&!this.paramEdit){var i=this.getIntelfaceInfo(r.key,"interfaceParamJson");if(i){var o=[];try{o=JSON.parse(i)}catch(a){}this.paramJson=[],o.forEach((function(e){n.paramJson.push({name:e.keyName,value:1==e.keyType?"true"==e.keyVal||"1"==e.keyVal:e.keyVal,valueType:e.keyType||0})})),this.form.setFieldsValue({paramJson:JSON.stringify(this.paramJson)})}}},getIntelfaceInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"interfaceInfo",n="";if(this.ConditionModuleList&&this.ConditionModuleList.length&&this.ConditionModuleList[0].groupId)this.ConditionModuleList.forEach((function(r){r.componentList&&r.componentList.forEach((function(r){r.value!=e&&r.comId!=e||(n=r[t])}))}));else{var r=this.ConditionModuleList.filter((function(t){return t.value==e||t.comId==e}));n=r&&r.length?r[0][t]:""}return n},openModuleIntelfaceInfo:function(){this.moduleIntelfaceVisible=!0},handlePreview:function(e){if(e.content){var t=document.createElement("a");t.download=e.name,t.style.display="none";var n=new Blob([e.content],{type:"application/"+e.name.split(".")[e.name.split(".").length-1]}),r=URL.createObjectURL(n);t.href=r,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(r)}else window.open(IDM.url.getWebPath(e.src))},deleteListRow:function(e,t){"paramJson"==e&&(this.paramEdit=!0),this[e].splice(t,1),this.form.setFieldsValue(Object(J["a"])({},e,JSON.stringify(this[e])))},pushNewRow:function(e){"paramJson"==e&&(this.paramEdit=!0),"refreshJson"==e?this[e].push({key:"",desc:""}):this[e].push({name:"",value:"",valueType:0}),this.form.setFieldsValue(Object(J["a"])({},e,JSON.stringify(this[e])))},endSort:function(){this.drag=!1},transformAllContentToForm:function(e){var t=this.$refs.resultJson&&this.$refs.resultJson.getContent(),n=this.$refs.resultSql&&this.$refs.resultSql.getContent(),r=this.$refs.resultJavascriptError&&this.$refs.resultJavascriptError.getContent(),i=this.$refs.resultJavascriptResult&&this.$refs.resultJavascriptResult.getContent(),o=this.$refs.resultJavascriptParam&&this.$refs.resultJavascriptParam.getContent();console.log("🚀 ~ file: DataSourceForm.vue ~ line 865 ~ transformAllContentToForm ~ functionParam",o),"resultJson"==e&&this.changeSetFormValue("resultJson",t,0),"resultSql"==e&&this.changeSetFormValue("dbSql",n,0),"resultJavascriptError"==e&&this.changeSetFormValue("functionError",r,0),"resultJavascriptResult"==e&&this.changeSetFormValue("functionResult",i,0),"resultJavascriptParam"==e&&this.changeSetFormValue("functionParam",o,0)},jsonEditorLoaded:function(e){var t=this.defaultValue.isEditInfo&&!0===e?this.defaultValue.resultJson:this.form.getFieldValue("resultJson");console.log("🚀 ~ file: DataSourceForm.vue ~ line 875 ~ jsonEditorLoaded ~ this.form.getFieldValue",this.form.getFieldValue("resultJson"),t,e),this.$refs.resultJson&&this.$refs.resultJson.setContent(t)},sqlEditorLoaded:function(e){var t=this.defaultValue.isEditInfo&&!0===e?this.defaultValue.dbSql:this.form.getFieldValue("dbSql");this.$refs.resultSql&&this.$refs.resultSql.setContent(t)},javascriptParamEditorLoaded:function(e){var t=this.defaultValue.isEditInfo&&!0===e?this.defaultValue.functionParam:this.form.getFieldValue("functionParam");this.$refs.resultJavascriptParam&&this.$refs.resultJavascriptParam.setContent(t)},javascriptResultEditorLoaded:function(e){var t=this.defaultValue.isEditInfo&&!0===e?this.defaultValue.functionResult:this.form.getFieldValue("functionResult");this.$refs.resultJavascriptResult&&this.$refs.resultJavascriptResult.setContent(t)},javascriptErrorEditorLoaded:function(e){var t=this.defaultValue.isEditInfo&&!0===e?this.defaultValue.functionError:this.form.getFieldValue("functionError");this.$refs.resultJavascriptError&&this.$refs.resultJavascriptError.setContent(t)},editorLayoutReset:function(){this.$nextTick((function(e){this.$refs.editor&&this.$refs.editor.layout()}))},uploadFileChange:function(e,t){var n=e.file,r=e.fileList,i=this.form.getFieldValue(t)||[];this.fileList=r,n&&"removed"==n.status&&(i&&i.forEach((function(e,t){var n=r.filter((function(t){return t.uid==e.uid}));(!n||n&&0==n.length)&&i.splice(t,1)})),this.changeSetFormValue(t,i))},uploadFileHandle:function(e,t){console.log("🚀 ~ file: IControlSettingPanel.vue ~ line 736 ~ uploadFileHandle ~ file",e);var n=this,r={uid:(new Date).getTime()+IDM.uuid(),name:e.file.name,status:"uploading"},i=_.cloneDeep(this.form.getFieldValue(t))||[];i instanceof Array&&i.push(r),n.changeSetFormValue(t,i);var o=Object(a["a"])(Object(a["a"])({},IDM.setting.webRoot),{},{getFileContent:1});IDM.http.upload(IDM.setting.api.uploadFileServerUrl,e.file,o).then((function(e){var o=e.data.data;r.status="done",r.url=IDM.url.getWebPath(o.filePath),r.ourl=o.filePath,r.src=r.ourl,r.size=o.fileSize,r.width=o.imageWidth,r.height=o.imageHeight,r.content=o.fileContent,n.changeSetFormValue(t,i)})).catch((function(e){r.status="error"}))},changeSetFormValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r={};r[e]=_.cloneDeep(t);var i=this;setTimeout((function(){i.form.setFieldsValue(r)}),n)},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}},watch:{defaultValue:{handler:function(){this.form.setFieldsValue({type:this.defaultValue.type||"1",title:this.defaultValue.title||"",author:this.defaultValue.author||"",remark:this.defaultValue.remark||"",groupId:this.defaultValue.groupId||"",codeId:this.defaultValue.codeId||"",datamodelId:this.defaultValue.datamodelId||"",datamodelName:this.defaultValue.datamodelName||"",shareType:this.defaultValue.shareType||"1",loadType:this.defaultValue.loadType||"0",moduleArray:this.defaultValue.moduleArray||[],productArray:this.defaultValue.productArray||[],tags:this.defaultValue.tags||[],api:this.defaultValue.api||"",requestType:this.defaultValue.requestType||"GET",timeout:this.defaultValue.timeout||0,itemIndex:this.defaultValue.itemIndex||1,crossOrigin:!0===this.defaultValue.crossOrigin,resultJson:this.defaultValue.resultJson||"{}",dbName:this.defaultValue.dbName||"",dbSql:this.defaultValue.dbSql||"SELECT ",file_name:this.defaultValue.file_name||"",functionParam:this.defaultValue.functionParam||"function (options){\n\treturn options;\n}",functionResult:this.defaultValue.functionResult||"function (res){\n\treturn res.data;\n}",functionError:this.defaultValue.functionError||"function (err){\n\n}",debugResult:this.defaultValue.debugResult||""}),this.jsonEditorLoaded(!0),this.sqlEditorLoaded(!0),this.javascriptParamEditorLoaded(!0),this.javascriptResultEditorLoaded(!0),this.javascriptErrorEditorLoaded(!0),this.paramJson=this.defaultValue.paramJson?JSON.parse(this.defaultValue.paramJson):[],this.headerJson=this.defaultValue.headerJson?JSON.parse(this.defaultValue.headerJson):[],this.refreshJson=this.defaultValue.refreshJson?JSON.parse(this.defaultValue.refreshJson):[]},deep:!0},paramJson:{handler:function(){this.form.setFieldsValue({paramJson:JSON.stringify(this.paramJson)})},deep:!0},headerJson:{handler:function(){this.form.setFieldsValue({headerJson:JSON.stringify(this.headerJson)})},deep:!0},refreshJson:{handler:function(){this.form.setFieldsValue({refreshJson:JSON.stringify(this.refreshJson)})},deep:!0}}},pi=hi,mi=Object(b["a"])(pi,fi,Ai,!1,null,"01f62838",null),gi=mi.exports,vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("idm-a-modal",{attrs:{wrapClassName:"idm_dev_modal",centered:!0,width:"1000px",visible:e.visible,title:"数据源调试",okText:"测试",cancelText:"关闭",destroyOnClose:""},on:{cancel:function(){e.$emit("cancel")}}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"footer"},slot:"footer"},[n("div",{staticStyle:{color:"red","line-height":"32px"}},[e._v(" 温馨提示：数据源会自动记录最后一次调试结果以作用于组件能快速选择要展示的结果属性。 ")]),n("div",[n("idm-a-button",{key:"back",on:{click:function(){e.$emit("cancel")}}},[e._v(" 关闭 ")]),n("idm-a-button",{key:"submit",attrs:{loading:e.testLoading,type:"primary"},on:{click:e.debugDataSourceTest}},[e._v(" 测试 ")])],1)]),n("div",{staticClass:"idmcore-datasource-debugbox"},["1"==e.defaultValue.type||"4"==e.defaultValue.type?n("div",{staticClass:"scrollbar_style",staticStyle:{height:"60vh",width:"50%",overflow:"auto"}},[n("div",{staticClass:"idd-title"},[e._v("请求参数 "),n("idm-a-tooltip",{attrs:{title:"请求参数中的值类型如果为表达式则需要自行替换实际接口需要的值文本，调试过程中不会对参数进行表达式转换"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1),n("div",e._l(e.paramJson_debug,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[e._v(" "+e._s(r+1)+" ")]),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{disabled:"",placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{staticStyle:{width:"260px","flex-shrink":"0"}},["1"==t.valueType?n("idm-a-switch",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):(t.valueType,n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入参数值"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}))],1)],1)])})),0),e.paramJson_debug.length?e._e():n("div",{staticStyle:{"text-align":"center"}},[n("idm-a-empty",{attrs:{description:"暂无请求参数"}})],1),"1"==e.defaultValue.type?n("div",{staticClass:"idd-title",staticStyle:{"padding-top":"10px"}},[e._v("请求头信息 "),n("idm-a-tooltip",{attrs:{title:"请求头信息中的值类型如果为表达式则需要自行替换实际接口需要的值文本，调试过程中不会对请求头信息进行表达式转换"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1):e._e(),"1"==e.defaultValue.type?n("div",[e._l(e.headerJson_debug,(function(t,r){return n("div",{key:r,staticClass:"ds_form_item"},[n("div",{staticClass:"ds_form_item_handle"},[e._v(" "+e._s(r+1)+" ")]),n("div",{staticClass:"ds_form_item_content"},[n("idm-a-input",{staticStyle:{width:"130px"},attrs:{disabled:"",placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"element.name"}}),n("div",[e._v(":")]),n("div",{staticStyle:{width:"260px","flex-shrink":"0"}},["1"==t.valueType?n("idm-a-switch",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}):(t.valueType,n("idm-a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入参数值"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"element.value"}}))],1)],1)])})),e.headerJson_debug.length?e._e():n("div",{staticStyle:{"text-align":"center"}},[n("idm-a-empty",{attrs:{description:"暂无请求头信息"}})],1)],2):e._e()]):e._e(),n("div",{style:"1"==e.defaultValue.type||"4"==e.defaultValue.type?"width: 49%;":"width: 100%;"},[n("div",{staticClass:"idd-title"},[e._v("调试结果 "),n("idm-a-tooltip",{attrs:{title:"调试结果并非数据源直接返回的结果，此处显示的结果是经过了数据处理函数格式化后显示的结果"}},[n("idm-a-icon",{attrs:{type:"question-circle-o"}})],1),e._v("：")],1),n("div",{staticClass:"monacoeditor-box",staticStyle:{height:"calc(60vh - 34px)"}},[n("MonacoEditor",{ref:"resultJSONDebug",attrs:{language:"json",theme:"default"==e.developCurrentThemeKey?"vs":"vs-dark"},on:{mounted:e.javascriptDebugEditorLoaded}})],1)])])])},yi=[],bi={name:"DataSourceFormDebug",components:{MonacoEditor:Kn},data:function(){return{paramJson:[],headerJson:[],paramJson_debug:[],headerJson_debug:[],testLoading:!1}},props:{visible:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},beforeCreate:function(){},created:function(){},activated:function(){},mounted:function(){},computed:Object(a["a"])({},Object(U["c"])({developCurrentThemeKey:function(e){return e.developCurrentThemeKey}})),destroyed:function(){},methods:{debugDataSourceTest:function(){var e=this,t=_.cloneDeep(this.defaultValue);t.paramJson_debug=this.paramJson_debug,t.headerJson_debug=this.headerJson_debug,this.defaultValue.isEditInfo&&(t.dataSourceId=this.defaultValue.id),this.testLoading=!0;var n=IDM.datasource.debug(t,(function(n){e.testLoading=!1;var r=JSON.stringify(n);e.$refs.resultJSONDebug&&e.$refs.resultJSONDebug.setContent(r),e.$developApi.saveDataSourceData({id:t.id,editDebugData:"1",debugResult:r}).then((function(e){200==e.data.code?IDM.message.success("测试成功！此次调试结果已被保存。"):IDM.message.error("测试成功！此次调试结果保存失败！"+e.data.message)})).catch((function(e){"30001"==e.response.status?IDM.message.error("测试成功！但保存失败，请重新登录再回来操作！"):IDM.message.error("测试成功！但保存失败！"+e.message)}))}),(function(t){IDM.message.error("测试失败！"+t.message),e.testLoading=!1}));!1===n&&(e.testLoading=!1)},javascriptDebugEditorLoaded:function(){},debugDataSource:function(){this.testLoading=!1,this.paramJson_debug=_.cloneDeep(this.paramJson),this.headerJson_debug=_.cloneDeep(this.headerJson),"1"!=this.defaultValue.type&&"4"!=this.defaultValue.type&&this.$nextTick((function(){this.debugDataSourceTest()}))},getStyle:function(e,t){var n={};switch(e){case"root":break;default:break}return n}},watch:{defaultValue:{handler:function(){this.paramJson=this.defaultValue.paramJson?JSON.parse(this.defaultValue.paramJson):[],this.headerJson=this.defaultValue.headerJson?JSON.parse(this.defaultValue.headerJson):[],this.debugDataSource()},deep:!0}}},wi=bi,xi=Object(b["a"])(wi,vi,yi,!1,null,"e1313e6c",null),Ci=xi.exports,Si=[{title:"数据源类型",dataIndex:"type",key:"type",scopedSlots:{customRender:"type"}},{title:"数据源名称",dataIndex:"title",key:"title"},{title:"所属分组",dataIndex:"groupId",key:"groupId",scopedSlots:{customRender:"groupId"}},{title:"描述",dataIndex:"remark",key:"remark",ellipsis:!0},{title:"操作",dataIndex:"",key:"x",scopedSlots:{customRender:"action"}}],ki={name:"DataSourceActionPanel",components:{DataSourceForm:gi,DataSourceFormDebug:Ci},data:function(){return{loading:!1,dataRows:[],columns:Si,pageSize:10,current:1,totalCount:0,condition:{TYPE:"",GROUP_ID:"",moduleList:[],productList:[],searchText:""},ConditionGroup:IDM.setting.develop.dataSourceConditionGroup instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataSourceConditionGroup):[],ConditionType:IDM.setting.develop.dataSourceConditionType instanceof Array?[{text:"全部",value:""}].concat(IDM.setting.develop.dataSourceConditionType):[],ConditionModuleList:IDM.setting.develop.dataSourceConditionModuleList instanceof Array?[].concat(IDM.setting.develop.dataSourceConditionModuleList):[],ConditionProductList:IDM.setting.develop.dataSourceConditionProductList instanceof Array?[].concat(IDM.setting.develop.dataSourceConditionProductList):[],DataSourceFormVisible:!1,DataSourceFormDefaultData:{},DataSourceFormDebugVisible:!1,DataSourceFormDebugDefaultData:{}}},props:{pageid:{type:String},height:{type:Number}},created:function(){var e=this;IDM.develop.cacheData.DataSourceConditionGroupList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionGroup)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionGroup)&&(this.ConditionGroup=IDM.develop.cacheData.DataSourceConditionGroupList):IDM.http.get(IDM.setting.develop.dataSourceConditionGroup).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionGroupList=n,e.ConditionGroup=n})),IDM.develop.cacheData.DataSourceConditionTypeList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionType)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionType)&&(this.ConditionType=IDM.develop.cacheData.DataSourceConditionTypeList):IDM.http.get(IDM.setting.develop.dataSourceConditionType).then((function(t){var n=[{text:"全部",value:""}];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionTypeList=n,e.ConditionType=n})),IDM.develop.cacheData.DataSourceConditionModuleList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionModuleList)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionModuleList)&&(this.ConditionModuleList=IDM.develop.cacheData.DataSourceConditionModuleList):IDM.http.get(IDM.setting.develop.dataSourceConditionModuleList).then((function(t){var n=[];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionModuleList=n,e.ConditionModuleList=n})),IDM.develop.cacheData.DataSourceConditionProductList||"string"!=IDM.type(IDM.setting.develop.dataSourceConditionProductList)?"string"==IDM.type(IDM.setting.develop.dataSourceConditionProductList)&&(this.ConditionProductList=IDM.develop.cacheData.DataSourceConditionProductList):IDM.http.get(IDM.setting.develop.dataSourceConditionProductList).then((function(t){var n=[];200==t.data.code&&(n=n.concat(t.data.data)),IDM.develop.cacheData.DataSourceConditionProductList=n,e.ConditionProductList=n})),this.initData()},mounted:function(){},computed:{pagination:function(){var e={};return e.current=this.current,e["pageSize(.sync)"]=this.pageSize,e.total=this.totalCount,e}},destroyed:function(){},methods:{downloadFile:function(e){var t=document.createElement("a");t.download=e.fileName,t.style.display="none";var n=new Blob([e.fileContent],{type:"application/"+e.fileName.split(".")[e.fileName.split(".").length-1]}),r=URL.createObjectURL(n);t.href=r,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(r)},editDataRow:function(e,t){this.showDataSourceFormModal(e)},delDataRow:function(e,t){var n=this;IDM.setting.api.dataSourceDeleteApi?IDM.http.post(IDM.setting.api.dataSourceDeleteApi,{id:e.id}).then((function(e){200==e.data.code?IDM.message.success("删除成功！"):IDM.message.error("删除失败！"+e.data.message),n.reload(!0)})).catch((function(e){"30001"==e.response.status?IDM.message.error("删除失败，请重新登录再回来操作！"):IDM.message.error("删除失败！"+e.message)})):IDM.message.warning("删除接口未配置！请在setting.js文件[IDM.setting.api.dataSourceDeleteApi]下面配置接口地址。")},copyDataRow:function(e,t){var n=this;IDM.setting.api.dataSourceCopyApi?IDM.http.post(IDM.setting.api.dataSourceCopyApi,{id:e.id}).then((function(e){200==e.data.code?IDM.message.success("复制成功！"):IDM.message.error("复制失败！"+e.data.message),n.reload(!0)})).catch((function(e){"30001"==e.response.status?IDM.message.error("复制失败，请重新登录再回来操作！"):IDM.message.error("复制失败！"+e.message)})):IDM.message.warning("复制接口未配置！请在setting.js文件[IDM.setting.api.dataSourceCopyApi]下面配置接口地址。")},saveCustomModuleFormHandleCreate:function(){var e=this,t=this,n=this.$refs.DataSourceForm.form;n.validateFields((function(r,i){if(console.log("🚀 ~ file: DataSourceActionPanel.vue ~ line 254 ~ form.validateFields ~ values",i),!r){i.id=t.DataSourceFormDefaultData.id||"",i.tags=i.tags?i.tags.join(","):"";var o=IDM.layer.load(2);e.$developApi.saveDataSourceData(i).then((function(e){200==e.data.code?IDM.message.success("保存成功！"):IDM.message.error("保存失败！"+e.data.message),IDM.layer.close(o),t.DataSourceFormVisible=!1,t.reload(!0),n.resetFields()})).catch((function(e){IDM.layer.close(o),"30001"==e.response.status?IDM.message.error("保存失败，请重新登录再回来保存！"):IDM.message.error("保存失败！"+e.message)}))}}))},showDataSourceDebugFormModal:function(e){e=_.cloneDeep(e),e.type=e.type+"",e.isEditInfo=!0,this.DataSourceFormDebugDefaultData=e,this.DataSourceFormDebugVisible=!0},showDataSourceFormModal:function(e){if(e=_.cloneDeep(e),e){if(e.isEditInfo=!0,e.moduleArray=[],e.moduleIds)for(var t=e.moduleIds.split(","),n=e.moduleNames.split(","),r=0;r<t.length;r++){var i=t[r];e.moduleArray.push({key:i,label:n[r]})}if(e.productArray=[],e.productIds)for(var o=e.productIds.split(","),a=e.productNames.split(","),s=0;s<o.length;s++){var u=o[s];e.productArray.push({key:u,label:a[s]})}e.tags&&(e.tags=e.tags.split(",")),e.type=e.type+"",e.crossOrigin="1"==e.crossOrigin,e.loadType=e.loadType+"",e.fileName&&(e.file_name=[{uid:IDM.uuid(),name:e.fileName,status:"done",content:e.fileContent,src:e.fileName}]),this.DataSourceFormDefaultData=e}else this.DataSourceFormDefaultData={};this.DataSourceFormVisible=!0},resetCondition:function(){this.condition={TYPE:"",GROUP_ID:"",moduleList:[],searchText:""},this.reload(!0)},changePage:function(e){e&&e.current&&(this.current=e.current,this.pageSize=e.pageSize),this.initData()},change:function(){this.reload(!0)},reload:function(e){e&&(this.current=1),this.initData()},initData:function(){var e=this;if(IDM.setting.api.dataSourceFetchListApi||IDM.setting.mockurl.dataSourceFetchListApi){e.loading=!0;var t=Object(a["a"])({},this.condition);if(t.moduleList&&t.moduleList.length){var n=[];t.moduleList.forEach((function(e){n.push({value:e})})),t.MODULE_IDS=JSON.stringify(n)}if(t.productList&&t.productList.length){var r=[];t.productList.forEach((function(e){r.push({value:e})})),t.PRODUCT_IDS=JSON.stringify(r)}t["pageIndex"]=this.current,t["pageSize"]=this.pageSize,IDM.http.get(IDM.setting.api.dataSourceFetchListApi||IDM.setting.mockurl.dataSourceFetchListApi,t).then((function(t){var n=t&&t.data;e.resultChangeTableData(n)})).catch((function(t){e.loading=!1}))}},resultChangeTableData:function(e){this.loading=!1;var t=e?e.data&&e.data.rows:[];0==t.length&&(t=e&&e.rows),this.dataRows=t;var n=e?e.data&&e.data.total:-1;-1==n&&(n=e&&e.total),n&&-1!=n&&(this.totalCount=n)},handleTableChange:function(e,t,n,r){r.currentDataSource;this.pageSize=e.pageSize,this.current=e.current,this.totalCount=e.total,this.initData()},getStyle:function(e){var t={};switch(e){case"root":break;default:break}return t}},watch:{}},_i=ki,Bi=Object(b["a"])(_i,li,di,!1,null,"611943a6",null),Di=Bi.exports,Mi={fetchComponentMarketData:function(){return IDM.http.get(IDM.setting.api.componentMarketUrl||IDM.setting.mockurl.componentMarketUrl,IDM.url.queryObject())},fetchComponentCustomData:function(){return IDM.http.get(IDM.setting.api.componentCustomUrl||IDM.setting.mockurl.componentCustomUrl,IDM.url.queryObject())},fetchPageVersionListData:function(e){return IDM.http.get(IDM.setting.api.pageVersionListUrl||IDM.setting.mockurl.pageVersionListUrl,e)},fetchDevelopTraceListData:function(e,t,n){return IDM.http.get(IDM.setting.api.developTraceListUrl||IDM.setting.mockurl.developTraceListUrl,{pageid:e,startIndex:t,pageNumber:n})},fetchModuleAttrSourceData:function(e,t){var n=t?Object(a["a"])(Object(a["a"])({},IDM.url.queryObject()),t):IDM.url.queryObject();return IDM.http.get(e,n)},uploadImage:function(e,t){return IDM.http.upload(IDM.setting.api.uploadFileServerUrl,e,Object(a["a"])(Object(a["a"])({},t),IDM.setting.webRoot))},saveCropperBase64Image:function(e){return IDM.http.post(IDM.setting.api.saveCropperBase64ImageUrl,Object(a["a"])(Object(a["a"])({},e),IDM.setting.webRoot))},savePageSettingData:function(e){return IDM.http.post(IDM.setting.api.savePageSettingUrl,e)},saveDataSourceData:function(e){return IDM.http.post(IDM.setting.api.dataSourceSaveFormApi,e,{headers:{"Content-Type":"application/json;charset=UTF-8"}})},saveCustomModuleData:function(e){return IDM.http.post(IDM.setting.api.saveCustomModuleUrl,e)},fetchPageSettingDataForVersion:function(e){return e.savetype=IDM.setting.pageSchema.saveType,"disk"==IDM.setting.pageSchema.saveType&&e.version?IDM.http.get(IDM.setting.pageSchema.jsonDir.replace(/{projectNo}/g,e.projectNo||IDM.setting.webRoot.projectNo).replace(/{pageid}/g,e.pageid).replace(/{version}/g,e.version)):IDM.http.get(IDM.setting.api.pageSettingDataUrl||IDM.setting.mockurl.pageSettingDataUrl,e)},fetchCustomModulePageSettingData:function(e){return IDM.http.get(IDM.setting.api.customModuleSettingDataUrl||IDM.setting.mockurl.customModuleSettingDataUrl,e)},fetchApplicationInfo:function(e,t){return IDM.http.get(e,t)},fetchUserInfo:function(e,t){return IDM.http.get(e,t)}},Ei=n("8bbf"),Ti=n.n(Ei),Ii=(n("21c6"),n("e562")),Oi=n.n(Ii),Li=n("d4ec");function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(e,t,n){return t&&Fi(e.prototype,t),n&&Fi(e,n),e}var Ni=["INIT","INPUT","CHANGED"],Ui={name:"VueTinymce",model:{prop:"content",event:"change"},props:{content:{type:[String,Object],default:""},setup:{type:Function,default:function(){}},disabled:{type:Boolean,default:!1},setting:{type:Object,default:function(){return{}}},debug:Boolean},render:function(e){return"undefined"==typeof tinymce?e("div","tinymce is undefined"):e("div",{attrs:{id:this.id}})},data:function(){return{id:"vue-tinymce-"+Date.now()+Math.floor(1e3*Math.random()),editor:null,status:0,bookmark:null}},watch:{content:function(e,t){if(this.changedLog({type:"propsChanged"},this.status,"".concat(e," | ").concat(t),"--"),1!==this.status&&t!==e&&this.editor&&this.editor.initialized)return null===e?this.resetContent(""):void this.setContent(e)},disabled:function(e){this.editor.setMode(e?"readonly":"design")}},created:function(){if(this.changedLog=this.debug?(console.warn("`@packy-tang/vue-tinymce`进入debug模式"),function(e,t,n,r){return console.log("来自：%s | 状态：%s \n %s \n %s",e.type,Ni[t],n,r)}):function(){return!1},"undefined"==typeof tinymce)throw new Error("tinymce undefined")},beforeMount:function(){var e=this,t=Object.assign({},this.setting,{selector:"#"+this.id,setup:function(t){e.setup(t),t.on("init",(function(){e.setContent(e.content,t),t.on("keyup input",(function(t){e.status=1})),t.on("SetContent",(function(n){e.changedLog(n,e.status,t.getContent(),"--")})),t.on("Blur",(function(n){e.status=0,e.changedLog(n,e.status,t.getContent(),"--")})),t.on("input keyup Change Undo Redo ExecCommand NodeChange",(function(n){e.onChanged(n,t)}))}))}});this.editor=tinymce.createEditor(t.selector,t)},mounted:function(){this.editor.targetElm=this.$el,this.editor.render()},updated:function(){this.editor.render()},beforeDestroy:function(){this.editor.remove()},methods:{setContent:function(e,t){t||(t=this.editor),t.setContent(e),t.selection.moveToBookmark(this.bookmark)},resetContent:function(e,t){if(t||(t=this.editor),t.resetContent)return t.resetContent(e);t.setContent(e),t.setDirty(!1),t.undoManager.clear()},onChanged:function(e,t){t||(t=this.editor),"change"===e.type&&(this.bookmark=e.level.bookmark);var n=t.getContent();this.changedLog(e,this.status,n,"--"),this.$emit("change",n)}}},Hi=new(function(){function e(){Object(Li["a"])(this,e);var t={prefix:""},n=t.prefix;this.prefix=n}return Pi(e,[{key:"install",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix||this.prefix,r={VueTinymce:Ui};Object.keys(r).forEach((function(t){var i=r[t];e.component(n+i.name,i)}))}}]),e}()),Ri=Hi,Vi=(n("bd52"),n("0342"),n("3b2e"),n("0d68"),n("4237"),n("4ea8"),n("3aea"),n("07d1"),n("84ec"),n("90e7"),n("3154"),n("fc39"),n("d411"),n("4eb5")),Qi=n.n(Vi),ji=n("b76a"),zi=n.n(ji),Gi=n("19b3"),Ki=n.n(Gi),qi=(n("fd0f"),n("603a")),Wi=n.n(qi),$i=(n("fbc4"),n("1487")),Xi=n.n($i),Yi=n("7e79"),Ji=n.n(Yi),Zi=n("349e"),eo=n.n(Zi),to=(n("985d"),n("c1df")),no={getNowDate:function(){return to().format("YYYY-MM-DD")},fromNow:function(e,t){return to(e,t).fromNow()},tsHistoryList:[],clearTs:function(){this.tsHistoryList=[]},getActionType:function(e){var t=["添加组件","移动组件","删除组件","修改组件属性","切换组件版本","修改页面标题","保存页面","修改页面尺寸","修改页面配置","复制组件","剪切组件","创建辅助线","删除辅助线","清除全部辅助线","移动辅助线"];return t.length>=e?t[e-1]:""},getPosCn:function(e){var t="内部";switch(e){case"bottom":t="下方";break;case"top":t="上方";break;case"left":t="左方";break;case"bottom":t="右方";break}return t},getParentModule:function(e,t){if(!e||e&&!e.globalId)return{};var n=e.globalId.split("."),r=n[n.length-2],i=t.page.componentsMap.filter((function(e){return e.packageid==r}));return i&&i.length>0&&(i=i[0]),i||{}},getRelationModule:function(e,t){var n=e.relationId,r=t.page.componentsMap.filter((function(e){return e.packageid==n}));return r&&r.length>0&&(r=r[0]),r||null},getChangeAttrInfo:function(e,t,n,r,i){var o,a,s,u,c,l,d,f;if(Object.keys(t).forEach((function(e){o=e})),!o)return!1;var A=e.attrSetting.compositeAttr,h=e.props&&e.props.compositeAttr?e.props.compositeAttr:{};if(-1!=n){A=e.attrSetting.innerAttr;var p=e.props&&e.props.innerAttr?e.props.innerAttr.filter((function(e){return e.containerIndex==n})):[];h=p.length>0?p[0]:{}}function m(e){e instanceof Array||(e=[e]);var t="";return e.forEach((function(e){e.bindKey==o?t=e:""==t&&e.children&&e.children.length>0&&(t=m(e.children))})),t}var g=m(A);if("table"==g.type)if(u=g.text,a=_.cloneDeep(o),h[a]&&h[a].length!=r[a].length)c=h[a].length>r[a].length?-1:1;else{c=0;var v={};t[a]&&t[a].forEach((function(e){v=e})),Object.keys(v).forEach((function(e){o=e}));var y={},b={};y[a]=r[a],b[a]=h[a];var w=IDM.difference(y,b);if(0==Object.keys(v).length&&(o="",w[a]&&w[a].length>0&&w[a].forEach((function(e){Object.keys(e).forEach((function(e){o=e}))}))),w[a]&&w[a].length>0&&w[a].forEach((function(e){d=e[o]})),!o)return{};g=m(g),s=g.text,f=g.type,l=i?"":v[o]}else s=g.text,f=g.type,l=i?"":t[o],d=r[o];return{attrKey:o,attrTableKey:a,attrName:s,attrTableName:u,attrTableType:c,attrOldData:l,attrNewData:d,attrKeyType:f}},add:function(e,t){e=_.cloneDeep(e),console.log("🚀 ~ file: index.js ~ line 41 ~ add ~ object",e);var n={};switch(n.actionType=e.actionType,n.pageid=e.pageData.id,n.pageVersion=e.pageData.pageBaseInfo.version,n.opDate=to().format("YYYY-MM-DD"),n.opTime=to().format("HH:mm:ss"),e.actionType){case 1:n.opContent={opModule:e.moduleData,parentModule:this.getParentModule(e.moduleData,e.pageData),relationModule:this.getRelationModule(e.moduleData,e.pageData)},n.logContent="在『".concat(n.opContent.parentModule.asName,"』").concat(""!=n.opContent.opModule.containerIndex?"组件的内部容器索引为".concat(n.opContent.opModule.containerIndex,"的"):"","容器中添加了『").concat(n.opContent.opModule.asName,"』组件"),n.opContent.relationModule&&n.opContent.relationModule.id&&(n.logContent+="，位于『".concat(n.opContent.relationModule.asName,"』组件").concat(this.getPosCn(n.opContent.opModule.relationType)));break;case 2:n.opContent={opModule:e.moduleData,parentModule:this.getParentModule(e.moduleData,e.pageData),relationModule:this.getRelationModule(e.moduleData,e.pageData),oldModule:e.oldModuleData,oldRelationModule:this.getRelationModule(e.oldModuleData,e.pageData)},n.logContent="把『".concat(n.opContent.opModule.asName,"』组件移到了"),n.opContent.opModule.relationType.indexOf("inner_")>-1?n.logContent+="『".concat(n.opContent.parentModule.asName,"』组件的内部容器索引为").concat(n.opContent.opModule.containerIndex,"的容器中"):"inner"==n.opContent.opModule.relationType?n.logContent+="『".concat(n.opContent.parentModule.asName,"』容器中"):n.logContent+="『".concat(n.opContent.relationModule.asName,"』组件的").concat(this.getPosCn(n.opContent.opModule.relationType));break;case 3:n.opContent={opModule:e.moduleData,parentModule:this.getParentModule(e.moduleData,e.pageData),relationModule:this.getRelationModule(e.moduleData,e.pageData)},n.logContent=" 把『".concat(n.opContent.opModule.asName,"』组件从『").concat(n.opContent.parentModule.asName,"』组件容器中删除了");break;case 4:var r=this.getChangeAttrInfo(e.moduleData,e.attrDataChange,e.attrIndex,e.attrDataNew,e.isReverseComparison);if(!1===r)return;n.opContent={opModule:e.moduleData,attrKey:r.attrKey,attrTableKey:r.attrTableKey,attrIndex:e.attrIndex,attrName:r.attrName,attrTableName:r.attrTableName,attrTableType:r.attrTableType,attrOldData:r.attrOldData,attrNewData:r.attrNewData,attrKeyType:r.attrKeyType},n.logContent="把『".concat(n.opContent.opModule.asName,"』组件的"),-1==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性的数据删除了一行"):1==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性的数据增加了一行"):0==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性数据中的“").concat(n.opContent.attrName,"”属性值修改为了“").concat(n.opContent.attrNewData,"”"):n.logContent+="“".concat(n.opContent.attrName,"”属性值修改为了“").concat(n.opContent.attrNewData,"”");break;case 5:n.opContent={opModule:e.moduleData,oldVersion:e.oldVersion,newVersion:e.newVersion},n.logContent="把『".concat(n.opContent.opModule.asName,"』组件从版本“").concat(n.opContent.oldVersion,"”切换为了“").concat(n.opContent.newVersion,"”");break;case 6:n.opContent={opModule:e.moduleData,newTitle:e.newTitle,oldTitle:e.oldTitle},n.logContent="修改了页面标题为“".concat(n.opContent.newTitle,"”");break;case 7:n.opContent={pageInfo:e.pageInfo},n.logContent="保存了页面，保存信息为【版本：".concat(n.opContent.pageInfo.version,"，页面作者：").concat(n.opContent.pageInfo.author,"，是否使用此版本：").concat(n.opContent.pageInfo.isUseBoolean?"是":"否","，版本备注：").concat(n.opContent.pageInfo.remark,"】");break;case 8:n.opContent={newPageSize:e.newPageSize,oldPageSize:e.oldPageSize},n.logContent="修改了页面尺寸为“".concat(n.opContent.newPageSize.showText,"”，尺寸为【").concat(n.opContent.newPageSize.width,"*").concat(n.opContent.newPageSize.height,"】");break;case 9:var i=this.getChangeAttrInfo(e.moduleData,e.attrDataChange,e.attrIndex,e.attrDataNew,e.isReverseComparison);if(!1===i)return;n.opContent={opModule:e.moduleData,attrKey:i.attrKey,attrTableKey:i.attrTableKey,attrIndex:e.attrIndex,attrName:i.attrName,attrTableName:i.attrTableName,attrTableType:i.attrTableType,attrOldData:i.attrOldData,attrNewData:i.attrNewData,attrKeyType:i.attrKeyType},n.logContent="把页面的",-1==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性的数据删除了一行"):1==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性的数据增加了一行"):0==n.opContent.attrTableType?n.logContent+="“".concat(n.opContent.attrTableName,"”表格属性数据中的“").concat(n.opContent.attrName,"”属性值修改为了“").concat(n.opContent.attrNewData,"”"):n.logContent+="“".concat(n.opContent.attrName,"”属性值修改为了“").concat(n.opContent.attrNewData,"”");break;case 10:n.opContent={opModule:e.moduleData,parentModule:this.getParentModule(e.moduleData,e.pageData),relationModule:this.getRelationModule(e.moduleData,e.pageData)},n.logContent="复制了『".concat(n.opContent.opModule.asName,"』组件到"),n.opContent.opModule.relationType.indexOf("inner_")>-1?n.logContent+="『".concat(n.opContent.parentModule.asName,"』组件的内部容器索引为").concat(n.opContent.opModule.containerIndex,"的容器中"):"inner"==n.opContent.opModule.relationType?n.logContent+="『".concat(n.opContent.parentModule.asName,"』容器中"):n.logContent+="『".concat(n.opContent.relationModule.asName,"』组件的").concat(this.getPosCn(n.opContent.opModule.relationType));break;case 11:n.opContent={opModule:e.moduleData,parentModule:this.getParentModule(e.moduleData,e.pageData),relationModule:this.getRelationModule(e.moduleData,e.pageData),oldModule:e.oldModuleData,oldRelationModule:this.getRelationModule(e.oldModuleData,e.pageData)},n.logContent="把『".concat(n.opContent.opModule.asName,"』组件 剪切到了"),n.opContent.opModule.relationType.indexOf("inner_")>-1?n.logContent+="『".concat(n.opContent.parentModule.asName,"』组件的内部容器索引为").concat(n.opContent.opModule.containerIndex,"的容器中"):"inner"==n.opContent.opModule.relationType?n.logContent+="『".concat(n.opContent.parentModule.asName,"』容器中"):n.logContent+="『".concat(n.opContent.relationModule.asName,"』组件的").concat(this.getPosCn(n.opContent.opModule.relationType));break;case 12:n.opContent=e.guidesObject,n.logContent="创建了".concat(1==n.opContent.dimension?"Y":"X","轴辅助线");break;case 13:n.opContent=e.guidesObject,n.logContent="删除了".concat(1==n.opContent.dimension?"Y":"X","轴辅助线，坐标为").concat(1==n.opContent.dimension?n.opContent.x:n.opContent.y);break;case 14:n.logContent="清除全部辅助线";break;case 15:n.opContent={newGuidesObject:e.newGuidesObject,oldGuidesObject:e.oldGuidesObject},n.logContent="移动了".concat(1==n.opContent.oldGuidesObject.dimension?"Y":"X","轴辅助线，旧坐标为").concat(n.opContent.oldGuidesObject.xy,"，新坐标为").concat(n.opContent.newGuidesObject.xy);break}return n.opContent&&n.opContent.opModule&&(delete n.opContent.opModule.versionList,delete n.opContent.opModule.imgList,delete n.opContent.opModule.attrSetting,delete n.opContent.opModule.props),t&&t({new:!0,data:[n]}),this.tsHistoryList.push(n),n},get:function(e,t,n){}};Ti.a.prototype.$tinymce=Oi.a,Ti.a.use(Ri),Ti.a.use(Qi.a),Ti.a.use(zi.a),Ki.a.use(Wi.a,{Hljs:Xi.a}),Ti.a.use(Ki.a),Ti.a.use(Ji.a),Ti.a.use(eo.a),Ti.a.prototype.$trace=no,Ti.a.prototype.$developApi=Mi,Ti.a.prototype.$replace=function(e,t){return IDM.express.replace.call(this,e,t)},Ti.a.prototype.$eval=function(e,t){return IDM.express.eval.call(this,e,t)};var ro,io,oo,ao,so,uo,co,lo=n("4cd0"),fo=n("9224"),Ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idm-hoverlayout-contextmenu"},[n("idm-a-menu",{attrs:{selectedKeys:[]},on:{click:e.actionMenuClickHandle}},[e._l(e.contextMenuList,(function(t){return[-1==t.type?n("idm-a-menu-divider",{key:t.key+"_item"}):t.hidden?e._e():n("idm-a-menu-item",{key:t.key,attrs:{disabled:t.disabled}},[n("div",{staticClass:"menu-option-item",class:{active:t.active}},[n("idm-a-icon",{attrs:{type:"check"}}),n("span",[e._v(e._s(t.showText))]),n("div",{staticClass:"shortcutkey"},[e._v(e._s(t.shortcutKey))])],1)])]}))],2)],1)},ho=[],po={name:"ContextMenu",data:function(){return{contextMenuList:[{key:"133",showText:"编辑SVG",value:"",type:1,active:!1,disabled:!1,contextMenu:!0,hidden:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"69"},shortcutKey:"Ctrl+E"},{key:"118",showText:"组合",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,hidden:!1,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"71"},shortcutKey:"Ctrl+G"},{key:"119",showText:"取消组合",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,hidden:!1,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"71"},shortcutKey:"Ctrl+Shift+G"},{key:"120",type:-1},{key:"121",showText:"上移一层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"221"},shortcutKey:"Ctrl+]"},{key:"122",showText:"下移一层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"219"},shortcutKey:"Ctrl+["},{key:"123",showText:"置于顶层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"84"},shortcutKey:"Ctrl+Alt+T"},{key:"124",showText:"置于底层",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"66"},shortcutKey:"Ctrl+Alt+B"},{key:"125",type:-1},{key:"110",showText:"剪切组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"88"},shortcutKey:"Ctrl+X"},{key:"108",showText:"拷贝组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"67"},shortcutKey:"Ctrl+C"},{key:"109",showText:"粘贴组件",value:"",type:1,active:!1,disabled:!1,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"86"},shortcutKey:"Ctrl+V"},{key:"126",showText:"复制组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"67"},shortcutKey:"Ctrl+Shift+C"},{key:"127",type:-1},{key:"128",showText:"锁定",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"76"},shortcutKey:"Ctrl+L"},{key:"131",showText:"解锁",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,hidden:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"76"},shortcutKey:"Ctrl+Shift+L"},{key:"129",showText:"隐藏",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"72"},shortcutKey:"Ctrl+H"},{key:"130",type:-1},{key:"111",showText:"删除组件",value:"",type:1,active:!1,disabled:!0,contextMenu:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!0,keyCode:"46"},shortcutKey:"Alt+Del"}]}},props:{},beforeCreate:function(){},created:function(){},mounted:function(){},destroyed:function(){},methods:{menuStatusChange:function(e){var t=this;switch(e.type){case"changeLockState":var n=e.data;this.contextMenuList.forEach((function(e){"128"==e.key?(e.disabled=!n,e.hidden=!n):"131"==e.key&&(e.disabled=n,e.hidden=n)}));break;case"changeGroupState":var r=e.data;this.contextMenuList.forEach((function(e){"118"==e.key?(e.disabled=!r.group,e.hidden=!1===r.group&&!1===r.ungroup):"119"==e.key&&(e.disabled=!r.ungroup,e.hidden=!1)}));break;case"changeZindexState":this.contextMenuList.forEach((function(t){"121"==t.key||"123"==t.key?t.disabled=!e.data.zIndexUp:"122"!=t.key&&"124"!=t.key||(t.disabled=!e.data.zIndexDown)}));break;case"selectedModule":this.selectedModuleData=e.data,this.contextMenuList.forEach((function(n){"0"==e.data.comId||-1!=e.data.cIndex?(["108","110","126","111","128","129","131","117","121","122","123","124","118","119"].includes(n.key)||"0"==e.data.comId&&"113"==n.key)&&(n.disabled=!0):"absolute"==t.selectedModuleData.positionMode&&"129"==n.key?n.disabled=!1:(["108","110","126","111","113","117"].includes(n.key)&&(n.disabled=!1),"129"==n.key&&(n.disabled=!0)),e&&e.group&&e.group.length&&"129"==n.key&&(n.disabled=!0)}));break;case"svgMenuShow":this.contextMenuList.forEach((function(t){"133"==t.key&&(t.hidden=e&&e.data,t.disabled=!1)}));break;case"selectedGroup":this.contextMenuList.forEach((function(t){e&&e.data&&e.data.length&&(["108","109","110","126","129","111"].includes(t.key)&&(t.disabled=!1),"133"==t.key&&(t.hidden=!0))}));break;case"changeSvgCanvasVisible":this.contextMenuList.forEach((function(e){["109"].includes(e.key)&&(e.disabled=!1)}));break;case"changeCanvasMode":this.contextMenuList.forEach((function(t){1===e.data.selectedElement.length?["119","121","122","123","124","111"].includes(t.key)?t.disabled=!1:t.disabled=!0:e.data.selectedElement.length>1&&["118","111"].includes(t.key)?t.disabled=!1:t.disabled=!0}));break}},actionMenuClickHandle:function(e){var t=e.key,n=this.getMenuObjectForKey(t);this.$emit("changeHandle",n)},getMenuObjectForKey:function(e){var t;return this.contextMenuList.map((function(n,r){n.key==e&&(t=n),n.subList&&n.subList.map((function(n){n.key==e&&(t=n)}))})),t}},watch:{}},mo=po,go=Object(b["a"])(mo,Ao,ho,!1,null,"8fadcf30",null),vo=go.exports,yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idm-hoverlayout-toolbar"},[n("ul",e._l(e.toolbar,(function(t,r){return n("idm-a-tooltip",{key:r,attrs:{title:("940"==t.key&&t.selected?t.unTitle:t.title)+(t.shortcutKey?"（"+t.shortcutKey+"）":"")}},[n("li",{class:(t.selected?"module-toolbar-selected":"")+" "+(t.disabled?"module-toolbar-disabled":""),style:t.divider?e.dividerStyle:{},on:{click:function(n){return e.actionMenuClickHandle(t)}}},[n("svg-icon",{class:"module-toolbar-icon size-"+t.size,attrs:{"icon-class":t.svgIcon}})],1)])})),1)])},bo=[],wo={name:"HoverModeToolBar",data:function(){return{dividerStyle:{"margin-right":"20px"},toolbar:[{key:"900",title:"选择组件",svgIcon:"layout-mouse-select",disabled:!1,size:20,selected:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"86"},shortcutKey:"V"},{key:"901",title:"移动视图",svgIcon:"layout-mouse-hand",disabled:!1,size:20,divider:!0,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"72"},shortcutKey:"H"},{key:"905",title:"相交选中",svgIcon:"layout-region-intersect",disabled:!1,size:22,selected:!0},{key:"906",title:"包含选中",svgIcon:"layout-region-siege",disabled:!1,size:20},{key:"907",title:"连线工具",svgIcon:"layout-flow-connect",disabled:!1,size:20,divider:!0,selected:!1,keyGroup:{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:"69"},shortcutKey:"E"},{key:"123",title:"置于顶层",svgIcon:"layout-zindex-top",disabled:!0,size:26,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"84"},shortcutKey:"Ctrl+T"},{key:"124",title:"置于底层",svgIcon:"layout-zindex-bottom",disabled:!0,size:26,divider:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:"66"},shortcutKey:"Ctrl+B"},{key:"118",title:"组合",svgIcon:"layout-module-group",disabled:!0,size:20},{key:"119",title:"取消组合",svgIcon:"layout-module-ungroup",disabled:!0,size:20,divider:!0},{key:"920",title:"左对齐",svgIcon:"layout-align-left-horizontal",disabled:!0,size:22,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"76"},shortcutKey:"Ctrl+Alt+L"},{key:"921",title:"左右居中",svgIcon:"layout-align-center-horizontal",disabled:!0,size:22,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"67"},shortcutKey:"Ctrl+Alt+C"},{key:"922",title:"右对齐",svgIcon:"layout-align-right-horizontal",disabled:!0,size:22,divider:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"82"},shortcutKey:"Ctrl+Alt+R"},{key:"923",title:"顶部对齐",svgIcon:"layout-align-top-vertical",disabled:!0,size:22,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"84"},shortcutKey:"Ctrl+Alt+T"},{key:"924",title:"上下居中",svgIcon:"layout-align-center-vertical",disabled:!0,size:22,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"77"},shortcutKey:"Ctrl+Alt+M"},{key:"925",title:"底部对齐",svgIcon:"layout-align-bottom-vertical",disabled:!0,size:22,divider:!0,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"66"},shortcutKey:"Ctrl+Alt+B"},{key:"930",title:"水平分布",svgIcon:"layout-distribute-spacing-horizontal",disabled:!0,size:18,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"72"},shortcutKey:"Ctrl+Shift+H"},{key:"931",title:"垂直分布",svgIcon:"layout-distribute-spacing-vertical",disabled:!0,size:18,divider:!0,keyGroup:{ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:"85"},shortcutKey:"Ctrl+Shift+U"},{key:"940",title:"进入svg画板",unTitle:"退出svg画板",svgIcon:"svg-editor-svg",disabled:!1,size:18,selected:!1,keyGroup:{ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:"83"},shortcutKey:"Ctrl+Alt+S"}]}},props:{},beforeCreate:function(){},created:function(){},mounted:function(){},destroyed:function(){},methods:{menuStatusChange:function(e){switch(e.type){case"changeZindexState":this.toolbar.forEach((function(t){"123"==t.key?t.disabled=!e.data.zIndexUp:"124"==t.key&&(t.disabled=!e.data.zIndexDown)}));break;case"changeGroupState":var t=e.data;this.toolbar.forEach((function(e){"118"==e.key?e.disabled=!t.group:"119"==e.key&&(e.disabled=!t.ungroup)}));break;case"changeMoveWorkspaceDefault":this.toolbar.forEach((function(e){"900"==e.key?e.selected=!0:"901"==e.key&&(e.selected=!1)}));break;case"changeMeanState":this.toolbar.forEach((function(t){"930"!=t.key&&"931"!=t.key||(t.disabled=e.data<3)}));break;case"selectedModule":this.selectedModuleData=e.data,this.toolbar.forEach((function(t){"0"==e.data.comId||"absolute"!=e.data.positionMode||-1!=e.data.cIndex?["920","921","922","923","924","925","118","119","930","931"].includes(t.key)&&(t.disabled=!0):["920","921","922","923","924","925"].includes(t.key)&&(t.disabled=!1)}));break;case"changeSvgCanvasVisible":this.toolbar.forEach((function(t){"940"===t.key&&(t.selected=e.data),["901","906","907"].includes(t.key)&&(t.disabled=e.data)}));break;case"changeCanvasMode":this.toolbar.forEach((function(t){["123","124","920","921","922","923","924","925"].includes(t.key)&&(t.disabled=0===e.data.selectedElement.length),"118"===t.key&&(t.disabled=!(e.data.selectedElement.length>1)),"119"===t.key&&(t.disabled=1!==e.data.selectedElement.length),"900"===t.key&&("select"===e.data.mode?t.selected=!0:t.selected=!1)}));break;case"selectedGroup":this.toolbar.forEach((function(e){["920","921","922","923","924","925"].includes(e.key)&&(e.disabled=!1)}));break}},actionMenuClickHandle:function(e){["900","901","905","906"].includes(e.key)&&(e.selected=!0),this.toolbar.forEach((function(t){("901"==t.key&&"900"==e.key||"900"==t.key&&"901"==e.key||"905"==t.key&&"906"==e.key||"906"==t.key&&"905"==e.key)&&(t.selected=!1),"907"==t.key&&(t.selected=!t.selected)})),"940"==e.key&&this.toolbar.forEach((function(t){"900"===t.key&&(t.selected=e.selected),["901","906"].includes(t.key)&&(t.disabled=!e.selected),"940"===t.key&&(t.selected=!t.selected)})),e.toolbar=!0,this.$emit("changeHandle",e)},keyDownEventHandle:function(e){var t=this,n=e.ctrlKey,r=e.shiftKey,i=e.altKey,o=e.keyCode;if("BODY"!=document.activeElement.tagName)return!0;var a=!0;return this.toolbar.map((function(e){e.keyGroup&&(e.keyGroup.ctrlKey!=n||e.keyGroup.shiftKey!=r||e.keyGroup.altKey!=i||e.keyGroup.keyCode!=o||e.hidden||(e.key,t.actionMenuClickHandle(e),a=!1)),e.subList&&e.subList.map((function(e){e.keyGroup&&(e.keyGroup.ctrlKey!=n||e.keyGroup.shiftKey!=r||e.keyGroup.altKey!=i||e.keyGroup.keyCode!=o||e.hidden||(e.key,t.actionMenuClickHandle(e),a=!1))}))})),a||(e.preventDefault(),e.returnValue=!1),a}},watch:{}},xo=wo,Co=Object(b["a"])(xo,yo,bo,!1,null,"7139dc8c",null),So=Co.exports,ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{display:e.isShowSvgCanvas?"block":"none"},attrs:{id:"idm-svg-editor-container"}},[n("input",{attrs:{id:"idm-svg-editor-text"}}),n("div",{staticClass:"idm-svg-editor-toolbar",style:"left: "+e.toolBarStyle.left+"px;top: "+e.toolBarStyle.top+"px"},[n("div",{staticClass:"dragger-tool",attrs:{draggable:""},on:{dragstart:function(t){return e.handleDragEvent("start",t)},dragend:function(t){return e.handleDragEvent("end",t)}}}),n("ul",{staticClass:"toolbar-top"},[e._l(e.svgCanvasModeList,(function(t){return n("idm-a-tooltip",{key:t.mode,attrs:{title:t.title,placement:"right"}},[n("li",{class:[e.currentMode===t.mode?"mode-selected":"","toolbar-item"],style:t.style,on:{click:function(n){return e.handleModeMenuClick(t)}}},[n("svg-icon",{class:"idm-svg-editor-svg idm-svg-editor-size-"+t.size,attrs:{"icon-class":t.svgIcon}})],1)])})),n("idm-a-tooltip",{attrs:{title:"图形库",placement:"right"}},[n("idm-a-popover",{attrs:{placement:"rightTop",trigger:"click",overlayClassName:"graphical-popover"},scopedSlots:e._u([{key:"content",fn:function(){return[n("GraphicalSelect",{ref:"graphicalSelect",on:{"hook:mounted":e.handleAddShape,changeCurrentD:e.changeCurrentD,changeMode:e.handleModeMenuClick}})]},proxy:!0}]),model:{value:e.graphicalShow,callback:function(t){e.graphicalShow=t},expression:"graphicalShow"}},[n("li",{class:["shapelib"===e.currentMode?"mode-selected":"","toolbar-item"],attrs:{id:"tools_shapelib_show"}},[n("svg-icon",{staticClass:"idm-svg-editor-svg idm-svg-editor-size-18",attrs:{"icon-class":"svg-editor-graphical"}})],1)])],1),n("idm-a-tooltip",{attrs:{title:"填充颜色",placement:"right"}},[n("li",{staticClass:"toolbar-item",on:{click:function(t){return e.handelSetColor("fill",t)}}},[n("svg",{staticStyle:{border:"1px solid #ccc"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"17px"}},[n("rect",{attrs:{width:"100%",height:"100%",fill:"#fff",id:"fill_rect",opacity:"1"}}),n("defs",{attrs:{id:"fill_defs"}},[n("linearGradient",{attrs:{id:"fill_gradbox"}})],1)])])]),n("idm-a-tooltip",{attrs:{title:"描边颜色",placement:"right"}},[n("li",{staticClass:"toolbar-item",on:{click:function(t){return e.handelSetColor("stroke",t)}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"17px"}},[n("rect",{attrs:{width:"100%",height:"100%",fill:"#000",id:"stroke_rect",opacity:"1"}}),n("defs",{attrs:{id:"stroke_defs"}},[n("linearGradient",{attrs:{id:"stroke_gradbox"}})],1)])])]),n("div",{attrs:{id:"color-picker-container"}})],2)]),n("div",{attrs:{id:"idm-svg-editor-root"},on:{contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("svgEditHandleContextMenuShow",{status:"open",e:t})},click:function(t){return e.$emit("svgEditHandleContextMenuShow",{status:"close"})}}})])},_o=[],Bo=[{selected:!1,title:"路径",svgIcon:"svg-editor-fhpath",mode:"fhpath",size:25},{selected:!1,title:"直线",svgIcon:"svg-editor-line",mode:"line",size:20},{selected:!1,title:"矩形",svgIcon:"svg-editor-rect",mode:"rect",size:20},{selected:!1,title:"椭圆",svgIcon:"svg-editor-ellipse",mode:"ellipse",size:22},{selected:!1,title:"钢笔",svgIcon:"svg-editor-path",mode:"path",size:17},{selected:!1,title:"文本",svgIcon:"svg-editor-text",mode:"text",size:15,style:{marginTop:"5px"}}],Do={none:"—","2,2":"···","5,5":"- -","5,2,2,2":"-·-","5,2,2,2,2,2":"-··-"},Mo={basic:"基础",object:"物体",symbol:"标志",arrow:"箭头",flowchart:"流程",nature:"自然",game:"卡棋",dialog_balloon:"对话",music:"音乐",weather:"天气",ui:"用户 ",social:"社交"},Eo={920:"l",921:"c",922:"r",923:"t",924:"m",925:"b"},To={"input-svg":"导入svg","output-component":"导出组件","output-svg":"导出svg","output-png":"导出png","output-pdf":"导出pdf"},Io={basic:{data:{star_points_5:"m1,116.58409l113.82668,0l35.17332,-108.13487l35.17334,108.13487l113.82666,0l-92.08755,66.83026l35.17514,108.13487l-92.08759,-66.83208l-92.08757,66.83208l35.17515,-108.13487l-92.08758,-66.83026z",donut:"m1,150l0,0c0,-82.29042 66.70958,-149 149,-149l0,0c39.51724,0 77.41599,15.69816 105.35889,43.64108c27.94293,27.94293 43.64111,65.84165 43.64111,105.35892l0,0c0,82.29041 -66.70958,149 -149,149l0,0c-82.29041,0 -149,-66.70959 -149,-149zm74.5,0l0,0c0,41.1452 33.35481,74.5 74.5,74.5c41.14522,0 74.5,-33.3548 74.5,-74.5c0,-41.1452 -33.3548,-74.5 -74.5,-74.5l0,0c-41.14519,0 -74.5,33.35481 -74.5,74.5z",triangle:"m1,280.375l149,-260.75l149,260.75z",right_triangle:"m1,299l0,-298l298,298z",diamond:"m1,150l149,-149l149,149l-149,149l-149,-149z",pentagon:"m1.00035,116.97758l148.99963,-108.4053l148.99998,108.4053l-56.91267,175.4042l-184.1741,0l-56.91284,-175.4042z",hexagon:"m1,149.99944l63.85715,-127.71428l170.28572,0l63.85713,127.71428l-63.85713,127.71428l-170.28572,0l-63.85715,-127.71428z",septagon1:"m0.99917,191.06511l29.51249,-127.7108l119.48833,-56.83673l119.48836,56.83673l29.51303,127.7108l-82.69087,102.41679l-132.62103,0l-82.69031,-102.41679z",heptagon:"m1,88.28171l87.28172,-87.28171l123.43653,0l87.28172,87.28171l0,123.43654l-87.28172,87.28172l-123.43653,0l-87.28172,-87.28172l0,-123.43654z",decagon:"m1,150.00093l28.45646,-88.40318l74.49956,-54.63682l92.08794,0l74.50002,54.63682l28.45599,88.40318l-28.45599,88.40318l-74.50002,54.63681l-92.08794,0l-74.49956,-54.63681l-28.45646,-88.40318z",dodecagon:"m1,110.07421l39.92579,-69.14842l69.14842,-39.92579l79.85159,0l69.14842,39.92579l39.92578,69.14842l0,79.85159l-39.92578,69.14842l-69.14842,39.92578l-79.85159,0l-69.14842,-39.92578l-39.92579,-69.14842l0,-79.85159z",trapezoid:"m1,299l55.875,-298l186.25001,0l55.87498,298z",dialog_balloon_1:"m0.99786,35.96579l0,0c0,-19.31077 15.28761,-34.96524 34.14583,-34.96524l15.52084,0l0,0l74.50001,0l139.68748,0c9.05606,0 17.74118,3.68382 24.14478,10.24108c6.40356,6.55726 10.00107,15.45081 10.00107,24.72416l0,87.41311l0,0l0,52.44785l0,0c0,19.31078 -15.2876,34.96524 -34.14584,34.96524l-139.68748,0l-97.32507,88.90848l22.82506,-88.90848l-15.52084,0c-18.85822,0 -34.14583,-15.65446 -34.14583,-34.96524l0,0l0,-52.44785l0,0z",heart:"m150,73c61,-175 300,0 0,225c-300,-225 -61,-400 0,-225z",cylinder:"m299.0007,83.77844c0,18.28676 -66.70958,33.11111 -149.00002,33.11111m149.00002,-33.11111l0,0c0,18.28676 -66.70958,33.11111 -149.00002,33.11111c-82.29041,0 -148.99997,-14.82432 -148.99997,-33.11111m0,0l0,0c0,-18.28674 66.70956,-33.1111 148.99997,-33.1111c82.29044,0 149.00002,14.82436 149.00002,33.1111l0,132.44449c0,18.28674 -66.70958,33.11105 -149.00002,33.11105c-82.29041,0 -148.99997,-14.82431 -148.99997,-33.11105z",arrow_up:"m1.49805,149.64304l148.50121,-148.00241l148.50121,148.00241l-74.25061,0l0,148.71457l-148.5012,0l0,-148.71457z",arrow_u_turn:"m1.00059,299.00055l0,-167.62497l0,0c0,-72.00411 58.37087,-130.37499 130.375,-130.37499l0,0l0,0c34.57759,0 67.73898,13.7359 92.18906,38.18595c24.45006,24.45005 38.18593,57.61144 38.18593,92.18904l0,18.625l37.24997,0l-74.49995,74.50002l-74.50002,-74.50002l37.25,0l0,-18.625c0,-30.8589 -25.0161,-55.87498 -55.87498,-55.87498l0,0l0,0c-30.85892,0 -55.875,25.01608 -55.875,55.87498l0,167.62497z",arrow_left_up:"m0.99865,224.5l74.50004,-74.5l0,37.25l111.74991,0l0,-111.75l-37.25,0l74.5,-74.5l74.5,74.5l-37.25,0l0,186.25l-186.24989,0l0,37.25l-74.50005,-74.5z",plaque:"m-0.00197,49.94376l0,0c27.5829,0 49.94327,-22.36036 49.94327,-49.94327l199.76709,0l0,0c0,27.5829 22.36037,49.94327 49.94325,49.94327l0,199.7671l0,0c-27.58289,0 -49.94325,22.36034 -49.94325,49.94325l-199.76709,0c0,-27.58292 -22.36037,-49.94325 -49.94327,-49.94325z",page:"m249.3298,298.99744l9.9335,-39.73413l39.73413,-9.93355l-49.66763,49.66768l-248.33237,0l0,-298.00001l298.00001,0l0,248.33234",cross:"m0.99844,99.71339l98.71494,0l0,-98.71495l101.26279,0l0,98.71495l98.71495,0l0,101.2628l-98.71495,0l0,98.71494l-101.26279,0l0,-98.71494l-98.71494,0z",divide:"m150,0.99785l0,0c25.17819,0 45.58916,20.41097 45.58916,45.58916c0,25.17821 -20.41096,45.58916 -45.58916,45.58916c-25.17822,0 -45.58916,-20.41093 -45.58916,-45.58916c0,-25.1782 20.41093,-45.58916 45.58916,-45.58916zm0,296.25203c-25.17822,0 -45.58916,-20.41095 -45.58916,-45.58917c0,-25.17819 20.41093,-45.58916 45.58916,-45.58916c25.17819,0 45.58916,20.41096 45.58916,45.58916c0,25.17822 -20.41096,45.58917 -45.58916,45.58917zm-134.06754,-193.71518l268.13507,0l0,91.17833l-268.13507,0z",minus:"m0.99887,102.39503l297.49445,0l0,95.2112l-297.49445,0z",times:"m1.00089,73.36786l72.36697,-72.36697l76.87431,76.87368l76.87431,-76.87368l72.36765,72.36697l-76.87433,76.87431l76.87433,76.87431l-72.36765,72.36765l-76.87431,-76.87433l-76.87431,76.87433l-72.36697,-72.36765l76.87368,-76.87431l-76.87368,-76.87431z"},buttons:[]}},Oo=n("f313"),Lo=n.n(Oo),Fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"idm-graphical-select"},[n("div",{staticClass:"left-content scrollbar_style"}),n("div",{staticClass:"right-content"},e._l(e.graphicalMap,(function(t,r){return n("div",{key:r,staticClass:"graphical-type",class:[e.currentGraphical==r?"active":""],on:{click:function(t){return e.onGraphicalChange(r)}}},[e._v(e._s(t))])})),0)])},Po=[],No=(n("cb29"),Object.assign({},Io)),Uo="shapelib",Ho={},Ro={},Vo={data:function(){return{graphicalMap:Mo,currentGraphical:"basic"}},methods:{addExtension:function(e){var t;if(this.loadLibrary(this.currentGraphical),null===(t=e["extensions"])||void 0===t||!t.shapes){var n=this;$(".left-content").click((function(e){var t=$(e.target).closest("div.tool_button");if(t.length){var r=$("#tools_shapelib_show"),i=t.children().clone().attr({width:24,height:24});r.children().remove(),r.append(i),so=t[0].id.substr((Uo+"_").length),ao=No[n.currentGraphical].data[so],n.$emit("changeMode",{mode:Uo})}})),e.addExtension("shapes",(function(){var t=e.getSvgRoot();return{callback:function(){console.log("callback: function")},mouseDown:function(t){var r=e.getMode();if(r===Uo){var i=ro=t.start_x,o=io=t.start_y,a=e.getStyle();return oo=e.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{d:ao,id:e.getNextId(),opacity:a.opacity/2,style:"pointer-events:none"}}),oo.setAttribute("d",ao),/[a-z]/.test(ao)&&(ao=No[n.currentGraphical].data[so]=e.pathActions.convertPath(oo),oo.setAttribute("d",ao),e.pathActions.fixEnd(oo)),oo.setAttribute("transform","translate("+i+","+o+") scale(0.005) translate("+-i+","+-o+")"),e.recalculateDimensions(oo),Ho=oo.getBBox(),Ro={sx:1,sy:1},{started:!0}}},mouseMove:function(n){var r=e.getMode();if(r===Uo){var i=e.getZoom(),o=n.event,a=n.mouse_x/i,s=n.mouse_y/i,u=oo.transform.baseVal,c=oo.getBBox(),l=c.x,d=c.y,f=c.width,A=c.height,h=a-ro,p=s-io,m={x:Math.min(ro,a),y:Math.min(io,s),width:Math.abs(a-ro),height:Math.abs(s-io)},g=0,v=0,y=A?(A+p)/A:1,b=f?(f+h)/f:1;b=m.width/Ho.width,y=m.height/Ho.height,b=b||1,y=y||1,a<ro&&(g=Ho.width),s<io&&(v=Ho.height);var w=t.createSVGTransform(),x=t.createSVGTransform(),C=t.createSVGTransform();if(w.setTranslate(-(l+g),-(d+v)),o.shiftKey){var S=Math.min(Math.abs(b),Math.abs(y));if(b=S*(b<0?-1:1),y=S*(y<0?-1:1),Ro.sx!=Ro.sy){var k=Ro.sx>Ro.sy?1:Ro.sx/Ro.sy,_=Ro.sy>Ro.sx?1:Ro.sy/Ro.sx;b*=_,y*=k}}Ro.sx*=b,Ro.sy*=y,x.setScale(b,y),C.setTranslate(l+g,d+v),u.appendItem(C),u.appendItem(x),u.appendItem(w),e.recalculateDimensions(oo),Ho=oo.getBBox()}},mouseUp:function(t){var r=e.getMode();if(r===Uo)return t.mouse_x==ro&&t.mouse_y==io?{keep:!1,element:oo,started:!1}:(n.$emit("changeMode",{mode:"select"}),{keep:!0,element:oo,started:!1})}}}),{importLocale:!1})}},onGraphicalChange:function(e){this.currentGraphical=e,this.loadLibrary(e)},loadIcons:function(){$(".left-content").empty(),$(".left-content").append(No[this.currentGraphical].buttons)},loadLibrary:function(e){var t=this,n=No[e];if(!n)return $(".left-content").html("Loading..."),void IDM.http.get(IDM.url.getWebPath("~/static/svgJson/".concat(e,".json"))).then((function(n){var r=n.data;No[t.currentGraphical]=r,t.makeButtons(e,r),t.loadIcons()}));n.buttons.length||this.makeButtons(e,n),this.loadIcons()},makeButtons:function(e,t){var n=No[this.currentGraphical],r=n.size||300,i=n.fill||!1,o=.05*r,a=[-o,-o,r+2*o,r+2*o].join(" "),s=i?0:r/30,u=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg"><svg viewBox="'+a+'"><path fill="#333" stroke="transparent" stroke-width="'+s+'" /></svg></svg>',"text/xml"),c=40,l=40;u.documentElement.setAttribute("width",c),u.documentElement.setAttribute("height",l);var d=$(document.importNode(u.documentElement,!0)),f=t.data;for(var A in n.buttons=[],f){var h=f[A],p=d.clone();p.find("path").attr("d",h);var m=p.wrap('<div class="tool_button">').parent().attr({id:Uo+"_"+A,title:A});n.buttons.push(m[0])}}}},Qo=Vo,jo=(n("22c5"),n("e5c7"),Object(b["a"])(Qo,Fo,Po,!1,null,"5d88db4a",null)),zo=jo.exports,Go=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ace4"),n("466d"),"se_arrow_"),Ko=null,qo={name:"arrows",resetMarker:function(e){var t=e[0];t.removeAttribute("marker-start"),t.removeAttribute("marker-mid"),t.removeAttribute("marker-end")},setArrow:function(e,t){if(this.resetMarker(t),"none"!==e){var n="fw";"mid_bk"===e?(e="mid",n="bk"):"both"===e?(this.addMarker("bk",e),co.changeSelectedAttribute("marker-start","url(#"+Ko.bk.id+")"),e="end",n="fw"):"start"===e&&(n="bk"),this.addMarker(n,e),co.changeSelectedAttribute("marker-"+e,"url(#"+Ko[n].id+")"),co.call("changed",t)}},addMarker:function(e,t,n){n=n||uo+e;var r=Ko[e],i=co.getElement(n),o=co.addSVGElementsFromJson;if(!i){i=o({element:"marker",attr:{viewBox:"0 0 10 10",id:n,refY:5,markerUnits:"strokeWidth",markerWidth:5,markerHeight:5,orient:"auto",style:"pointer-events:none"}});var a=o({element:"path",attr:{d:r.d,fill:"#000000"}});i.append(a),co.findDefs().append(i)}return i.setAttribute("refX",r.refx),i},colorChanged:function(e){var t=this,n=e.getAttribute("stroke"),r=["start","mid","end"],i=co.findDefs();function o(e,t){var n=e.getAttribute(t);if(!n)return null;var r=n.match(/\(#(.*)\)/);return r&&2===r.length?co.getElement(r[1]):null}r.forEach((function(a){var s=o(e,"marker-"+a);if(s){var u=s.children[0].getAttribute("fill"),c=s.children[0].getAttribute("d");if(u!==n){var l=i.querySelectorAll("marker"),d=null;if(Array.from(l).forEach((function(e){var t=e.children[0].getAttribute("fill"),r=e.children[0].getAttribute("d");t===n&&r===c&&(d=e)})),!d){var f=s.id,A=f.includes("_fw")?"fw":"bk";d=t.addMarker(A,a,uo+A+l.length),d.children[0].setAttribute("fill",n)}e.setAttribute("marker-"+a,"url(#"+d.id+")");var h=!0,p=co.svgContent.querySelectorAll("line, polyline, path, polygon");Array.prototype.forEach.call(p,(function(e){if(r.forEach((function(t){if(e.getAttribute("marker-"+t)==="url(#"+s.id+")")return h=!1,h})),!h)return!1})),h&&s.remove()}}}))},elementChanged:function(e){var t=e[0];t&&(t.getAttribute("marker-start")||t.getAttribute("marker-mid")||t.getAttribute("marker-end"))&&this.colorChanged(t)},init:function(e){var t=this;return Object(o["a"])(d.a.mark((function n(){var r,i,o,a;return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=function(e){i=!1,uo=Go,Ko.fw.id=uo+"fw",Ko.bk.id=uo+"bk"},o=function(e,t){i=!0,uo=Go+t+"_",Ko.fw.id=uo+"fw",Ko.bk.id=uo+"bk"},co=t,r=e.nonce,i=e.randomize_ids,co.bind("setnonce",o),co.bind("unsetnonce",a),uo=i?"".concat(Go).concat(r,"_"):Go,Ko={fw:{d:"m0,0l10,5l-10,5l5,-5l-5,-5z",refx:8,id:uo+"fw"},bk:{d:"m10,0l-10,5l10,5l-5,-5l5,-5z",refx:2,id:uo+"bk"}},n.abrupt("return",{name:"arrows",callback:function(){}});case 10:case"end":return n.stop()}}),n)})))()}},Wo="~/lib/svgCanvas/jgraduate",$o=null,Xo=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n||$o.getSelectedElements(),o=$o.getZoom();Array.isArray(e)||(e/=o,t/=o);var a=$o.history.BatchCommand,s=new a("position");if(i.forEach((function(n,r){if(n){var i,o=$o.getSvgRoot().createSVGTransform(),a=null===(i=n.transform)||void 0===i?void 0:i.baseVal;Array.isArray(e)?o.setTranslate(e[r],t[r]):o.setTranslate(e,t),a.numberOfItems?a.insertItemBefore(o,0):a.appendItem(o);var u=$o.recalculateDimensions(n);u&&s.addSubCommand(u),$o.gettingSelectorManager().requestSelector(n).resize()}})),!s.isEmpty())return r&&$o.addCommandToHistory(s),$o.call("changed",i),s},Yo={name:"SvgEditor",data:function(){return{svgCanvasModeList:Bo,strokeMaps:Do,saveTypeMaps:To,svgCanvasInstance:null,currentMode:"fhpath",currentStrokeStyle:"—",currentStrokeWidth:1,selectedElement:[],toolBarStyle:{left:5,top:5},graphicalShow:!1,editSvgComponentInfo:null}},model:{prop:"isShowSvgCanvas",event:"change"},props:{isShowSvgCanvas:{type:Boolean,default:!1},multipleSelectedModuleData:{type:Object,default:function(){}}},components:{GraphicalSelect:zo},mounted:function(){this.loadJGraduateSource()},methods:{getSvgCanvasInstance:function(){return $o},handleAddShape:function(){var e,t;null===(e=this.$refs)||void 0===e||null===(t=e["graphicalSelect"])||void 0===t||t.addExtension($o)},loadJGraduateSource:function(){var e=["jPicker.css","jgraduate.css"].map((function(e){return IDM.url.getWebPath(Wo+"/css/"+e)})),t=["jquery.jgraduate.js","jpicker.min.js"].map((function(e){return IDM.url.getWebPath(Wo+"/"+e)}));e.forEach((function(e){return IDM.module.loadCss(e,!1,(function(){}))})),t.forEach((function(e){return IDM.module.loadJs(e,!1,(function(){}),{async:!0})}))},handleDragEvent:function(e,t){var n=null,r=null,i=0,o=0,a=0,s=0,u=0,c=0;switch(e){case"start":break;case"end":n=document.getElementById("idm-svg-editor-container"),r=document.querySelector(".idm-svg-editor-toolbar"),a=parseInt(window.getComputedStyle(n).width),s=parseInt(window.getComputedStyle(n).height),u=parseInt(window.getComputedStyle(r).width),c=parseInt(window.getComputedStyle(r).height),o=t.clientX-n.getBoundingClientRect().left,i=t.clientY-n.getBoundingClientRect().top,i<0&&(i=0),o<0&&(o=0),i>s-c&&(i=s-c),o>a-u&&(o=a-u),this.toolBarStyle={top:i,left:o};break}},createBackground:function(e){var t=$o.getResolution();$o.createLayer("background"),$o.addSVGElementsFromJson({element:"rect",attr:{x:-1,y:-1,width:t.w+2,height:t.h+2,stroke:"none",id:"canvas_background",opacity:1,fill:e||"#fff",style:"pointer-events:none"}}),$o.setCurrentLayer("Layer 1"),$o.setCurrentLayerPosition("1")},handelSetColor:function(e,t){var n=this;$("#color-picker-container").hide();var r=$(t.currentTarget).position(),i=r.top,o=r.left,a=document.getElementById("".concat(e,"_defs")),s=new $.jGraduate.Paint,u=$("#".concat(e,"_rect")),c=100*u.attr("fill-opacity")||100,l=u.attr("fill"),d=document.getElementById(e+"_gradbox");s="url(#grad)"==l&&"linearGradient"==d.tagName?new $.jGraduate.Paint({alpha:c,linearGradient:d}):"url(#grad)"==l&&"radialGradient"==d.tagName?new $.jGraduate.Paint({alpha:c,radialGradient:d}):new $.jGraduate.Paint({alpha:c,solidColor:l.substr(1)});var f=e+" color";$("#color-picker-container").removeAttr("style").css({top:i-200,left:o+35}).jGraduate({paint:s,window:{pickerTitle:f},images:{clientPath:IDM.url.getWebPath(Wo+"/images/")},newstop:"inverse"},(function(t){s=new $.jGraduate.Paint(t);var r="none",i=s.type,o=s.alpha/100;switch(i){case"solidColor":r="none"==s[i]||"one"==s[i]?"none":"#"+s[i];break;case"linearGradient":case"radialGradient":a.removeChild(d);var c=s[i].id=e+"_gradbox";d=a.appendChild(s[i]),r="url(#"+c+")"}u.attr("fill",r),u.attr("opacity",o),n.handleModeMenuClick({mode:"select"}),n.selectedElement.length>0?n.invokeSvgCanvasEvent("setPaint",e,s):"fill"==e&&n.createBackground(r),$("#color-picker-container").hide()}),(function(){$("#color-picker-container").hide()}))},onToolBarKeyChange:function(e){switch(e.key){case"111":this.selectedElement.length>0&&this.invokeSvgCanvasEvent("deleteSelectedElements");break;case"118":this.invokeSvgCanvasEvent("groupSelectedElements");break;case"119":this.invokeSvgCanvasEvent("ungroupSelectedElement");break;case"121":this.invokeSvgCanvasEvent("moveUpDownSelected","Up");break;case"122":this.invokeSvgCanvasEvent("moveUpDownSelected","Down");break;case"123":this.invokeSvgCanvasEvent("moveToTopSelectedElement");break;case"124":this.invokeSvgCanvasEvent("moveToBottomSelectedElement");break;case"133":this.handleVisible(!0),this.editSvgComponentInfo&&this.editSvgComponentInfo.packageid&&$("#"+this.editSvgComponentInfo.packageid).hide();break;case"920":case"921":case"922":case"923":case"924":case"925":this.selectedElement.length>=1&&this.invokeSvgCanvasEvent("alignSelectedElements",Eo[e.key],1===this.selectedElement.length?"page":"selected_objects");break;case"940":this.handleVisible(e.selected);break}},onStrokeChange:function(e){this.invokeSvgCanvasEvent("setStrokeWidth",e)},onStrokeStyleChange:function(e){var t=e.key;this.currentStrokeStyle=Do[t],this.invokeSvgCanvasEvent("setStrokeAttr","stroke-dasharray",t)},handleModeMenuClick:function(e){var t=e.mode;$("#color-picker-container").hide(),this.graphicalShow=!1,this.currentMode=t,this.invokeSvgCanvasEvent("setMode",t),this.$emit("svgCanvasModeChange",{mode:t,selectedElement:this.selectedElement})},selectedChanged:function(e,t){this.selectedElement=t,["fhpath","line","rect","ellipse"].includes(this.currentMode)&&this.invokeSvgCanvasEvent("setMode","select"),["path","text"].includes(this.currentMode)&&"select"==$o.getMode()&&($o.$id("idm-svg-editor-text").value="",this.invokeSvgCanvasEvent("setMode","select")),this.$emit("svgCanvasModeChange",{mode:this.currentMode,selectedElement:this.selectedElement})},elementChanged:function(e,t){t&&1!==t.length||qo.elementChanged(t)},invokeSvgCanvasEvent:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"setMode"===e&&(this.currentMode=i[0]),null===(t=$o)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.apply($o,i)},handleClose:function(){this.$emit("change",!1)},handleLoadComponentSvg:function(){var e,t;if(1===this.multipleSelectedModuleData.length&&"svg"===(null===(e=this.multipleSelectedModuleData)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.comType)){this.editSvgComponentInfo=_.cloneDeep(this.multipleSelectedModuleData[0]);var n,r,i=this.editSvgComponentInfo.props.basicAttr,o=this.editSvgComponentInfo.svgData,a=document.getElementById("idm_hover_layer_wrap").getBoundingClientRect(),s=i.positionWH.split(",")[0],u=i.positionWH.split(",")[1];return"leftTop"==i.positionOrigin?(n=i.positionXY.split(",")[0],r=i.positionXY.split(",")[1]):"leftBottom"==i.positionOrigin?(n=i.positionXY.split(",")[0],r=a.height-i.positionXY.split(",")[1]-u):"rightTop"==i.positionOrigin?(n=a.width-i.positionXY.split(",")[0]-s,r=i.positionXY.split(",")[1]):"rightBottom"==i.positionOrigin&&(n=a.width-i.positionXY.split(",")[0]-s,r=a.height-i.positionXY.split(",")[1]-u),n-=0,r-=0,this.invokeSvgCanvasEvent("setSvgString",o),void this.$nextTick((function(){var e=document.getElementById("svgcontent").getBoundingClientRect();$("#svgcontent").find("g.layer")[0].childNodes.forEach((function(t){var i,o=n,a=r,s=[t],u=null===t||void 0===t||null===(i=t.getBBox)||void 0===i?void 0:i.call(t),c=0,l=0;if(t.getBoundingClientRect){var d=t.getBoundingClientRect();c=d.left-e.left,l=d.top-e.top,o=n+c,a=r+l}var f=0,A=0,h=0,p=0,m=0,g=0;switch(t.tagName){case"path":Xo(o-u.x,a-u.y,s);break;case"rect":$o.changeSelectedAttribute("x",o,s),$o.changeSelectedAttribute("y",a,s);break;case"text":$o.changeSelectedAttribute("x",o+u.width/2,s),$o.changeSelectedAttribute("y",a+u.height/2,s);break;case"line":f=t.getAttribute("x1")-0,h=t.getAttribute("x2")-0,A=t.getAttribute("y1")-0,p=t.getAttribute("y2")-0,f<h?(m=h-f,f=o,h=o+m):(m=f-h,f=o+m,h=o),A<p?(g=p-A,A=a,p=a+g):(g=A-p,A=a+g,p=a),$o.changeSelectedAttribute("x1",f,s),$o.changeSelectedAttribute("x2",h,s),$o.changeSelectedAttribute("y1",A,s),$o.changeSelectedAttribute("y2",p,s);break;case"ellipse":$o.changeSelectedAttribute("cx",o+u.width/2,s),$o.changeSelectedAttribute("cy",a+u.height/2,s)}}))}))}this.editSvgComponentInfo=null},handleVisible:function(e){var t=this;return Object(o["a"])(d.a.mark((function n(){return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return t.handleClose(),n.abrupt("return");case 3:if(t.$emit("change",!0),t.currentStrokeStyle="—",!$o){n.next=12;break}return t.handleUpdateSize(),t.currentMode&&(t.invokeSvgCanvasEvent("setMode",t.currentMode),t.$emit("svgCanvasModeChange",{mode:t.currentMode,selectedElement:t.selectedElement})),t.handleLoadComponentSvg(),t.invokeSvgCanvasEvent("getCurrentDrawing").clearNonce(),t.invokeSvgCanvasEvent("randomizeIds"),n.abrupt("return");case 12:return n.next=14,t.initCanvas();case 14:t.$emit("svgCanvasModeChange",{mode:t.currentMode,selectedElement:t.selectedElement}),t.invokeSvgCanvasEvent("randomizeIds"),t.handleLoadComponentSvg();case 17:case"end":return n.stop()}}),n)})))()},handleUpdateSize:function(){var e=this;return new Promise((function(t,n){e.$nextTick((function(){e.isShowSvgCanvas||n();var r=document.getElementById("idm-svg-editor-root"),i=window.getComputedStyle(r),o=i.width,a=i.height;o=parseFloat(o),a=parseFloat(a),t({width:o,height:a}),e.invokeSvgCanvasEvent("setResolution",o,a),e.invokeSvgCanvasEvent("updateCanvas",o,a)}))}))},initCanvas:function(){var e=this;return Object(o["a"])(d.a.mark((function t(){var n,r,i,o,a,s,u;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.getElementById("idm-svg-editor-root"),t.next=3,e.handleUpdateSize();case 3:r=t.sent,i=r.width,o=r.height,a={initFill:{color:"FFFFFF",opacity:1},initStroke:{color:"000000",opacity:1,width:1},text:{stroke_width:0,font_size:24,font_family:"serif"},initOpacity:1,imgPath:"/src/editor/images",dimensions:[i,o],baseUnit:"px"},$o=new Lo.a(n,a),e.invokeSvgCanvasEvent("getCurrentDrawing").idPrefix="page_"+e.$route.params.pageid+"_",e.invokeSvgCanvasEvent("updateCanvas",i,o),e.invokeSvgCanvasEvent("setMode",e.currentMode),e.invokeSvgCanvasEvent("bind","selected",e.selectedChanged),e.invokeSvgCanvasEvent("bind","changed",e.elementChanged),e.invokeSvgCanvasEvent("addExtension",qo.name,qo.init.bind($o),{importLocale:!1}),console.log($o),s=$o.$id("idm-svg-editor-text"),$o.textActions.setInputElem(s),u=function(e,t,n){t.split(" ").forEach((function(t){return e.addEventListener(t,n,!1)}))},u(s,"keyup input",(function(t){e.invokeSvgCanvasEvent("setTextContent",t.currentTarget.value)}));case 19:case"end":return t.stop()}}),t)})))()}}},Jo=Yo,Zo=(n("ef11"),n("6dc4"),Object(b["a"])(Jo,ko,_o,!1,null,"03edcf7f",null)),ea=Zo.exports,ta=n("c0b6"),na=n("46f3"),ra=n.n(na);function ia(e){if(Array.isArray(e))return e}function oa(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function aa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sa(e,t){return ia(e)||oa(e,t)||u(e,t)||aa()}n("4fad"),n("18a5");var ua=n("392c"),ca={props:{},data:function(){return{defaultModuleSize:{width:200,height:200},isOpenHoverLayer:!1,contextMenuDisplay:!1,multipleSelectedModuleData:[],multipleSelectedGroupData:[],currentSelectLineData:{},contextMenuStyle:{"z-index":"999",position:"fixed",top:0,left:0},currentMovePackageid:"",currentMoveStartPosition:{X:0,Y:0},currentResizeStartPosition:{X:0,Y:0,WIDTH:0,HEIGHT:0},currentResizeObject:{module:{},groupModule:[],group:{},packageid:"",direction:"",simulatorOverlayDOM:null,moduleDOM:null,groupModuleDOMList:[],groupSimulatorOverlayDOM:null,type:"module"},resizeModuleDisabledPageSelect:!1,currentMouseClickEvent:!1,currentMoveStorageObject:{simulatorOverlayDOM:null,moduleDOM:null,groupSimulatorOverlayDOM:null,moveModuleList:[]},openWorkspaceMoving:!1,workSpaceMoveStartPosition:{X:0,Y:0},workSpaceStorageObject:{workspaceScrollDOM:null,workspaceOutDOM:null},copyModuleClickPosition:{x:0,y:0},hoverModuleRegionObject:{start:!1,regioning:!1,idm_workspace_outbox:null,stroke:"#aaa",fill:"rgba(255,255,255,0.2)",x:0,y:0,width:0,height:0},currentRegionKey:"905",currentHalfSelectedGroupObject:{groupId:""},isShowSvgCanvas:!1,isShowPlumbConnectTool:!1}},created:function(){},mounted:function(){var e=this;document.body.oncontextmenu=function(t){var n=t||window.event;return document.querySelector("#idm_hoverlayout_contextmenu_box")&&document.querySelector("#idm_hoverlayout_contextmenu_box").contains(n.target)?(n.preventDefault(),!1):document.querySelector("#idm_hover_layer_wrap").contains(n.target)?(n.preventDefault(),!e.multipleSelectedModuleData.length&&"0"!=e.selectedModuleData.comId||1==e.multipleSelectedModuleData.length&&"absolute"!=e.multipleSelectedModuleData[0].positionMode?(IDM.message.info("请选择悬浮布局一级组件再进行右键操作！"),!1):(e.showContextMneu("",n),!1)):void 0},document.onclick=function(t){var n=t||window.event;if(e.copyModuleClickPosition.x=n.clientX,e.copyModuleClickPosition.y=n.clientY,document.querySelector("#idm_hoverlayout_contextmenu_box")&&document.querySelector("#idm_hoverlayout_contextmenu_box").contains(n.target))return n.preventDefault(),!1;e.closeContextMenu()},this.moveWorkSpaceInit()},methods:{changeHoverBackgroundColor:function(e){this.PageSettingData.developInfo.hoverLayerBgColor=e},showContextMneu:function(e,t){var n=this;console.log("🚀 ~ file: Develop.vue ~ line 4342 ~ showContextMneu ~ packageid",e,t),this.contextMenuStyle.left=(t?t.clientX:0)+"px",this.contextMenuStyle.top=(t?t.clientY:0)+"px",this.contextMenuDisplay=!0,this.$nextTick((function(){var e=document.querySelector("#idm_hoverlayout_contextmenu_box").getBoundingClientRect();e.y+e.height>IDM.getClientWH().height&&(n.contextMenuStyle.top=IDM.getClientWH().height-e.height-20+"px"),e.x+e.width>IDM.getClientWH().width&&(n.contextMenuStyle.left=IDM.getClientWH().width-e.width+"px")}))},closeContextMenu:function(){this.contextMenuDisplay=!1},contextMenuClickHandle:function(e){var t,n,r,i,o,a;if(console.log(e),this.isShowSvgCanvas)return null===(r=this.$refs)||void 0===r||null===(i=r["svgEditor"])||void 0===i||i.onToolBarKeyChange(e),void this.closeContextMenu();switch(null===(o=this.$refs)||void 0===o||null===(a=o["svgEditor"])||void 0===a||a.onToolBarKeyChange(e),e.key){case"118":this.groupModuleHandle();break;case"119":this.unGroupModuleHandle();break;case"121":case"122":case"123":case"124":this.batchChangeModuleZindexNumber(e.key);break;case"110":break;case"108":break;case"109":break;case"126":break;case"128":this.batchChangeModuleLockState(!0);break;case"131":this.batchChangeModuleLockState(!1);break;case"129":this.batchChangeModuleHideState(!0);break;case"111":this.batchDeleteHoverModule();break;case"900":this.openWorkspaceMoving=!1,null===(t=this.$refs)||void 0===t||null===(n=t["svgEditor"])||void 0===n||n.invokeSvgCanvasEvent("setMode","select");break;case"901":this.openWorkspaceMoving=!0;break;case"905":case"906":this.currentRegionKey=e.key;break;case"907":this.isShowPlumbConnectTool=e.selected;break;case"920":case"921":case"922":case"923":case"924":case"925":this.batchHoverModuleAlignHandle(e.key);break;case"930":this.batchChangeMeanHorizontalHandle();break;case"931":this.batchChangeMeanVerticalHandle();break}this.closeContextMenu()},menuMultipleSelectedModuleHandle:function(){var e=!1,t=!1,n=!1,r=!1,i=[];this.getGroupAllModuleId(this.multipleSelectedGroupData,i);var o=this.PageSettingData.page.componentsMap.filter((function(e){return i.includes(e.packageid)}));o=o.concat(this.multipleSelectedModuleData);for(var a=0;a<o.length;a++){var s=o[a];s.lock||(e=!0);var u=this.findModuleZindexIsTopOrBottom(s);9==u?t=!0:0==u&&(n=!0),-1==u&&(r=!0,t=!0,n=!0)}this.menuActionStatusChangeHandle({type:"changeLockState",data:e}),o.length&&t&&n&&!r&&(n=!1),o.length||(t=!0,n=!0),this.menuActionStatusChangeHandle({type:"changeZindexState",data:{zIndexUp:!t,zIndexDown:!n}}),this.menuActionStatusChangeHandle({type:"changeMeanState",data:this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length}),this.multipleSelectedModuleData.length>1&&this.changeAttrPanelActiveTab("12");var c=!1,l=!1;this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length>1&&(c=!0),l=this.multipleSelectedGroupData.length>0,this.menuActionStatusChangeHandle({type:"changeGroupState",data:{group:c,ungroup:l}}),this.menuActionStatusChangeHandle({type:"selectedGroup",data:this.multipleSelectedGroupData}),this.menuActionStatusChangeHandle({type:"svgMenuShow",data:!(0==this.multipleSelectedGroupData.length&&1==this.multipleSelectedModuleData.length&&"svg"==this.multipleSelectedModuleData[0].comType)})},unGroupModuleHandle:function(){var e=this,t=[],n=[];this.multipleSelectedGroupData&&this.multipleSelectedGroupData.forEach((function(r){var i=e.getGroupIsFirst(r);if(i){r.moduleList.forEach((function(t){n.push(t),e.removeGroupModule(t)})),r.children&&r.children.forEach((function(n){t.push(n),e.PageSettingData.page.group.list.push(n),$("#idm_hover_layer_wrap").append($("#"+n.id))}));for(var o=0;o<e.PageSettingData.page.group.list.length;o++){var a=e.PageSettingData.page.group.list[o];a.id==r.id&&e.PageSettingData.page.group.list.splice(o,1)}}else{var s=e.getParentGroupObject(null,null,r.id);_.cloneDeep(r.moduleList).forEach((function(t){n.push(t),e.groupInnerMoveModuleId(r.id,s.id,t)})),s.children||(s.children=[]),r.children&&r.children.forEach((function(e){t.push(e),s.children.push(e),$("#"+s.id).append($("#"+e.id))}));for(var u=0;u<s.children.length;u++){var c=s.children[u];c.id==r.id&&s.children.splice(u,1)}}$("#"+r.id).remove()})),this.multipleSelectedGroupData=t,this.multipleSelectedModuleData=this.PageSettingData.page.componentsMap.filter((function(e){return n.includes(e.packageid)})),this.moduleSimulatorOverlayHandle(),this.menuMultipleSelectedModuleHandle()},removeGroupModule:function(e){for(var t=0;t<this.PageSettingData.page.group.allModuleList.length;t++){var n=this.PageSettingData.page.group.allModuleList[t];if(n==e){this.PageSettingData.page.group.allModuleList.splice(t,1);break}}e&&$("#idm_hover_layer_wrap").append($("#"+e))},groupModuleHandle:function(){var e=this;this.compleGroupSchema();var t=this.getCurrentSelectModuleOrGroupParentGroup(),n={id:this.getNewUUIDForType("group"),name:t?t.name+"_组合"+((t.children?t.children.length:0)+1):"组合"+(this.PageSettingData.page.group.list.length+1),moduleList:[],children:[]},r=[];t&&this.multipleSelectedGroupData.length?(this.existsGroupHandle(t.children,r),n.children=r,t.children.push(n)):t?t.children.push(n):(this.multipleSelectedGroupData.length&&(this.existsGroupHandle(this.PageSettingData.page.group.list,r),n.children=r),this.PageSettingData.page.group.list.push(n));var i=this.createGroupDom(n);t&&t.id?$("#"+t.id).append(i):$("#idm_hover_layer_wrap").append(i),r&&r.forEach((function(e){$("#"+n.id).append($("#"+e.id))})),this.multipleSelectedModuleData.forEach((function(t){e.PageSettingData.page.group.allModuleList.includes(t.packageid)||e.PageSettingData.page.group.allModuleList.push(t.packageid),e.groupInnerMoveModuleId(null,n.id,t.packageid)})),this.multipleSelectedModuleData=[],this.multipleSelectedGroupData=[],this.hoverModeSelectedModuleHandle(null,this.getGroupInnerPackageidOne(n))},existsGroupHandle:function(e,t){var n=this;e.forEach((function(e){var r=n.multipleSelectedGroupData.filter((function(t){return t.id==e.id}));r&&r.length&&t.push(_.cloneDeep(e))}));for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++){var a=e[o];a.id==i.id&&e.splice(o,1)}},getGroupInnerPackageidOne:function(e){var t;e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(r.moduleList.length>0){t=r.moduleList[0];break}!t&&r.children&&(t=this.getGroupInnerPackageidOne(r.children))}return t},groupInnerMoveModuleId:function(e,t,n){var r,i;if(r=e?this.getGroupTree(this.PageSettingData.page.group.list,e):this.getParentGroupObject(null,n),r){var o=r.moduleList.indexOf(n);o>-1&&r.moduleList.splice(o,1)}i=this.getGroupTree(this.PageSettingData.page.group.list,t),i.moduleList.push(n),$("#"+i.id).append($("#"+n))},getCurrentSelectModuleOrGroupParentGroup:function(){var e="",t="";return this.multipleSelectedModuleData.length>0?e=this.multipleSelectedModuleData[0].packageid:this.multipleSelectedGroupData.length>0&&(t=this.multipleSelectedGroupData[0].id),this.getParentGroupObject(null,e,t)},getParentGroupObject:function(e,t,n){var r;this.compleGroupSchema(),e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];if(t){if(o.moduleList.indexOf(t)>-1){r=o;break}!r&&o.children&&(r=this.getParentGroupObject(o.children,t,n))}else if(n&&o.children){var a=o.children.filter((function(e){return e.id==n}));if(a&&a.length){r=o;break}!r&&o.children&&(r=this.getParentGroupObject(o.children,t,n))}}return r},getGroupTree:function(e,t){var n;e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];i.id==t?n=i:!n&&i.children&&(n=this.getGroupTree(i.children,t))}return n},getGroupExistsModule:function(e,t){e=e||this.PageSettingData.page.group.list;var n=!1;e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];if(i.moduleList.indexOf(t)>-1){n=!0;break}!n&&i.children&&(n=this.getGroupExistsModule(i.children,t))}return n},getTopAndParentGroup:function(e,t){this.compleGroupSchema(),e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]);var n={parent:null,top:null};n.parent=this.getParentGroupObject(e,t);for(var r=0;r<e.length;r++){var i=e[r],o=this.getGroupExistsModule(i,t);if(o){n.top=i;break}}return n},getGroupIsFirst:function(e,t){t=t||this.PageSettingData.page.group.list,t instanceof Array||(t=[t]);for(var n=!1,r=0;r<t.length;r++){var i=t[r];if(i.id==e.id){n=!0;break}}return n},compleGroupSchema:function(){this.PageSettingData.page.group||(this.PageSettingData.page.group={allModuleList:[],list:[]})},createGroupDom:function(e){e.id=e.packageid||this.getNewUUIDForType("group");var t=$("<div />");return t.attr("id",e.id),t.addClass("idm_module_group"),t},getNewUUIDForType:function(e){return e+"_"+IDM.UUID()},batchChangeMeanVerticalHandle:function(){var e=this,t=this,n=t.$refs.idm_drag_documtnt.getBoundingClientRect().height/(this.workareaScaleValue/100),r=99999999999999,i={number:r,height:0,module:null,isGroup:!1,groupRect:null},o={number:0,height:0,module:null,isGroup:!1,groupRect:null},a=this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length,s=0;this.multipleSelectedModuleData.forEach((function(e){var t=e.props.basicAttr.positionWH,r=e.props.basicAttr.positionXY,a=e.props.basicAttr.positionOrigin||"leftTop";t=t.split(","),r=r.split(",");t.length>0&&parseFloat(t[0]);var u=t.length>1?parseFloat(t[1]):0,c=(r.length>0&&parseFloat(r[0]),r.length>1?parseFloat(r[1]):0);s+=u;var l=c;"leftBottom"!=a&&"rightBottom"!=a||(l=n-c-u),i.number>l&&(i.number=l,i.module=e,i.height=u),l>o.number&&(o.number=l,o.module=e,o.height=u)})),this.multipleSelectedGroupData.forEach((function(t){var n=[];e.getGroupAllModuleId(t,n);var r=e.getGroupRectInfo(t.id);s+=r.height,i.number>r.y&&(i.number=r.y,i.module=t,i.height=r.height,i.isGroup=!0,i.groupRect=r),r.y>o.number&&(o.number=r.y,o.module=t,o.height=r.height,o.isGroup=!0,o.groupRect=r)}));var u=o.number-i.number-i.height,c=s-o.height-i.height,l=(u-c)/(a-1),d=this.multipleSelectedModuleData.filter((function(e){return e.packageid!=i.module.packageid&&e.packageid!=o.module.packageid})),f=this.multipleSelectedGroupData.filter((function(e){return e.id!=i.module.id&&e.id!=o.module.id})),A=[];A=[].concat(d,f),A.sort((function(e,r){var i=0;if(e.props&&e.props.basicAttr){var o=e.props.basicAttr.positionWH,a=e.props.basicAttr.positionXY,s=e.props.basicAttr.positionOrigin||"leftTop";o=o.split(","),a=a.split(",");var u=o.length>1?parseFloat(o[1]):0,c=a.length>1?parseFloat(a[1]):0;i=c,"leftBottom"!=s&&"rightBottom"!=s||(i=n-c-u)}else{var l=t.getGroupRectInfo(e.id);i=l.y}var d=0;if(r.props&&r.props.basicAttr){var f=r.props.basicAttr.positionWH,A=r.props.basicAttr.positionXY,h=r.props.basicAttr.positionOrigin||"leftTop";f=f.split(","),A=A.split(",");var p=f.length>1?parseFloat(f[1]):0,m=A.length>1?parseFloat(A[1]):0;d=m,"leftBottom"!=h&&"rightBottom"!=h||(d=n-m-p)}else{var g=t.getGroupRectInfo(r.id);d=g.y}return i-d}));var h=i.number+i.height;A.forEach((function(r){if(r.props&&r.props.basicAttr){var i=r.props.basicAttr.positionWH,o=r.props.basicAttr.positionXY,a=r.props.basicAttr.positionOrigin||"leftTop";i=i.split(","),o=o.split(",");i.length>0&&parseFloat(i[0]);var s=i.length>1?parseFloat(i[1]):0,u=o.length>0?parseFloat(o[0]):0,c=o.length>1?parseFloat(o[1]):0;c=h+l,"leftBottom"!=a&&"rightBottom"!=a||(c=n-c-s),r.props.basicAttr.positionXY=u+","+c,h=c+s,"leftBottom"!=a&&"rightBottom"!=a||(h=n-c),t.resetHoverModulePositionInfo(r.packageid)}else{var d=e.getGroupRectInfo(r.id),f=d.y-(h+l);h=h+l+d.height;var A=[];e.getGroupAllModuleId(r,A);var p=e.PageSettingData.page.componentsMap.filter((function(e){return A.includes(e.packageid)}));p&&p.forEach((function(e){var n=e.props.basicAttr.positionXY,r=e.props.basicAttr.positionOrigin||"leftTop";n=n.split(",");var i=n.length>0?parseFloat(n[0]):0,o=n.length>1?parseFloat(n[1]):0;switch(r){case"leftTop":case"rightTop":o-=f;break;case"leftBottom":case"rightBottom":o+=f;break}e.props.basicAttr.positionXY=i+","+o,t.resetHoverModulePositionInfo(e.packageid)})),t.refreshHoverModeGroupSimulatorOverlay(r)}}))},batchChangeMeanHorizontalHandle:function(){var e=this,t=this,n=t.$refs.idm_drag_documtnt.getBoundingClientRect().width/(this.workareaScaleValue/100),r=99999999999999,i={number:r,width:0,module:null,isGroup:!1,groupRect:null},o={number:0,width:0,module:null,isGroup:!1,groupRect:null},a=this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length,s=0;this.multipleSelectedModuleData.forEach((function(e){var t=e.props.basicAttr.positionWH,r=e.props.basicAttr.positionXY,a=e.props.basicAttr.positionOrigin||"leftTop";t=t.split(","),r=r.split(",");var u=t.length>0?parseFloat(t[0]):0,c=r.length>0?parseFloat(r[0]):0;s+=u;var l=c;"rightTop"!=a&&"rightBottom"!=a||(l=n-c-u),i.number>l&&(i.number=l,i.module=e,i.width=u),l>o.number&&(o.number=l,o.module=e,o.width=u)})),this.multipleSelectedGroupData.forEach((function(t){var n=[];e.getGroupAllModuleId(t,n);var r=e.getGroupRectInfo(t.id);s+=r.width,i.number>r.x&&(i.number=r.x,i.module=t,i.width=r.width,i.isGroup=!0,i.groupRect=r),r.x>o.number&&(o.number=r.x,o.module=t,o.width=r.width,o.isGroup=!0,o.groupRect=r)}));var u=o.number-i.number-i.width,c=s-o.width-i.width,l=(u-c)/(a-1),d=this.multipleSelectedModuleData.filter((function(e){return e.packageid!=i.module.packageid&&e.packageid!=o.module.packageid})),f=this.multipleSelectedGroupData.filter((function(e){return e.id!=i.module.id&&e.id!=o.module.id})),A=[];A=[].concat(d,f),A.sort((function(e,r){var i=0;if(e.props&&e.props.basicAttr){var o=e.props.basicAttr.positionWH,a=e.props.basicAttr.positionXY,s=e.props.basicAttr.positionOrigin||"leftTop";o=o.split(","),a=a.split(",");var u=o.length>0?parseFloat(o[0]):0,c=a.length>0?parseFloat(a[0]):0;i=c,"rightTop"!=s&&"rightBottom"!=s||(i=n-c-u)}else{var l=t.getGroupRectInfo(e.id);i=l.x}var d=0;if(r.props&&r.props.basicAttr){var f=r.props.basicAttr.positionWH,A=r.props.basicAttr.positionXY,h=r.props.basicAttr.positionOrigin||"leftTop";f=f.split(","),A=A.split(",");var p=f.length>0?parseFloat(f[0]):0,m=A.length>0?parseFloat(A[0]):0;d=m,"rightTop"!=h&&"rightBottom"!=h||(d=n-m-p)}else{var g=t.getGroupRectInfo(r.id);d=g.x}return i-d}));var h=i.number+i.width;A.forEach((function(r){if(r.props&&r.props.basicAttr){var i=r.props.basicAttr.positionWH,o=r.props.basicAttr.positionXY,a=r.props.basicAttr.positionOrigin||"leftTop";i=i.split(","),o=o.split(",");var s=i.length>0?parseFloat(i[0]):0,u=o.length>0?parseFloat(o[0]):0,c=o.length>1?parseFloat(o[1]):0;u=h+l,"rightTop"!=a&&"rightBottom"!=a||(u=n-u-s),r.props.basicAttr.positionXY=u+","+c,h=u+s,"rightTop"!=a&&"rightBottom"!=a||(h=n-u),t.resetHoverModulePositionInfo(r.packageid)}else{var d=e.getGroupRectInfo(r.id),f=d.x-(h+l);h=h+l+d.width;var A=[];e.getGroupAllModuleId(r,A);var p=e.PageSettingData.page.componentsMap.filter((function(e){return A.includes(e.packageid)}));p&&p.forEach((function(e){var n=e.props.basicAttr.positionXY,r=e.props.basicAttr.positionOrigin||"leftTop";n=n.split(",");var i=n.length>0?parseFloat(n[0]):0,o=n.length>1?parseFloat(n[1]):0;switch(r){case"leftTop":case"leftBottom":i-=f;break;case"rightTop":case"rightBottom":i+=f;break}e.props.basicAttr.positionXY=i+","+o,t.resetHoverModulePositionInfo(e.packageid)})),t.refreshHoverModeGroupSimulatorOverlay(r)}})),this.jsPlumbRepaintEverything()},batchHoverModuleAlignHandle:function(e){var t=this,n=this,r=n.$refs.idm_drag_documtnt.getBoundingClientRect().width/(this.workareaScaleValue/100),i=n.$refs.idm_drag_documtnt.getBoundingClientRect().height/(this.workareaScaleValue/100),o=99999999999999,a={number:o,module:null,isGroup:!1,groupRect:null},s={number:o,module:null,isGroup:!1,groupRect:null},u={number:o,module:null,isGroup:!1,groupRect:null},c={number:o,module:null,isGroup:!1,groupRect:null},l={number:0,module:null,isGroup:!1,groupRect:null},d={number:0,module:null,isGroup:!1,groupRect:null};this.multipleSelectedModuleData.forEach((function(e){var t=e.props.basicAttr.positionWH,n=e.props.basicAttr.positionXY,o=e.props.basicAttr.positionOrigin||"leftTop";t=t.split(","),n=n.split(",");var f=t.length>0?parseFloat(t[0]):0,A=t.length>1?parseFloat(t[1]):0,h=n.length>0?parseFloat(n[0]):0,p=n.length>1?parseFloat(n[1]):0;f>l.number&&(l.number=f,l.module=e),A>d.number&&(d.number=A,d.module=e),"leftTop"!=o&&"rightTop"!=o||(p<s.number&&(s.number=p,s.module=e),i-p-A<c.number&&(c.number=i-p-A,c.module=e)),"leftTop"!=o&&"leftBottom"!=o||(h<a.number&&(a.number=h,a.module=e),r-h-f<u.number&&(u.number=r-h-f,u.module=e)),"rightTop"!=o&&"rightBottom"!=o||(h<u.number&&(u.number=h,u.module=e),r-h-f<a.number&&(a.number=r-h-f,a.module=e)),"rightBottom"!=o&&"leftBottom"!=o||(p<c.number&&(c.number=p,c.module=e),i-p-A<s.number&&(s.number=i-p-A,s.module=e))})),this.multipleSelectedGroupData.forEach((function(e){var n=t.getGroupRectInfo(e.id);n.width>l.number&&(l.number=n.width,l.module=e,l.groupRect=n,l.isGroup=!0),n.height>d.number&&(d.number=n.height,d.module=e,d.groupRect=n,d.isGroup=!0),n.y<s.number&&(s.number=n.y,s.module=e,s.groupRect=n,s.isGroup=!0),i-n.y-n.height<c.number&&(c.number=i-n.y-n.height,c.module=e,c.groupRect=n,c.isGroup=!0),n.x<a.number&&(a.number=n.x,a.module=e,a.groupRect=n,a.isGroup=!0),r-n.x-n.width<u.number&&(u.number=r-n.x-n.width,u.module=e,u.groupRect=n,u.isGroup=!0)})),this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length==1&&(a.number=0,a.module=null,s.number=0,s.module=null,u.number=0,u.module=null,c.number=0,c.module=null,l.number=r,l.module=null,d.number=i,d.module=null),this.multipleSelectedModuleData.forEach((function(t){var o=t.props.basicAttr.positionWH,f=t.props.basicAttr.positionXY,A=t.props.basicAttr.positionOrigin||"leftTop";o=o.split(","),f=f.split(",");var h=o.length>0?parseFloat(o[0]):0,p=o.length>1?parseFloat(o[1]):0,m=f.length>0?parseFloat(f[0]):0,g=f.length>1?parseFloat(f[1]):0;switch(e){case"920":m="leftTop"==A||"leftBottom"==A?a.number:r-a.number-h;break;case"921":var v=l.number/2,y="leftTop";if(l.module&&!l.isGroup){var b=l.module&&l.module.props&&l.module.props.basicAttr||{};y=b.positionOrigin||"leftTop";var w=b.positionXY||"0,0",x=b.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);w=w.split(","),x=x.split(",");var C=w.length>0?parseFloat(w[0]):0,S=x.length>0?parseFloat(x[0]):0;v=C+S/2}else l.module&&l.isGroup&&(v=l.groupRect.x+l.groupRect.width/2);("leftTop"!=A&&"leftBottom"!=A||"rightTop"!=y&&"rightBottom"!=y)&&("rightTop"!=A&&"rightBottom"!=A||"leftTop"!=y&&"leftBottom"!=y)||(v=r-v),m=v-h/2;break;case"922":m="rightTop"==A||"rightBottom"==A?u.number:r-u.number-h;break;case"923":g="leftTop"==A||"rightTop"==A?s.number:i-s.number-p;break;case"924":var k=d.number/2,_="leftTop";if(d.module&&!d.isGroup){var B=d.module&&d.module.props&&d.module.props.basicAttr||{};_=B.positionOrigin||"leftTop";var D=B.positionXY||"0,0",M=B.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);D=D.split(","),M=M.split(",");var E=D.length>1?parseFloat(D[1]):0,T=M.length>1?parseFloat(M[1]):0;k=E+T/2}else d.module&&d.isGroup&&(k=d.groupRect.y+d.groupRect.height/2);("leftTop"!=A&&"rightTop"!=A||"leftBottom"!=_&&"rightBottom"!=_)&&("leftBottom"!=A&&"rightBottom"!=A||"leftTop"!=_&&"rightTop"!=_)||(k=i-k),g=k-p/2;break;case"925":g="leftBottom"==A||"rightBottom"==A?c.number:i-c.number-p;break}t.props.basicAttr.positionXY=m+","+g,n.resetHoverModulePositionInfo(t.packageid)})),this.multipleSelectedGroupData&&this.multipleSelectedGroupData.forEach((function(o){var f=[];t.getGroupAllModuleId(o,f);var A=t.getGroupRectInfo(o.id),h=0,p=0;switch(e){case"920":h=A.x-a.number;break;case"921":var m=l.number/2,g="leftTop";if(l.module&&!l.isGroup){var v=l.module&&l.module.props&&l.module.props.basicAttr||{};g=v.positionOrigin||"leftTop";var y=v.positionXY||"0,0",b=v.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);y=y.split(","),b=b.split(",");var w=y.length>0?parseFloat(y[0]):0,x=b.length>0?parseFloat(b[0]):0;m=w+x/2}else l.module&&l.isGroup&&(m=l.groupRect.x+l.groupRect.width/2);"rightTop"!=g&&"rightBottom"!=g||(m=r-m),h=A.x+A.width/2-m;break;case"922":h=A.x-(r-u.number-A.width);break;case"923":p=A.y-s.number;break;case"924":var C=d.number/2,S="leftTop";if(d.module&&!d.isGroup){var k=d.module&&d.module.props&&d.module.props.basicAttr||{};S=k.positionOrigin||"leftTop";var _=k.positionXY||"0,0",B=k.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);_=_.split(","),B=B.split(",");var D=_.length>1?parseFloat(_[1]):0,M=B.length>1?parseFloat(B[1]):0;C=D+M/2}else d.module&&d.isGroup&&(C=d.groupRect.y+d.groupRect.height/2);"leftBottom"!=S&&"rightBottom"!=S||(C=i-C),p=A.y+A.height/2-C;break;case"925":p=A.y-(i-c.number-A.height);break}var E=t.PageSettingData.page.componentsMap.filter((function(e){return f.includes(e.packageid)}));E&&E.forEach((function(e){var t=e.props.basicAttr.positionXY,r=e.props.basicAttr.positionOrigin||"leftTop";t=t.split(",");var i=t.length>0?parseFloat(t[0]):0,o=t.length>1?parseFloat(t[1]):0;switch(r){case"leftTop":i-=h,o-=p;break;case"rightTop":i+=h,o-=p;break;case"rightBottom":i+=h,o+=p;break;case"leftBottom":i-=h,o+=p;break}e.props.basicAttr.positionXY=i+","+o,n.resetHoverModulePositionInfo(e.packageid)})),n.refreshHoverModeGroupSimulatorOverlay(o)})),this.jsPlumbRepaintEverything()},moveWorkSpaceInit:function(){var e=this,t=$("#idm_workspace_outbox");t&&t.mousedown((function(t){1==t.which&&e.workSpaceMousedownEvent(t)}))},workSpaceMouseUpEvent:function(e){var t=this;if(e.stopPropagation(),e.preventDefault(),document.removeEventListener("mousemove",t.workSpaceMouseMoveEvent),document.removeEventListener("mouseup",t.workSpaceMouseUpEvent),this.openWorkspaceMoving)t.workSpaceStorageObject.workspaceOutDOM.removeClass("idm_workspace_grabbing");else{t.hoverModuleRegionObject.x=0,t.hoverModuleRegionObject.y=0,t.hoverModuleRegionObject.width=0,t.hoverModuleRegionObject.height=0,t.hoverModuleRegionObject.regioning=!0,t.hoverModuleRegionObject.moving=!1;for(var n=document.querySelectorAll(".idm_module.idm_module_absolute.idm_region_check"),r="",i=0;i<n.length;i++){var o=n[i],a=o.id,s=o.className.split(" ");s.indexOf("idm_region_check")>-1&&(s.splice(s.indexOf("idm_region_check"),1),o.className=s.join(" ")),r=a,t.hoverModeSelectedModuleHandle(null,a)}if(r){var u=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==r}));u&&u.length&&(t.selectedModuleData=_.cloneDeep(u[0]))}else t.selectedPageModule(t.PageSettingData.id);t.hoverModuleRegionObject.regioning=!1,this.resizeModuleDisabledPageSelect=!0}},workSpaceMouseMoveEvent:function(e){if(!this.isShowSvgCanvas){var t=this;if(e.stopPropagation(),e.preventDefault(),this.openWorkspaceMoving){var n={x:e.clientX-t.workSpaceMoveStartPosition.X,y:e.clientY-t.workSpaceMoveStartPosition.Y};t.workSpaceStorageObject.workspaceScrollDOM.scrollTop(t.workSpaceMoveStartPosition.scrollTop-n.y),t.workSpaceStorageObject.workspaceScrollDOM.scrollLeft(t.workSpaceMoveStartPosition.scrollLeft-n.x)}else{!0!==t.hoverModuleRegionObject.moving&&(t.selectedPageModule(t.PageSettingData.id),t.hoverModuleRegionObject.moving=!0),t.hoverModuleRegionObject.oox>e.clientX?t.hoverModuleRegionObject.ox=e.clientX:t.hoverModuleRegionObject.ox=t.hoverModuleRegionObject.oox,t.hoverModuleRegionObject.ooy>e.clientY?t.hoverModuleRegionObject.oy=e.clientY:t.hoverModuleRegionObject.oy=t.hoverModuleRegionObject.ooy,t.hoverModuleRegionObject.x=t.hoverModuleRegionObject.ox-t.hoverModuleRegionObject.idm_workspace_outbox.getBoundingClientRect().x,t.hoverModuleRegionObject.y=t.hoverModuleRegionObject.oy-t.hoverModuleRegionObject.idm_workspace_outbox.getBoundingClientRect().y,t.hoverModuleRegionObject.width=Math.abs(e.clientX-t.hoverModuleRegionObject.oox),t.hoverModuleRegionObject.height=Math.abs(e.clientY-t.hoverModuleRegionObject.ooy);var r={x:t.hoverModuleRegionObject.ox,y:t.hoverModuleRegionObject.oy,width:t.hoverModuleRegionObject.width,height:t.hoverModuleRegionObject.height};if(t.hoverModuleRegionObject.moduleList&&t.hoverModuleRegionObject.moduleList.length>0)for(var i=0;i<t.hoverModuleRegionObject.moduleList.length;i++){var o=t.hoverModuleRegionObject.moduleList[i],a=o.getBoundingClientRect();if(a){var s=o.className.split(" ");t.judgeModuleRegion(r,a)?-1==s.indexOf("idm_region_check")&&(o.className=s.concat(["idm_region_check"]).join(" ")):s.indexOf("idm_region_check")>-1&&(s.splice(s.indexOf("idm_region_check"),1),o.className=s.join(" "))}}}}},judgeModuleRegion:function(e,t){var n=Math.max(e.x+e.width,t.x+t.width),r=Math.max(e.y+e.height,t.y+t.height),i=Math.min(e.x,t.x),o=Math.min(e.y,t.y);return"905"==this.currentRegionKey?n-i<=e.width+t.width&&r-o<=e.height+t.height:"906"==this.currentRegionKey?e.x<t.x&&e.y<t.y&&e.x+e.width>t.x+t.width&&e.y+e.height>t.y+t.height:void 0},workSpaceMousedownEvent:function(e){if(!this.isShowSvgCanvas){var t=this;if(this.isOpenHoverLayer){if(e.stopPropagation(),e.preventDefault(),this.openWorkspaceMoving){t.workSpaceStorageObject.workspaceScrollDOM=$("#drag_wrapper"),t.workSpaceStorageObject.workspaceOutDOM=$("#idm_workspace_outbox"),t.workSpaceStorageObject.workspaceOutDOM.addClass("idm_workspace_grabbing");var n=t.workSpaceStorageObject.workspaceScrollDOM.scrollTop(),r=t.workSpaceStorageObject.workspaceScrollDOM.scrollLeft();t.workSpaceStorageObject.workspaceScrollDOM.height(),t.workSpaceStorageObject.workspaceScrollDOM.width();t.workSpaceMoveStartPosition.X=e.clientX,t.workSpaceMoveStartPosition.Y=e.clientY,t.workSpaceMoveStartPosition.scrollTop=n,t.workSpaceMoveStartPosition.scrollLeft=r}else{if(1==this.dialogVisibleStatus)return;this.resizeModuleDisabledPageSelect=!1;var i=document.querySelector("#idm_workspace_outbox");t.hoverModuleRegionObject.moduleList=document.querySelectorAll(".idm_module.idm_module_absolute"),t.hoverModuleRegionObject.oox=e.clientX,t.hoverModuleRegionObject.ooy=e.clientY,t.hoverModuleRegionObject.ox=e.clientX,t.hoverModuleRegionObject.oy=e.clientY,t.hoverModuleRegionObject.x=e.clientX-i.getBoundingClientRect().x,t.hoverModuleRegionObject.y=e.clientY-i.getBoundingClientRect().y,t.hoverModuleRegionObject.idm_workspace_outbox=i}document.addEventListener("mousemove",t.workSpaceMouseMoveEvent),document.addEventListener("mouseup",t.workSpaceMouseUpEvent)}}},deletePageGroup:function(e,t,n){var r,i=this;return e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]),e.forEach((function(o,a){o.id==t?(r=o,n?n.children.splice(a,1):e.splice(a,1)):!r&&o.children&&(r=i.deletePageGroup(o.children,t,o))})),r},deletePageGroupModule:function(e,t){var n,r=this;return e=e||this.PageSettingData.page.group.list,e instanceof Array||(e=[e]),e.forEach((function(e,i){e.moduleList.includes(t)?(n=e,e.moduleList.splice(e.moduleList.indexOf(t),1)):!n&&e.children&&(n=r.deletePageGroupModule(e.children,t))})),n},batchDeleteHoverModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isOpenHoverLayer){if(e)return t?this.removeGroupData(e):this.deletePageModule(e,!0),void this.selectedPageModule(this.PageSettingData.id);for(var n=0;n<this.multipleSelectedModuleData.length;n++){var r=this.multipleSelectedModuleData[n];this.deletePageModule(r,!0)}this.multipleSelectedGroupData.length&&this.removeGroupData(this.multipleSelectedGroupData),this.selectedPageModule(this.PageSettingData.id)}},removeGroupData:function(e){var t=this;e instanceof Array||(e=[e]);var n=[];this.getGroupAllModuleId(e,n),n.forEach((function(e){var n=t.PageSettingData.page.group.allModuleList.indexOf(e);n>-1&&t.PageSettingData.page.group.allModuleList.splice(n,1),t.deletePageModule({packageid:e,comType:"common",positionMode:"absolute"},!0)}));for(var r=0;r<e.length;r++){var i=e[r];this.deletePageGroup(null,i.id)}},hoverModuleDevSetHiddenChange:function(e){var t=this;if(e.packageid){var n=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e.packageid}));if(!n||n&&0==n.length)return;this.changeHoverModeModuleHiddenState(e.packageid,!n[0].devSetHidden)}else this.changeHoverModeGroupHiddenState(e.id,!e.devSetHidden);var r=this.multipleSelectedGroupData.map((function(e){return e.id}));if(r&&r.forEach((function(e){var n=t.getGroupRectInfo(e),r=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+e+"']");r.length&&r.css({left:n.x+"px",top:n.y+"px","--width":n.width,"--height":n.height})})),this.currentHalfSelectedGroupObject.groupId){var i=this.getGroupRectInfo(this.currentHalfSelectedGroupObject.groupId),o=$(".idm-halfgroup-simulator-overlay[idm-group-anchor-id='"+this.currentHalfSelectedGroupObject.groupId+"']");o.length&&o.css({left:i.x+"px",top:i.y+"px","--width":i.width,"--height":i.height})}this.$refs.pageComponent&&this.$refs.pageComponent.refreshPageData(this.PageSettingData.page)},hoverModuleLockChange:function(e){if(e.packageid){var t=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e.packageid}));if(!t||t&&0==t.length)return;this.changeHoverModeModuleLockState(e.packageid,!t[0].lock)}else this.changeHoverModeGroupLockState(e.id,!e.lock);this.menuMultipleSelectedModuleHandle(),this.$refs.pageComponent&&this.$refs.pageComponent.refreshPageData(this.PageSettingData.page)},batchChangeModuleHideState:function(e){for(var t=0;t<this.multipleSelectedModuleData.length;t++){var n=this.multipleSelectedModuleData[t];this.changeHoverModeModuleHiddenState(n.packageid,e)}for(var r=0;r<this.multipleSelectedGroupData.length;r++){var i=this.multipleSelectedGroupData[r];this.changeHoverModeGroupHiddenState(i.id,e)}this.selectedPageModule(this.PageSettingData.id)},batchChangeModuleLockState:function(e){for(var t=0;t<this.multipleSelectedModuleData.length;t++){var n=this.multipleSelectedModuleData[t];this.changeHoverModeModuleLockState(n.packageid,e)}for(var r=0;r<this.multipleSelectedGroupData.length;r++){var i=this.multipleSelectedGroupData[r];this.changeHoverModeGroupLockState(i.id,e)}this.menuMultipleSelectedModuleHandle(),this.$refs.pageComponent&&this.$refs.pageComponent.refreshPageData(this.PageSettingData.page)},batchChangeModuleZindexNumber:function(e){var t=this,n=this,r=[];this.getGroupAllModuleId(this.multipleSelectedGroupData,r);var i=this.PageSettingData.page.componentsMap.filter((function(e){return r.includes(e.packageid)}));i=i.concat(this.multipleSelectedModuleData);var o=_.cloneDeep(i);if(o.sort((function(e,t){return e.props.basicAttr.zIndex-t.props.basicAttr.zIndex})),"121"==e||"122"==e)"121"==e&&_.reverse(o),o.forEach((function(n){var r=n.props.basicAttr.zIndex,a=[];if(t.PageSettingData.page.componentsMap.forEach((function(t){var n=o.filter((function(e){return e.packageid==t.packageid}));n&&n.length>0||"absolute"!=t.positionMode||!(t.props.basicAttr.zIndex>r&&"121"==e||t.props.basicAttr.zIndex<r&&"122"==e)||a.push(t)})),a.sort((function(e,t){return e.props.basicAttr.zIndex-t.props.basicAttr.zIndex})),"122"==e&&_.reverse(a),a.length>0){var s=n.props.basicAttr.zIndex,u=i.filter((function(e){return e.packageid==n.packageid}));u&&u.length&&(u[0].props.basicAttr.zIndex=a[0].props.basicAttr.zIndex),a[0].props.basicAttr.zIndex=s,t.selectedModuleData.packageid!=n.packageid&&t.selectedModuleData.packageid!=a[0].packageid||t.selectedPageModule(t.selectedModuleData.packageid==n.packageid?n.packageid:a[0].packageid,!1,void 0,!1)}}));else if("123"==e)o.forEach((function(e){var n=i.filter((function(t){return t.packageid==e.packageid}));n&&n.length&&(n[0].props.basicAttr.zIndex=t.getHoverModeModuleNewTopZindex()),t.selectedModuleData.packageid==e.packageid&&t.selectedPageModule(e.packageid,!1,void 0,!1)}));else if("124"==e){var a=n.PageSettingData.page.componentsMap.filter((function(e){return"absolute"==e.positionMode&&0==o.filter((function(t){return t.packageid==e.packageid})).length}));a.forEach((function(e){e.props.basicAttr.zIndex=e.props.basicAttr.zIndex+o.length})),o.forEach((function(e,n){var r=i.filter((function(t){return t.packageid==e.packageid}));r&&r.length&&(r[0].props.basicAttr.zIndex=n),t.selectedModuleData.packageid==e.packageid&&t.selectedPageModule(e.packageid,!1,void 0,!1)}))}this.refreshHoverModeModuleZindexCss(),this.menuMultipleSelectedModuleHandle()},refreshHoverModeModuleZindexCss:function(){this.PageSettingData.page.componentsMap.forEach((function(e){if("absolute"==e.positionMode){var t=e.props.basicAttr.zIndex,n={"z-index":t};$("#"+e.packageid).css(n)}}))},findModuleZindexIsTopOrBottom:function(e){var t=e.props&&e.props.basicAttr&&e.props.basicAttr.zIndex||0,n=!0,r=!0,i=this.PageSettingData.page.componentsMap,o=0;return i&&i.forEach((function(i){i&&"absolute"==i.positionMode&&o++,i&&"absolute"==i.positionMode&&i.props&&i.props.basicAttr&&(i.props.basicAttr.zIndex||0===i.props.basicAttr.zIndex)&&i.packageid!=e.packageid&&(parseInt(i.props.basicAttr.zIndex)>t?n=!1:parseInt(i.props.basicAttr.zIndex)==t||(r=!1))})),1==o?-1:n?9:r?0:1},hoverModeSelectedModuleHandle:function(e,t,n){var r=this,i=this;this.closeContextMenu();var o=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==t}));if(o&&(!o||0!=o.length)){var a=this.keyCtrlStatus.ctrlKey||this.keyCtrlStatus.shiftKey||this.hoverModuleRegionObject.regioning,s=!1,u=!1,c=e&&3!=e.which;if(this.PageSettingData.page.group&&this.PageSettingData.page.group.allModuleList.includes(o[0].packageid)){var l=this.getTopAndParentGroup(null,o[0].packageid);if(l.parent&&l.top)if(this.currentHalfSelectedGroupObject.groupId){var d=this.getGroupTree(null,this.currentHalfSelectedGroupObject.groupId);if(s=!0,d.moduleList.includes(o[0].packageid)){if(s=!1,a){var f=this.multipleSelectedModuleData.filter((function(e){return e.packageid==o[0].packageid}));if(f&&f.length>0)for(var A=0;A<this.multipleSelectedModuleData.length;A++){var h=this.multipleSelectedModuleData[A];if(h.packageid==o[0].packageid){this.multipleSelectedModuleData.splice(A,1),s=!0;break}}}}else{var p=this.getTopAndParentGroup(d.children,o[0].packageid);if(!p.top)return this.currentHalfSelectedGroupObject.groupId="",this.multipleSelectedGroupData=[],this.multipleSelectedModuleData=[],void this.hoverModeSelectedModuleHandle(e,t,n);if(a){var m=this.multipleSelectedGroupData.filter((function(e){return e.id==p.top.id}));if(m&&m.length>0)for(var g=0;g<this.multipleSelectedGroupData.length;g++){var v=this.multipleSelectedGroupData[g];if(v.id==p.top.id){this.multipleSelectedGroupData.splice(g,1),u=!0;break}}else this.multipleSelectedGroupData.push(p.top)}else{if(c&&1==this.multipleSelectedGroupData.length&&p.top.id==this.multipleSelectedGroupData[0].id)return this.currentHalfSelectedGroupObject.groupId=p.top.id,this.multipleSelectedGroupData=[],this.multipleSelectedModuleData=[],void this.hoverModeSelectedModuleHandle(e,t,n);this.multipleSelectedGroupData=[p.top],this.multipleSelectedModuleData=[]}}}else if(this.createHoverModeGroupSimulatorOverlay(l.top),a){var y=this.multipleSelectedGroupData.filter((function(e){return e.id==l.top.id}));if(this.hoverModuleRegionObject.regioning&&y&&0==y.length)this.multipleSelectedGroupData.push(l.top);else if(!this.hoverModuleRegionObject.regioning)if(y&&y.length>0)for(var b=0;b<this.multipleSelectedGroupData.length;b++){var w=this.multipleSelectedGroupData[b];if(w.id==l.top.id){this.multipleSelectedGroupData.splice(b,1),u=!0;break}}else this.multipleSelectedGroupData.push(l.top);s=!0,this.currentHalfSelectedGroupObject.groupId=""}else{if(s=!0,c&&1==this.multipleSelectedGroupData.length&&l.top.id==this.multipleSelectedGroupData[0].id)if(this.currentHalfSelectedGroupObject.groupId=l.top.id,l.top.moduleList.includes(o[0].packageid))s=!1;else{var x=this.getTopAndParentGroup(l.top.children,o[0].packageid);x.top&&(this.multipleSelectedGroupData=[x.top])}else this.currentHalfSelectedGroupObject.groupId="",this.multipleSelectedGroupData=[l.top];this.multipleSelectedModuleData=[]}}else{if(this.currentHalfSelectedGroupObject.groupId="",a){if(this.multipleSelectedGroupData.length>0){var C=[];this.PageSettingData.page.group.list.forEach((function(e){r.multipleSelectedGroupData.filter((function(t){return t.id==e.id})).length>0&&C.push(e)})),this.multipleSelectedGroupData=C}}else this.multipleSelectedGroupData=[];for(var S=function(e){for(var t=0;t<i.multipleSelectedModuleData.length;t++){var n=i.multipleSelectedModuleData[t];if(n.packageid==e){i.multipleSelectedModuleData.splice(t,1);break}}},k=this.multipleSelectedModuleData.filter((function(e){return r.PageSettingData.page.group.allModuleList.includes(e.packageid)})),_=0;_<k.length;_++){var B=k[_];S(B.packageid)}}if(!s)if(this.createHoverModeModuleSimulatorOverlay(o[0]),a){var D=this.multipleSelectedModuleData.filter((function(e){return e.packageid==o[0].packageid}));if(D&&D.length>0)for(var M=0;M<this.multipleSelectedModuleData.length;M++){var E=this.multipleSelectedModuleData[M];if(E.packageid==o[0].packageid){this.multipleSelectedModuleData.splice(M,1),u=!0;break}}else this.multipleSelectedModuleData.push(o[0])}else this.multipleSelectedModuleData=[o[0]],this.multipleSelectedGroupData=[];var T=o[0].packageid;(u||this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length==1)&&(T=this.multipleSelectedModuleData.length?this.multipleSelectedModuleData[this.multipleSelectedModuleData.length-1].packageid:"",this.multipleSelectedGroupData.length&&(T="")),e&&T&&this.selectedPageModule(T,!1,void 0,!0),!1===e&&1==this.multipleSelectedModuleData.length&&this.selectedModuleData.packageid!=this.multipleSelectedModuleData[this.multipleSelectedModuleData.length-1].packageid&&this.selectedPageModule(this.multipleSelectedModuleData[this.multipleSelectedModuleData.length-1].packageid,!1,void 0,!0),this.moduleSimulatorOverlayHandle(),!0!==n&&this.changeAttrPanelActiveTab("10"),this.multipleSelectedGroupData.length&&!0!==n&&this.changeAttrPanelActiveTab("12"),this.menuMultipleSelectedModuleHandle()}},moduleSimulatorOverlayHandle:function(){this.groupSimulatorOverlayHandle();var e=$(".idm-com-simulator-overlay");if(0!=this.multipleSelectedModuleData.length){for(var t=this.multipleSelectedModuleData.map((function(e){return e.packageid})),n=[],r=0;r<e.length;r++){var i=$(e[r]),o=i.attr("idm-com-anchor-id");-1==t.indexOf(o)?i.remove():(n.push(o),i.css("--hiddenAnchor",this.multipleSelectedGroupData.length+this.multipleSelectedModuleData.length==1?"block":"none"))}var a=$(".idm_module_absolute:not(.idm_module_noselect_type)");if(a&&a.length>0)for(var s=0;s<a.length;s++){var u=a[s];-1==t.indexOf($(u).attr("id"))&&$(u).addClass("idm_module_noselect_type")}for(var c=0;c<this.multipleSelectedModuleData.length;c++){var l=this.multipleSelectedModuleData[c];-1==n.indexOf(l.packageid)&&this.createHoverModeModuleSimulatorOverlay(l)}}else e&&e.remove()},groupSimulatorOverlayHandle:function(){this.hoverModeHalfGroupSimulatorOverlayHandle();var e=$(".idm-group-simulator-overlay");if(0!=this.multipleSelectedGroupData.length){for(var t=this.multipleSelectedGroupData.map((function(e){return e.id})),n=[],r=0;r<e.length;r++){var i=$(e[r]),o=i.attr("idm-group-anchor-id");-1==t.indexOf(o)?i.remove():(this.refreshHoverModeGroupSimulatorOverlay({id:o}),n.push(o),i.css("--hiddenAnchor",this.multipleSelectedGroupData.length+this.multipleSelectedModuleData.length==1?"block":"none"))}for(var a=0;a<this.multipleSelectedGroupData.length;a++){var s=this.multipleSelectedGroupData[a];-1==n.indexOf(s.id)&&this.createHoverModeGroupSimulatorOverlay(s)}}else e&&e.remove()},getHoverModeModuleLockDom:function(){return $('<i style="font-size: 8px;"><svg class="svg-icon" viewBox="0 0 1024 1024" aria-hidden="true" width="1em" height="1em" fill="currentColor"><path d="M869.546667 0l120.661333 120.661333-374.442667 374.442667 374.442667 374.442667-120.661333 120.661333L494.933333 615.765333 120.661333 990.208 0 869.546667 374.442667 494.933333 0 120.661333 120.661333 0l374.442667 374.442667L869.546667 0z" fill="#FFFFFF" opacity=".5"></path></svg></i>')},changeHoverModeModuleLockState:function(e,t){var n=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(n&&(!n||0!=n.length)){n[0].lock=t;var r=$(".idm-com-simulator-overlay[idm-com-anchor-id='"+e+"']");if(t){if(r.hasClass("idm-com-lockclass"))return;r.addClass("idm-com-lockclass"),r.find(".isa-north").append(this.getHoverModeModuleLockDom()),r.find(".isa-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south").append(this.getHoverModeModuleLockDom()),r.find(".isa-west").append(this.getHoverModeModuleLockDom()),r.find(".isa-north-west").append(this.getHoverModeModuleLockDom()),r.find(".isa-north-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south-west").append(this.getHoverModeModuleLockDom())}else r.removeClass("idm-com-lockclass"),r.find("i").remove()}},changeHoverModeGroupLockState:function(e,t){var n=this.getGroupTree(null,e);if(n&&(!n||0!=n.length)){n.lock=t;var r=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+e+"']");if(t){if(r.hasClass("idm-com-lockclass"))return;r.addClass("idm-com-lockclass"),r.find(".isa-north").append(this.getHoverModeModuleLockDom()),r.find(".isa-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south").append(this.getHoverModeModuleLockDom()),r.find(".isa-west").append(this.getHoverModeModuleLockDom()),r.find(".isa-north-west").append(this.getHoverModeModuleLockDom()),r.find(".isa-north-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south-east").append(this.getHoverModeModuleLockDom()),r.find(".isa-south-west").append(this.getHoverModeModuleLockDom())}else r.removeClass("idm-com-lockclass"),r.find("i").remove()}},changeHoverModeGroupHiddenState:function(e,t){var n=this.getGroupTree(null,e);if(n&&(!n||0!=n.length)){n.devSetHidden=t;var r=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+e+"']");r&&r.length>0&&(t?r.hide():r.show()),t?$("#"+e).hide():$("#"+e).show()}},changeHoverModeModuleHiddenState:function(e,t){var n=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(n&&(!n||0!=n.length)){n[0].devSetHidden=t;var r=$(".idm-com-simulator-overlay[idm-com-anchor-id='"+e+"']");r&&r.length>0&&(t?r.hide():r.show()),t?$("#"+e).hide():$("#"+e).show()}},hoverModeHalfGroupSimulatorOverlayHandle:function(){var e=this,t=this.currentHalfSelectedGroupObject.groupId,n=$(".idm-halfgroup-simulator-overlay");if(t){var r=this.getGroupRectInfo(t),i=$(".idm-halfgroup-simulator-overlay[idm-group-anchor-id='"+t+"']");if(0==i.length){$(".idm-halfgroup-simulator-overlay").remove();var o=$("#"+t);i=$("<div />"),i.addClass("idm-halfgroup-simulator-overlay"),i.attr("idm-group-anchor-id",t),o.before(i)}i.css({"z-index":1e5,position:"absolute",left:r.x+"px",top:r.y+"px","--width":r.width,"--height":r.height,"--scale":e.workareaScaleValue/100})}else n&&n.remove()},refreshHoverModeGroupSimulatorOverlay:function(e){var t=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+e.id+"']");if(t.length){var n=this.getGroupRectInfo(e.id);t.css({left:n.x+"px",top:n.y+"px","--width":n.width,"--height":n.height})}},createHoverModeGroupSimulatorOverlay:function(e){var t=this;if(!($(".idm-group-simulator-overlay[idm-group-anchor-id='"+e.id+"']").length>0)){var n=this.getGroupRectInfo(e.id),r=$("#"+e.id),i=$("<div />");i.addClass("idm-group-simulator-overlay"),i.attr("idm-group-anchor-id",e.id),i.css({"z-index":1e5,position:"absolute",width:"0px",height:"0px",left:n.x+"px",top:n.y+"px",overflow:"visible","--width":n.width,"--height":n.height,"--hiddenAnchor":this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length>1?"none":"block","--scale":t.workareaScaleValue/100});var o=$("<div class='idm_simulator_line isl-top'/>"),a=$("<div class='idm_simulator_line isl-right'/>"),s=$("<div class='idm_simulator_line isl-bottom'/>"),u=$("<div class='idm_simulator_line isl-left'/>"),c=$("<div class='idm_simulator_anchor isa-north' direction='north'/>"),l=$("<div class='idm_simulator_anchor isa-east' direction='east'/>"),d=$("<div class='idm_simulator_anchor isa-south' direction='south'/>"),f=$("<div class='idm_simulator_anchor isa-west' direction='west'/>"),A=$("<div class='idm_simulator_anchor isa-north-west' direction='north-west'/>"),h=$("<div class='idm_simulator_anchor isa-north-east' direction='north-east'/>"),p=$("<div class='idm_simulator_anchor isa-south-east' direction='south-east'/>"),m=$("<div class='idm_simulator_anchor isa-south-west' direction='south-west'/>");i.append(o).append(a).append(s).append(u).append(c).append(l).append(d).append(f).append(A).append(h).append(p).append(m);var g=function(e){1==e.which&&t.hoverModuleResizeMouseDownEvent(e)};c.mousedown(g),l.mousedown(g),d.mousedown(g),f.mousedown(g),A.mousedown(g),h.mousedown(g),p.mousedown(g),m.mousedown(g),r.before(i),e.lock&&t.changeHoverModeGroupLockState(e.id,!0)}},getGroupAllModuleId:function(e,t,n){var r=this;t instanceof Array&&(e instanceof Array||(e=[e]),e.forEach((function(e){e.devSetHidden&&n||(e.moduleList&&e.moduleList.forEach((function(e){t.push(e)})),e.children&&e.children.length&&r.getGroupAllModuleId(e.children,t,n))})))},getGroupRectInfo:function(e,t){t=t||this.PageSettingData.page.componentsMap;var n=this.getGroupTree(null,e),r=[];this.getGroupAllModuleId(n,r,!0);var i={x:0,y:0,width:0,height:0},o=99999999,a=99999999,s=0,u=0,c=this.$refs.idm_drag_documtnt.getBoundingClientRect().width/(this.workareaScaleValue/100),l=this.$refs.idm_drag_documtnt.getBoundingClientRect().height/(this.workareaScaleValue/100);return t.forEach((function(e){if(e&&"absolute"==e.positionMode&&r.includes(e.packageid)&&!e.devSetHidden){var t=e.props.basicAttr.positionWH,n=e.props.basicAttr.positionXY,i=e.props.basicAttr.positionOrigin||"leftTop";t=t.split(","),n=n.split(",");var d=t.length>0?parseFloat(t[0]):0,f=t.length>1?parseFloat(t[1]):0,A=n.length>0?parseFloat(n[0]):0,h=n.length>1?parseFloat(n[1]):0;"leftTop"!=i&&"rightTop"!=i||(a>h&&(a=h),u<h+f&&(u=h+f)),"leftTop"!=i&&"leftBottom"!=i||(o>A&&(o=A),s<A+d&&(s=A+d)),"rightTop"!=i&&"rightBottom"!=i||(o>c-A-d&&(o=c-A-d),s<c-A&&(s=c-A)),"rightBottom"!=i&&"leftBottom"!=i||(a>l-h-f&&(a=l-h-f),u<l-h&&(u=l-h))}})),i.x=o,i.y=a,i.width=s-o,i.height=u-a,i},createHoverModeModuleSimulatorOverlay:function(e){var t=this;if(!($(".idm-com-simulator-overlay[idm-com-anchor-id='"+e.packageid+"']").length>0)){var n=$("#"+e.packageid);n.addClass("idm_module_noselect_type");var r=$("<div />");r.addClass("idm-com-simulator-overlay"),r.attr("idm-com-anchor-id",e.packageid),r.css({"z-index":1e5,position:"absolute",width:"0px",height:"0px",left:n.css("left")||"initial",top:n.css("top")||"initial",bottom:n.css("bottom")||"initial",right:n.css("right")||"initial",overflow:"visible","--width":n.css("width").replace("px",""),"--height":n.css("height").replace("px",""),"--hiddenAnchor":this.multipleSelectedModuleData.length+this.multipleSelectedGroupData.length?"none":"block","--scale":t.workareaScaleValue/100});var i=$("<div class='idm_simulator_line isl-top'/>"),o=$("<div class='idm_simulator_line isl-right'/>"),a=$("<div class='idm_simulator_line isl-bottom'/>"),s=$("<div class='idm_simulator_line isl-left'/>"),u=$("<div class='idm_simulator_anchor isa-north' direction='north'/>"),c=$("<div class='idm_simulator_anchor isa-east' direction='east'/>"),l=$("<div class='idm_simulator_anchor isa-south' direction='south'/>"),d=$("<div class='idm_simulator_anchor isa-west' direction='west'/>"),f=$("<div class='idm_simulator_anchor isa-north-west' direction='north-west'/>"),A=$("<div class='idm_simulator_anchor isa-north-east' direction='north-east'/>"),h=$("<div class='idm_simulator_anchor isa-south-east' direction='south-east'/>"),p=$("<div class='idm_simulator_anchor isa-south-west' direction='south-west'/>");r.append(i).append(o).append(a).append(s).append(u).append(c).append(l).append(d).append(f).append(A).append(h).append(p);var m=function(e){1==e.which&&t.hoverModuleResizeMouseDownEvent(e)};u.mousedown(m),c.mousedown(m),l.mousedown(m),d.mousedown(m),f.mousedown(m),A.mousedown(m),h.mousedown(m),p.mousedown(m),n.before(r),e.lock&&t.changeHoverModeModuleLockState(e.packageid,!0)}},showCurrentMouseTipInfo:function(e,t){var n=this,r="";if("move"==t){var i=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==n.currentMovePackageid}));if(i&&i.length){var o=i[0].props&&i[0].props.basicAttr&&i[0].props.basicAttr.positionOrigin||"leftTop",a="",s="",u="",c=$("#"+i[0].packageid);switch(o){case"leftTop":a="左上",s=c.css("left"),u=c.css("top");break;case"rightTop":a="右上",s=c.css("right"),u=c.css("top");break;case"rightBottom":a="右下",s=c.css("right"),u=c.css("bottom");break;case"leftBottom":a="左下",s=c.css("left"),u=c.css("bottom");break}r="O：".concat(a,"，X：").concat(s.replace("px",""),"，Y：").concat(u.replace("px",""))}}else{var l="",d="";"group"!=this.currentResizeObject.type?(l=this.currentResizeObject.moduleDOM.css("width"),d=this.currentResizeObject.moduleDOM.css("height")):(l=this.currentResizeObject.groupSimulatorOverlayDOM.css("--width"),d=this.currentResizeObject.groupSimulatorOverlayDOM.css("--height")),r="W：".concat(l.replace("px",""),"，H：").concat(d.replace("px",""))}this.createAndUpdateShowMouseTipDom(e,r)},createAndUpdateShowMouseTipDom:function(e,t){var n=$(".idm-hovermodule-mouse-tipbox");n&&n.length||(n=$("<div/>"),n.addClass("idm-hovermodule-mouse-tipbox"),$("body").append(n)),n.text(t);var r=e.clientX,i=e.clientY;n.css({transform:"translate(".concat(r,"px,").concat(i,"px) translateX(-100%) translateY(-100%)")})},clearShowMouseTipDom:function(){var e=$(".idm-hovermodule-mouse-tipbox");e&&e.length&&e.remove()},hoverModuleResizeMouseUpEvent:function(e){var t=this;e.stopPropagation(),e.preventDefault(),t.clearShowMouseTipDom(),document.removeEventListener("mousemove",t.hoverModuleResizeMouseMoveEvent),document.removeEventListener("mouseup",t.hoverModuleResizeMouseUpEvent),this.resizeRefreshComponentsProps("group"==this.currentResizeObject.type?this.currentResizeObject.groupModuleDOMList:this.currentResizeObject.moduleDOM,this.PageSettingData.page.componentsMap),t.resizeModuleDisabledPageSelect=!0,t.selectedPageModule("group"!=this.currentResizeObject.type?this.currentResizeObject.module.packageid:this.currentResizeObject.groupModule[0].packageid,!1,void 0,!1),this.hoverModeHalfGroupSimulatorOverlayHandle()},resizeRefreshComponentsProps:function(e,t){var n=this;e instanceof Array||(e=[e]),e&&e.forEach((function(e){var r=t.filter((function(t){return t.packageid==e.attr("id")})),i=r[0],o=i.props&&i.props.basicAttr&&i.props.basicAttr.positionOrigin||"leftTop";if(!i||!i.lock||"group"==n.currentResizeObject.type){var a=[],s=[];switch(o){case"leftTop":a.push(e.css("left").replace("px","")),a.push(e.css("top").replace("px",""));break;case"rightTop":a.push(e.css("right").replace("px","")),a.push(e.css("top").replace("px",""));break;case"rightBottom":a.push(e.css("right").replace("px","")),a.push(e.css("bottom").replace("px",""));break;case"leftBottom":a.push(e.css("left").replace("px","")),a.push(e.css("bottom").replace("px",""));break}s.push(e.css("width").replace("px","")),s.push(e.css("height").replace("px","")),i.props.basicAttr.positionXY=a.join(","),i.props.basicAttr.positionWH=s.join(",")}}))},hoverModuleResizeMouseMoveEvent:function(e){var t=this,n=this;this.hoverModuleData={},e.stopPropagation(),e.preventDefault();var r=e.clientX/(n.workareaScaleValue/100),i=e.clientY/(n.workareaScaleValue/100),o={x:r-this.currentResizeStartPosition.X,y:i-this.currentResizeStartPosition.Y},a=[this.currentResizeObject.module];if("group"==this.currentResizeObject.type){a=this.currentResizeObject.groupModule;var s=this.getGroupRectInfo(this.currentResizeObject.packageid,n.currentResizeObject.copyComponentsMap);s.width<=0,s.height<=0}var u=this.currentResizeObject.direction,c=this.currentResizeObject.type,l=this.$refs.idm_drag_documtnt.getBoundingClientRect().width/(this.workareaScaleValue/100),d=this.$refs.idm_drag_documtnt.getBoundingClientRect().height/(this.workareaScaleValue/100),f=this.$refs.idm_drag_documtnt.getBoundingClientRect().x/(this.workareaScaleValue/100),A=this.$refs.idm_drag_documtnt.getBoundingClientRect().y/(this.workareaScaleValue/100);if(a&&a.forEach((function(e){var r=e.props&&e.props.basicAttr&&e.props.basicAttr.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);r=r.split(",");var i=r.length>0?parseFloat(r[0]):0,a=r.length>1?parseFloat(r[1]):0,s=e.props&&e.props.basicAttr&&e.props.basicAttr.positionXY||"0,0";s=s.split(",");var h=s.length>0?parseFloat(s[0]):0,p=s.length>1?parseFloat(s[1]):0,m=e.props&&e.props.basicAttr&&e.props.basicAttr.positionOrigin||"leftTop",g={},v={},y=o.y,b=o.x;if("group"==c&&(y=a/t.currentResizeStartPosition.HEIGHT*y,b=i/t.currentResizeStartPosition.WIDTH*b),"north"==u||"north-west"==u||"north-east"==u)if(g.height=a-y+"px",v["--height"]=a-y,v["--height"]>=0){if("leftTop"==m||"rightTop"==m){if(g.top=p+y+"px","group"==c){var w=p-t.currentResizeStartPosition.Y+A;g.top=p+o.y-(w-w*((t.currentResizeStartPosition.HEIGHT-o.y)/t.currentResizeStartPosition.HEIGHT))+"px"}v.top=p+y+"px"}else if(v.bottom=p+a-y+"px","group"==c){var x=d-p-a,C=x-t.currentResizeStartPosition.Y+A;g.bottom=d-v["--height"]-(x+o.y-(C-C*((t.currentResizeStartPosition.HEIGHT-o.y)/t.currentResizeStartPosition.HEIGHT)))+"px"}}else"leftTop"==m||"rightTop"==m?(g.top=p+a+"px","group"==c&&(g.top=t.currentResizeStartPosition.Y-A+t.currentResizeStartPosition.HEIGHT+"px"),v.top=p+a+"px"):v.bottom=p+"px";if(("east"==u||"north-east"==u||"south-east"==u)&&(g.width=i+b+"px",v["--width"]=i+b,v["--width"]>=0))if("rightTop"==m||"rightBottom"==m){if(g.right=h-b+"px","group"==c){var S=l-h-i,k=S-t.currentResizeStartPosition.X+f;g.right=l-v["--width"]-(S+o.x-(k-k*((t.currentResizeStartPosition.WIDTH+o.x)/t.currentResizeStartPosition.WIDTH)))+"px"}v.right=h+i+"px"}else if("group"==c){var _=h-t.currentResizeStartPosition.X+f;g.left=h+o.x-(_-_*((t.currentResizeStartPosition.WIDTH+o.x)/t.currentResizeStartPosition.WIDTH))+"px"}if(("south"==u||"south-east"==u||"south-west"==u)&&(g.height=a+y+"px",v["--height"]=a+y,v["--height"]>=0))if("leftBottom"==m||"rightBottom"==m){if(g.bottom=p-y+"px","group"==c){var B=d-p-a,D=B-t.currentResizeStartPosition.Y+A;g.bottom=d-v["--height"]-(B+o.y-(D-D*((t.currentResizeStartPosition.HEIGHT+o.y)/t.currentResizeStartPosition.HEIGHT)))+"px"}v.bottom=p+a+"px"}else if("group"==c){var M=p-t.currentResizeStartPosition.Y+A;g.top=p+o.y-(M-M*((t.currentResizeStartPosition.HEIGHT+o.y)/t.currentResizeStartPosition.HEIGHT))+"px"}if("west"==u||"north-west"==u||"south-west"==u)if(g.width=i-b+"px",v["--width"]=i-b,v["--width"]>=0){if("leftTop"==m||"leftBottom"==m){if(g.left=h+b+"px","group"==c){var E=h-t.currentResizeStartPosition.X+f;g.left=h+o.x-(E-E*((t.currentResizeStartPosition.WIDTH-o.x)/t.currentResizeStartPosition.WIDTH))+"px"}v.left=h+b+"px"}else if(v.right=h+(i-b)+"px","group"==c){var T=l-h-i,I=T-t.currentResizeStartPosition.X+f;g.right=l-v["--width"]-(T+o.x-(I-I*((t.currentResizeStartPosition.WIDTH-o.x)/t.currentResizeStartPosition.WIDTH)))+"px"}}else"leftTop"==m||"leftBottom"==m?(g.left=h+i+"px","group"==c&&(g.left=t.currentResizeStartPosition.X-f+t.currentResizeStartPosition.WIDTH+"px"),v.left=h+i+"px"):v.right=h+"px";if(v["--width"]<0&&(v["--width"]=0,g["width"]="0px"),v["--height"]<0&&(v["--height"]=0,g["height"]="0px"),"module"==t.currentResizeObject.type){var O=t.currentResizeObject.simulatorOverlayDOM.css("transform-origin");O=O.split(" ");var L=[];v["--width"]||0==v["--width"]?L.push("".concat(v["--width"]/2,"px")):L.push(O[0]),v["--height"]||0==v["--height"]?L.push("".concat(v["--height"]/2,"px")):L.push(O[1]),v["transform-origin"]=L.join(" "),t.currentResizeObject.simulatorOverlayDOM.css(v),t.currentResizeObject.moduleDOM.css(g)}else for(var F=0;F<t.currentResizeObject.groupModuleDOMList.length;F++){var P=t.currentResizeObject.groupModuleDOMList[F];if(P.attr("id")==e.packageid){P.css(g);break}}})),"group"==this.currentResizeObject.type){this.resizeRefreshComponentsProps(this.currentResizeObject.groupModuleDOMList,this.currentResizeObject.copyComponentsMap);var h=this.getGroupRectInfo(this.currentResizeObject.packageid,n.currentResizeObject.copyComponentsMap);this.currentResizeObject.groupSimulatorOverlayDOM.css({left:h.x+"px",top:h.y+"px","--width":h.width,"--height":h.height})}this.showCurrentMouseTipInfo(e,"size"),this.jsPlumbRepaintEverything()},hoverModuleResizeMouseDownEvent:function(e){var t=this,n=this;if(e.stopPropagation(),e.preventDefault(),this.currentResizeObject.packageid=e.target.parentElement.getAttribute("idm-com-anchor-id"),this.currentResizeObject.packageid?this.currentResizeObject.type="module":(this.currentResizeObject.packageid=e.target.parentElement.getAttribute("idm-group-anchor-id"),this.currentResizeObject.type="group"),this.currentResizeObject.direction=e.target.getAttribute("direction"),"module"==this.currentResizeObject.type){var r=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==t.currentResizeObject.packageid}));if(!r&&r.length)return;if(this.currentResizeObject.module=r&&r.length?r[0]:{},this.currentResizeObject.module&&this.currentResizeObject.module.lock)return;this.currentResizeObject.simulatorOverlayDOM=$(".idm-com-simulator-overlay[idm-com-anchor-id='"+this.currentResizeObject.packageid+"']"),this.currentResizeObject.moduleDOM=$("#"+this.currentResizeObject.packageid)}else{if(this.currentResizeObject.groupModuleDOMList=[],this.currentResizeObject.group=this.getGroupTree(null,this.currentResizeObject.packageid),!this.currentResizeObject.group)return;if(this.currentResizeObject.group&&this.currentResizeObject.group.lock)return;this.currentResizeObject.groupSimulatorOverlayDOM=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+this.currentResizeObject.packageid+"']");var i=[];this.getGroupAllModuleId(this.currentResizeObject.group,i),this.currentResizeObject.groupModule=this.PageSettingData.page.componentsMap.filter((function(e){return i.includes(e.packageid)})),i.forEach((function(e){t.currentResizeObject.groupModuleDOMList.push($("#"+e))})),this.currentResizeStartPosition.WIDTH=parseFloat(this.currentResizeObject.groupSimulatorOverlayDOM.css("--width")),this.currentResizeStartPosition.HEIGHT=parseFloat(this.currentResizeObject.groupSimulatorOverlayDOM.css("--height")),this.currentResizeObject.copyComponentsMap=_.cloneDeep(this.PageSettingData.page.componentsMap)}this.currentResizeStartPosition.X=e.clientX/(n.workareaScaleValue/100),this.currentResizeStartPosition.Y=e.clientY/(n.workareaScaleValue/100),document.addEventListener("mousemove",n.hoverModuleResizeMouseMoveEvent),document.addEventListener("mouseup",n.hoverModuleResizeMouseUpEvent)},hoverModuleMouseUpEvent:function(e){var t=this;e.stopPropagation(),e.preventDefault(),t.clearShowMouseTipDom(),document.removeEventListener("mousemove",t.hoverModuleMouseMoveEvent),document.removeEventListener("mouseup",t.hoverModuleMouseUpEvent),this.currentMoveStorageObject.moduleDOM&&this.currentMoveStorageObject.moduleDOM.forEach((function(e){var n=$(e),r=t.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==n.attr("id")}));if(n.removeClass("idm_module_grabbing"),r&&r.length>0){var i=n.attr("position-origin"),o=[];switch(i){case"leftTop":o.push(n.css("left").replace("px","")),o.push(n.css("top").replace("px",""));break;case"rightTop":o.push(n.css("right").replace("px","")),o.push(n.css("top").replace("px",""));break;case"rightBottom":o.push(n.css("right").replace("px","")),o.push(n.css("bottom").replace("px",""));break;case"leftBottom":o.push(n.css("left").replace("px","")),o.push(n.css("bottom").replace("px",""));break}r[0].props.basicAttr.positionXY=o.join(","),r[0].packageid==t.selectedModuleData.packageid&&t.selectedPageModule(t.selectedModuleData.packageid,!1,void 0,!0)}})),e.clientX/(t.workareaScaleValue/100)==this.currentMoveStartPosition.X&&e.clientY/(t.workareaScaleValue/100)==this.currentMoveStartPosition.Y&&(t.currentMouseClickEvent=!0),this.hoverModeHalfGroupSimulatorOverlayHandle()},moveRefreshComponentsProps:function(){var e=this;this.currentMoveStorageObject.moduleDOM&&this.currentMoveStorageObject.moduleDOM.forEach((function(t){var n=$(t),r=e.currentMoveStorageObject.copyComponentsMap.filter((function(e){return e.packageid==n.attr("id")}));if(n.removeClass("idm_module_grabbing"),r&&r.length>0){var i=n.attr("position-origin"),o=[];switch(i){case"leftTop":o.push(n.css("left").replace("px","")),o.push(n.css("top").replace("px",""));break;case"rightTop":o.push(n.css("right").replace("px","")),o.push(n.css("top").replace("px",""));break;case"rightBottom":o.push(n.css("right").replace("px","")),o.push(n.css("bottom").replace("px",""));break;case"leftBottom":o.push(n.css("left").replace("px","")),o.push(n.css("bottom").replace("px",""));break}r[0].props.basicAttr.positionXY=o.join(",")}}))},hoverModuleMouseMoveEvent:function(e){var t=this,n=this;this.hoverModuleData={},e.stopPropagation(),e.preventDefault();var r=e.clientX/(n.workareaScaleValue/100),i=e.clientY/(n.workareaScaleValue/100),o=this.currentMoveStorageObject.moveModuleList;if(o&&o.length){for(var a=0;a<o.length;a++){var s=o[a];if(s.lock&&this.currentMovePackageid==s.packageid&&("checkModule"==this.currentMoveStorageObject.moveType||"module"==this.currentMoveStorageObject.moveType))return}n.showCurrentMouseTipInfo(e,"move"),this.currentMoveStorageObject.moduleDOM||(this.currentMoveStorageObject.simulatorOverlayDOM=$(".idm-com-simulator-overlay"),this.currentMoveStorageObject.groupSimulatorOverlayDOM=$(".idm-group-simulator-overlay"),this.currentMoveStorageObject.moduleDOM=[],o.forEach((function(e){t.currentMoveStorageObject.moduleDOM.push($("#"+e.packageid))}))),o.forEach((function(e){if(!e.lock||"checkModule"!=t.currentMoveStorageObject.moveType&&"module"!=t.currentMoveStorageObject.moveType){var o=e.props&&e.props.basicAttr&&e.props.basicAttr.positionOrigin||"leftTop",a=e.props&&e.props.basicAttr&&e.props.basicAttr.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height);a=a.split(",");var s=a.length>0?parseFloat(a[0]):0,u=a.length>1?parseFloat(a[1]):0,c=e.props&&e.props.basicAttr&&e.props.basicAttr.positionXY||"0,0";c=c.split(",");var l=c.length>0?parseFloat(c[0]):0,d=c.length>1?parseFloat(c[1]):0,f=l,A=d,h={},p={};switch(o){case"leftTop":f=l+(r-t.currentMoveStartPosition.X),A=d+(i-t.currentMoveStartPosition.Y),p=h={left:f+"px",top:A+"px",right:"auto",bottom:"auto"};break;case"rightTop":f=l-(r-t.currentMoveStartPosition.X),A=d+(i-t.currentMoveStartPosition.Y),h={left:"initial",top:A+"px",right:f+"px",bottom:"initial"},p={left:"auto",top:A+"px",right:f+s+"px",bottom:"auto"};break;case"rightBottom":f=l-(r-t.currentMoveStartPosition.X),A=d-(i-t.currentMoveStartPosition.Y),h={left:"initial",top:"initial",right:f+"px",bottom:A+"px"},p={left:"auto",top:"auto",right:f+s+"px",bottom:A+u+"px"};break;case"leftBottom":f=l+(r-t.currentMoveStartPosition.X),A=d-(i-t.currentMoveStartPosition.Y),h={left:f+"px",top:"initial",right:"initial",bottom:A+"px"},p={left:f+"px",top:"auto",right:"auto",bottom:A+u+"px"};break}if(console.log("🚀 ~ file: hoverLayout.js ~ line 312 ~ hoverModuleMouseMoveEvent ~ styleObject",h),t.currentMoveStorageObject.moduleDOM&&t.currentMoveStorageObject.moduleDOM.forEach((function(t){var n=$(t);n.attr("id")==e.packageid&&(n.attr("position-origin",o),n.css(h),n.hasClass("idm_module_grabbing")||n.addClass("idm_module_grabbing"))})),t.currentMoveStorageObject.simulatorOverlayDOM)for(var m=0;m<t.currentMoveStorageObject.simulatorOverlayDOM.length;m++){var g=t.currentMoveStorageObject.simulatorOverlayDOM[m],v=$(g);v.attr("idm-com-anchor-id")==e.packageid&&v.css(p)}}})),"checkModule"!=this.currentMoveStorageObject.moveType&&(this.moveRefreshComponentsProps(),this.multipleSelectedGroupData.forEach((function(e){var r=t.getGroupRectInfo(e.id,n.currentMoveStorageObject.copyComponentsMap),i=$(".idm-group-simulator-overlay[idm-group-anchor-id='"+e.id+"']");i.css({left:r.x+"px",top:r.y+"px"})})))}this.jsPlumbRepaintEverything()},hoverModuleMousedownEvent:function(e,t){var n=this,r=this;if(e.stopPropagation(),e.preventDefault(),t){document.addEventListener("mouseup",r.hoverModuleMouseUpEvent),this.currentMovePackageid=t,this.currentMoveStartPosition.X=e.clientX/(r.workareaScaleValue/100),this.currentMoveStartPosition.Y=e.clientY/(r.workareaScaleValue/100),this.currentMoveStorageObject.simulatorOverlayDOM=null,this.currentMoveStorageObject.moduleDOM=null,this.currentMoveStorageObject.groupSimulatorOverlayDOM=null;var i=this.multipleSelectedModuleData?this.multipleSelectedModuleData.length:0,o=i?this.multipleSelectedModuleData.map((function(e){return e.packageid})):[],a=[],s="",u=o.indexOf(this.currentMovePackageid)>-1,c=this.getGroupExistsModule(this.multipleSelectedGroupData,this.currentMovePackageid);if(u||c){if(this.multipleSelectedModuleData.length&&(a=this.multipleSelectedModuleData.filter((function(e){return!0!==e.lock})),s="checkModule"),this.multipleSelectedGroupData.length){var l=[];this.getGroupAllModuleId(this.multipleSelectedGroupData.filter((function(e){return!0!==e.lock})),l);var d=this.PageSettingData.page.componentsMap.filter((function(e){return l.includes(e.packageid)}));a=a.concat(d),s="checkGroup"}}else if(this.PageSettingData.page.group&&this.PageSettingData.page.group.allModuleList.includes(this.currentMovePackageid)){var f=this.getTopAndParentGroup(null,this.currentMovePackageid);if(f.top.lock)return;var A=[];this.getGroupAllModuleId(f.top,A),a=this.PageSettingData.page.componentsMap.filter((function(e){return A.includes(e.packageid)})),s="group"}else a=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==n.currentMovePackageid})),s="module";this.currentMoveStorageObject.moveModuleList=a,this.currentMoveStorageObject.moveType=s,this.currentMoveStorageObject.copyComponentsMap=_.cloneDeep(this.PageSettingData.page.componentsMap),document.addEventListener("mousemove",r.hoverModuleMouseMoveEvent)}},toggleHoverLayoutModuleHandle:function(e,t){var n=this,r=$("#"+e.packageid);r.removeClass("idm_module_absolute idm_module_grab idm_module_noselect_type"),r.removeAttr("style"),r.unbind("click"),r.unbind("dblclick"),r.unbind("mousedown"),"common"==t?r.bind("click",(function(e){n.selectedPageModule($(this).attr("id")),e.stopPropagation(),e.preventDefault()})):"absolute"==t&&n.createHoverLayoutHandle(r,e,n.copyModuleClickPosition)},createHoverLayoutHandle:function(e,t,n){var r=this;e.addClass("idm_module_absolute idm_module_grab idm_module_noselect_type");var i={};t.props||(t.props={}),t.props.basicAttr||(t.props.basicAttr={});var o=r.defaultModuleSize.width,a=r.defaultModuleSize.height;if(t.defaultSize){var s=t.defaultSize.split(",");s&&s.length>0&&(o=s[0]),s&&s.length>1&&(a=s[1])}if(t.props.basicAttr.positionWH){var u=t.props.basicAttr.positionWH.split(",");u&&u.length>0&&(o=u[0]),u&&u.length>1&&(a=u[1])}i.width=o+"px",i.height=a+"px",t.props.basicAttr.positionWH=o+","+a;var c=0,l=0;if(n&&(n.x||n.y))c=(n.x||0)-r.$refs.idm_drag_documtnt.getBoundingClientRect().x,l=(n.y||0)-r.$refs.idm_drag_documtnt.getBoundingClientRect().y,100!=this.workareaScaleValue&&(c/=this.workareaScaleValue/100,l/=this.workareaScaleValue/100);else if(t.props.basicAttr.positionXY){var d=t.props.basicAttr.positionXY.split(",");d&&d.length>0&&(c=d[0]),d&&d.length>1&&(l=d[1])}i.left=c+"px",i.top=l+"px",t.props.basicAttr.positionXY=c+","+l,t.props.basicAttr.zIndex||0===t.props.basicAttr.zIndex||(t.props.basicAttr.zIndex=this.getHoverModeModuleNewTopZindex()),i["z-index"]=t.props.basicAttr.zIndex,this.resetHoverModuleStyleInfo(e,t),e.bind("click",(function(e){r.currentMouseClickEvent&&(r.currentMouseClickEvent=!1,r.hoverModeSelectedModuleHandle(e,$(this).attr("id"))),e.stopPropagation(),e.preventDefault()})),e.bind("dblclick",(function(e){e.stopPropagation(),e.preventDefault(),$(this).removeClass("idm_module_noselect_type")})),e.mousedown((function(e){if(3==e.which){var t=$(this).attr("id"),n=r.multipleSelectedModuleData.filter((function(e){return e.packageid==t})),i=r.getGroupExistsModule(r.multipleSelectedGroupData,t);n&&0==n.length&&!i&&r.hoverModeSelectedModuleHandle(e,t);var o=$(this).attr("id");r.showContextMneu(o,e),e.stopPropagation(),e.preventDefault()}else 2==e.which||1==e.which&&r.hoverModuleMousedownEvent(e,$(this).attr("id"))}))},getHoverModeModuleNewTopZindex:function(){var e=0,t=this.PageSettingData.page.componentsMap;return t&&t.forEach((function(t){t&&"absolute"==t.positionMode&&t.props&&t.props.basicAttr&&t.props.basicAttr.zIndex&&parseInt(t.props.basicAttr.zIndex)>e&&(e=parseInt(t.props.basicAttr.zIndex))})),e+1},resetHoverModuleStyleInfo:function(e,t,n){var r=this,i=t.props&&t.props.basicAttr?t.props&&t.props.basicAttr:{},o=i.positionOrigin||"leftTop",a=i.positionWH||"".concat(r.defaultModuleSize.width,",").concat(r.defaultModuleSize.height);a=a.split(",");var s=a.length>0?parseFloat(a[0]):0,u=a.length>1?parseFloat(a[1]):0,c=i.positionXY||"0,0";c=c.split(",");var l=c.length>0?parseFloat(c[0]):0,d=c.length>1?parseFloat(c[1]):0,f=i.zIndex||0,A=0==i.opacity?0:i.opacity||100,h=i.scale||1,p=i.rotateX||0,m=i.rotateY||0,g=i.rotateZ||0,v={},y={};switch(o){case"leftTop":v={left:l+"px",top:d+"px",right:"auto",bottom:"auto",width:s+"px",height:u+"px"},y={left:l+"px",top:d+"px",right:"auto",bottom:"auto","--width":s,"--height":u};break;case"rightTop":v={left:"auto",top:d+"px",right:l+"px",bottom:"auto",width:s+"px",height:u+"px"},y={left:"auto",top:d+"px",right:l+s+"px",bottom:"auto","--width":s,"--height":u};break;case"rightBottom":v={left:"auto",top:"auto",right:l+"px",bottom:d+"px",width:s+"px",height:u+"px"},y={left:"auto",top:"auto",right:l+s+"px",bottom:d+u+"px","--width":s,"--height":u};break;case"leftBottom":v={left:l+"px",top:"auto",right:"auto",bottom:d+"px",width:s+"px",height:u+"px"},y={left:l+"px",top:"auto",right:"auto",bottom:d+u+"px","--width":s,"--height":u};break}v["z-index"]=f,v["opacity"]=A/100,v["transform"]="scale(".concat(h,") rotateX(").concat(p,"deg) rotateY(").concat(m,"deg) rotateZ(").concat(g,"deg)"),y["transform"]="scale(".concat(h,") rotateZ(").concat(g,"deg)"),y["transform-origin"]="".concat(y["--width"]/2,"px ").concat(y["--height"]/2,"px"),e&&e.css(v),n&&n.css(y)},resetHoverModulePositionInfo:function(e){var t=this,n=t.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(n&&(!n||0!=n.length)&&"absolute"==n[0].positionMode){var r=n[0],i=$(".idm-com-simulator-overlay[idm-com-anchor-id='"+e+"']"),o=$("#"+e);this.resetHoverModuleStyleInfo(o,r,i),this.resetModuleAnchors(e)}},svgCanvasModeChange:function(e){this.handleSvgAttrChange(e.selectedElement),this.menuActionStatusChangeHandle({type:"changeCanvasMode",data:e})},svgEditHandleContextMenuShow:function(e){var t=e.status,n=e.e;"open"===t?this.showContextMneu("",n):this.closeContextMenu()},handleSvgAttrChange:function(e){var t={};if(1===e.length){var n,r,i,o=e[0],a=o.getAttribute("marker-end"),s=o.getAttribute("marker-start");i=a&&s?"both":a?"end":s?"start":"none",t.id=o.id,t.class=o.className.baseVal,t.tagName=o.tagName,t["strokeWidth"]=o.getAttribute("stroke-width")||1,t["strokeDasharray"]=o.getAttribute("stroke-dasharray")||"none",t["rotate"]=(null===(n=this.$refs["svgEditor"])||void 0===n?void 0:n.invokeSvgCanvasEvent("getRotationAngle",o))/1,t["blur"]=10*(null===(r=this.$refs["svgEditor"])||void 0===r?void 0:r.invokeSvgCanvasEvent("getBlur",o)),t["opacity"]=o.getAttribute("opacity")?100*o.getAttribute("opacity"):100,t["arrowStyle"]=i}this.selectedModuleData={props:{svgAttr:t}}},setSelectElementSvgData:function(e){var t,n,r,i,o,a,s,u=null===(t=this.$refs["svgEditor"])||void 0===t?void 0:t.selectedElement;if(u&&1===u.length)for(var c in e)switch(c){case"strokeWidth":null===(n=this.$refs["svgEditor"])||void 0===n||n.invokeSvgCanvasEvent("changeSelectedAttributeNoUndo","stroke-width",e[c],u);break;case"strokeDasharray":null===(r=this.$refs["svgEditor"])||void 0===r||r.invokeSvgCanvasEvent("changeSelectedAttributeNoUndo","stroke-dasharray",e[c],u);break;case"rotate":null===(i=this.$refs["svgEditor"])||void 0===i||i.invokeSvgCanvasEvent("setRotationAngle",e[c],!0);break;case"blur":null===(o=this.$refs["svgEditor"])||void 0===o||o.invokeSvgCanvasEvent("setBlur",e[c]/10,!0);break;case"opacity":null===(a=this.$refs["svgEditor"])||void 0===a||a.invokeSvgCanvasEvent("changeSelectedAttributeNoUndo",c,e[c]/100,u);break;case"id":case"class":null===(s=this.$refs["svgEditor"])||void 0===s||s.invokeSvgCanvasEvent("changeSelectedAttributeNoUndo",c,e[c],u);break;case"arrowStyle":qo.setArrow(e[c],u);break}},handleSaveSvgToComponent:function(){for(var e=this.$refs["svgEditor"],t=e.invokeSvgCanvasEvent("mergeDeep",{images:"embed",round_digits:2}),n=0,r=Object.entries(t);n<r.length;n++){var i=sa(r[n],2),o=i[0],a=i[1];e.invokeSvgCanvasEvent("setSvgOption",o,a)}e.invokeSvgCanvasEvent("setSvgOption","apply",!0);var s=e.invokeSvgCanvasEvent("svgCanvasToString"),u=(new DOMParser).parseFromString(s,"text/html").body.children[0];$(u).contents().each((function(e,t){t.nodeType===Node.COMMENT_NODE&&$(t).remove()})),Array.prototype.forEach.call($(u).find("g.layer")[0].children,(function(e){"title"===e.tagName&&e.parentNode.removeChild(e)}));var c=$(u).find("g.layer")[0].childNodes.length>3,l=document.getElementById("svgcontent").getBoundingClientRect(),d=l.width,f=l.height,A=l.x,h=l.y,p=document.getElementById("idm-svg-editor-root").getBoundingClientRect(),m=A-p.x,g=h-p.y,v=(new XMLSerializer).serializeToString(u).replace(/<svg width="[^"]+" height="[^"]+"/,'<svg viewBox="'.concat(m-1," ").concat(g-1," ").concat(d+2," ").concat(f+2,'" '));if(e.editSvgComponentInfo){if(!c)return this.batchDeleteHoverModule(e.editSvgComponentInfo);this.mixAttributeChangeKeyValueHandle({svgData:v},e.editSvgComponentInfo,!1);var y=e.editSvgComponentInfo.props.basicAttr,b=m,w=g;switch(y.positionOrigin){case"leftBottom":w=p.height-w-f;break;case"rightTop":b=p.width-b-d;break;case"rightBottom":b=p.width-b-d,w=p.height-w-f;break}this.mixAttributeChangeKeyValueHandle({positionWH:d+","+f,positionXY:b+","+w},e.editSvgComponentInfo,!0);var x=$("#"+e.editSvgComponentInfo.packageid);x.show(),x.find("#idm_"+e.editSvgComponentInfo.id).html(v),this.resetHoverModulePositionInfo(e.editSvgComponentInfo.packageid)}else{if(!c)return;var C=this.getSvgComSchemaData();C.svgData=v,C.defaultSize=d+","+f;var S=this.createModuleDom(C,{x:A,y:h}),k=$("#idm_hover_layer_wrap");if(k.find("#"+C.packageid).length>0)return;k.append(S),this.observerResizeModuleElement(C),this.addModuleToPageTree(C),this.$trace.add({actionType:1,pageData:this.PageSettingData,moduleData:this.getModuleObject(C.packageid)},this.DEVELOP_HISTORY_ACTION_LIST),C.mountComplete(C),this.addModuleEndpoint(C)}e.invokeSvgCanvasEvent("clear")},mixAttributeChangeKeyValueHandle:function(e,t,n){for(var r=_.cloneDeep(e),i=0;i<this.PageSettingData.page.componentsMap.length;i++){var o=this.PageSettingData.page.componentsMap[i];if(o.packageid==t.packageid){_.cloneDeep(o);o.props||(o.props={}),n?IDM.mix(o.props.basicAttr,r):IDM.mix(o,r);break}}this.mixAttributeToPageTreeChangeKeyValueHandle(null,e,t,n)},mixAttributeToPageTreeChangeKeyValueHandle:function(e,t,n,r){if(!t){e=e||this.PageSettingData.page.layout,e instanceof Array||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];o.packageid==n.packageid?(o.props||(o.props={}),r?IDM.mix(o.props.basicAttr,_attrData):IDM.mix(o,_attrData)):o.children&&this.mixAttributeToPageTreeChangeKeyValueHandle(o.children,n,t,r)}}},getSvgComSchemaData:function(){var e=this.getSingleComponentData("","svg");return e.packageid="component_"+IDM.UUID(),e.id=e.packageid+"_inner",e.positionMode="absolute",e.relationType="inner",e.relationId=this.PageSettingData.id,e.env="develop",e},addModuleEndpoint:function(e){var t={isSource:!0,isTarget:!0,endpoint:"Dot"},n=[{anchor:[.5,0,0,-1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-top"},{anchor:[1,0,0,-1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-top-right"},{anchor:[1,.5,1,0],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-right"},{anchor:[1,1,0,1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-bottom-right"},{anchor:[.5,1,0,1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-bottom"},{anchor:[0,1,0,1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-bottom-left"},{anchor:[0,.5,-1,0],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-left"},{anchor:[0,0,0,-1],cssClass:e.packageid+"_endpoint idm_flow_endpoint endpoint-top-left"}];this.plumbIns.addEndpoints(e.packageid,n,t),e.props&&e.props.basicAttr&&this.resetModuleAnchors(e.packageid)},resetModuleAnchors:function(e){var t=this,n=t.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(n&&(!n||0!=n.length)&&"absolute"==n[0].positionMode){var r=n[0],i=r.props&&r.props.basicAttr?r.props&&r.props.basicAttr:{};i.AnchorsTopLeft&&this.plumbIns.selectEndpoints({source:e}).each((function(e){console.log("🚀 ~ file: hoverLayout.js:4201 ~ this.plumbIns.selectEndpoints ~ endpoint",e);var t=e.anchor.x,n=e.anchor.y,r=e.anchor.orientation[0],o=e.anchor.orientation[1],a=[0,0];.5==e.anchor.x&&0==e.anchor.y?a=i.AnchorsTop.split(","):1==e.anchor.x&&0==e.anchor.y?a=i.AnchorsTopRight.split(","):1==e.anchor.x&&.5==e.anchor.y?a=i.AnchorsRight.split(","):1==e.anchor.x&&1==e.anchor.y?a=i.AnchorsBottomRight.split(","):.5==e.anchor.x&&1==e.anchor.y?a=i.AnchorsBottom.split(","):0==e.anchor.x&&1==e.anchor.y?a=i.AnchorsBottomLeft.split(","):0==e.anchor.x&&.5==e.anchor.y?a=i.AnchorsLeft.split(","):0==e.anchor.x&&0==e.anchor.y&&(a=i.AnchorsTopLeft.split(",")),e.setAnchor([t,n,r,o,parseInt(a[0]),parseInt(a[1])],!1)}))}},changeModuleEndpointState:function(e){e?(this.jsPlumbEndpointTimeOut&&clearTimeout(this.jsPlumbEndpointTimeOut),$(".idm_flow_endpoint").css("opacity",this.isShowPlumbConnectTool&&e?1:0)):this.jsPlumbEndpointTimeOut=setTimeout((function(){$(".idm_flow_endpoint").css("opacity",0)}),500)},linkAttributeChangeHandle:function(e,t){if(t.id){for(var n=_.cloneDeep(e),r=0;r<this.PageSettingData.page.linkList.length;r++){var i=this.PageSettingData.page.linkList[r];if(i.id==t.id){_.cloneDeep(i);i.propData||(i.propData={}),i.propData=n;break}}this.linkConnectionStyleChange(t)}},linkConnectionStyleChange:function(e){var t=this.PageSettingData.page.linkList.filter((function(t){return t.id==e.id}));if(t.length){var n=t[0],r=n.propData;r||(r=ua["a"].linkDefaultPropData),this.plumbIns.select().each((function(e){if(console.log("🚀 ~ file: hoverLayout.js:4305 ~ this.plumbIns.select ~ connection",e),e.id==n.connId){var t=e.getParameter("clickIsActive");if(r.linkType){var i=[r.linkType];switch(r.linkType){case"Bezier":i[1]={curviness:r.BezierCurviness||0==r.BezierCurviness?r.BezierCurviness:150};break;case"Straight":i[1]={stub:r.StraightStub||0==r.StraightStub?r.StraightStub:0,gap:r.StraightGap||0==r.StraightGap?r.StraightGap:0};break;case"Flowchart":i[1]={stub:r.FlowchartStub||0==r.FlowchartStub?r.FlowchartStub:30,gap:r.FlowchartGap||0==r.FlowchartGap?r.FlowchartGap:2,alwaysRespectStubs:!0,cornerRadius:r.FlowchartCornerRadius||0==r.FlowchartCornerRadius?r.FlowchartCornerRadius:8,midpoint:r.FlowchartMidpoint||0==r.FlowchartMidpoint?r.FlowchartMidpoint:0};break;case"StateMachine":i[1]={curviness:r.StateMachineCurviness||0==r.StateMachineCurviness?r.StateMachineCurviness:10,margin:r.StateMachineMargin||0==r.StateMachineMargin?r.StateMachineMargin:5,proximityLimit:r.StateMachineProximityLimit||0==r.StateMachineProximityLimit?r.StateMachineProximityLimit:80};break}e.setConnector(i)}var o=_.cloneDeep(ua["a"].ins.PaintStyle);r.PaintStyleStroke&&r.PaintStyleStroke.hex8&&(o.stroke=r.PaintStyleStroke.hex8),r.PaintStyleStrokeWidth&&(o.strokeWidth=r.PaintStyleStrokeWidth),t&&(o.outlineWidth=ua["a"].selectConnection.outlineWidth,o.outlineStroke=ua["a"].selectConnection.outlineStroke),e.setPaintStyle(o);var a=_.cloneDeep(ua["a"].ins.HoverPaintStyle);r.HoverPaintStyleStroke&&r.HoverPaintStyleStroke.hex8&&(a.stroke=r.HoverPaintStyleStroke.hex8),r.HoverPaintStyleStrokeWidth&&(a.strokeWidth=r.HoverPaintStyleStrokeWidth),e.setHoverPaintStyle(a),e.removeAllOverlays(),r.overlayList&&r.overlayList.forEach((function(t){var n={id:t.overlayId};if(t.location&&t.location.split(",").length>1){var r=t.location.split(",");n.location=[parseFloat(r[0]),parseFloat(r[1])]}else t.location&&(n.location=parseFloat(t.location));switch(n.direction=t.direction||1,t.type){case"Arrow":case"PlainArrow":case"Diamond":if(t.arrowSize){var i=t.arrowSize.split(",");i.length>0&&(n.width=parseFloat(i[0]),n.length=parseFloat(i[0])),i.length>1&&(n.length=parseFloat(i[1]))}break;case"Label":n.label=t.labelText;var o={};t.font&&(o.font=t.font),t.padding&&t.padding.inputVal&&t.padding.selectVal&&(o.padding=t.padding.inputVal+t.padding.selectVal),t.borderWidth&&(o.borderWidth=t.borderWidth),t.fillStyle&&t.fillStyle.hex8&&(o.fill=t.fillStyle.hex8),t.color&&t.color.hex8&&(o.color=t.color.hex8),t.borderStyle&&t.borderStyle.hex8&&(o.borderStyle=t.borderStyle.hex8),n.labelStyle=o;break;case"Custom":if(!(t.contentFunction&&t.contentFunction.length>0))return;n.create=function(e){var t=document.createElement("span");return t.innerHTML="请预览看效果",t};break}t.clickFunction&&t.clickFunction.length>0&&(n.events={click:function(e,t){}}),e.addOverlay([t.type,n])}))}}))}},clearLinkConnectionSelect:function(){this.currentSelectLineData={},this.plumbIns.select().each((function(e){if(e.getPaintStyle().outlineWidth>0){var t=e.getPaintStyle();delete t.outlineWidth,t.outlineStroke="transparent",e.setPaintStyle(t);var n=e.getHoverPaintStyle();delete n.outlineWidth,n.outlineStroke="transparent",e.setHoverPaintStyle(n)}}))},reconnectionAllModule:function(){var e=this,t=this.plumbIns.select();e.PageSettingData.page.linkList.forEach((function(n){var r=!1;try{t.each((function(e){e.endpoints&&e.endpoints.length>1&&e.endpoints[0].anchor.x==n.sourceEndpoint.x&&e.endpoints[0].anchor.y==n.sourceEndpoint.y&&e.endpoints[1].anchor.x==n.targetEndpoint.x&&e.endpoints[1].anchor.y==n.targetEndpoint.y&&(r=!0)}))}catch(o){}if(!r){var i={source:e.getModuleEndpoint(n.sourceId,n.sourceEndpoint.x,n.sourceEndpoint.y),target:e.getModuleEndpoint(n.targetId,n.targetEndpoint.x,n.targetEndpoint.y),parameters:{isreconnection:!0,linkObjectId:n.id}};e.plumbIns.connect(i),e.linkConnectionStyleChange(n)}}))},getModuleEndpoint:function(e,t,n){var r=null;return this.plumbIns.selectEndpoints({source:e}).each((function(e){r||e.anchor.x==t&&e.anchor.y==n&&(r=e)})),r},jsPlumbRepaintEverything:function(){var e=this;this.jsPlumbRepaintEverythingTimeOut&&clearTimeout(this.jsPlumbRepaintEverythingTimeOut),e.plumbIns.repaintEverything()},initJsPlumb:function(){var e=this;e.compleLinkListSchema(),this.plumbIns=jsPlumb.getInstance(ua["a"].ins),this.plumbIns.ready((function(){e.plumbIns.setContainer("idm_hover_layer_wrap")})),this.plumbIns.bind("beforeDrop",(function(e){e.sourceId,e.targetId;return!0})),this.plumbIns.bind("mouseover",(function(){e.changeModuleEndpointState(!0)})),this.plumbIns.bind("mouseout",(function(){e.changeModuleEndpointState(!1)})),this.plumbIns.bind("connection",(function(t,n){var r=t.connection.getParameters();if(r&&r.isreconnection){var i=e.PageSettingData.page.linkList.filter((function(e){return e.id==r.linkObjectId}));i.length>0&&(t.connection.canvas.id=i[0].canvasId,t.connection.id=i[0].connId)}else{var o=t.connection.canvas,a=IDM.uuid(32),s={},u="link-canvas"+a,c="link-conn"+a;t.connection.id=c,o.id=u,s.id=a,s.canvasId=u,s.connId=c,s.sourceId=t.sourceId,s.targetId=t.targetId,s.sourceEndpoint={x:t.sourceEndpoint.anchor.x,y:t.sourceEndpoint.anchor.y},s.targetEndpoint={x:t.targetEndpoint.anchor.x,y:t.targetEndpoint.anchor.y},s.propData=ua["a"].linkDefaultPropData,e.PageSettingData.page.linkList.push(s)}})),this.plumbIns.bind("click",(function(t,n){n.stopPropagation(),n.preventDefault();var r=!1;e.plumbIns.select().each((function(e){var n=e.getParameter("clickIsActive");if(n){var i=e.getPaintStyle();delete i.outlineWidth,i.outlineStroke="transparent",e.setPaintStyle(i);var o=e.getHoverPaintStyle();delete o.outlineWidth,o.outlineStroke="transparent",e.setHoverPaintStyle(o),e.setParameter("clickIsActive",!1),e.id==t.id&&(r=!0)}})),setTimeout((function(){if(r)e.currentSelectLineData={};else{var n=t.getPaintStyle();n.outlineWidth=ua["a"].selectConnection.outlineWidth,n.outlineStroke=ua["a"].selectConnection.outlineStroke,t.setPaintStyle(n),t.setParameter("clickIsActive",!0),e.currentSelectLineData=_.cloneDeep(e.PageSettingData.page.linkList.filter((function(e){return e.connId==t.id}))[0])}}),10)})),this.plumbIns.bind("dblclick",(function(t,n){n.stopPropagation(),n.preventDefault(),e.idm_$confirm({title:"确认删除该连线？",okText:"确定",cancelText:"取消",onOk:function(){for(var n=0;n<e.PageSettingData.page.linkList.length;n++){var r=e.PageSettingData.page.linkList[n];r.connId==t.id&&e.PageSettingData.page.linkList.splice(n,1)}e.currentSelectLineData.connId==t.id&&(e.currentSelectLineData={}),e.plumbIns.deleteConnection(t),e.selectedPageModule(e.PageSettingData.id)},onCancel:function(){}})}))},compleLinkListSchema:function(){this.PageSettingData.page.linkList||(this.PageSettingData.page.linkList=[])}},watch:{isOpenHoverLayer:{handler:function(e,t){var n,r=this;(this.selectedModuleData={},this.multipleSelectedModuleData=[],this.multipleSelectedGroupData=[],this.moduleSimulatorOverlayHandle(),this.selectedPageModule(this.PageSettingData.id),this.isOpenHoverLayerChange=!0,this.resetRulDomStyle(),this.refreshAdaptScreen(),this.openWorkspaceMoving=!1,this.menuActionStatusChangeHandle({type:"changeMoveWorkspaceDefault"}),!e&&this.isShowSvgCanvas)&&(null===(n=this.$refs["svgEditor"])||void 0===n||n.handleClose(),this.menuActionStatusChangeHandle({type:"changeSvgCanvasVisible",data:!1}));e&&this.$nextTick((function(){r.reconnectionAllModule()}))},deep:!0},isShowSvgCanvas:{immediate:!1,handler:function(e){this.menuActionStatusChangeHandle({type:"changeSvgCanvasVisible",data:e}),e?(this.selectedModuleData={},this.multipleSelectedModuleData=[],this.multipleSelectedGroupData=[],this.moduleSimulatorOverlayHandle()):(this.handleSaveSvgToComponent(),this.selectedPageModule(this.PageSettingData.id))}}}},la={mixins:[ca],name:"Develop",components:{DragAreaSizeDropList:x,TopLeftTitle:M,TopRightAction:F,ComponentMarket:Q,ComponentCustom:W,PageComponent:ue,MixAttribute:Br,SaveForm:Or,SaveAsForm:Hr,QuickSearch:Yr,PreferencesModal:Gr,CreatGuidesModal:ri,MonacoEditor:Kn,HistoryActionPanel:ci,DataSourceActionPanel:Di,ContextMenu:vo,HoverModeToolBar:So,SvgEditor:ea,jsplumb:ra.a},data:function(){return{styleData:{selectedcontainer:{}},lastDeleteModule:null,moduleObserverPackageidArray:[],moduleResizeObserverObject:null,moduleMutationObserverObject:null,isOpenHoverLayer:!1,isShowSvgCanvas:null,mdCachePool:IDM.cachePool(200),attrCachePool:IDM.cachePool(200),loadExceptionCachePool:{},currentDevTheme:"default",bottomActionPanelHeight:300,monacoEditorIsCanLoad:!1,currentRulerVisibility:null,currentGuideVisibility:null,currentGuideIsLock:null,currentPageCodeVisibility:null,currentActionPanelVisibility:null,currentHistoryVisibility:null,currentDataSourceVisibility:null,bottomActionActiveIndex:1,quickSearchShow:!1,fullScreenStatus:!1,showMobileStatusBar:IDM.url.queryString("showStatusBar"),showDragTool:!1,rulDom:null,idmDragArray:null,comMarketData:[],comCustomData:[],comLoadedCount:0,moveTouchData:{},dialogVisibleStatus:!1,selectedDialogData:{},selectedModuleData:{attrSetting:{compositeAttr:[],innerAttr:[]}},hoverModuleData:{},copyMoveTouchData:{},copyModuleData:{},initPageModuleComplete:!1,keyCtrlStatus:{altKey:!1,ctrlKey:!1,shiftKey:!1},attrTabsActiveKey:"11",saveFormVisible:!1,saveAsFormVisible:!1,saveAsFormDefaultData:{},dataSettingStep:0,dataSettingSaveAfterStep:0,devPageIsLoad:!1,dragWorkspace:{key:"dragworkspace",width:400,height:300,leftAreaOpened:!0,rightAreaOpened:!0,topAreaOpened:!0,bottomAreaOpened:!0,leftAreaLsOpened:!1,rightAreaLsOpened:!1,topAreaLsOpened:!1,bottomAreaLsOpened:!1},adaptScreen:{fullWidth:this.IDM.getClientWH().width,fullHeight:this.IDM.getClientWH().height,minWidth:this.IDM.getClientWH().width-660,minHeight:this.IDM.getClientWH().height-120-300},schemaType:"",previewModuleDocText:"",previewModuleDocModalVisible:!1,workareaScaleValue:100,STATICFINAL:{SCALEOPEN:IDM.setting.develop.scaleOpen,SCALELIST:IDM.setting.develop.scaleList},plumbIns:null,PageSettingData:{id:"PAGE_AKYJNPMVQAYN1JX2X3PT6YG1GH0L1YFEREQLKK9",developInfo:{hoverLayerBgColor:"black",hoverLayerBgAlpha:30,guides:[]},pageBaseInfo:{title:IDM.url.queryString("defaultPageTitle"),version:"1.0.0"},dragAreaSizeInfo:{key:"1",width:0,height:0,showText:"适应当前",type:1,subKey:null},page:{componentsMap:[{id:"component_202003T6YG1GH0L1YFEREQLKK9",packageid:"",comId:"0",comName:"页面",asName:"页面",classId:"idm.componet.root",iconClass:"idmicon idm-icon-rongqi",className:"root",comType:"common",type:"platform",imgList:[{src:"~/static/img/page_default.jpg",width:370,height:270,size:"187298"}],currentVersion:{version:fo.version,codeSrc:"",datetime:"2021-03-23 12:50:14"},props:{compositeAttr:{},innerAttr:[{containerIndex:1,dataAttr:{}}],basicAttr:{}}}],layout:{id:"component_202003T6YG1GH0L1YFEREQLKK9",packageid:"",comId:"0",comName:"页面",asName:"页面",classId:"idm.componet.root",iconClass:"idmicon idm-icon-rongqi",className:"root",comType:"common",type:"platform",imgList:[{src:"~/static/img/page_default.jpg",width:370,height:270,size:"187298"}],currentVersion:{version:fo.version,codeSrc:"",datetime:"2021-03-23 12:50:14"},attrSetting:{compositeAttr:lo,innerAttr:[],dataAttr:[]},props:{compositeAttr:{},innerAttr:[{containerIndex:1,dataAttr:{}}],basicAttr:{}},children:[]},actions:{source:"/**\n *页面扩展代码，可复用的函数，支持ES6语法\n * 动作面板帮助文档: \n * @see http://www.yunit.cn/idm/help/scps0e\n */\n",list:[]},group:{allModuleList:[],list:[]},linkList:[]}}}},computed:{},created:function(){document.title=IDM.setting.develop.siteTitle;var e=this;if(IDM.broadcast.pageLoadCompleteAfter(),IDM.http.importFiles([IDM.url.getWebPath("~/lib/react.min.js"),IDM.url.getWebPath("~/lib/react-dom.min.js")]).then((function(){console.log("react文件加载成功")})).catch((function(e){console.log("react文件加载出错")})),IDM.setting.applications.commonRequireJsCss&&IDM.setting.applications.commonRequireJsCss instanceof Array){var t=[];IDM.setting.applications.commonRequireJsCss.forEach((function(e){return t.push(IDM.url.getWebPath(e))})),IDM.http.importFiles(t).then((function(){console.log("加载commonRequireJsCss文件完成",t)})).catch((function(e){console.log("加载commonRequireJsCss文件出错")}))}IDM.module.loadJs(IDM.url.getWebPath("~/lib/babel_standalone/babel-7.15.3.min.js"),!0,(function(){e.monacoEditorIsCanLoad=!0}),{async:!0,defer:!0}),window.localStorage["DevelopBottomActionPanelHeight"]&&(this.bottomActionPanelHeight=parseInt(window.localStorage["DevelopBottomActionPanelHeight"])),$("body").css("overflow","hidden"),this.changeTheme("default"),document.addEventListener("keydown",this.keyDownEventHandle),document.addEventListener("keyup",this.keyUpEventHandle),document.addEventListener("mousewheel",this.mousewheelHandleScroll,{passive:!1});var n=this.$route.params.pageid||(new Date).getTime()+IDM.UUID(16);this.PageSettingData.id=n,this.PageSettingData.page.layout.id=n,this.PageSettingData.page.layout.packageid=n,this.PageSettingData.page.layout.globalId=n,"0"==this.PageSettingData.page.componentsMap[0].comId&&(this.PageSettingData.page.componentsMap[0].packageid=n,this.PageSettingData.page.componentsMap[0].id=n,this.PageSettingData.page.componentsMap[0].globalId=n),this.schemaType=this.$route.params.schemaType||"",this.preferencesChange()},mounted:function(){var e=this;try{this.rulDom=new p({container:document.querySelector("#drag_wrapper"),clearGuidesCallback:function(){e.$trace.add({actionType:14,pageData:e.PageSettingData},e.DEVELOP_HISTORY_ACTION_LIST)},createGuidesCallback:function(t,n,r,i){e.$trace.add({actionType:12,pageData:e.PageSettingData,guidesObject:{dimension:t,x:n-e.getDragAreaMarginleft()-15+30,y:r-30,isSet:i}},e.DEVELOP_HISTORY_ACTION_LIST)},deleteGuidesCallback:function(t,n){e.$trace.add({actionType:13,pageData:e.PageSettingData,guidesObject:{dimension:n,x:parseInt(t.style.left)-e.getDragAreaMarginleft(),y:parseInt(t.style.top)-45}},e.DEVELOP_HISTORY_ACTION_LIST)},moveGuidesCallback:function(t,n,r){null!=r&&t.dataset.tipnumber!=r&&e.$trace.add({actionType:15,pageData:e.PageSettingData,newGuidesObject:{dimension:n,xy:t.dataset.tipnumber},oldGuidesObject:{dimension:n,xy:r}},e.DEVELOP_HISTORY_ACTION_LIST)}}),(!1===this.currentRulerVisibility||this.currentRulerVisibility)&&this.rulDom.api.toggleRulerVisibility(this.currentRulerVisibility),(!1===this.currentGuideVisibility||this.currentGuideVisibility)&&this.rulDom.api.toggleGuideVisibility(this.currentGuideVisibility),(!1===this.currentGuideIsLock||this.currentGuideIsLock)&&this.rulDom.api.setIsLockGuides(this.currentGuideIsLock)}catch(r){console.log("错误消息"),console.error(r.message)}if(this.fullScreenChangeHandler(),this.windowResizeEvent((function(){e.refreshAdaptScreen()})),window.onblur=function(){e.windowOnBlur()},IDM.url.queryString("dragSizeKey")||IDM.setting.develop.dragAreaSizeDefaultKey?this.$refs.dragAreaSizeDropList.refreshSelectedKey(IDM.url.queryString("dragSizeKey")||IDM.setting.develop.dragAreaSizeDefaultKey):this.refreshAdaptScreen(),this.$nextTick((function(t){this.initBottomActionPanelDrag();var n=new f["a"]((function(t,n){var r,i=c(t);try{for(i.s();!(r=i.n()).done;){r.value;e.resetRulDomStyle()}}catch(o){i.e(o)}finally{i.f()}}));n.observe(document.querySelector("#idm_drag_documtnt"))})),this.initInterfaceInfo(),!0===this.currentPageCodeVisibility)var t=this,n=setInterval((function(){t.vsLoaded&&(t.switchVersionHandle(!0),clearInterval(n))}),300);else this.switchVersionHandle(!0);if(this.injectInnerActionToWindow(),IDM.setting.applications.faviconIcoSrc)try{document.head.querySelector("link[rel='icon']").setAttribute("href",IDM.url.getWebPath(IDM.setting.applications.faviconIcoSrc))}catch(i){}this.initJsPlumb()},destroyed:function(){document.removeEventListener("keydown",this.keyDownEventHandle),document.removeEventListener("keyup",this.keyUpEventHandle),document.removeEventListener("mousewheel",this.mousewheelHandleScroll),this.closeAutoSavePageData()},methods:Object(a["a"])(Object(a["a"])({},Object(U["b"])({DEVELOP_HISTORY_ACTION_LIST:"DEVELOP_HISTORY_ACTION_LIST",DEVELOP_CURRENT_THEME_KEY:"DEVELOP_CURRENT_THEME_KEY"})),{},{windowResizeEvent:function(e){window.onresize=function(){var t=this;t.resizeFlag&&clearTimeout(t.resizeFlag),t.resizeFlag=setTimeout((function(){e(),t.resizeFlag=null}),100)}},mousewheelHandleScroll:function(e){if(this.keyCtrlStatus.ctrlKey){if(!this.STATICFINAL.SCALEOPEN)return;e.preventDefault(),this.dragScaleChangeHandle({},e.deltaY<0?1:-1)}},dragScaleChangeHandle:function(e,t){var n=this,r=e.key,i=this;this.workareaScaleValue=-1==t?this.STATICFINAL.SCALELIST.indexOf(this.workareaScaleValue)>0?this.STATICFINAL.SCALELIST[this.STATICFINAL.SCALELIST.indexOf(this.workareaScaleValue)-1]:this.workareaScaleValue:1==t?this.STATICFINAL.SCALELIST.indexOf(this.workareaScaleValue)<this.STATICFINAL.SCALELIST.length-1?this.STATICFINAL.SCALELIST[this.STATICFINAL.SCALELIST.indexOf(this.workareaScaleValue)+1]:this.workareaScaleValue:r,this.$nextTick((function(){n.selectedPageModuleBoxPos(),n.styleData.selectedcontainer=n.getStyles("selectedcontainer"),n.resetRulDomStyle()})),this.rulDom.api.setScale(1/(this.workareaScaleValue/100),this.workareaScaleValue/100),this.resetRulPos(),$(".idm-com-simulator-overlay,.idm-group-simulator-overlay").each((function(){$(this).css("--scale",i.workareaScaleValue/100)}))},observerResizeModuleElement:function(e){var t=this;if(this.moduleResizeObserverObject||(this.moduleResizeObserverObject=new f["a"]((function(e,n){var r,i=c(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.contentRect;a.left,a.top,a.width,a.height;o.target.id==t.selectedModuleData.packageid&&(t.selectedPageModuleBoxPos(),t.styleData.selectedcontainer=t.getStyles("selectedcontainer"))}}catch(s){i.e(s)}finally{i.f()}})),this.moduleObserverPackageidArray=[]),!(this.moduleObserverPackageidArray.indexOf(e.packageid)>-1))if(document.querySelector("#"+e.packageid))this.moduleObserverPackageidArray.push(e.packageid),this.moduleResizeObserverObject.observe(document.querySelector("#"+e.packageid)),this.observerMutationModuleElement(e);else{var n=t.loadExceptionCachePool[e.packageid]||0;n<20&&(console.warn("组件Dom未获取到（".concat(n,"）："),e),t.loadExceptionCachePool[e.packageid]=n+1,setTimeout((function(){t.moduleReload(e.packageid)}),10))}},observerMutationModuleElement:function(e){var t=this,n={attributes:!0,childList:!0,subtree:!0};if(!this.moduleMutationObserverObject){var r=function(e,n){var r,i=this,o=!1,a=c(e);try{for(a.s();!(r=a.n()).done;){var s,u=r.value;if(o)break;if("childList"===u.type)(function(){var e=u.target.id;e.endsWiths("_inner")&&(e=e.replace("_inner",""));var n=u.removedNodes&&u.removedNodes.length>0?u.removedNodes[0].id:"",r=!!t.lastDeleteModule&&t.lastDeleteModule.packageid==n;if(!r&&u.target.parentNode){var a=function n(r){if(r&&r.id){var i=t.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==r.id}));i&&i.length>0?e=r.id:n(r.parentNode)}else r&&r.parentNode&&n(r.parentNode)};a(u.target)}var c=t.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(c&&c.length>0||r){var l=r?t.lastDeleteModule.globalId:c[0].globalId,d=l.split(".");o=!0,s=[d[d.length-1]],d[d.length-2]!=i.pageid&&s.push(d[d.length-2]);for(var f=function(e){var n=s[e];t.refreshModuleEmpty(t.PageSettingData.page.layout,n),t.moduleInitCompleteCheckClass(n);var r=t.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==n}));t.initModuleInnerEventHandle({packageid:n,id:r&&r.length>0?r[0].id:""})},A=0;A<s.length;A++)f(A)}})();else"attributes"===u.type&&function(){var e=function e(n,r){if(n&&n.id){var i=t.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==n.id}));i&&i.length>0?(o=!0,t.refreshModuleEmpty(t.PageSettingData.page.layout,n.id),t.moduleInitCompleteCheckClass(n.id),t.initModuleInnerEventHandle({packageid:n.id,id:i[0].id},"idm-refresh-container"==r)):e(n.parentNode,r)}else n&&n.parentNode&&e(n.parentNode,r)};!t.initPageModuleComplete||"style"!=u.attributeName&&"idm-refresh-container"!=u.attributeName||e(u.target,u.attributeName)}()}}catch(l){a.e(l)}finally{a.f()}};this.moduleMutationObserverObject=new MutationObserver(r)}this.moduleMutationObserverObject.observe(document.querySelector("#"+e.packageid),n)},initLoadbarResource:function(){IDM.http.importFiles([IDM.url.getWebPath("~/lib/pace/pace.min.js"),IDM.url.getWebPath("~/lib/pace/minimal.css")]).then((function(){})).catch((function(e){console.log("加载进度条文件出错")}))},openModuleAttrDocHandle:function(e){var t=this;this.previewModuleDocModalVisible=!0;var n=this.selectedModuleData.currentVersion.codeSrc;n=n.substr(0,n.lastIndexOf("static/"));var r=this.getModuleAbsoluteDir()+n+IDM.setting.document.moduleDocumentPath+this.selectedModuleData.className+".md";"0"==this.selectedModuleData.comId&&(r="$/doc/"+fo.version+".md"),t.mdCachePool.get(r)?t.previewModuleDocTextToTarget(e,t.mdCachePool.get(r)):IDM.http.get(r,{},{responseType:"text"}).then((function(n){t.mdCachePool.put(r,n),t.previewModuleDocTextToTarget(e,n)})).catch((function(n){console.log("🚀 ~ file: Develop.vue ~ line 1288 ~ openModuleAttrDocHandle ~ error",n),t.mdCachePool.put(r,"0"),t.previewModuleDocTextToTarget(e,"")}))},previewModuleDocTextToTarget:function(e,t){var n=this;if(n.previewModuleDocText=t&&t.data?t.data:"",n.previewModuleDocText&&e){var r=e.helpAnchorText||e.text+(e.bindKey?"【"+e.bindKey+"】":"");n.$nextTick((function(){var e=n.$refs.module_md_preview.$el.querySelectorAll("h1,h2,h3,h4,h5,h6"),t=Array.from(e).filter((function(e){return!!e.innerText.trim()})),i=0;t.forEach((function(e){e.innerText==r&&(i=e.getAttribute("data-v-md-line"))}));var o=n.$refs.module_md_preview.$el.querySelector('[data-v-md-line="'.concat(i,'"]'));o&&n.$refs.module_md_preview.scrollToTarget({target:o,scrollContainer:n.$refs.module_md_preview_box,top:0})}))}},getModuleAbsoluteDir:function(){return IDM.setting.webRoot.moduleAbsoluteDir.replace(/{projectNo}/g,this.selectedModuleData.currentVersion.projectNo||IDM.setting.webRoot.projectNo)},injectInnerActionToWindow:function(){window.IdmBuiltin_externalMixAttributeChangeHandle=this.externalMixAttributeChangeHandle},importPageSettingData:function(){var e=this.$refs.editor&&this.$refs.editor.getContent();this.devPageIsLoad=!1;var t=this;this.idm_$confirm({title:"导入 Schema 将用页面源码框内的 Schema 替换当前页面，确定要导入吗？",okText:"确定",cancelText:"取消",onOk:function(){try{var n=JSON.parse(e)||{};n.id&&n.pageBaseInfo&&n.page&&n.dragAreaSizeInfo?(t.clearPageModule(),t.PageSettingData=t.beforeSaveFormHandle(n),t.showMobileStatusBar=!1,t.pageSettingInitHandle()):t.idm_$message.error("导入 Schema 失败，格式不正确！")}catch(r){t.idm_$message.error("导入 Schema 失败，格式不正确！")}},onCancel:function(){}})},copyPageSettingData:function(){var e=JSON.stringify(this.PageSettingData),t=this;this.$copyText(e).then((function(e){t.idm_$message.success("复制 Schema 成功!")}),(function(e){t.idm_$message.error("复制 Schema 失败，请手动复制！")}))},editorLoadedJs:function(){var e=this.PageSettingData.page.actions&&this.PageSettingData.page.actions.source?this.PageSettingData.page.actions.source:"";this.$refs.editorJs&&this.$refs.editorJs.setContent(e)},editorLoaded:function(){var e=JSON.stringify(this.PageSettingData);this.$refs.editor&&this.$refs.editor.setContent(e),this.$refs.editor&&(this.vsLoaded=!0)},editorLayoutReset:function(){this.$nextTick((function(e){this.$refs.editor&&this.$refs.editor.layout(),this.$refs.editorJs&&this.$refs.editorJs.layout()}))},changePageActionHandle:function(e){var t=this;(2!=this.bottomActionActiveIndex||!0===this.currentActionPanelVisibility&&2!=this.bottomActionActiveIndex)&&(!0===this.currentActionPanelVisibility?this.changeBottomActionPanelStatus(2,!0):(this.currentActionPanelVisibility=!0,this.changeBottomActionPanelStatus(2,!0),this.menuActionStatusChangeHandle({type:"openBottomActionPanel"}))),setTimeout((function(){if("new"!=e.type){var n=Babel.transform(t.$refs.editorJs.getContent(),{ast:!0,presets:["env"]});if(n.ast&&n.ast.program&&n.ast.program.body&&n.ast.program.body.length>0){var r=n.ast.program.body;r.forEach((function(n){"FunctionDeclaration"==n.type&&n.id&&n.id.name==e.name&&setTimeout((function(){t.$refs.editorJs.modifyPosition(3,n.loc.end.line-1)}),100)}))}}else t.$refs.editorJs&&t.$refs.editorJs.addAction(e.name)}),100)},closeAllBottomActionPanelHandle:function(){this.menuActionStatusChangeHandle({type:"closeBottomPanel"}),this.currentPageCodeVisibility=!1,this.currentActionPanelVisibility=!1,this.currentHistoryVisibility=!1,this.currentDataSourceVisibility=!1,this.changeBottomActionPanelStatus()},initBottomActionPanelDrag:function(){var e=this,t=function(t){var n=e.$refs.idm_bottom_action_panel.getBoundingClientRect(),r=t.clientY,i=n.y-r,o=parseInt(e.bottomActionPanelHeight)+parseInt(i);o<44||o>IDM.getClientWH().height-200||(e.bottomActionPanelHeight=o,e.refreshAdaptScreen(),window.localStorage["DevelopBottomActionPanelHeight"]=e.bottomActionPanelHeight,e.$refs.editor&&e.$refs.editor.layout())},n=function e(n){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};document.querySelector("#idm_bottom_draggable").addEventListener("mousedown",(function(e){document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)})),this.changeBottomActionPanelStatus()},changeBottomActionPanelStatus:function(e,t){this.bottomActionActiveIndex=e&&t?e+"":!0===this.currentPageCodeVisibility?"1":!0===this.currentActionPanelVisibility?"2":!0===this.currentHistoryVisibility?"3":"4",!0===this.currentPageCodeVisibility||!0===this.currentActionPanelVisibility||!0===this.currentHistoryVisibility||!0===this.currentDataSourceVisibility?window.localStorage["DevelopBottomActionPanelHeight"]?this.bottomActionPanelHeight=parseInt(window.localStorage["DevelopBottomActionPanelHeight"]):(this.bottomActionPanelHeight=300,window.localStorage["DevelopBottomActionPanelHeight"]=300):this.bottomActionPanelHeight=0,this.refreshAdaptScreen()},changeAttrPanelActiveTab:function(e){this.attrTabsActiveKey=e},pageSettingInitHandleLater:function(){this.moduleResizeObserverObject=null,this.moduleMutationObserverObject=null,this.dataSettingStep=-1,this.dataSettingSaveAfterStep=0,this.initPageAttrJsonToPageSettingData(),this.PageSettingData.page.componentsMap.length>0&&this.PageSettingData.page.componentsMap[0].idmProps&&this.PageSettingData.page.componentsMap[0].idmProps(this.PageSettingData.page.componentsMap[0].props),this.copyModuleData={},this.initPageModuleComplete=!1,this.initModuleTreeToPage(null,!0,this.PageSettingData.page.layout,!1,!0),this.PageSettingData.developInfo&&this.PageSettingData.developInfo.guides&&(this.PageSettingData.developInfo.guides.forEach((function(e){e.posX=null!=e.posX?e.posX+30:null,e.posY=null!=e.posY?e.posY+30:null})),this.rulDom.api.setGuides(this.PageSettingData.developInfo.guides,!0)),this.$refs.dragAreaSizeDropList.selectDragAreaSizeList(this.PageSettingData.dragAreaSizeInfo),this.editorLoadedJs()},pageSettingInitHandle:function(){var e=this;this.PageSettingData.page.componentsMap.filter((function(e){return"absolute"==e.positionMode})).length>0&&!this.isOpenHoverLayer?(this.isOpenHoverLayer=!0,this.$nextTick((function(){e.pageSettingInitHandleLater()}))):this.pageSettingInitHandleLater()},initInterfaceInfo:function(){var e=this;return Object(o["a"])(d.a.mark((function t(){return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!IDM.setting.develop.openFetchUserInfo||!IDM.setting.api.userInfoUrl){t.next=3;break}return t.next=3,e.$developApi.fetchUserInfo(IDM.setting.api.userInfoUrl,{pageid:e.pageid}).then((function(e){var t=e.data;"200"==t.code&&t.data&&(t=t.data),IDM.user.setCurrentUserInfo(t)})).catch((function(e){}));case 3:case"end":return t.stop()}}),t)})))()},showSaveFormModal:function(e){var t=this,n=this;if("0"==this.schemaType||"1"==this.schemaType)return this.devPageIsLoad=!1,void this.$developApi.fetchCustomModulePageSettingData({pageid:this.PageSettingData.id,schemaType:this.schemaType}).then((function(e){!e.data||e.data&&_.has(e.data,"code")&&!e.data.data||(e.data.data["previewImgJson"]=e.data.data["previewImgJson"]?JSON.parse(e.data.data["previewImgJson"]):[],console.log("🚀 ~ file: Develop.vue ~ line 1271 ~ .then ~ res.data.data",e.data.data),t.saveAsFormDefaultData=Object(a["a"])(Object(a["a"])({},e.data.data),{},{isEditInfo:!0}),n.showSaveAsFormModal(!0))})).catch((function(e){console.log(e)}));this.saveFormVisible=!0,this.nextHandle=e},saveFormHandleCancel:function(){this.saveFormVisible=!1,this.nextHandle&&this.nextHandle()},saveFormHandleCreate:function(){var e=this,t=this,n=this.$refs.saveForm.form;n.validateFields((function(r,i){if(!r)if(t.$trace.add({actionType:7,pageData:e.PageSettingData,pageInfo:i},t.DEVELOP_HISTORY_ACTION_LIST),t.PageSettingData.pageBaseInfo.version=i.version,t.PageSettingData.pageBaseInfo.author=i.author,t.PageSettingData.pageBaseInfo.remark=i.remark,t.PageSettingData.developInfo||(t.PageSettingData.developInfo={}),t.PageSettingData.developInfo.guides=t.rulDom.api.getGuides(),i.pageSettingData=JSON.stringify(t.beforeSaveFormHandle()),i.pageid=t.PageSettingData.id,i.isUse=i.isUseBoolean?1:0,i.projectNo=IDM.setting.webRoot.projectNo,i.traceList=JSON.stringify(t.$trace.tsHistoryList),IDM.setting.api.savePageSettingUrl){var o=IDM.layer.load(2);t.$developApi.savePageSettingData(i).then((function(e){200==e.data.code?(t.nextHandle?(IDM.message.success("保存成功！"),t.closeAutoSavePageData(!0,!1)):t.idm_$confirm({icon:"check-circle",title:"保存成功！",okText:"打开页面预览",cancelText:"知道了",onOk:function(){window.localStorage["devpreview"]=JSON.stringify(t.beforeSaveFormHandle()),window.open(window.location.href.replace("#/develop/","#/preview/")),t.closeAutoSavePageData(!0,!0)},onCancel:function(){}}),t.$trace.tsHistoryList=[],t.$refs.HistoryActionPanel&&t.$refs.HistoryActionPanel.reload()):IDM.message.error("保存失败！"),n.resetFields(),IDM.layer.close(o),t.saveFormVisible=!1,t.nextHandle&&t.nextHandle()})).catch((function(e){IDM.layer.close(o),"30001"==e.response.status?IDM.message.error("保存失败，请重新登录再回来保存！"):IDM.message.error("保存失败！"+e.message),n.resetFields(),t.saveFormVisible=!1,t.nextHandle&&t.nextHandle()}))}else IDM.message.info("此版本为在线预览版本，请使用预览功能查看效果")}))},showSaveAsFormModal:function(e){e||(this.saveAsFormDefaultData=this.PageSettingData.pageBaseInfo),this.saveAsFormVisible=!0},saveCustomModuleFormHandleCreate:function(){var e=this,t=this.$refs.saveAsForm.form;t.validateFields((function(n,r){if(!n){var i=_.cloneDeep(e.beforeSaveFormHandle());if(r.pageSettingData=JSON.stringify(i),r.pageid=i.id,r.traceList=JSON.stringify(e.$trace.tsHistoryList),r.previewImgJson=JSON.stringify(r.previewImgJson),r.projectNo=IDM.setting.webRoot.projectNo,e.saveAsFormDefaultData&&!e.saveAsFormDefaultData.isEditInfo){var o=IDM.uuid(32);i.id=o,e.replaceOldIdForNewIdInPageData(i,e.PageSettingData.id,o),i.pageBaseInfo.author=r.author,i.pageBaseInfo.remark=r.remark,i.developInfo||(i.developInfo={}),i.developInfo.guides=e.rulDom.api.getGuides(),r.pageSettingData=JSON.stringify(i),r.pageid=i.id}if("-1"==r.moduleType){var a=IDM.uuid(32);i.id=a,e.replaceOldIdForNewIdInPageData(i,e.PageSettingData.id,a),i.pageBaseInfo.version=r.version,i.pageBaseInfo.author=r.author,i.pageBaseInfo.remark=r.remark,i.developInfo||(i.developInfo={}),i.developInfo.guides=e.rulDom.api.getGuides(),r.pageSettingData=JSON.stringify(i),r.pageid=i.id,r.isUse=1,e.$developApi.savePageSettingData(r).then((function(e){200==e.data.code?IDM.message.success("保存成功！"):IDM.message.error({title:"保存失败！"})}))}else e.$developApi.saveCustomModuleData(r).then((function(e){200==e.data.code?IDM.message.success("保存成功！"):IDM.message.error({title:"保存失败！"})}));t.resetFields(),e.saveAsFormVisible=!1}}))},replaceOldIdForNewIdInPageData:function(e,t,n){e&&e.page.componentsMap.forEach((function(e){e.packageid=e.packageid.replace(t,n),e.globalId=e.globalId.replace(t,n),e.id=e.id.replace(t,n)}));var r=function e(r){r instanceof Array||(r=[r]),r&&r.forEach((function(r){r.packageid=r.packageid.replace(t,n),r.globalId=r.globalId.replace(t,n),r.id=r.id.replace(t,n),r&&r.children&&e(r.children)}))};r(e.page.layout)},transformPageActionToPageData:function(e){var t=this,n=this.$refs.editorJs&&this.$refs.editorJs.getContent();if(this.PageSettingData.page.actions||(this.PageSettingData.page.actions={source:"",list:[]}),this.PageSettingData.page.actions.list=[],n)try{this.PageSettingData.page.actions.source=n;var r=Babel.transform(n,{ast:!0,presets:["env"]});if(this.PageSettingData.page.actions.compiled=r.code,r.ast&&r.ast.program&&r.ast.program.body&&r.ast.program.body.length>0){var i=r.ast.program.body;i.forEach((function(e){"FunctionDeclaration"==e.type&&e.id&&e.id.name&&t.PageSettingData.page.actions.list.push(e.id.name)}))}if(this.PageSettingData.page.actions&&this.PageSettingData.page.actions.compiled)if($("#idm_page_script").length>0)$("#idm_page_script").html("var exports={};"+this.PageSettingData.page.actions.compiled);else{var o=$('<script type="text/javascript" id="idm_page_script"/>');$("body").append(o.html("var exports={};"+this.PageSettingData.page.actions.compiled))}}catch(a){if(!0===e){try{this.$refs.editorJs.modifyPosition(a.loc.column,a.loc.line)}catch(s){}IDM.message.error("页面动作代码编译失败，请检查！\n"+a.message)}}},beforeSaveFormHandle:function(e){this.transformPageActionToPageData(!0);var t=_.cloneDeep(e||this.PageSettingData);return t.page.componentsMap.forEach((function(e){delete e.env,delete e.idmProps,delete e.attrSetting,delete e.innerComName})),this.beforeSaveFormDeleteLayoutAttr(t.page.layout),t},beforeSaveFormDeleteLayoutAttr:function(e){var t=this;e instanceof Array||(e=[e]),e.forEach((function(e){delete e.env,delete e.loaded,delete e.idmProps,delete e.attrSetting,delete e.innerComName,delete e.props,delete e.svgData,e.children&&e.children.length>0&&t.beforeSaveFormDeleteLayoutAttr(e.children)}))},initPageAttrJsonToPageSettingData:function(){lo&&(this.PageSettingData.page.componentsMap[0].attrSetting||(this.PageSettingData.page.componentsMap[0].attrSetting={}),this.PageSettingData.page.componentsMap[0].attrSetting.compositeAttr=lo,this.PageSettingData.page.componentsMap[0].idmProps=this.pageAttrPropHandle,this.PageSettingData.page.layout.idmProps=this.pageAttrPropHandle),this.initAutoSavePageData(),this.checkBackupPageDataAndRemind()},checkBackupPageDataAndRemind:function(){var e=this;if(this.getAutoSaveLock())return!1;var t=[];this.setAutoSaveLock(!0);var n=window.localStorage["DevelopAutoSaveData"];n&&0==n.indexOf("[{")&&(t=JSON.parse(n));var r,i=-1;if(t.forEach((function(t,n){t.pageId==e.PageSettingData.id&&(i=n,r=_.cloneDeep(t))})),i>-1){t.splice(i,1);var o=this;this.idm_$confirm({title:"发现自动备份的数据，备份时间：".concat(IDM.dateFormat(r.saveTime,"Y年m月d日 H时i分"),"，是否恢复备份的数据？"),content:"提示：选择恢复并不会替换已保存的数据，需要自行再次进行保存",okText:"恢复",cancelText:"取消",onOk:function(){o.clearPageModule(),o.PageSettingData=r.pageData,o.showMobileStatusBar=!1,o.pageSettingInitHandle()},onCancel:function(){}})}return window.localStorage["DevelopAutoSaveData"]=JSON.stringify(t),this.setAutoSaveLock(!1),!0},pageAttrPropHandle:function(e){var t=e.compositeAttr,n={};for(var r in t.bgSize&&"custom"==t.bgSize?n["background-size"]=(t.bgSizeWidth?t.bgSizeWidth.inputVal+t.bgSizeWidth.selectVal:"auto")+" "+(t.bgSizeHeight?t.bgSizeHeight.inputVal+t.bgSizeHeight.selectVal:"auto"):t.bgSize&&(n["background-size"]=t.bgSize),t.positionX&&t.positionX.inputVal&&(n["background-position-x"]=t.positionX.inputVal+t.positionX.selectVal),t.positionY&&t.positionY.inputVal&&(n["background-position-y"]=t.positionY.inputVal+t.positionY.selectVal),t)if(t.hasOwnProperty.call(t,r)){var i=t[r];if(!i&&!1!==i)continue;switch(r){case"defaultIdmTheme":IDM.theme.setCurrentThemeInfo(i);break;case"showMobileStatusBar":this.$set(this,"showMobileStatusBar",i);break;case"width":case"height":n[r]=i;break;case"bgColor":i.hex8&&(n["background-color"]=IDM.hex8ToRgbaString(i.hex8));break;case"box":IDM.style.setBoxStyle(n,i);break;case"bgImgUrl":n["background-image"]="url(".concat(IDM.url.getWebPath(i),")");break;case"positionX":break;case"positionY":break;case"bgRepeat":n["background-repeat"]=i;break;case"bgAttachment":n["background-attachment"]=i;break;case"border":IDM.style.setBorderStyle(n,i);break;case"font":IDM.style.setFontStyle(n,i);break;case"layout":var o={};IDM.style.setLayoutStyle(o,i),IDM.setStyleToPageHead(".idm_page_root",o);break}}IDM.style.setFilterStyle(n,e.basicAttr,{opacity:"pageOpacity"}),this.$nextTick((function(e){if(t.watermarkType&&"none"!=t.watermarkType){var n=this.$replace(t.watermarkFont,{IDM:IDM}),r=this.$replace(t.watermarkFont1,{IDM:IDM});IDM.watermark.set(this.$refs.idm_drag_documtnt,t.watermarkZindex,"font"!=t.watermarkType?t.watermarkImg:n,"image"==t.watermarkType?"":r,{fontColor:t.watermarkColor&&IDM.hex8ToRgbaString(t.watermarkColor.hex8),fontSize:"".concat(t.watermarkFontSize,"px"),width:t.watermarkSize,height:t.watermarkSize,rotate:t.watermarkRotate,imgSize:t.watermarkImgSize,imgLeftSize:t.watermarkImgLeftSize,fontLeftSize:t.watermarkFontLeftSize,opacity:t.watermarkOpacity/100,topSize:t.watermarkTopSize})}else IDM.watermark.close(this.$refs.idm_drag_documtnt)})),IDM.setStyleToPageHead("idm_drag_documtnt",n)},componentVersionChangeHandle:function(e){var t=this.getChildrenModule(),n="因要更新的版本不同可能会导致部分属性失效，确定要更新该版本吗？",r=[];t.length>0&&(n="该组件下有"+t.length+"个子组件，如果确定要更新可能会导致部分组件丢失，确定要更新该版本吗？",t.forEach((function(e){r.push(e.asName)})));var i=this;this.idm_$confirm({title:n,content:r.length>0?"原因：不确定要更新的组件容器是否存在，所以不确定性哪些会被移除，建议先将组件移出该组件容器，待更新后再移入进来，以下组件有被移除的可能："+r.join("、"):"",okText:"确定",cancelText:"取消",onOk:function(){i.$trace.add({actionType:5,pageData:i.PageSettingData,moduleData:i.getModuleObject(i.selectedModuleData.packageid),oldVersion:i.selectedModuleData.currentVersion.version,newVersion:e.version},i.DEVELOP_HISTORY_ACTION_LIST),i.PageSettingData.page.componentsMap.forEach((function(t){t.packageid==i.selectedModuleData.packageid&&(t.currentVersion=e)})),i.selectedModuleData.currentVersion=e;var t=!1;i.moduleVersionMergePageTree(null,i.selectedModuleData,e,t),$("#"+i.selectedModuleData.packageid).html($("<div />").attr("id","idm_"+i.selectedModuleData.id));var n=i.getModuleTree(i.PageSettingData.page.layout,i.selectedModuleData.packageid);n&&n.children&&n.children.length&&(i.switchVersionLoaded=!1,i.resetLayoutInnerModuleLoadedStatus(n.children)),IDM.module.addModuleToQueue(n)},onCancel:function(){}})},moduleVersionMergePageTree:function(e,t,n,r){var i=this;e=e||this.PageSettingData.page.layout,e instanceof Array||(e=[e]),e.forEach((function(e){e.packageid==t.packageid?n&&(e.currentVersion=n,r&&(e.children=[])):e.children&&i.moduleVersionMergePageTree(e.children,t,n,r)}))},getChildrenModule:function(e){var t=e||this.selectedModuleData.packageid;return this.PageSettingData.page.componentsMap.filter((function(e){return e.globalId.indexOf(t+".")>-1}))},mixAttributeChangeHandle:function(e,t,n){if(console.log("🚀 ~ file: Develop.vue ~ line 2521 ~ mixAttributeChangeHandle ~ basicAttr",n,e),t.packageid){for(var r=_.cloneDeep(e),i=0;i<this.PageSettingData.page.componentsMap.length;i++){var o=this.PageSettingData.page.componentsMap[i];if(o.packageid==t.packageid){var a=_.cloneDeep(o);o.props||(o.props={});var s={},u={};if(n)s=IDM.difference(o.props.basicAttr,r),0==Object.keys(s).length&&(u=IDM.difference(r,o.props.basicAttr)),o.props.basicAttr=r;else if(-1!=t.cIndex){var c=!1;o.props.innerAttr&&o.props.innerAttr.length>0&&o.props.innerAttr.forEach((function(n){n.containerIndex==t.cIndex&&(c=!0,s=IDM.difference(n.dataAttr,e),0==Object.keys(s).length&&(u=IDM.difference(e,n.dataAttr)),n.dataAttr=e)})),o.props.innerAttr||(o.props.innerAttr=[]),c||(o.props.innerAttr.push({containerIndex:t.cIndex,dataAttr:e}),s=e)}else s=IDM.difference(o.props.compositeAttr,r),0==Object.keys(s).length&&(u=IDM.difference(r,o.props.compositeAttr)),o.props.compositeAttr=r;1==Object.keys(s).length?this.$trace.add({actionType:this.PageSettingData.id==a.packageid?9:4,pageData:this.PageSettingData,moduleData:a,attrDataChange:s,attrDataNew:r,attrIndex:t.cIndex},this.DEVELOP_HISTORY_ACTION_LIST):0==Object.keys(s).length&&this.$trace.add({actionType:this.PageSettingData.id==a.packageid?9:4,pageData:this.PageSettingData,moduleData:a,attrDataChange:u,attrDataNew:r,attrIndex:t.cIndex,isReverseComparison:!0},this.DEVELOP_HISTORY_ACTION_LIST),o.idmProps&&o.idmProps(o.props);break}}this.moduleAttrMergePageTree(null,t,r),console.log("属性更新完成的页面信息",this.PageSettingData),t.packageid&&this.selectedPageModule(t.packageid,!0,t.cIndex,!1),n&&this.resetHoverModulePositionInfo(t.packageid)}},externalMixAttributeChangeHandle:function(e,t,n,r){var i=this;if(!t||!e||e&&0==Object.keys(e).length)return!1;var o;console.log("属性更改准备开始更新到树结构中",e,t,n);for(var a=this.PageSettingData.page.componentsMap,s=0;s<a.length;s++){var u=a[s];if(u.packageid==t){u.props||(u.props={});var c={};if(!n&&0!==n||-1==n)o=_.cloneDeep(u.props.compositeAttr)||{},Object.keys(e).forEach((function(t){o[t]=_.cloneDeep(e[t])})),c=IDM.difference(u.props.compositeAttr,o),0==Object.keys(c).length&&IDM.difference(o,u.props.compositeAttr),u.props.compositeAttr=o;else{var l=!1;u.props.innerAttr&&u.props.innerAttr.length>0&&u.props.innerAttr.forEach((function(t){t.containerIndex==n&&(l=!0,o=_.cloneDeep(t.dataAttr)||{},Object.keys(e).forEach((function(t){o[t]=_.cloneDeep(e[t])})),c=IDM.difference(t.dataAttr,o),0==Object.keys(c).length&&IDM.difference(o,t.dataAttr),t.dataAttr=o)})),u.props.innerAttr||(u.props.innerAttr=[]),l||(u.props.innerAttr.push({containerIndex:n,dataAttr:e}),c=e)}r&&u.idmProps&&u.idmProps(u.props);break}}if(!o)return!1;this.moduleAttrMergePageTree(null,{packageid:t,cIndex:n||0===n?n:-1},o);var d=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==i.selectedModuleData.packageid}));return!d||d&&0==d.length||(this.selectedModuleData=_.cloneDeep(d[0])),!0},selectedModuleHandle:function(e,t,n){var r=this;if(!e.packageid&&e.id==this.currentHalfSelectedGroupObject.groupId){var i=this.getGroupTree(null,this.currentHalfSelectedGroupObject.groupId),o=i&&i.children?i.children.map((function(e){return e.id})):[],a=this.multipleSelectedGroupData.filter((function(e){return o.includes(e.id)})),s=this.multipleSelectedModuleData.filter((function(e){return i.moduleList.includes(e.packageid)}));a&&_.cloneDeep(a).forEach((function(e){for(var t=0;t<r.multipleSelectedGroupData.length;t++){var n=r.multipleSelectedGroupData[t];if(n.id==e.id){r.multipleSelectedGroupData.splice(t,1);break}}})),s&&_.cloneDeep(s).forEach((function(e){for(var t=0;t<r.multipleSelectedModuleData.length;t++){var n=r.multipleSelectedModuleData[t];if(n.packageid==e.packageid){r.multipleSelectedModuleData.splice(t,1);break}}}))}var u=this.getParentGroupObject(null,e.packageid,e.id);if(!e.packageid||u&&u.id)if(u&&u.id){this.currentHalfSelectedGroupObject.groupId=u.id;var c=this.getGroupTree(null,this.currentHalfSelectedGroupObject.groupId),l=c&&c.children?c.children.map((function(e){return e.id})):[],d=this.multipleSelectedGroupData.filter((function(e){return!l.includes(e.id)})),f=this.multipleSelectedModuleData.filter((function(e){return!c.moduleList.includes(e.packageid)}));d&&_.cloneDeep(d).forEach((function(e){for(var t=0;t<r.multipleSelectedGroupData.length;t++){var n=r.multipleSelectedGroupData[t];if(n.id==e.id){r.multipleSelectedGroupData.splice(t,1);break}}})),f&&_.cloneDeep(f).forEach((function(e){for(var t=0;t<r.multipleSelectedModuleData.length;t++){var n=r.multipleSelectedModuleData[t];if(n.packageid==e.packageid){r.multipleSelectedModuleData.splice(t,1);break}}}))}else this.currentHalfSelectedGroupObject.groupId="",_.cloneDeep(this.multipleSelectedModuleData).forEach((function(e){var t=r.getParentGroupObject(null,e.packageid);if(t&&t.id)for(var n=0;n<r.multipleSelectedModuleData.length;n++){var i=r.multipleSelectedModuleData[n];i.packageid==e.packageid&&r.multipleSelectedModuleData.splice(n,1)}})),_.cloneDeep(this.multipleSelectedGroupData).forEach((function(e){var t=r.getParentGroupObject(null,null,e.id);if(t&&t.id)for(var n=0;n<r.multipleSelectedGroupData.length;n++){var i=r.multipleSelectedGroupData[n];i.id==e.id&&r.multipleSelectedGroupData.splice(n,1)}}));if(!e.packageid)return this.dialogVisibleStatus&&this.changeDialogVisibleStatus(!0),this.isOpenHoverLayer=!0,void this.$nextTick((function(){r.hoverModeSelectedModuleHandle(!1,r.getGroupInnerPackageidOne(r.getGroupTree(null,e.id))),r.moduleSimulatorOverlayHandle(),r.menuMultipleSelectedModuleHandle()}));var A=this;if(u&&u.id)return this.dialogVisibleStatus&&this.changeDialogVisibleStatus(!0),this.isOpenHoverLayer=!0,void this.$nextTick((function(){A.selectedPageModule(e.packageid,null,null,null,!0),A.moduleSimulatorOverlayHandle(),A.menuMultipleSelectedModuleHandle()}));if("dialog"==e.comType&&this.selectDialogModule(e),"dialog"!=e.comType&&t){var h=this.getModuleObject(e.globalId.split(".")[1]);this.selectDialogModule(h)}"absolute"==e.positionMode||n?(this.dialogVisibleStatus&&this.changeDialogVisibleStatus(!0),this.isOpenHoverLayer=!0,this.$nextTick((function(){r.selectedPageModule(e.packageid,null,null,null,!0)}))):("dialog"==e.comType||t||"absolute"==e.positionMode||n||(this.dialogVisibleStatus&&this.changeDialogVisibleStatus(!0),this.isOpenHoverLayer&&this.changeHoverVisibleStatus(!0)),this.selectedPageModule(e.packageid))},hoverModuleHandle:function(e){e?this.hoverPageModule(e.packageid):this.hoverModuleData={}},getSingleComponentCustomData:function(e){e=e||this.moveTouchData.comId;var t={};return this.comCustomData.forEach((function(n){n.componentList&&n.componentList.forEach((function(n){n.comId==e&&(t=n)}))})),_.cloneDeep(t)},assignProps:function(e,t){var n=this;e instanceof Array||(e=[e]),0!=e.length&&0!=t.length&&e.forEach((function(e){var r=t.filter((function(t){return t.packageid==e.packageid}));r&&r.length>0&&(e.props=r[0].props),e.children&&n.assignProps(e.children,t)}))},componentBusinessDragEnd:function(e,t,n){try{var r=this,i=r.getSingleComponentCustomData(),o=[];if(i&&i.schemaText&&i.schemaText.page&&i.schemaText.page.layout&&i.schemaText.page.layout.children&&i.schemaText.page.layout.children.length>0){try{r.assignProps(i.schemaText.page.layout.children,i.schemaText.page.componentsMap)}catch(c){}i.schemaText.page.layout.children.forEach((function(e){o.push(e)}))}if(0==o.length)return IDM.message.warning("你要拖入的业务组件中不包含任何组件！"),$(n).remove(),void(r.moveTouchData={});if(r.copyMoveTouchData=_.cloneDeep(r.moveTouchData),this.copyModuleData=o,this.resetLayoutInnerModuleLoadedStatus(this.copyModuleData),r.initModuleTreeToPage(),i&&i.schemaText&&i.schemaText.page&&i.schemaText.page.actions){var a=i.schemaText.page.actions;if(a&&a.list){var s=r.PageSettingData.page.actions,u=[];a.list.forEach((function(e){s.list.indexOf(e)>-1&&u.push(e)})),(2!=this.bottomActionActiveIndex||!0===this.currentActionPanelVisibility&&2!=this.bottomActionActiveIndex)&&(!0===this.currentActionPanelVisibility?this.changeBottomActionPanelStatus(2,!0):(this.currentActionPanelVisibility=!0,this.changeBottomActionPanelStatus(2,!0),this.menuActionStatusChangeHandle({type:"openBottomActionPanel"}))),u.length>0?r.idm_$confirm({title:"业务组件中的动作代码函数名称在当前的页面动作中有冲突，是否继续导入动作代码？",content:"如果继续导入，完成后需要重新去修改以下重名的函数："+u.join(",")+"，修改完函数名称后请到组件对应的函数重新绑定动作函数",okText:"继续导入",cancelText:"不导入动作",onOk:function(){setTimeout((function(){r.$refs.editorJs&&r.$refs.editorJs.addCode(a.source.replace("/**\n *页面扩展代码，可复用的函数，支持ES6语法\n * 动作面板帮助文档: \n * @see http://www.yunit.cn/idm/help/scps0e\n */\n",""))}),100)},onCancel:function(){}}):setTimeout((function(){r.$refs.editorJs&&r.$refs.editorJs.addCode(a.source.replace("/**\n *页面扩展代码，可复用的函数，支持ES6语法\n * 动作面板帮助文档: \n * @see http://www.yunit.cn/idm/help/scps0e\n */\n",""))}),100)}}$(n).remove(),r.moveTouchData={}}catch(c){$(n).remove()}},componentDragEnd:function(e,t,n){try{var r=this,i=r.getSingleComponentData();i.packageid="component_"+IDM.UUID(),i.id=i.packageid+"_inner";var o=r.createModuleDom(i),a="";if(r.moveTouchData.comPos){if("rootContainer"==r.moveTouchData.comPos.module.type)a=r.PageSettingData.id,"bottom"==r.moveTouchData.comPos.type?$("#PAGE_"+a).append(o):$("#PAGE_"+a).prepend(o);else{switch(a=r.moveTouchData.comPos.module.comId,r.moveTouchData.comPos.type){case"top":case"left":$("#"+a).before(o);break;case"bottom":case"right":$("#"+a).after(o);break}var s=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==a}));s.length>0&&(s[0].containerIndex||"0"==s[0].containerIndex)&&(i.containerIndex=s[0].containerIndex),s.length>0&&2==s[0].globalId.split(".").length&&!0}i.relationType=r.moveTouchData.comPos.type}else if(i.relationType="inner",r.moveTouchData.dialogEle)a=r.PageSettingData.id,$("#idm_dialog_wrap").append(o),!r.dialogVisibleStatus&&r.changeDialogVisibleStatus(),r.selectDialogModule(i);else if("toContainer"==r.moveTouchData.container.type)a=r.PageSettingData.id,$("#PAGE_"+a).append(o);else{a=r.moveTouchData.container.comId;var u=$("#"+a);u.removeClass("drag_container_empty");var c=u.find(">*[idm-ctrl]");if(c.show(),-1==r.moveTouchData.container.cIndex)c.append(o);else{i.relationType="inner_"+r.moveTouchData.container.cIndex,i.containerIndex=r.moveTouchData.container.cIndex;var l=c.find(".drag_container[idm-ctrl-id='"+r.moveTouchData.container.comId+"_inner'][idm-container-index="+r.moveTouchData.container.cIndex+"]");l&&l.append(o),l&&l.removeClass("drag_container_empty")}}this.observerResizeModuleElement(i),this.moduleResourceLoading=this.idm_$message.loading({content:"组件（".concat(i.asName,"-").concat(i.className,"）资源模块加载中..."),key:"moduleResourceLoading"},0),i.relationId=a,i.env="develop",IDM.module.addModuleToQueue(i),r.addModuleToPageTree(i),$(n).remove(),r.moveTouchData={},this.$trace.add({actionType:1,pageData:this.PageSettingData,moduleData:this.getModuleObject(i.packageid)},this.DEVELOP_HISTORY_ACTION_LIST)}catch(d){$(n).remove()}},componentHoverLayoutDragEnd:function(e,t,n){var r=this;if(r.moveTouchData.hoverLayoutRoot)try{var i=r.getSingleComponentData();i.packageid="component_"+IDM.UUID(),i.id=i.packageid+"_inner",i.positionMode="absolute",i.relationType="inner",i.relationId=r.PageSettingData.id,i.env="develop",this.moduleResourceLoading=this.idm_$message.loading({content:"组件（".concat(i.asName,"-").concat(i.className,"）资源模块加载中..."),key:"moduleResourceLoading"},0);var o=r.createModuleDom(i,t);$("#idm_hover_layer_wrap").append(o),this.addModuleEndpoint(i),this.observerResizeModuleElement(i),IDM.module.addModuleToQueue(i),r.addModuleToPageTree(i),$(n).remove(),r.moveTouchData={},this.$trace.add({actionType:1,pageData:this.PageSettingData,moduleData:this.getModuleObject(i.packageid)},this.DEVELOP_HISTORY_ACTION_LIST)}catch(a){$(n).remove()}else r.componentDragEnd(e,t,n)},ComponentMarketLoadedHandle:function(e){var t=this;t.comLoadedCount=t.comLoadedCount+1,t.comMarketData=e,t.comLoadedCount>1&&t.ComponentLoadedHandle()},ComponentCustomLoadedHandle:function(e){var t=this;t.comLoadedCount=t.comLoadedCount+1,t.comCustomData=e,t.comLoadedCount>1&&t.ComponentLoadedHandle()},ComponentLoadedHandle:function(){var e=this;this.$nextTick((function(){e.idmDragArray=new A(".component_item_info,.component_grid_info",{copyDom:!0,dragStart:function(t,n){e.selectedModuleData={},console.log("拖拽开始",n)},dragEnd:function(t,n,r){t&&t.dataset&&"business"==t.dataset.comtype?e.componentBusinessDragEnd(t,n,r):e.isOpenHoverLayer?e.componentHoverLayoutDragEnd(t,n,r):e.componentDragEnd(t,n,r)},dragMove:function(e,t){},dragMoveTouch:function(t,n){e.moveTouchData=n}})}))},initModuleTreeToPage:function(e,t,n,r,i,o){var a,s=this,u=this;if(e=e||(i?u.PageSettingData.page.layout.children:u.copyModuleData),e instanceof Array||(e=[e]),e.forEach((function(e){e.loaded||a||(a=e,e.loaded=!0,e.mountComplete=s.moduleMountComplete,e.moduleReload=s.moduleReload)})),a){for(var c=a,l=0;l<u.PageSettingData.page.componentsMap.length;l++){var d=u.PageSettingData.page.componentsMap[l];if(d.packageid==c.packageid){c.props=d.props,d.svgData&&(c.svgData=d.svgData);break}}i||(c.packageid="component_"+IDM.UUID(),c.id=c.packageid+"_inner");var f=u.createModuleDom(c),A="";if("dialog"==c.comType)A=u.PageSettingData.id,i||(c.relationType="inner"),$("#idm_dialog_wrap").append(f),!u.dialogVisibleStatus&&u.changeDialogVisibleStatus(),u.selectDialogModule(c);else if("absolute"==c.positionMode&&(!t||t&&n&&"0"==n.comId))A=u.PageSettingData.id,$("#idm_hover_layer_wrap").append(f),this.addModuleEndpoint(c);else if(r)A=r,i||(c.relationType="bottom"),$("#"+A).after(f);else if(t&&n)if(A=n.packageid,i||(c.relationType="inner"),A==u.PageSettingData.id)$("#PAGE_"+A).append(f);else{var h=$("#"+A);h.removeClass("drag_container_empty");var p=h.find(">*[idm-ctrl]");if(p.show(),c.containerIndex||"0"==c.containerIndex){c.relationType="inner_"+c.containerIndex;var m=p.find(".drag_container[idm-ctrl-id='"+n.id+"'][idm-container-index="+c.containerIndex+"]");m&&m.append(f),m&&m.removeClass("drag_container_empty")}else p.append(f)}else if(!i&&u.copyMoveTouchData.comPos){if("rootContainer"==u.copyMoveTouchData.comPos.module.type)A=u.PageSettingData.id,"bottom"==u.copyMoveTouchData.comPos.type?$("#PAGE_"+A).append(f):$("#PAGE_"+A).prepend(f);else{switch(A=u.copyMoveTouchData.comPos.module.comId,u.copyMoveTouchData.comPos.type){case"top":case"left":$("#"+A).before(f);break;case"bottom":case"right":$("#"+A).after(f);break}var g=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==A}));g.length>0&&(g[0].containerIndex||"0"==g[0].containerIndex)&&(c.containerIndex=g[0].containerIndex)}c.relationType=u.copyMoveTouchData.comPos.type}else if(o)switch(o){case"root":A=u.PageSettingData.id,$("#PAGE_"+A).append(f),c.relationType="bottom";break;case"container":c.relationType="inner",A=u.selectedModuleData.packageid;h=$("#"+A);h.removeClass("drag_container_empty");p=h.find(">*[idm-ctrl]");if(p.show(),-1==u.selectedModuleData.cIndex)p.append(f);else{c.relationType="inner_"+u.selectedModuleData.cIndex,c.containerIndex=u.selectedModuleData.cIndex;m=p.find(".drag_container[idm-ctrl-id='"+u.selectedModuleData.id+"'][idm-container-index="+u.selectedModuleData.cIndex+"]");m&&m.append(f),m&&m.removeClass("drag_container_empty")}break;case"module":A=u.selectedModuleData.packageid,i||(c.relationType="bottom"),$("#"+A).after(f);break}else if(!i)if(c.relationType="inner",console.log("that.copyMoveTouchData",u.copyMoveTouchData),"toContainer"==u.copyMoveTouchData.container.type)A=u.PageSettingData.id,$("#PAGE_"+A).append(f);else{A=u.copyMoveTouchData.container.comId;h=$("#"+A);h.removeClass("drag_container_empty");p=h.find(">*[idm-ctrl]");if(p.show(),-1==u.copyMoveTouchData.container.cIndex)p.append(f);else{c.relationType="inner_"+u.copyMoveTouchData.container.cIndex,c.containerIndex=u.copyMoveTouchData.container.cIndex;m=p.find(".drag_container[idm-ctrl-id='"+u.copyMoveTouchData.container.comId+"_inner'][idm-container-index="+u.copyMoveTouchData.container.cIndex+"]");m&&m.append(f),m&&m.removeClass("drag_container_empty")}}u.observerResizeModuleElement(c),i||(c.relationId=A),c.env="develop","svg"==c.comType?this.moduleMountComplete(c):IDM.module.addModuleToQueue(c),!i&&u.addModuleToPageTree(c),o&&u.$trace.add({actionType:10,pageData:this.PageSettingData,moduleData:this.getModuleObject(c.packageid)},u.DEVELOP_HISTORY_ACTION_LIST)}else e.forEach((function(e){e.children&&e.children.length>0&&u.initModuleTreeToPage(e.children,!0,e,!1,i)}));return a},selectDialogModule:function(e){var t=this;!t.dialogVisibleStatus&&t.changeDialogVisibleStatus(),t.selectedDialogData=e,$("#idm_dialog_wrap>div.idm_module[id!='"+e.packageid+"']").hide(),$("#idm_dialog_wrap>div.idm_module[id='"+e.packageid+"']").show(),this.refreshModuleEmpty(this.PageSettingData.page.layout,e.packageid)},changeDialogVisibleStatus:function(e){this.dialogVisibleStatus=!0!==e&&!this.dialogVisibleStatus,this.dialogVisibleStatus&&!0!==e||(this.selectedModuleData={})},changeHoverVisibleStatus:function(e){this.isOpenHoverLayer=!0!==e&&!this.isOpenHoverLayer},checkModuleDataIsLoaded:function(e,t){var n=this,r=this,i=!0;return r.copyModuleData&&(!r.copyModuleData||r.copyModuleData.packageid)||r.copyModuleData instanceof Array||t?(e=e||(t?r.PageSettingData.page.layout.children:r.copyModuleData),e instanceof Array||(e=[e]),e.forEach((function(e){e.loaded||(i=!1)})),i&&e.forEach((function(e){e.children&&e.children.length>0&&i&&(i=n.checkModuleDataIsLoaded(e.children,t))})),i):i},pageModuleDataIsLoaded:function(e,t){var n=this,r=this,i=!0;return e=e||r.PageSettingData.page.layout.children,e instanceof Array||(e=[e]),e.forEach((function(e){e.loaded||(i=!1)})),i&&e.forEach((function(e){e.children&&e.children.length>0&&i&&(i=n.pageModuleDataIsLoaded(e.children,t))})),i},deletePageModule:function(e,t){if(e&&!e.packageid){var n=this.getGroupTree(null,e.id);return this.removeGroupData(n),this.deletePageGroup(this.multipleSelectedGroupData,e.id),void this.moduleSimulatorOverlayHandle()}var r=this,i=e?e.packageid:r.selectedModuleData.packageid,o=e?e.comType:r.selectedModuleData.comType,a=e||r.selectedModuleData;if(a&&"absolute"==a.positionMode){for(var s=0;s<this.multipleSelectedModuleData.length;s++){var u=this.multipleSelectedModuleData[s];if(u.packageid==a.packageid){this.multipleSelectedModuleData.splice(s,1);break}}this.deletePageGroupModule(this.multipleSelectedGroupData,a.packageid),this.deletePageGroupModule(null,a.packageid),this.moduleSimulatorOverlayHandle()}this.$trace.add({actionType:3,pageData:this.PageSettingData,moduleData:this.getModuleObject(i)},this.DEVELOP_HISTORY_ACTION_LIST),this.deleteModuleTree(this.PageSettingData.page.layout.children,i,this.PageSettingData.page.layout),this.deletedModuleMap(i);var c=$("#"+i),l=c.parent();$("#"+i).remove(),l.hasClass("drag_container")&&0==l.find(":visible").length?l.addClass("drag_container_empty"):"drag_container"!=l.attr("idm-ctrl")&&"drag_container_inlineblock"!=l.attr("idm-ctrl")||0!=l.find(":visible").length||l.parent().addClass("drag_container_empty"),t||(r.selectedModuleData={}),r.hoverModuleData&&r.hoverModuleData.packageid==i&&(r.hoverModuleData={}),"dialog"==o&&r.changeDialogVisibleStatus(!0)},deletedModuleMap:function(e,t){var n=this,r=!1;this.PageSettingData.page.componentsMap.forEach((function(i,o){i.globalId&&i.globalId.indexOf(e+(t?".":""))>-1&&!r&&(r=!0,n.PageSettingData.page.componentsMap.splice(o,1))})),r&&this.deletedModuleMap(e,t)},copyModuleToNext:function(e){var t=this,n=e?e.packageid:t.selectedModuleData.packageid,r=this.getModuleTree(this.PageSettingData.page.layout.children,n);t.copyModuleData=_.cloneDeep(r),t.resetLayoutInnerModuleLoadedStatus(t.copyModuleData),t.initModuleTreeToPage(null,null,null,n)},selectModuleDragEnd:function(e,t,n,r){var i=this.getModuleTree(this.PageSettingData.page.layout.children,r);console.log("要移动或复制的组件",i),i.containerIndex="";var o=this;if(this.keyCtrlStatus.altKey)o.copyMoveTouchData=_.cloneDeep(o.moveTouchData),o.copyModuleData=_.cloneDeep(i),o.initModuleTreeToPage();else{var a=_.cloneDeep(this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==r})));a&&a.length>0&&(a=a[0]);var s="",u=$("#"+r),c="";if(o.moveTouchData.comPos){if("rootContainer"==o.moveTouchData.comPos.module.type){if(s=o.PageSettingData.id,c=o.getModuleObject(s).globalId,c.indexOf(r)>-1)return void o.removeMoveData(n,!0);"bottom"==o.moveTouchData.comPos.type?$("#PAGE_"+s).append(u):$("#PAGE_"+s).prepend(u)}else{if(s=o.moveTouchData.comPos.module.comId,c=o.getModuleObject(s).globalId,c.indexOf(r)>-1)return void o.removeMoveData(n,!0);switch(o.moveTouchData.comPos.type){case"top":case"left":$("#"+s).before(u);break;case"bottom":case"right":$("#"+s).after(u);break}var l=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==s}));l.length>0&&(l[0].containerIndex||"0"==l[0].containerIndex)&&(i.containerIndex=l[0].containerIndex)}i.relationType=o.moveTouchData.comPos.type}else if(i.relationType="inner","toContainer"==o.moveTouchData.container.type){if(s=o.PageSettingData.id,c=o.getModuleObject(s).globalId,c.indexOf(r)>-1)return void o.removeMoveData(n,!0);$("#PAGE_"+s).append(u)}else{if(s=o.moveTouchData.container.comId,c=o.getModuleObject(s).globalId,c.indexOf(r)>-1)return void o.removeMoveData(n,!0);var d=$("#"+s);d.removeClass("drag_container_empty");var f=d.find(">*[idm-ctrl]");if(f.show(),-1==o.moveTouchData.container.cIndex)f.append(u);else{i.relationType="inner_"+o.moveTouchData.container.cIndex,i.containerIndex=o.moveTouchData.container.cIndex;var A=f.find(".drag_container[idm-ctrl-id='"+o.moveTouchData.container.comId+"_inner'][idm-container-index="+o.moveTouchData.container.cIndex+"]");A&&A.append(u),A&&A.removeClass("drag_container_empty")}}if(i.relationId=s,this.deleteModuleTree(this.PageSettingData.page.layout.children,r,this.PageSettingData.page.layout),o.addModuleToPageTree(i,void 0,!0),a&&a.globalId){var h=a.globalId.split("."),p=h[h.length-2];console.log("父级容器",this.PageSettingData,p),this.refreshModuleEmpty(this.PageSettingData.page.layout,p)}i.idmProps&&i.idmProps(i.props),this.selectedPageModule(i.packageid),this.$trace.add({actionType:2,pageData:this.PageSettingData,moduleData:this.getModuleObject(i.packageid),oldModuleData:a},this.DEVELOP_HISTORY_ACTION_LIST)}this.removeMoveData(n)},deleteModuleTree:function(e,t,n){var r,i=this;return e instanceof Array||(e=[e]),e.forEach((function(e,o){e.packageid==t?(r=e,i.lastDeleteModule=_.cloneDeep(e),n.children.splice(o,1)):!r&&e.children&&(r=i.deleteModuleTree(e.children,t,e))})),r},removeMoveData:function(e,t){$(e).remove(),this.moveTouchData={},t&&this.idm_$message.warning("无法移动到组件内部容器或位置未发生改变")},refreshModuleEmpty:function(e,t){var n,r=this;e instanceof Array||(e=[e]),e.forEach((function(e){if(e.packageid==t){n=e;var i=$("#"+e.packageid);if(e.children&&(!e.children||0!=e.children.length)||0!=i.find(":visible").length&&0!=i.find(">*[idm-ctrl]").find(":visible").length){o=i.find(">*[idm-ctrl]");(!o||o&&o.children().length)&&(i.removeClass("drag_container_empty"),o&&o.is(":hidden")&&o.show())}else{var o=i.find(">*[idm-ctrl]");"drag_container"==o.attr("idm-ctrl")||"drag_container_inlineblock"==o.attr("idm-ctrl")?(i.addClass("drag_container_empty"),o.hide()):(i.removeClass("drag_container_empty"),o.show())}var a=i.find(".drag_container[idm-container-index][idm-ctrl-id*='"+e.id+"']");a.each((function(){var t=$(this).attr("idm-container-index"),n=[];e.children&&e.children.length>0&&(n=e.children.filter((function(e){return e.containerIndex==t}))),0!=n.length||0!=$(this).find(":visible").length&&0!=$(this).find(">*[idm-ctrl]").find(":visible").length?$(this).removeClass("drag_container_empty"):$(this).addClass("drag_container_empty")})),e.children&&e.children.forEach((function(e){e.children&&e.children.length>0&&r.refreshModuleEmpty(e,e.packageid)}))}else!n&&e.children&&(n=r.refreshModuleEmpty(e.children,t))}))},getModuleObject:function(e){var t=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));return t&&t.length>0&&(t=t[0]),t||{}},getModuleTree:function(e,t){var n;e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];i.packageid==t?n=i:!n&&i.children&&(n=this.getModuleTree(i.children,t))}if(n&&n.packageid)try{this.assignProps(n,this.PageSettingData.page.componentsMap)}catch(o){}return n},selectModuleLoadedHandle:function(){var e=this;this.$nextTick((function(){var t=$("#idm_module_handle_legend").html(),n=e.selectedModuleData.packageid;$(".idm_module_handle").html($(".idm_module_handle").parent().html()),-1==this.selectedModuleData.cIndex&&(e.idmDragArray1=new A(".idm_module_handle",{copyDom:!0,dragDom:t,dragStart:function(t,r){$("#"+n).addClass("simulator_dragging"),e.selectedModuleData={},console.log("拖拽开始",r)},dragEnd:function(t,r,i){$(".simulator_dragging").removeClass("simulator_dragging"),e.selectModuleDragEnd(t,r,i,n),console.log("拖拽结束",r)},dragMove:function(e,t){},dragMoveTouch:function(t,n){e.moveTouchData=n}}))}))},addModuleToPageTree:function(e,t,n){var r=this;e=_.cloneDeep(e);var i=e.relationId,o=e.relationType;if(t=t||this.PageSettingData.page.layout,t instanceof Array){var a=!1;t.forEach((function(s,u){if(i!=s.packageid||a)s.children&&s.children.length>0&&!a&&r.addModuleToPageTree(e,s.children,n);else{var c=n?e:r.formatLayoutModule(e);switch(a=!0,o){case"top":case"left":c.globalId=(s.globalId?s.globalId.replace("."+s.packageid,""):s.packageid)+"."+c.packageid,t.splice(u,0,c);break;case"bottom":case"right":c.globalId=(s.globalId?s.globalId.replace("."+s.packageid,""):s.packageid)+"."+c.packageid,t.splice(u+1,0,c);break;case"inner":c.globalId=(s.globalId||s.packageid)+"."+c.packageid,s.children=s.children||[],s.children.push(c);break}o.indexOf("_")>0&&(c.globalId=(s.globalId||s.packageid)+"."+c.packageid,s.children=s.children||[],s.children.push(c)),r.addModuleToPageMaps(c,n)}}))}else if(i==this.PageSettingData.id){var s=n?e:this.formatLayoutModule(e);switch(s.globalId=this.PageSettingData.id+"."+s.packageid,o){case"top":case"left":t.children.unshift(s),this.addModuleToPageMaps(s,n);break;case"bottom":case"right":case"inner":t.children.push(s),this.addModuleToPageMaps(s,n);break}}else this.addModuleToPageTree(e,t.children,n)},addModuleToPageMaps:function(e,t){var n=this;if(e.attrSetting&&this.modulePropInitialValue(e,!0),t)this.PageSettingData.page.componentsMap.forEach((function(t){e.packageid==t.packageid&&(t.globalId=e.globalId,t.containerIndex=e.containerIndex,t.relationId=e.relationId,t.relationType=e.relationType,t.positionMode=e.positionMode,t.props||(t.props={}),t.props.basicAttr||(t.props.basicAttr={}),t.props.basicAttr.positionOrigin="leftTop",t.props.basicAttr.positionWH=e&&e.props&&e.props.basicAttr&&e.props.basicAttr.positionWH||"".concat(n.defaultModuleSize.width,",").concat(n.defaultModuleSize.height),t.props.basicAttr.positionXY=e&&e.props&&e.props.basicAttr&&e.props.basicAttr.positionXY||"0,0",t.props.basicAttr.zIndex=e&&e.props&&e.props.basicAttr&&e.props.basicAttr.zIndex||1)})),e.children&&this.refreshModuleAndMapGlobalId(e.children,e);else{var r=_.cloneDeep(e);delete r.children,this.PageSettingData.page.componentsMap.push(r)}},refreshModuleAndMapGlobalId:function(e,t){var n,r=this;return e instanceof Array||(e=[e]),e.forEach((function(e){e.globalId=t.globalId+"."+e.packageid,r.PageSettingData.page.componentsMap.forEach((function(t){e.packageid==t.packageid&&(t.globalId=e.globalId)})),e.children&&r.refreshModuleAndMapGlobalId(e.children,e)})),n},formatLayoutModule:function(e){var t=this.getSingleComponentData(e.comId,"svg"==e.comType?"svg":"")||e;return t.id=e.id,t.packageid=e.packageid,t.containerIndex=e.containerIndex,t.props=e.props,e.svgData&&(t.svgData=e.svgData),e.positionMode&&(t.positionMode=e.positionMode),e.attrSetting?t.attrSetting=e.attrSetting:t.attrSetting={compositeAttr:[]},e.relationId&&(t.relationId=e.relationId,t.relationType=e.relationType),!t.currentVersion&&t.lastVersion&&(t.currentVersion=t.lastVersion),_.cloneDeep(t)},selectedPageModuleBoxPos:function(e){this.selectedModuleData.containerPos=JSON.parse(JSON.stringify(document.querySelector("#idm_drag_documtnt").getBoundingClientRect()));var t=this.selectedModuleData.packageid;if(this.selectedModuleData.packageid==this.PageSettingData.id&&(t="idm_drag_documtnt"),t&&document.querySelector("#"+t)){this.selectedModuleData.cIndex||0==this.selectedModuleData.cIndex||(this.selectedModuleData.cIndex=-1),e||0==e||(e=this.selectedModuleData.cIndex),this.selectedModuleData.boxPos=JSON.parse(JSON.stringify(document.querySelector("#"+t).getBoundingClientRect()));var n=this.selectedModuleData.boxPos;return!e&&0!=e||-1==e||(this.selectedModuleData.cIndex=e,this.selectedModuleData.cBoxPos=JSON.parse(JSON.stringify(document.querySelector("#"+this.selectedModuleData.packageid).querySelector(".drag_container[idm-ctrl-id='"+this.selectedModuleData.id+"'][idm-container-index='"+e+"']").getBoundingClientRect())),n=this.selectedModuleData.cBoxPos),n}},selectedPageModule:function(e,t,n,r,i){var o=this;if(!this.isShowSvgCanvas)if(!0!==this.resizeModuleDisabledPageSelect||!1===r||!0===r){e==this.PageSettingData.id&&this.isOpenHoverLayer&&(this.multipleSelectedModuleData=[],this.multipleSelectedGroupData=[],this.currentHalfSelectedGroupObject.groupId="",this.moduleSimulatorOverlayHandle());var a=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));if(a&&(!a||0!=a.length)){t||(this.selectedModuleData=_.cloneDeep(a[0])),r||!1===r||"absolute"!=this.selectedModuleData.positionMode?!r&&!1!==r&&this.isOpenHoverLayer&&(this.multipleSelectedModuleData=[],this.moduleSimulatorOverlayHandle()):this.hoverModeSelectedModuleHandle(!1,this.selectedModuleData.packageid,i);var s=this.selectedModuleData.packageid;if(this.selectedModuleData.packageid==this.PageSettingData.id?s="idm_drag_documtnt":this.clearLinkConnectionSelect(),document.querySelector("#"+s)){var u=this.selectedPageModuleBoxPos(n);if(this.selectedModuleData.globalArray=[],this.selectedModuleData.globalId){var c=this.selectedModuleData.globalId.split("."),l=null;c.forEach((function(t){var r=o.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==t}));t==e?(""!=r[0].containerIndex&&void 0!=r[0].containerIndex&&-1!=r[0].containerIndex&&l.innerComName&&(l.innerModuleIndex=r[0].containerIndex,o.selectedModuleData.globalArray.push(l)),!n&&0!=n||-1==n||o.selectedModuleData.globalArray.push(_.cloneDeep(o.selectedModuleData))):r&&r.length>0&&(""!=r[0].containerIndex&&void 0!=r[0].containerIndex&&-1!=r[0].containerIndex&&l.innerComName&&(l.innerModuleIndex=r[0].containerIndex,o.selectedModuleData.globalArray.push(l)),o.selectedModuleData.globalArray.push(r[0])),l=_.cloneDeep(r[0])}))}this.selectedModuleData.handlerBarPos="top",this.selectedModuleData.handlerActionPos="top",this.fullScreenStatus?(this.dragWorkspace.topAreaLsOpened&&u.y<90||!this.dragWorkspace.topAreaLsOpened&&u.y<30)&&(this.selectedModuleData.handlerBarPos="bottom",this.selectedModuleData.handlerActionPos="bottom"):u.y<90&&(this.selectedModuleData.handlerBarPos="bottom",this.selectedModuleData.handlerActionPos="bottom");var d=22*this.selectedModuleData.globalArray.length;if("top"==this.selectedModuleData.handlerBarPos){var f=u.y;!this.fullScreenStatus||this.fullScreenStatus&&this.dragWorkspace.topAreaLsOpened?f-=90:f-=30,d>f&&(this.selectedModuleData.handlerActionPos="bottom")}"bottom"==this.selectedModuleData.handlerActionPos&&_.reverse(this.selectedModuleData.globalArray);var A=this.getModuleTree(this.PageSettingData.page.layout,this.selectedModuleData.packageid);this.selectedModuleData.hasChildrenModule=A.children&&A.children.length>0,this.selectedModuleData.children=this.selectedModuleData.hasChildrenModule?A.children:[],(!this.isOpenHoverLayer||this.isOpenHoverLayer&&"0"==this.selectedModuleData.comId||!this.isShowSvgCanvas)&&this.menuActionStatusChangeHandle({type:"selectedModule",data:this.selectedModuleData,group:this.multipleSelectedGroupData}),this.isOpenHoverLayer&&"0"==this.selectedModuleData.comId&&this.menuActionStatusChangeHandle({type:"changeZindexState",data:{zIndexUp:!1,zIndexDown:!1}}),this.selectModuleLoadedHandle()}}}else this.resizeModuleDisabledPageSelect=!1},hoverPageModule:function(e,t){var n=this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e}));!n||n&&0==n.length||(this.hoverModuleData=_.cloneDeep(n[0]),this.hoverModuleData.boxPos=JSON.parse(JSON.stringify(document.querySelector("#"+(e==this.PageSettingData.id?"PAGE_":"")+this.hoverModuleData.packageid).getBoundingClientRect())),this.hoverModuleData.containerPos=JSON.parse(JSON.stringify(document.querySelector("#idm_drag_documtnt").getBoundingClientRect())),(t||0==t)&&(this.hoverModuleData.cIndex=t,this.hoverModuleData.cBoxPos=JSON.parse(JSON.stringify(document.querySelector("#"+(e==this.PageSettingData.id?"PAGE_":"")+this.hoverModuleData.packageid).querySelector(".drag_container[idm-ctrl-id='"+this.hoverModuleData.id+"'][idm-container-index='"+t+"']").getBoundingClientRect()))))},createModuleDom:function(e,t){var n=this;e.packageid=e.packageid||"component_"+IDM.UUID(),e.id=e.id||e.packageid+"_inner";var r=$("<div />");r.attr("id",e.packageid),r.attr("idm-com-anchor-id",e.packageid),r.attr("idm-com-id",e.comId),r.attr("idm-com-classid",e.classId),r.attr("idm-com-classname",e.className),r.attr("idm-com-type",e.comType),r.addClass("idm_module"),r.addClass(e.packageid);var i=$("<div />").attr("id","idm_"+e.id);return"svg"==e.comType&&e.svgData&&i.append(e.svgData),r.append(i),r.on("mouseover",(function(e){n.changeModuleEndpointState(!0),n.hoverPageModule($(this).attr("id")),e.stopPropagation(),e.preventDefault()})),r.on("mouseout",(function(e){n.changeModuleEndpointState(!1),n.hoverModuleData={}})),"absolute"==e.positionMode?n.createHoverLayoutHandle(r,e,t):r.bind("click",(function(e){n.selectedPageModule($(this).attr("id")),e.stopPropagation(),e.preventDefault()})),r},getSingleComponentData:function(e,t){var n={};return t?(n={comType:t,lastVersion:{datetime:"",projectNo:"p1000",codeSrc:"",version:"1.0.0"},asName:"SVG组件",comLangue:"Vue",className:"IdmSvg",type:"ptzj",iconClass:"idmicon idm-icon-xingzhuang-xingxing",classId:"idm.componet.idm.idmsvg",defaultSize:"",versionList:[{datetime:"",projectNo:"p1000",codeSrc:"",version:"1.0.0"}],comId:"IdmSvg",comName:"SVG组件",imgList:[{uid:"16426437832263vdq51ET7msvTRHb",ourl:"",size:"7KB",src:"",name:"",width:400,url:"",status:"done",height:400}]},n.containerIndex=""):(e=e||this.moveTouchData.comId,this.comMarketData.forEach((function(t){t.componentList&&t.componentList.forEach((function(t){t.comId==e&&(n=t,n.containerIndex="")}))}))),n.mountComplete=this.moduleMountComplete,n.moduleReload=this.moduleReload,_.cloneDeep(n)},moduleReload:function(e,t){var n,r=this.getModuleTree(this.PageSettingData.page.layout.children,e),i=[r];if(t||"0"==t)i=[],r&&r.children&&r.children.forEach((function(e){e.containerIndex==t&&i.push(e)})),n=r;else{var o=r.globalId.split("."),a=o.length<=2?o[0]:o[o.length-2];n=this.getModuleTree(this.PageSettingData.page.layout.children,a)}this.resetLayoutInnerModuleLoadedStatus(i),i&&i.forEach((function(e){$("#"+e.packageid).remove()})),this.initModuleTreeToPage(i,!0,n,!1,!0)},itemDefaultHasValue:function(e){return"number"==IDM.type(e)||"boolean"==IDM.type(e)||e},setItemData:function(e,t,n,r){if(!r&&!_.has(t,e.bindKey)&&this.itemDefaultHasValue(e.default)||r&&e.disabled&&this.itemDefaultHasValue(e.default))if("string"==IDM.type(e.default)||"number"==IDM.type(e.default)){var i,o=!1===e.defaultValRegExp?e.default:this.$replace(e.default,Object(a["a"])(Object(a["a"])({},n),{},{IDM:IDM}));i="inputNumber"==e.type||"slider"==e.type?parseFloat(o):"inputNumberUnit"==e.type?{inputVal:parseFloat(o)}:o,t[e.bindKey]=i}else t[e.bindKey]=e.default},modulePropInitialValue:function(e,t){if(e.attrSetting)for(var n=Object.keys(e.attrSetting),r=0;r<n.length;r++)if("innerAttr"!=n[r]){var i=e.attrSetting[n[r]];if(i){e.props||(e.props={}),e.props[n[r]]||(e.props[n[r]]={});for(var o=e.props[n[r]],a=0;a<i.length;a++){var s=i[a];if("group"==s.type||"inlineGroup"==s.type)for(var u=0;u<s.children.length;u++){var c=s.children[u];if("group"==c.type||"inlineGroup"==c.type)for(var l=0;l<c.children.length;l++){var d=c.children[l];if("group"==d.type||"inlineGroup"==d.type)for(var f=0;f<d.children.length;f++){var A=d.children[f];this.setItemData(A,o,e,t)}else this.setItemData(d,o,e,t)}else this.setItemData(c,o,e,t)}else this.setItemData(s,o,e,t)}}}},moduleMountComplete:function(e){var t=this;return Object(o["a"])(d.a.mark((function n(){var r,i,o,a,s,u,c,l,f;return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("🚀 ~ file: Develop.vue ~ line 3955 ~ moduleMountComplete ~ moduleMountComplete",e),r=t,"svg"!=e.comType){n.next=6;break}e.compositeAttr=_.cloneDeep(ta),n.next=17;break;case 6:if(i=e.codeSrc,i=i.substr(0,i.lastIndexOf("/")+1),e.className&&(i=i+IDM.setting.applications.moduleAttrFolderName+"/"+e.className+".json"),o=r.attrCachePool.get(e.projectNo+":"+i),o){n.next=15;break}return n.next=13,new Promise((function(t,n){IDM.http.get(IDM.url.getWebPath("@"+i,!1,e.projectNo)).then((function(n){n&&n.data&&n.data.compositeAttr&&(e.compositeAttr=n.data.compositeAttr),n&&n.data&&n.data.innerAttr&&(e.innerAttr=n.data.innerAttr),r.attrCachePool.put(e.projectNo+":"+i,n),t(n)})).catch((function(e){IDM.message.error("属性文件【"+i+"】加载失败！message："+e.message),n(e)}))}));case 13:n.next=17;break;case 15:o&&o.data&&o.data.compositeAttr&&(e.compositeAttr=o.data.compositeAttr),o&&o.data&&o.data.innerAttr&&(e.innerAttr=o.data.innerAttr);case 17:for(a=0;a<t.PageSettingData.page.componentsMap.length;a++)s=t.PageSettingData.page.componentsMap[a],s.packageid==e.packageid&&(s.attrSetting||(s.attrSetting={}),s.idmProps=e.idmProps,s.attrSetting.compositeAttr=e.compositeAttr,s.attrSetting.innerAttr=e.innerAttr,s.innerComName=e.innerComName,s.idmBroadcastMessage=e.idmBroadcastMessage,s.idmSetContextValue=e.idmSetContextValue,s.idmGetContextValue=e.idmGetContextValue,(!s.props||s.props&&0==Object.keys(s.props).length||s.props&&s.props.compositeAttr&&0==Object.keys(s.props.compositeAttr).length)&&(t.modulePropInitialValue(s),s.props["basicAttr"]||(s.props["basicAttr"]={})),e.props=_.cloneDeep(s.props));t.moduleAttrMergePageTree(null,e),console.log("挂载完成，回调返回的数据",e),u=t.getModuleTree(t.PageSettingData.page.layout.children,e.packageid),u&&u.children&&u.children.length>0?(c=$("#"+e.packageid),0==c.find(":visible").length?(l=0,f=setInterval((function(){l++,0==$("#"+e.packageid).find(":visible").length&&l<=20||(clearInterval(f),r.moduleMountCompleteCommon(e))}),3)):setTimeout((function(){r.moduleMountCompleteCommon(e)}),3)):setTimeout((function(){r.moduleMountCompleteCommon(e)}),3),t.moduleResourceLoading&&t.idm_$message.success({content:"组件（".concat(e.asName,"-").concat(e.className,"）资源模块加载完成"),key:"moduleResourceLoading",duration:2}).then((function(){t.moduleResourceLoading=null}));case 23:case"end":return n.stop()}}),n)})))()},moduleMountCompleteCommon:function(e){this.moduleInitCompleteCheckClass(e.packageid),this.initPageModuleComplete?this.checkModuleDataIsLoaded()?this.$nextTick((function(){this.copyModuleData&&this.copyModuleData.packageid?(this.selectedPageModule(this.copyModuleData.packageid),this.copyMoveTouchData={},this.copyModuleData={}):(this.selectedPageModule(e.packageid),this.pageModuleDataIsLoaded(null,!0)?(this.devPageIsLoad=!0,this.switchVersionLoaded=!0,this.isChangeDialogVisibleStatus||(this.isChangeDialogVisibleStatus=!0,this.changeDialogVisibleStatus(!0))):!1===this.switchVersionLoaded&&this.initModuleTreeToPage(null,!0,this.PageSettingData.page.layout,!1,!0))})):this.$nextTick((function(){this.initModuleTreeToPage()})):this.checkModuleDataIsLoaded(null,!0)?(this.devPageIsLoad=!0,this.initPageModuleComplete=!0,this.selectedPageModule(e.packageid)):this.$nextTick((function(){this.initModuleTreeToPage(null,!0,this.PageSettingData.page.layout,!1,!0)}))},moduleInitCompleteCheckClass:function(e){var t=$("#"+e),n=t.find(">*[idm-ctrl]"),r=n.attr("idm-ctrl"),i=n.attr("idm-ctrl-id"),o=n.attr("id");switch(o||n.attr("id",i),r){case"drag_container":t.addClass("drag_container");break;case"drag_container_inlineblock":t.addClass("drag_container drag_container_inlineblock");break;case"idm_module":break}"drag_container"!=r&&"drag_container_inlineblock"!=r||0!=n.find(":visible").length||t.hasClass("drag_container_empty")||(t.addClass("drag_container_empty"),n.hide()),n.find(".drag_container").length>0&&(n.find(".drag_container").each((function(){$(this).hasClass("drag_container_empty")||0!=$(this).find(":visible").length||$(this).addClass("drag_container_empty")})),t.removeClass("drag_container_empty"))},initModuleInnerEventHandle:function(e,t){var n=this,r=this,i=$("#"+e.packageid),o=i.find(".drag_container[idm-ctrl-id='"+e.id+"'][idm-ctrl-inner]");if(o.length>0)if(o.off(),o.on("mouseover",(function(t){r.hoverPageModule(e.packageid,$(this).attr("idm-container-index")),t.stopPropagation(),t.preventDefault()})),o.on("mouseout",(function(e){r.hoverModuleData={}})),o.on("click",(function(t){r.selectedPageModule(e.packageid,!1,$(this).attr("idm-container-index")),t.stopPropagation(),t.preventDefault()})),this.initPageModuleComplete){var a=this.getModuleTree(this.PageSettingData.page.layout.children,e.packageid),s=!1;a.children&&a.children.forEach((function(r){0==i.find(".drag_container[idm-ctrl-id='"+e.id+"'][idm-container-index='"+r.containerIndex+"']").length?n.deletePageModule(r,!0):t&&0==i.find(".drag_container[idm-ctrl-id='"+e.id+"'][idm-container-index='"+r.containerIndex+"']").find(":visible").length&&(s=!0)})),s&&(this.resetLayoutInnerModuleLoadedStatus(a.children),a.children.forEach((function(e){$("#"+e.packageid).remove()})),this.switchVersionLoaded=!1,this.initModuleTreeToPage(a.children,!0,a,!1,!0))}else;else this.selectedModuleData.cIndex=-1},resetLayoutInnerModuleLoadedStatus:function(e){var t=this;console.log("🚀 ~ file: Develop.vue ~ line 3006 ~ resetLayoutInnerModuleLoadedStatus ~ module",e),e instanceof Array||(e=[e]),e.forEach((function(e){delete e.loaded,e.children&&e.children.length>0&&t.resetLayoutInnerModuleLoadedStatus(e.children)}))},moduleAttrMergePageTree:function(e,t,n){if(!n){e=e||this.PageSettingData.page.layout,e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];if(i.packageid==t.packageid)if(n)if(i.props||(i.props={}),-1!=t.cIndex){var o=!1;i.props.innerAttr&&i.props.innerAttr.length>0&&i.props.innerAttr.forEach((function(e){e.containerIndex==t.cIndex&&(o=!0,e.dataAttr=n)})),i.props.innerAttr||(i.props.innerAttr=[]),o||i.props.innerAttr.push({containerIndex:t.cIndex,dataAttr:n})}else i.props.compositeAttr=n;else i.attrSetting||(i.attrSetting={}),i.attrSetting.compositeAttr=t.compositeAttr,i.attrSetting.innerAttr=t.innerAttr,i.innerComName=t.innerComName,i.idmProps=t.idmProps;else i.children&&this.moduleAttrMergePageTree(i.children,t,n)}}},keyDownEventHandle:function(e){this.keyCtrlStatus.altKey=e.altKey,this.keyCtrlStatus.ctrlKey=e.ctrlKey,this.keyCtrlStatus.shiftKey=e.shiftKey,this.$refs.topRightAction.keyDownEventHandle(e),this.$refs.toolBarAction.keyDownEventHandle(e)},keyUpEventHandle:function(e){this.keyCtrlStatus.altKey=e.altKey,this.keyCtrlStatus.ctrlKey=e.ctrlKey,this.keyCtrlStatus.shiftKey=e.shiftKey},windowOnBlur:function(){this.keyCtrlStatus.altKey=!1,this.keyCtrlStatus.ctrlKey=!1,this.keyCtrlStatus.shiftKey=!1},menuActionChangeHandle:function(e){var t=this,n=this.$createElement,r=this;if(console.log(e),!e||!e.contextMenu&&!e.toolbar||(r.contextMenuClickHandle(e),"111"==e.key&&r.isShowSvgCanvas,"111"!=e.key||!r.isOpenHoverLayer))switch(0==e.key.indexOf("5")&&this.changeTheme(e.value),0==e.key.indexOf("4")&&(this.fullScreenStatus=e.value),e.key){case"100":this.showSaveFormModal();break;case"101":this.showSaveAsFormModal();break;case"102":window.localStorage["devpreview"]=JSON.stringify(this.beforeSaveFormHandle()),window.open(window.location.href.replace(window.location.hash,"#/preview/devpreview"));break;case"106":this.quickSearchShow=!this.quickSearchShow;break;case"108":case"110":if(this.copyOrCutModuleData=_.cloneDeep(this.selectedModuleData),this.parseType="110"==e.key?"cut":"copy","0"==this.selectedModuleData.comId)return void IDM.message.warning("页面组件不可".concat("cut"==this.parseType?"剪切":"拷贝","，请选择页面内的组件操作。"));this.isOpenHoverLayer&&this.multipleSelectedModuleData&&this.multipleSelectedModuleData.length>1&&(this.copyOrCutModuleData=_.cloneDeep(this.multipleSelectedModuleData)),this.idm_$message.success("已".concat("cut"==this.parseType?"剪切":"拷贝","，请选择要粘贴的组件位置执行粘贴（Ctrl+V）操作（可跨页面）"));try{this.$copyText(JSON.stringify(this.copyOrCutModuleData)).then((function(e){}),(function(e){}))}catch(f){}break;case"126":this.isOpenHoverLayer&&this.multipleSelectedModuleData&&this.multipleSelectedModuleData.length>1?this.multipleSelectedModuleData.forEach((function(e){t.copyModuleToNext(e)})):this.copyModuleToNext(this.selectedModuleData);break;case"109":if(!e.event)return void IDM.message.warning("请使用快捷键（Ctrl+V）进行粘贴！");var i=this.$refs.copyTextBox;i.innerHTML="",i.focus(),setTimeout((function(){console.log(i),i.blur();var n="",o=i.firstChild?i.firstChild.nodeName:"";if("#text"==o){n=i.firstChild.nodeValue;try{var a=JSON.parse(n);"array"==IDM.type(a)?a.forEach((function(e){e.comId&&e.packageid&&r.menuAction109(e,{parseType:r.parseType||"copy"})})):a.comId&&a.packageid?r.menuAction109(a,{parseType:r.parseType||"copy"}):n=""}catch(f){n=""}}else if("IMG"==o){n=i.firstChild.currentSrc;var s=null;r.comMarketData.forEach((function(e){e.componentList&&e.componentList.forEach((function(e){"idm.componet.basics.iimage"==e.classId&&"IImage"==e.className&&(s=_.cloneDeep(e),s.containerIndex="")}))})),s?(s.props||(s.props={}),s.props.compositeAttr||(s.props.compositeAttr={}),s.props.compositeAttr.imageUrl=n,s.props.compositeAttr.width="auto",s.props.compositeAttr.height="auto",r.menuAction109(s,{parseType:r.parseType||"copy"})):IDM.message.warning("官方图片组件未引入，无法直接粘贴图片内容，请引入IDM官方“基础组件包（basics）”")}if(r.copyOrCutModuleData&&r.copyOrCutModuleData.packageid&&!n){var u=r.getModuleTree(r.PageSettingData.page.layout.children,r.copyOrCutModuleData.packageid);r.menuAction109(u,e)}else"array"==IDM.type(r.copyOrCutModuleData)&&r.copyOrCutModuleData.forEach((function(t){if(t.comId&&t.packageid){var n=r.getModuleTree(r.PageSettingData.page.layout.children,r.copyItem.packageid);r.menuAction109(n,e)}}));t.parseType="",t.copyOrCutModuleData=null}),10);break;case"111":this.deletePageModule();break;case"113":if(this.selectedModuleData.packageid==this.PageSettingData.page.layout.packageid)this.idm_$message.warning("已选择到最顶级的页面组件了");else{var o=this.getModuleObject(this.selectedModuleData.packageid).globalId,a=o.split("."),s=a[a.length-2];this.selectedPageModule(s)}break;case"114":var u=this.getModuleTree([this.PageSettingData.page.layout],this.selectedModuleData.packageid);u&&u.children&&u.children.length>0?this.selectedPageModule(u.children[0].packageid):this.idm_$message.warning("没有可选择的子组件了");break;case"115":case"116":if(this.selectedModuleData.packageid==this.PageSettingData.page.layout.packageid)this.idm_$message.warning("已选择到最顶级的页面组件了");else{var c=this.getModuleObject(this.selectedModuleData.packageid).globalId,l=(a=c.split("."),s=a[a.length-2],this.getModuleTree([this.PageSettingData.page.layout],s)),d=-1;l&&l.children&&l.children.forEach((function(e,n){e.packageid==t.selectedModuleData.packageid&&(d=n)})),"115"==e.key?-1!=d&&l.children.length>d+1?this.selectedPageModule(l.children[d+1].packageid):this.idm_$message.warning("没有可选择的右(下)侧组件了"):d>0?this.selectedPageModule(l.children[d-1].packageid):this.idm_$message.warning("没有可选择的左(上)侧组件了")}break;case"117":this.idm_$message.warning("请在当前选中组件的右上角点击移动按钮并且按住ALT按键进行拖动复制"),this.showDragTool=!0,setTimeout((function(){r.showDragTool=!1}),1e3);break;case"200":IDM.setStyleToPageHead(".idmcore_develop .idm_grid_bg",{display:e.active?"block":"none"});break;case"201":this.currentRulerVisibility=e.active,this.rulDom&&this.rulDom.api.toggleRulerVisibility(e.active),this.refreshAdaptScreen(),IDM.setStyleToPageHead(".rul_cornerTL",{display:e.active?"block":"none"});break;case"202":this.currentGuideVisibility=e.active,this.rulDom&&this.rulDom.api.toggleGuideVisibility(e.active);break;case"203":this.$refs.creatGuidesModal.show();break;case"204":this.currentGuideIsLock=e.active,this.rulDom&&this.rulDom.api.setIsLockGuides(e.active);break;case"205":this.rulDom&&this.rulDom.api.clearGuides();break;case"300":this.areaToggle("left");break;case"301":this.areaToggle("right");break;case"303":this.currentHistoryVisibility=e.active,this.changeBottomActionPanelStatus(3,e.active);break;case"305":this.currentActionPanelVisibility=e.active,this.changeBottomActionPanelStatus(2,e.active);break;case"306":this.currentPageCodeVisibility=e.active,this.changeBottomActionPanelStatus(1,e.active);break;case"307":this.currentDataSourceVisibility=e.active,this.changeBottomActionPanelStatus(4,e.active);break;case"304":this.PageSettingData.page.layout.packageid&&this.selectedPageModule(this.PageSettingData.page.layout.packageid,!1),this.dragWorkspace.rightAreaOpened&&!this.fullScreenStatus||this.areaToggle("right");break;case"11":this.$refs.preferencesModal.show();break;case"10":this.idm_$info({icon:function(){return n("i",{class:"anticon idm-logo-img"})},title:"IDM",okText:"关闭",class:"idm_dev_modal idm_dev_modal_about",content:n("div",[n("p",{class:"idm_about_version_info"},[fo.version]),n("div",{class:"idm_about_other_info"},[n("p",["Date：",IDM.dateFormat(1679463316093,"Y年m月d日 H时i分")]),n("p",["Vue：",fo.dependencies.vue.replace("^","")]),n("p",["jQuery：",fo.dependencies.jquery.replace("^","")]),n("p",["Copyright：yunit · 申龙"])])]),onOk:function(){}});break}},menuAction109:function(e,t){var n=this;e?n.selectedModuleData.packageid?"0"==n.selectedModuleData.comId?n.pasteModule(e,t.parseType||n.parseType,"root"):-1!=n.selectedModuleData.cIndex||"drag_container"==n.getModuleType(n.selectedModuleData.packageid)||"drag_container_inlineblock"==n.getModuleType(n.selectedModuleData.packageid)?n.pasteModule(e,t.parseType||n.parseType,"container"):n.pasteModule(e,t.parseType||n.parseType,"module"):n.idm_$message.warning("请先选择一个组件以便确定要插入组件的位置"):n.idm_$message.warning("要粘贴的组件已经不存在，请重新选择要".concat("cut"==(t.parseType||n.parseType)?"剪切":"拷贝","的组件"))},initAutoSavePageData:function(){var e=this;this.autoSaveInterval&&clearInterval(this.autoSaveInval);var t=this.getApplyPreferencesInfo();t.openBackup&&(this.autoSaveInterval=setInterval((function(){e.saveBackupPageData()||setTimeout(e.saveBackupPageData,3e3)}),60*parseInt(t.backupInterval)*1e3))},saveBackupPageData:function(){var e=this;if(this.getAutoSaveLock())return!1;var t=[];this.setAutoSaveLock(!0);var n=window.localStorage["DevelopAutoSaveData"];n&&0==n.indexOf("[{")&&(t=JSON.parse(n));var r=!1;return t.forEach((function(t){t.pageId==e.PageSettingData.id&&(r=!0,t.pageData=e.beforeSaveFormHandle(),t.saveTime=(new Date).getTime())})),r||t.push({pageId:this.PageSettingData.id,pageData:this.beforeSaveFormHandle(),saveTime:(new Date).getTime()}),window.localStorage["DevelopAutoSaveData"]=JSON.stringify(t),this.setAutoSaveLock(!1),!0},clearBackupPageData:function(){var e=this;if(this.getAutoSaveLock())return!1;var t=[];this.setAutoSaveLock(!0);var n=window.localStorage["DevelopAutoSaveData"];n&&0==n.indexOf("[{")&&(t=JSON.parse(n));var r=-1;return t.forEach((function(t,n){t.pageId==e.PageSettingData.id&&(r=n)})),r>-1&&t.splice(r,1),window.localStorage["DevelopAutoSaveData"]=JSON.stringify(t),this.setAutoSaveLock(!1),!0},closeAutoSavePageData:function(e,t){var n=this;this.autoSaveInterval&&clearInterval(this.autoSaveInval),e&&(this.clearBackupPageData()||setTimeout(n.clearBackupPageData,3e3),this.dataSettingSaveAfterStep=0),t&&(this.innerInterval=setInterval((function(){n.dataSettingSaveAfterStep>0&&(clearInterval(n.innerInterval),n.initAutoSavePageData())}),18e4))},setAutoSaveLock:function(e){window.localStorage["DevelopAutoSaveLock"]=e},getAutoSaveLock:function(){return"true"==window.localStorage["DevelopAutoSaveLock"]},creatGuidesHandle:function(e){this.rulDom.api.setGuides([{dimension:parseInt(e.direction),posX:e.position+this.getDragAreaMarginleft()-15,posY:e.position+30}]),!1!==this.currentRulerVisibility&&!1!==this.currentGuideVisibility||IDM.message.success("创建成功，请把显示标尺与显示参考线设置为开启状态")},preferencesChange:function(e){this.gridStyleApply(),this.lineStyleApply(),this.initAutoSavePageData()},lineStyleApply:function(){var e=this.getApplyPreferencesInfo(),t={};t["border-bottom-color"]="".concat(e.colors_line.hex8," !important"),t["border-left-color"]="".concat(e.colors_line.hex8," !important"),IDM.setStyleToPageHead(".idmcore_develop .rul_line",t)},gridStyleApply:function(){var e=this.getApplyPreferencesInfo(),t={};"0"==e.gridStyle?t["background"]="linear-gradient(to right, ".concat(e.colors_grid.hex8," 1px, transparent 1px), linear-gradient(to bottom, ").concat(e.colors_grid.hex8," 1px, transparent 1px)"):(t["background"]="radial-gradient(circle , ".concat(e.colors_grid.hex8," 1px, transparent 1px)"),t["background-position"]="".concat(e.gridSpace/2+1,"px ").concat(e.gridSpace/2+1,"px")),t["background-size"]="".concat(e.gridSpace,"px ").concat(e.gridSpace,"px"),IDM.setStyleToPageHead(".idmcore_develop .idm_grid_bg::before",t)},getApplyPreferencesInfo:function(){var e={},t=window.localStorage["DevelopPreferencesData"];return e=t&&0==t.indexOf("{")?JSON.parse(t):this.getDefaultPreferencesInfo(),e},getDefaultPreferencesInfo:function(){return{backupInterval:15,colors_grid:{hex8:"#3BB7C7FF"},colors_line:{hex8:"#3BB7C7FF"},gridColor:"#3BB7C7FF",gridSpace:10,gridStyle:"0",guidesColor:"#3BB7C7FF",openBackup:!0}},QuickSearchChooseModuleHandle:function(e){this.quickSearchShow=!1,this.selectedPageModule(e.packageid)},pasteModule:function(e,t,n){var r=this;if(this.copyOrCutModuleData&&this.copyOrCutModuleData.packageid==e.packageid&&"copy"==t&&(t="cut"),"copy"==t)r.isOpenHoverLayer?e.positionMode="absolute":delete e.positionMode,this.copyModuleData=_.cloneDeep(e),this.resetLayoutInnerModuleLoadedStatus(this.copyModuleData),this.initModuleTreeToPage(null,null,null,null,!1,n);else{var i="",o=$("#"+e.packageid),a="";e.containerIndex="";var s=_.cloneDeep(this.PageSettingData.page.componentsMap.filter((function(t){return t.packageid==e.packageid})));if(s&&s.length>0&&(s=s[0]),"dialog"==e.comType)i=r.PageSettingData.id,e.relationType="bottom",$("#idm_dialog_wrap").append(o),!r.dialogVisibleStatus&&r.changeDialogVisibleStatus();else switch(n){case"root":i=r.PageSettingData.id,e.relationType="bottom",r.isOpenHoverLayer&&"dialog"!=e.comType?(e.positionMode="absolute",$("#idm_hover_layer_wrap").append(o),r.addModuleEndpoint(e),r.toggleHoverLayoutModuleHandle(e,"absolute")):(delete e.positionMode,$("#PAGE_"+i).append(o),r.toggleHoverLayoutModuleHandle(e,"common"));break;case"container":if(e.relationType="inner",i=r.selectedModuleData.packageid,a=r.getModuleObject(i).globalId,a.indexOf(e.packageid)>-1)return void this.idm_$message.warning("无法粘贴到组件内部容器或粘贴位置未发生改变");var u=$("#"+i);u.removeClass("drag_container_empty");var c=u.find(">*[idm-ctrl]");if(c.show(),-1==r.selectedModuleData.cIndex)c.append(o);else{e.relationType="inner_"+r.selectedModuleData.cIndex,e.containerIndex=r.selectedModuleData.cIndex;var l=c.find(".drag_container[idm-ctrl-id='"+r.selectedModuleData.id+"'][idm-container-index="+r.selectedModuleData.cIndex+"]");l&&l.append(o),l&&l.removeClass("drag_container_empty")}delete e.positionMode,r.toggleHoverLayoutModuleHandle(e,"common");break;case"module":i=r.selectedModuleData.packageid;var d=this.PageSettingData.page.componentsMap.filter((function(e){return e.packageid==i})),f=!1;if(d.length>0&&(d[0].containerIndex||"0"==d[0].containerIndex)?e.containerIndex=d[0].containerIndex:"absolute"==r.selectedModuleData.positionMode&&(f=!0),a=r.getModuleObject(i).globalId,a.indexOf(e.packageid)>-1&&!f)return void this.idm_$message.warning("无法粘贴到组件内部容器或粘贴位置未发生改变");if(f&&i==e.packageid)return void this.idm_$message.warning("剪切的组件不能选中自身要粘贴的位置，再次执行粘贴操作（Ctrl+V）将以拷贝形式粘贴");$("#"+i).after(o),e.relationType="bottom",f&&"dialog"!=e.comType?(e.positionMode="absolute",r.toggleHoverLayoutModuleHandle(e,"absolute")):(delete e.positionMode,r.toggleHoverLayoutModuleHandle(e,"common"));break}if(e.relationId=i,this.deleteModuleTree(this.PageSettingData.page.layout.children,e.packageid,this.PageSettingData.page.layout),r.addModuleToPageTree(e,void 0,!0),s&&s.globalId){var A=s.globalId.split("."),h=A[A.length-2];console.log("父级容器",this.PageSettingData,h),this.refreshModuleEmpty(this.PageSettingData.page.layout,h)}"dialog"==e.comType?r.selectDialogModule(e):this.selectedPageModule(e.packageid),this.$trace.add({actionType:11,pageData:this.PageSettingData,moduleData:this.getModuleObject(e.packageid),oldModuleData:s},this.DEVELOP_HISTORY_ACTION_LIST)}},getModuleType:function(e){var t=$("#"+e),n=t.find(">*[idm-ctrl]");return n?n.attr("idm-ctrl"):""},menuActionStatusChangeHandle:function(e){this.$refs.topRightAction&&this.$refs.topRightAction.menuStatusChange(e),this.$refs.contextMenuAction&&this.$refs.contextMenuAction.menuStatusChange(e),this.$refs.toolBarAction&&this.$refs.toolBarAction.menuStatusChange(e)},versionChangeHandle:function(e){if(console.log("标题改变、版本切换事件",e),this.switchVersion=e.version.version,this.switchVersionProjectNo=e.version.projectNo,e.version.version!=this.PageSettingData.pageBaseInfo.version){var t=this;this.dataSettingStep>0?this.idm_$confirm({title:"页面配置信息发生改变，请确认是否先进行保存再切换版本？",okText:"先保存再切换",cancelText:"直接切换",onOk:function(){t.showSaveFormModal(t.switchVersionHandle)},onCancel:function(){t.switchVersionHandle()}}):t.switchVersionHandle()}e.title!=this.PageSettingData.pageBaseInfo.title&&this.$trace.add({actionType:6,pageData:this.PageSettingData,newTitle:e.title,oldTitle:this.PageSettingData.pageBaseInfo.title},this.DEVELOP_HISTORY_ACTION_LIST),this.PageSettingData.pageBaseInfo.title=e.title,this.PageSettingData.pageBaseInfo.version=e.version.version},switchVersionHandle:function(e){var t=this;this.devPageIsLoad=!1,this.$developApi.fetchPageSettingDataForVersion({pageid:this.PageSettingData.id,version:e?"":this.switchVersion,projectNo:e?"":this.switchVersionProjectNo,schemaType:this.schemaType}).then((function(e){!e.data||e.data&&_.has(e.data,"code")&&!e.data.data?t.pageLoadErrorHandle():(t.clearPageModule(),t.PageSettingData=t.switchVersion&&"disk"==t.IDM.setting.pageSchema.saveType?e.data:e.data.data,t.showMobileStatusBar=!1,t.pageSettingInitHandle())})).catch((function(e){t.pageLoadErrorHandle()}))},pageLoadErrorHandle:function(){this.initPageModuleComplete=!0;var e=this;e.dataSettingStep=-1,e.dataSettingSaveAfterStep=0,e.initPageAttrJsonToPageSettingData(),e.devPageIsLoad=!0,e.changeDialogVisibleStatus(!0),this.selectedPageModule(this.PageSettingData.page.layout.packageid)},clearPageModule:function(){this.PageSettingData.page.componentsMap.forEach((function(e){var t=$("#"+e.packageid);t&&t.length>0&&$(t).remove()}))},areaToggle:function(e){switch(e){case"left":this.dragWorkspace.leftAreaOpened=!this.dragWorkspace.leftAreaOpened,this.dragWorkspace.leftAreaLsOpened=!!this.fullScreenStatus&&!this.dragWorkspace.leftAreaLsOpened,this.dragWorkspace.topAreaLsOpened=!1,this.dragWorkspace.rightAreaLsOpened=!1,this.resetRulDomStyle(),this.refreshAdaptScreen();break;case"right":this.dragWorkspace.rightAreaOpened=!this.dragWorkspace.rightAreaOpened,this.dragWorkspace.rightAreaLsOpened=!!this.fullScreenStatus&&!this.dragWorkspace.rightAreaLsOpened,this.dragWorkspace.topAreaLsOpened=!1,this.dragWorkspace.leftAreaLsOpened=!1,this.resetRulDomStyle(),this.refreshAdaptScreen();break;case"top":this.dragWorkspace.topAreaLsOpened=!!this.fullScreenStatus&&!this.dragWorkspace.topAreaLsOpened,this.dragWorkspace.rightAreaLsOpened=!1,this.dragWorkspace.leftAreaLsOpened=!1,this.resetRulDomStyle(),this.refreshAdaptScreen();break;default:break}},refreshAdaptScreen:function(){var e=this.getDragOutAreaObject();this.adaptScreen.fullWidth=this.IDM.getClientWH().width,this.adaptScreen.fullHeight=this.IDM.getClientWH().height,this.adaptScreen.minWidth=this.adaptScreen.fullWidth-e.width,this.adaptScreen.minHeight=this.adaptScreen.fullHeight-e.height,this.$refs.dragAreaSizeDropList.refreshAdaptScreen(this.adaptScreen,this.fullScreenStatus),this.editorLayoutReset()},dragAreaSizeChangeHandle:function(e,t){var n,r,i=this;(!t&&this.PageSettingData.dragAreaSizeInfo.width>0&&this.$trace.add({actionType:8,pageData:this.PageSettingData,newPageSize:e,oldPageSize:this.PageSettingData.dragAreaSizeInfo},this.DEVELOP_HISTORY_ACTION_LIST),this.PageSettingData.dragAreaSizeInfo=e,this.dragWorkspace.width=e.width,this.dragWorkspace.height=e.height,this.resetRulPos(),this.resetRulDomStyle(),this.$nextTick((function(e){this.selectedModuleData.packageid&&this.selectedPageModule(this.selectedModuleData.packageid,!0,this.selectedModuleData.cIndex)})),this.selectedModuleData.packageid==this.PageSettingData.page.layout.packageid&&this.$nextTick((function(){i.selectedPageModuleBoxPos(),i.styleData.selectedcontainer=i.getStyles("selectedcontainer")})),this.isShowSvgCanvas)&&(null===(n=this.$refs)||void 0===n||null===(r=n["svgEditor"])||void 0===r||r.handleUpdateSize());IDM.broadcast.send({type:"pageResize",rangeModule:"",message:{width:this.dragWorkspace.width,height:this.dragWorkspace.height}})},fullScreenChangeHandler:function(){this.resetRulPos(),this.dragWorkspace.leftAreaLsOpened=!1,this.dragWorkspace.rightAreaLsOpened=!1,this.dragWorkspace.topAreaLsOpened=!1,this.dragWorkspace.bottomAreaLsOpened=!1,this.resetRulDomStyle(),this.refreshAdaptScreen()},resetRulPos:function(){if(this.rulDom){var e=this.dragWorkspace.width/2*(1-this.workareaScaleValue/100);if(this.dragWorkspace.width*(this.workareaScaleValue/100)>this.adaptScreen.minWidth&&this.dragWorkspace.width<=this.adaptScreen.minWidth?e=0-(this.adaptScreen.minWidth-this.dragWorkspace.width)/2:this.dragWorkspace.width>this.adaptScreen.minWidth&&this.dragWorkspace.width*(this.workareaScaleValue/100)<this.adaptScreen.minWidth?e=(this.adaptScreen.minWidth-this.dragWorkspace.width*(this.workareaScaleValue/100))/2:this.dragWorkspace.width>this.adaptScreen.minWidth&&(e=0),this.fullScreenStatus)this.rulDom.api.setPos({x:-15+e,y:-15});else{var t=this.getDragAreaMarginleft();this.rulDom.api.setPos({x:e+(t>45?t-15:30),y:30})}}},resetRulDomStyle:function(){var e={},t=this.getDragOutAreaObject(),n={width:this.IDM.getClientWH().width-(this.fullScreenStatus?0:t.width),height:this.IDM.getClientWH().height-(this.fullScreenStatus?0:t.height)},r=this.fullScreenStatus?0:60+this.getRulerNumber();this.dragWorkspace.width<n.width?e.width=n.width+r:e.width=this.dragWorkspace.width+r,this.dragWorkspace.height<n.height?e.height=n.height+r:e.height=this.dragWorkspace.height+r,this.$refs.idm_drag_documtnt&&(e.height=this.$refs.idm_drag_documtnt.getBoundingClientRect().height+(this.fullScreenStatus?0:!1===this.currentRulerVisibility?60:75),e.width=this.$refs.idm_drag_documtnt.getBoundingClientRect().width+(this.fullScreenStatus?0:!1===this.currentRulerVisibility?60:75)),e.height<n.height+r&&(e.height=n.height+r),e.width<n.width+r&&(e.width=n.width+r),e.height=e.height,e.height=e.height+"px",e.width=e.width+"px",console.log(e),this.rulDom&&this.rulDom.api.setRulerDomAttr(e)},getDragOutAreaObject:function(){var e={width:60+this.getRulerNumber()+(this.dragWorkspace.leftAreaOpened?300:0)+(this.dragWorkspace.rightAreaOpened?300:0),height:60+this.bottomActionPanelHeight+this.getRulerNumber()+(this.dragWorkspace.topAreaOpened?50:0)+(this.isOpenHoverLayer?40:0)};return this.fullScreenStatus&&(e.width=0,e.height=this.isOpenHoverLayer?40:0),e},getDragAreaMarginleft:function(){var e=0,t=this.getDragOutAreaObject();return e=0==t.width?(this.IDM.getClientWH().width-this.dragWorkspace.width)/2:(this.IDM.getClientWH().width-t.width-this.dragWorkspace.width+60)/2+this.getRulerNumber(),e},getRulerNumber:function(){return!1===this.currentRulerVisibility?0:15},getStyles:function(e,t){var n,r,i={},o=0;switch(e){case"drag_simulator_overlay":o=this.getDragAreaMarginleft(),o>0&&(i["margin-left"]=o+"px",i["margin-top"]=(this.fullScreenStatus?0:!1===this.currentRulerVisibility?30:45)+"px"),r=this.dragWorkspace.width/2*(1-this.workareaScaleValue/100),this.dragWorkspace.width*(this.workareaScaleValue/100)>this.adaptScreen.minWidth&&this.dragWorkspace.width<=this.adaptScreen.minWidth?r=0-(this.adaptScreen.minWidth-this.dragWorkspace.width)/2:this.dragWorkspace.width>this.adaptScreen.minWidth&&this.dragWorkspace.width*(this.workareaScaleValue/100)<this.adaptScreen.minWidth?r=(this.adaptScreen.minWidth-this.dragWorkspace.width*(this.workareaScaleValue/100))/2:this.dragWorkspace.width>this.adaptScreen.minWidth&&(r=0),i["transform"]="translateX(".concat(r,"px)");break;case"dragworkspace":i["width"]=this.dragWorkspace.width+"px",i["min-height"]=this.dragWorkspace.height+"px",o=this.getDragAreaMarginleft(),o>0&&(i["margin-left"]=o+"px",i["margin-top"]=(this.fullScreenStatus?0:!1===this.currentRulerVisibility?30:45)+"px"),r=this.dragWorkspace.width*(.5/(this.workareaScaleValue/100))-this.dragWorkspace.width/2,this.dragWorkspace.width*(this.workareaScaleValue/100)>this.adaptScreen.minWidth&&this.dragWorkspace.width<=this.adaptScreen.minWidth?(r=0-(this.adaptScreen.minWidth-this.dragWorkspace.width)/2,i["transform"]="translateX(".concat(r,"px) scale(").concat(this.workareaScaleValue/100,")")):this.dragWorkspace.width>this.adaptScreen.minWidth?(i["transform"]="scale(".concat(this.workareaScaleValue/100,")"),this.dragWorkspace.width*(this.workareaScaleValue/100)<this.adaptScreen.minWidth&&(r=(this.adaptScreen.minWidth-this.dragWorkspace.width*(this.workareaScaleValue/100))/2,i["transform"]="translateX(".concat(r,"px) ")+i["transform"])):i["transform"]="scale(".concat(this.workareaScaleValue/100,") translateX(").concat(r,"px)");break;case"getdragWorkspaceoutstyle":this.dragWorkspace.width*(this.workareaScaleValue/100)>this.adaptScreen.minWidth&&(i["min-width"]=this.dragWorkspace.width*(this.workareaScaleValue/100)+(this.fullScreenStatus?0:!1===this.currentRulerVisibility?50:65)+"px"),this.$refs.idm_drag_documtnt&&(i["min-height"]=this.$refs.idm_drag_documtnt.getBoundingClientRect().height+(this.fullScreenStatus?0:!1===this.currentRulerVisibility?50:65)-(this.isOpenHoverLayer?40:0)+"px");break;case"dragscalecontrol":this.fullScreenStatus?(i["right"]="15px",i["bottom"]="15px"):(i["right"]=(this.dragWorkspace.rightAreaOpened?315:15)+"px",i["bottom"]=this.bottomActionPanelHeight+15+"px");break;case"dragwrapper":this.fullScreenStatus||(i["width"]="calc(100vw - "+((this.dragWorkspace.leftAreaOpened?300:0)+(this.dragWorkspace.rightAreaOpened?300:0))+"px)",i["margin-left"]=(this.dragWorkspace.leftAreaOpened?300:0)+"px",i["height"]="calc(100vh - ".concat((this.isOpenHoverLayer?90:50)+this.bottomActionPanelHeight,"px)"));break;case"dragcontainer":this.moveTouchData.container&&(i["width"]=this.moveTouchData.container.width+"px",i["height"]=this.moveTouchData.container.height+"px",i["left"]=this.moveTouchData.container.x-this.moveTouchData.toContainer.x+"px",i["top"]=this.moveTouchData.container.y-this.moveTouchData.toContainer.y+"px");break;case"draginsertion":this.moveTouchData.comPos&&("left"==this.moveTouchData.comPos.type||"right"==this.moveTouchData.comPos.type?(i["height"]=this.moveTouchData.comPos.module.height+"px","left"==this.moveTouchData.comPos.type?i["left"]=this.moveTouchData.comPos.module.x-this.moveTouchData.toContainer.x+"px":i["left"]=this.moveTouchData.comPos.module.x-this.moveTouchData.toContainer.x+this.moveTouchData.comPos.module.width+"px",i["top"]=this.moveTouchData.comPos.module.y-this.moveTouchData.toContainer.y+"px"):"top"!=this.moveTouchData.comPos.type&&"bottom"!=this.moveTouchData.comPos.type||(i["width"]=this.moveTouchData.comPos.module.width+"px","top"==this.moveTouchData.comPos.type?i["top"]=this.moveTouchData.comPos.module.y-this.moveTouchData.toContainer.y+"px":i["top"]=this.moveTouchData.comPos.module.y-this.moveTouchData.toContainer.y+this.moveTouchData.comPos.module.height+"px",i["left"]=this.moveTouchData.comPos.module.x-this.moveTouchData.toContainer.x+"px"));break;case"selectedcontainer":n=this.selectedModuleData.boxPos,-1!=this.selectedModuleData.cIndex&&(n=this.selectedModuleData.cBoxPos),n&&(i["width"]=n.width+"px",i["height"]=n.height+"px",i["left"]=n.x-this.selectedModuleData.containerPos.x+"px",i["top"]=n.y-this.selectedModuleData.containerPos.y+"px");break;case"hoveringcontainer":n=this.hoverModuleData.boxPos,(this.hoverModuleData.cIndex||"0"==this.hoverModuleData.cIndex)&&(n=this.hoverModuleData.cBoxPos),n&&(i["width"]=n.width+"px",i["height"]=n.height+"px",i["left"]=n.x-this.hoverModuleData.containerPos.x+"px",i["top"]=n.y-this.hoverModuleData.containerPos.y+"px");break;case"itemimg":if(t.imgList.length>0){var a=t.imgList[0];parseInt(a.width)>=parseInt(a.height)?i["height"]="100%":i["width"]="100%"}break;case"toptoolbar":i["left"]=(this.dragWorkspace.leftAreaOpened&&!this.fullScreenStatus?300:0)+"px",i["right"]=(this.dragWorkspace.rightAreaOpened&&!this.fullScreenStatus?300:0)+"px";break;default:break}return i},changeTheme:function(e){this.currentDevTheme=e;var t="develop_theme-"+e;$("body").removeClass("develop_theme-default").removeClass("develop_theme-night").addClass(t),this.$refs.editor&&this.$refs.editor.updateTheme("default"==this.currentDevTheme?"vs":"vs-dark"),this.DEVELOP_CURRENT_THEME_KEY(this.currentDevTheme)}}),watch:{fullScreenStatus:{handler:function(e,t){this.fullScreenChangeHandler()}},PageSettingData:{handler:function(e,t){console.log("页面信息发生变化，变化前====》",t,"变化后====》",e),IDM.broadcast.registerModule(this.PageSettingData),IDM.broadcast.pageLoadCompleteAfter(),this.dataSettingStep=this.dataSettingStep+1,this.dataSettingSaveAfterStep=this.dataSettingSaveAfterStep+1,this.editorLoaded()},deep:!0},selectedModuleData:{handler:function(e,t){this.styleData.selectedcontainer=this.getStyles("selectedcontainer")},deep:!0},dragWorkspace:{handler:function(e,t){IDM.develop.setDragWorkspaceInfo(_.cloneDeep(this.dragWorkspace))},deep:!0},devPageIsLoad:{handler:function(e,t){e&&this.PageSettingData.page.linkList&&this.PageSettingData.page.linkList.length&&this.reconnectionAllModule()},deep:!0}}},da=la,fa=(n("6d1d"),Object(b["a"])(da,r,i,!1,null,null,null));t["default"]=fa.exports},aa47:function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return l(e)||d(e)||f()}function l(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(t),n.d(t,"MultiDrag",(function(){return Ht})),n.d(t,"Sortable",(function(){return Ze})),n.d(t,"Swap",(function(){return Bt}));var A="1.10.2";function h(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var p=h(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),m=h(/Edge/i),g=h(/firefox/i),v=h(/safari/i)&&!h(/chrome/i)&&!h(/android/i),y=h(/iP(ad|od|hone)/i),b=h(/chrome/i)&&h(/android/i),w={capture:!1,passive:!1};function x(e,t,n){e.addEventListener(t,n,!p&&w)}function C(e,t,n){e.removeEventListener(t,n,!p&&w)}function S(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(_){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function B(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&S(e,t):S(e,t))||r&&e===n)return e;if(e===n)break}while(e=k(e))}return null}var D,M=/\s+/g;function E(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(M," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(M," ")}}function T(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function I(e,t){var n="";if("string"===typeof e)n=e;else do{var r=T(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function O(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function L(){var e=document.scrollingElement;return e||document.documentElement}function F(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,u,c,l,d;if(e!==window&&e!==L()?(o=e.getBoundingClientRect(),a=o.top,s=o.left,u=o.bottom,c=o.right,l=o.height,d=o.width):(a=0,s=0,u=window.innerHeight,c=window.innerWidth,l=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!p))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||n&&"static"!==T(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(T(i,"border-top-width")),s-=f.left+parseInt(T(i,"border-left-width")),u=a+o.height,c=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var A=I(i||e),h=A&&A.a,m=A&&A.d;A&&(a/=m,s/=h,d/=h,l/=m,u=a+l,c=s+d)}return{top:a,left:s,bottom:u,right:c,width:d,height:l}}}function P(e,t,n){var r=Q(e,!0),i=F(e)[t];while(r){var o=F(r)[n],a=void 0;if(a="top"===n||"left"===n?i>=o:i<=o,!a)return r;if(r===L())break;r=Q(r,!1)}return!1}function N(e,t,n){var r=0,i=0,o=e.children;while(i<o.length){if("none"!==o[i].style.display&&o[i]!==Ze.ghost&&o[i]!==Ze.dragged&&B(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function U(e,t){var n=e.lastElementChild;while(n&&(n===Ze.ghost||"none"===T(n,"display")||t&&!S(n,t)))n=n.previousElementSibling;return n||null}function H(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ze.clone||t&&!S(e,t)||n++;return n}function R(e){var t=0,n=0,r=L();if(e)do{var i=I(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function V(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function Q(e,t){if(!e||!e.getBoundingClientRect)return L();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return L();if(r||t)return n;r=!0}}}while(n=n.parentNode);return L()}function j(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function z(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function G(e,t){return function(){if(!D){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),D=setTimeout((function(){D=void 0}),t)}}}function K(){clearTimeout(D),D=void 0}function q(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function W(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function $(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function X(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var Y="Sortable"+(new Date).getTime();function J(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==T(e,"display")&&e!==Ze.ghost){t.push({target:e,rect:F(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=I(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(V(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=F(n),u=n.prevFromRect,c=n.prevToRect,l=e.rect,d=I(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&z(u,s)&&!z(a,s)&&(l.top-s.top)/(l.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=ee(l,u,c,r.options)),z(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,l,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){T(e,"transition",""),T(e,"transform","");var i=I(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),u=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!u,T(e,"transform","translate3d("+s+"px,"+u+"px,0)"),Z(e),T(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function Z(e){return e.offsetWidth}function ee(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var te=[],ne={initializeByDefault:!0},re={mount:function(e){for(var t in ne)ne.hasOwnProperty(t)&&!(t in e)&&(e[t]=ne[t]);te.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";te.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in te.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,o(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return te.forEach((function(r){"function"===typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return te.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function ie(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,u=e.fromEl,c=e.oldIndex,l=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,A=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Y],t){var v,y=t.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||p||m?(v=document.createEvent("Event"),v.initEvent(r,!0,!0)):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=s||n,v.from=u||n,v.item=i||n,v.clone=o,v.oldIndex=c,v.newIndex=l,v.oldDraggableIndex=d,v.newDraggableIndex=f,v.originalEvent=A,v.pullMode=h?h.lastPutMode:void 0;var w=a({},g,re.getEventProperties(r,t));for(var x in w)v[x]=w[x];n&&n.dispatchEvent(v),y[b]&&y[b].call(t,v)}}var oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=u(n,["evt"]);re.pluginEvent.bind(Ze)(e,t,a({dragEl:se,parentEl:ue,ghostEl:ce,rootEl:le,nextEl:de,lastDownEl:fe,cloneEl:Ae,cloneHidden:he,dragStarted:Be,putSortable:be,activeSortable:Ze.active,originalEvent:r,oldIndex:pe,oldDraggableIndex:ge,newIndex:me,newDraggableIndex:ve,hideGhostForTarget:$e,unhideGhostForTarget:Xe,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(e){ae({sortable:t,name:e,originalEvent:r})}},i))};function ae(e){ie(a({putSortable:be,cloneEl:Ae,targetEl:se,rootEl:le,oldIndex:pe,oldDraggableIndex:ge,newIndex:me,newDraggableIndex:ve},e))}var se,ue,ce,le,de,fe,Ae,he,pe,me,ge,ve,ye,be,we,xe,Ce,Se,ke,_e,Be,De,Me,Ee,Te,Ie=!1,Oe=!1,Le=[],Fe=!1,Pe=!1,Ne=[],Ue=!1,He=[],Re="undefined"!==typeof document,Ve=y,Qe=m||p?"cssFloat":"float",je=Re&&!b&&!y&&"draggable"in document.createElement("div"),ze=function(){if(Re){if(p)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ge=function(e,t){var n=T(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=N(e,0,t),o=N(e,1,t),a=i&&T(i),s=o&&T(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+F(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+F(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a["float"]&&"none"!==a["float"]){var l="left"===a["float"]?"left":"right";return!o||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[Qe]||o&&"none"===n[Qe]&&u+c>r)?"vertical":"horizontal"},Ke=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return r===a||i===s||r+o/2===a+u/2},qe=function(e,t){var n;return Le.some((function(r){if(!U(r)){var i=F(r),o=r[Y].options.emptyInsertThreshold,a=e>=i.left-o&&e<=i.right+o,s=t>=i.top-o&&t<=i.bottom+o;return o&&a&&s?n=r:void 0}})),n},We=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var u=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},$e=function(){!ze&&ce&&T(ce,"display","none")},Xe=function(){!ze&&ce&&T(ce,"display","")};Re&&document.addEventListener("click",(function(e){if(Oe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Oe=!1,!1}),!0);var Ye=function(e){if(se){e=e.touches?e.touches[0]:e;var t=qe(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Y]._onDragOver(n)}}},Je=function(e){se&&se.parentNode[Y]._isOutsideThisEl(e.target)};function Ze(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ge(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ze.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in re.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in We(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&je,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?x(e,"pointerdown",this._onTapStart):(x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Le.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,J())}function et(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function tt(e,t,n,r,i,o,a,s){var u,c,l=e[Y],d=l.options.onMove;return!window.CustomEvent||p||m?(u=document.createEvent("Event"),u.initEvent("move",!0,!0)):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=o||F(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),d&&(c=d.call(l,u,a)),c}function nt(e){e.draggable=!1}function rt(){Ue=!1}function it(e,t,n){var r=F(U(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function ot(e,t,n,r,i,o,a,s){var u=r?e.clientY:e.clientX,c=r?n.height:n.width,l=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&Ee<c*i){if(!Fe&&(1===Me?u>l+c*o/2:u<d-c*o/2)&&(Fe=!0),Fe)f=!0;else if(1===Me?u<l+Ee:u>d-Ee)return-Me}else if(u>l+c*(1-i)/2&&u<d-c*(1-i)/2)return at(t);return f=f||a,f&&(u<l+c*o/2||u>d-c*o/2)?u>l+c/2?1:-1:0}function at(e){return H(se)<H(e)?1:-1}function st(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function ut(e){He.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&He.push(r)}}function ct(e){return setTimeout(e,0)}function lt(e){return clearTimeout(e)}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(De=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,se):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(ut(n),!se&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(s=B(s,r.draggable,n,!1),(!s||!s.animated)&&fe!==s)){if(pe=H(s),ge=H(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return ae({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),oe("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=B(u,r.trim(),n,!1),r)return ae({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),oe("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!B(u,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!se&&n.parentNode===o){var u=F(n);if(le=o,se=n,ue=se.parentNode,de=se.nextSibling,fe=n,ye=a.group,Ze.dragged=se,we={target:se,clientX:(t||e).clientX,clientY:(t||e).clientY},ke=we.clientX-u.left,_e=we.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,se.style["will-change"]="all",r=function(){oe("delayEnded",i,{evt:e}),Ze.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!g&&i.nativeDraggable&&(se.draggable=!0),i._triggerDragStart(e,t),ae({sortable:i,name:"choose",originalEvent:e}),E(se,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){O(se,e.trim(),nt)})),x(s,"dragover",Ye),x(s,"mousemove",Ye),x(s,"touchmove",Ye),x(s,"mouseup",i._onDrop),x(s,"touchend",i._onDrop),x(s,"touchcancel",i._onDrop),g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,se.draggable=!0),oe("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(m||p))r();else{if(Ze.eventCanceled)return void this._onDrop();x(s,"mouseup",i._disableDelayedDrag),x(s,"touchend",i._disableDelayedDrag),x(s,"touchcancel",i._disableDelayedDrag),x(s,"mousemove",i._delayedDragTouchMoveHandler),x(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&x(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){se&&nt(se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._disableDelayedDrag),C(e,"touchend",this._disableDelayedDrag),C(e,"touchcancel",this._disableDelayedDrag),C(e,"mousemove",this._delayedDragTouchMoveHandler),C(e,"touchmove",this._delayedDragTouchMoveHandler),C(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?x(document,"pointermove",this._onTouchMove):x(document,t?"touchmove":"mousemove",this._onTouchMove):(x(se,"dragend",this),x(le,"dragstart",this._onDragStart));try{document.selection?ct((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ie=!1,le&&se){oe("dragStarted",this,{evt:t}),this.nativeDraggable&&x(document,"dragover",Je);var n=this.options;!e&&E(se,n.dragClass,!1),E(se,n.ghostClass,!0),Ze.active=this,e&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(xe){this._lastX=xe.clientX,this._lastY=xe.clientY,$e();var e=document.elementFromPoint(xe.clientX,xe.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(xe.clientX,xe.clientY),e===t)break;t=e}if(se.parentNode[Y]._isOutsideThisEl(e),t)do{if(t[Y]){var n=void 0;if(n=t[Y]._onDragOver({clientX:xe.clientX,clientY:xe.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Xe()}},_onTouchMove:function(e){if(we){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=ce&&I(ce,!0),a=ce&&o&&o.a,s=ce&&o&&o.d,u=Ve&&Te&&R(Te),c=(i.clientX-we.clientX+r.x)/(a||1)+(u?u[0]-Ne[0]:0)/(a||1),l=(i.clientY-we.clientY+r.y)/(s||1)+(u?u[1]-Ne[1]:0)/(s||1);if(!Ze.active&&!Ie){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ce){o?(o.e+=c-(Ce||0),o.f+=l-(Se||0)):o={a:1,b:0,c:0,d:1,e:c,f:l};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");T(ce,"webkitTransform",d),T(ce,"mozTransform",d),T(ce,"msTransform",d),T(ce,"transform",d),Ce=c,Se=l,xe=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ce){var e=this.options.fallbackOnBody?document.body:le,t=F(se,!0,Ve,!0,e),n=this.options;if(Ve){Te=e;while("static"===T(Te,"position")&&"none"===T(Te,"transform")&&Te!==document)Te=Te.parentNode;Te!==document.body&&Te!==document.documentElement?(Te===document&&(Te=L()),t.top+=Te.scrollTop,t.left+=Te.scrollLeft):Te=L(),Ne=R(Te)}ce=se.cloneNode(!0),E(ce,n.ghostClass,!1),E(ce,n.fallbackClass,!0),E(ce,n.dragClass,!0),T(ce,"transition",""),T(ce,"transform",""),T(ce,"box-sizing","border-box"),T(ce,"margin",0),T(ce,"top",t.top),T(ce,"left",t.left),T(ce,"width",t.width),T(ce,"height",t.height),T(ce,"opacity","0.8"),T(ce,"position",Ve?"absolute":"fixed"),T(ce,"zIndex","100000"),T(ce,"pointerEvents","none"),Ze.ghost=ce,e.appendChild(ce),T(ce,"transform-origin",ke/parseInt(ce.style.width)*100+"% "+_e/parseInt(ce.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;oe("dragStart",this,{evt:e}),Ze.eventCanceled?this._onDrop():(oe("setupClone",this),Ze.eventCanceled||(Ae=W(se),Ae.draggable=!1,Ae.style["will-change"]="",this._hideClone(),E(Ae,this.options.chosenClass,!1),Ze.clone=Ae),n.cloneId=ct((function(){oe("clone",n),Ze.eventCanceled||(n.options.removeCloneOnHide||le.insertBefore(Ae,se),n._hideClone(),ae({sortable:n,name:"clone"}))})),!t&&E(se,i.dragClass,!0),t?(Oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(C(document,"mouseup",n._onDrop),C(document,"touchend",n._onDrop),C(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,se)),x(document,"drop",n),T(se,"transform","translateZ(0)")),Ie=!0,n._dragStartId=ct(n._dragStarted.bind(n,t,e)),x(document,"selectstart",n),Be=!0,v&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,u=this.options,c=u.group,l=Ze.active,d=ye===c,f=u.sort,A=be||l,h=this,p=!1;if(!Ue){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=B(s,u.draggable,o,!0),I("dragOver"),Ze.eventCanceled)return p;if(se.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return L(!1);if(Oe=!1,l&&!u.disabled&&(d?f||(r=!le.contains(se)):be===this||(this.lastPutMode=ye.checkPull(this,l,se,e))&&c.checkPut(this,l,se,e))){if(i="vertical"===this._getDirection(e,s),t=F(se),I("dragOverValid"),Ze.eventCanceled)return p;if(r)return ue=le,O(),this._hideClone(),I("revert"),Ze.eventCanceled||(de?le.insertBefore(se,de):le.appendChild(se)),L(!0);var m=U(o,u.draggable);if(!m||it(e,i,this)&&!m.animated){if(m===se)return L(!1);if(m&&o===e.target&&(s=m),s&&(n=F(s)),!1!==tt(le,o,se,t,s,n,e,!!s))return O(),o.appendChild(se),ue=o,N(),L(!0)}else if(s.parentNode===o){n=F(s);var g,v,y=0,b=se.parentNode!==o,w=!Ke(se.animated&&se.toRect||t,s.animated&&s.toRect||n,i),x=i?"top":"left",C=P(s,"top","top")||P(se,"top","top"),S=C?C.scrollTop:void 0;if(De!==s&&(g=n[x],Fe=!1,Pe=!w&&u.invertSwap||b),y=ot(e,s,n,i,w?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,Pe,De===s),0!==y){var k=H(se);do{k-=y,v=ue.children[k]}while(v&&("none"===T(v,"display")||v===ce))}if(0===y||v===s)return L(!1);De=s,Me=y;var _=s.nextElementSibling,D=!1;D=1===y;var M=tt(le,o,se,t,s,n,e,D);if(!1!==M)return 1!==M&&-1!==M||(D=1===M),Ue=!0,setTimeout(rt,30),O(),D&&!_?o.appendChild(se):s.parentNode.insertBefore(se,D?_:s),C&&q(C,0,S-C.scrollTop),ue=se.parentNode,void 0===g||Pe||(Ee=Math.abs(g-F(s)[x])),N(),L(!0)}if(o.contains(se))return L(!1)}return!1}function I(u,c){oe(u,h,a({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:A,target:s,completed:L,onMove:function(n,r){return tt(le,o,se,t,n,F(n),e,r)},changed:N},c))}function O(){I("dragOverAnimationCapture"),h.captureAnimationState(),h!==A&&A.captureAnimationState()}function L(t){return I("dragOverCompleted",{insertion:t}),t&&(d?l._hideClone():l._showClone(h),h!==A&&(E(se,be?be.options.ghostClass:l.options.ghostClass,!1),E(se,u.ghostClass,!0)),be!==h&&h!==Ze.active?be=h:h===Ze.active&&be&&(be=null),A===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){I("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(s===se&&!se.animated||s===o&&!s.animated)&&(De=null),u.dragoverBubble||e.rootEl||s===document||(se.parentNode[Y]._isOutsideThisEl(e.target),!t&&Ye(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function N(){me=H(se),ve=H(se,u.draggable),ae({sortable:h,name:"change",toEl:o,newIndex:me,newDraggableIndex:ve,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",Ye),C(document,"mousemove",Ye),C(document,"touchmove",Ye)},_offUpEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._onDrop),C(e,"touchend",this._onDrop),C(e,"pointerup",this._onDrop),C(e,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;me=H(se),ve=H(se,n.draggable),oe("drop",this,{evt:e}),ue=se&&se.parentNode,me=H(se),ve=H(se,n.draggable),Ze.eventCanceled||(Ie=!1,Pe=!1,Fe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),lt(this.cloneId),lt(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),v&&T(document.body,"user-select",""),T(se,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ce&&ce.parentNode&&ce.parentNode.removeChild(ce),(le===ue||be&&"clone"!==be.lastPutMode)&&Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),se&&(this.nativeDraggable&&C(se,"dragend",this),nt(se),se.style["will-change"]="",Be&&!Ie&&E(se,be?be.options.ghostClass:this.options.ghostClass,!1),E(se,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:ue,newIndex:null,newDraggableIndex:null,originalEvent:e}),le!==ue?(me>=0&&(ae({rootEl:ue,name:"add",toEl:ue,fromEl:le,originalEvent:e}),ae({sortable:this,name:"remove",toEl:ue,originalEvent:e}),ae({rootEl:ue,name:"sort",toEl:ue,fromEl:le,originalEvent:e}),ae({sortable:this,name:"sort",toEl:ue,originalEvent:e})),be&&be.save()):me!==pe&&me>=0&&(ae({sortable:this,name:"update",toEl:ue,originalEvent:e}),ae({sortable:this,name:"sort",toEl:ue,originalEvent:e})),Ze.active&&(null!=me&&-1!==me||(me=pe,ve=ge),ae({sortable:this,name:"end",toEl:ue,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){oe("nulling",this),le=se=ue=ce=de=Ae=fe=he=we=xe=Be=me=ve=pe=ge=De=Me=be=ye=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,He.forEach((function(e){e.checked=!0})),He.length=Ce=Se=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":se&&(this._onDragOver(e),et(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)e=n[r],B(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||st(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];B(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return B(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=re.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&We(n)},destroy:function(){oe("destroy",this);var e=this.el;e[Y]=null,C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart),C(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Le.splice(Le.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!he){if(oe("hideClone",this),Ze.eventCanceled)return;T(Ae,"display","none"),this.options.removeCloneOnHide&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),he=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(he){if(oe("showClone",this),Ze.eventCanceled)return;le.contains(se)&&!this.options.group.revertClone?le.insertBefore(Ae,se):de?le.insertBefore(Ae,de):le.appendChild(Ae),this.options.group.revertClone&&this.animate(se,Ae),T(Ae,"display",""),he=!1}}else this._hideClone()}},Re&&x(document,"touchmove",(function(e){(Ze.active||Ie)&&e.cancelable&&e.preventDefault()})),Ze.utils={on:x,off:C,css:T,find:O,is:function(e,t){return!!B(e,t,e,!1)},extend:j,throttle:G,closest:B,toggleClass:E,clone:W,index:H,nextTick:ct,cancelNextTick:lt,detectDirection:Ge,getChild:N},Ze.get=function(e){return e[Y]},Ze.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ze.utils=a({},Ze.utils,e.utils)),re.mount(e)}))},Ze.create=function(e,t){return new Ze(e,t)},Ze.version=A;var dt,ft,At,ht,pt,mt,gt=[],vt=!1;function yt(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):this.options.supportPointer?x(document,"pointermove",this._handleFallbackAutoScroll):t.touches?x(document,"touchmove",this._handleFallbackAutoScroll):x(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),wt(),bt(),K()},nulling:function(){pt=ft=dt=vt=mt=At=ht=null,gt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(pt=e,t||m||p||v){Ct(e,this.options,o,t);var a=Q(o,!0);!vt||mt&&r===At&&i===ht||(mt&&wt(),mt=setInterval((function(){var o=Q(document.elementFromPoint(r,i),!0);o!==a&&(a=o,bt()),Ct(e,n.options,o,t)}),10),At=r,ht=i)}else{if(!this.options.bubbleScroll||Q(o,!0)===L())return void bt();Ct(e,this.options,Q(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}function bt(){gt.forEach((function(e){clearInterval(e.pid)})),gt=[]}function wt(){clearInterval(mt)}var xt,Ct=G((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,u=t.scrollSpeed,c=L(),l=!1;ft!==n&&(ft=n,bt(),dt=t.scroll,i=t.scrollFn,!0===dt&&(dt=Q(n,!0)));var d=0,f=dt;do{var A=f,h=F(A),p=h.top,m=h.bottom,g=h.left,v=h.right,y=h.width,b=h.height,w=void 0,x=void 0,C=A.scrollWidth,S=A.scrollHeight,k=T(A),_=A.scrollLeft,B=A.scrollTop;A===c?(w=y<C&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),x=b<S&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(w=y<C&&("auto"===k.overflowX||"scroll"===k.overflowX),x=b<S&&("auto"===k.overflowY||"scroll"===k.overflowY));var D=w&&(Math.abs(v-o)<=s&&_+y<C)-(Math.abs(g-o)<=s&&!!_),M=x&&(Math.abs(m-a)<=s&&B+b<S)-(Math.abs(p-a)<=s&&!!B);if(!gt[d])for(var E=0;E<=d;E++)gt[E]||(gt[E]={});gt[d].vx==D&&gt[d].vy==M&&gt[d].el===A||(gt[d].el=A,gt[d].vx=D,gt[d].vy=M,clearInterval(gt[d].pid),0==D&&0==M||(l=!0,gt[d].pid=setInterval(function(){r&&0===this.layer&&Ze.active._onTouchMove(pt);var t=gt[this.layer].vy?gt[this.layer].vy*u:0,n=gt[this.layer].vx?gt[this.layer].vx*u:0;"function"===typeof i&&"continue"!==i.call(Ze.dragged.parentNode[Y],n,t,e,pt,gt[this.layer].el)||q(gt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=Q(f,!1)));vt=l}}),30),St=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(c.clientX,c.clientY);s(),u&&!u.el.contains(l)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function kt(){}function _t(){}function Bt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;xt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,a=e.cancel;if(i.options.swap){var s=this.sortable.el,u=this.options;if(n&&n!==s){var c=xt;!1!==r(n)?(E(n,u.swapClass,!0),xt=n):xt=null,c&&c!==xt&&E(c,u.swapClass,!1)}o(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;xt&&E(xt,o.swapClass,!1),xt&&(o.swap||n&&n.options.swap)&&r!==xt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),Dt(r,xt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){xt=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:xt}}})}function Dt(e,t){var n,r,i=e.parentNode,o=t.parentNode;i&&o&&!i.isEqualNode(t)&&!o.isEqualNode(e)&&(n=H(e),r=H(t),i.isEqualNode(o)&&n<r&&r++,i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r]))}kt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=N(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:St},o(kt,{pluginName:"revertOnSpill"}),_t.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:St},o(_t,{pluginName:"removeOnSpill"});var Mt,Et,Tt,It,Ot,Lt=[],Ft=[],Pt=!1,Nt=!1,Ut=!1;function Ht(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?x(document,"pointerup",this._deselectMultiDrag):(x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag)),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";Lt.length&&Et===e?Lt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Tt=t},delayEnded:function(){this.isMultiDrag=~Lt.indexOf(Tt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<Lt.length;r++)Ft.push(W(Lt[r])),Ft[r].sortableIndex=Lt[r].sortableIndex,Ft[r].draggable=!1,Ft[r].style["will-change"]="",E(Ft[r],this.options.selectedClass,!1),Lt[r]===Tt&&E(Ft[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Lt.length&&Et===t&&(Vt(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Vt(!1,n),Ft.forEach((function(e){T(e,"display","")})),t(),Ot=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(Ft.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Ot=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&Et&&Et.multiDrag._deselectMultiDrag(),Lt.forEach((function(e){e.sortableIndex=H(e)})),Lt=Lt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Ut=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Lt.forEach((function(e){e!==Tt&&T(e,"position","absolute")}));var r=F(Tt,!1,!0,!0);Lt.forEach((function(e){e!==Tt&&$(e,r)})),Nt=!0,Pt=!0}n.animateAll((function(){Nt=!1,Pt=!1,t.options.animation&&Lt.forEach((function(e){X(e)})),t.options.sort&&Qt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;Nt&&~Lt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;Lt.length>1&&(Lt.forEach((function(e){r.addAnimationState({target:e,rect:Nt?F(e):i}),X(e),e.fromRect=i,t.removeAnimationState(e)})),Nt=!1,Rt(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),Pt=!1,s.animation&&Lt.length>1&&(Nt||!n&&!i.options.sort&&!a)){var u=F(Tt,!1,!0,!0);Lt.forEach((function(e){e!==Tt&&($(e,u),o.appendChild(e))})),Nt=!0}if(!n)if(Nt||Qt(),Lt.length>1){var c=Ot;i._showClone(t),i.options.animation&&!Ot&&c&&Ft.forEach((function(e){i.addAnimationState({target:e,rect:It}),e.fromRect=It,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(Lt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){It=o({},t);var i=I(Tt,!0);It.top-=i.f,It.left-=i.e}},dragOverAnimationComplete:function(){Nt&&(Nt=!1,Qt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,u=s||this.sortable;if(t){var c=this.options,l=r.children;if(!Ut)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(Tt,c.selectedClass,!~Lt.indexOf(Tt)),~Lt.indexOf(Tt))Lt.splice(Lt.indexOf(Tt),1),Mt=null,ie({sortable:i,rootEl:n,name:"deselect",targetEl:Tt,originalEvt:t});else{if(Lt.push(Tt),ie({sortable:i,rootEl:n,name:"select",targetEl:Tt,originalEvt:t}),t.shiftKey&&Mt&&i.el.contains(Mt)){var d,f,A=H(Mt),h=H(Tt);if(~A&&~h&&A!==h)for(h>A?(f=A,d=h):(f=h,d=A+1);f<d;f++)~Lt.indexOf(l[f])||(E(l[f],c.selectedClass,!0),Lt.push(l[f]),ie({sortable:i,rootEl:n,name:"select",targetEl:l[f],originalEvt:t}))}else Mt=Tt;Et=u}if(Ut&&this.isMultiDrag){if((r[Y].options.sort||r!==n)&&Lt.length>1){var p=F(Tt),m=H(Tt,":not(."+this.options.selectedClass+")");if(!Pt&&c.animation&&(Tt.thisAnimationDuration=null),u.captureAnimationState(),!Pt&&(c.animation&&(Tt.fromRect=p,Lt.forEach((function(e){if(e.thisAnimationDuration=null,e!==Tt){var t=Nt?F(e):p;e.fromRect=t,u.addAnimationState({target:e,rect:t})}}))),Qt(),Lt.forEach((function(e){l[m]?r.insertBefore(e,l[m]):r.appendChild(e),m++})),a===H(Tt))){var g=!1;Lt.forEach((function(e){e.sortableIndex===H(e)||(g=!0)})),g&&o("update")}Lt.forEach((function(e){X(e)})),u.animateAll()}Et=u}(n===r||s&&"clone"!==s.lastPutMode)&&Ft.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Ut=!1,Ft.length=0},destroyGlobal:function(){this._deselectMultiDrag(),C(document,"pointerup",this._deselectMultiDrag),C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof Ut||!Ut)&&Et===this.sortable&&(!e||!B(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))while(Lt.length){var t=Lt[0];E(t,this.options.selectedClass,!1),Lt.shift(),ie({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[Y];t&&t.options.multiDrag&&!~Lt.indexOf(e)&&(Et&&Et!==t&&(Et.multiDrag._deselectMultiDrag(),Et=t),E(e,t.options.selectedClass,!0),Lt.push(e))},deselect:function(e){var t=e.parentNode[Y],n=Lt.indexOf(e);t&&t.options.multiDrag&&~n&&(E(e,t.options.selectedClass,!1),Lt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return Lt.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=Nt&&r!==Tt?-1:Nt?H(r,":not(."+e.options.selectedClass+")"):H(r),n.push({multiDragElement:r,index:i})})),{items:c(Lt),clones:[].concat(Ft),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Rt(e,t){Lt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function Vt(e,t){Ft.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function Qt(){Lt.forEach((function(e){e!==Tt&&e.parentNode&&e.parentNode.removeChild(e)}))}Ze.mount(new yt),Ze.mount(_t,kt),t["default"]=Ze},afc8:function(e,t,n){"use strict";n("f403")},b311:function(e,t,n){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(t,n){e.exports=n()})(0,(function(){return function(){var e={134:function(e,t,n){"use strict";n.d(t,{default:function(){return D}});var r=n(279),i=n.n(r),o=n(370),a=n.n(o),s=n(817),u=n.n(s);function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var A=function(){function e(t){l(this,e),this.resolveOptions(t),this.initSelection()}return f(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var e="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var e=this,t=this.createFakeElement();this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(t),this.selectedText=u()(t),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=u()(this.target),this.copyText()}},{key:"copyText",value:function(){var e;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==c(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),h=A;function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=S();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var B=function(e){y(n,e);var t=w(n);function n(e,r){var i;return m(this,n),i=t.call(this),i.resolveOptions(r),i.listenClick(e),i}return v(n,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new h({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return _("action",e)}},{key:"defaultTarget",value:function(e){var t=_("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return _("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),n}(i()),D=B},828:function(e){var t=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function r(e,n){while(e&&e.nodeType!==t){if("function"===typeof e.matches&&e.matches(n))return e;e=e.parentNode}}e.exports=r},438:function(e,t,n){var r=n(828);function i(e,t,n,r,i){var o=a.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}function o(e,t,n,r,o){return"function"===typeof e.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}function a(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=o},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},370:function(e,t,n){var r=n(879),i=n(438);function o(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return a(e,t,n);if(r.nodeList(e))return s(e,t,n);if(r.string(e))return u(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function s(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}function u(e,t,n){return i(document.body,e,t,n)}e.exports=o},817:function(e){function t(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=t},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),n(134)}().default}))},b76a:function(e,t,n){(function(e){var r,i,o,a=n("7037").default;n("a4d3"),n("e01a"),n("d3b7"),n("944a"),n("23dc"),n("0c47"),n("ddb0"),n("b0c0"),n("fb6a"),n("b64b"),n("ac1f"),n("5319"),n("1276"),n("4d63"),n("25f0"),n("a15b"),n("3410"),n("159b"),n("99af"),n("2ca0"),n("466d"),n("d28b"),n("3ca3"),n("a630"),n("d81d"),n("4de4"),n("caad"),n("13d5"),n("a434"),function(s,u){"object"===a(t)&&"object"===a(e)?e.exports=u(n("aa47")):(i=[n("aa47")],r=u,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o))}("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===a(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),u=n("41a0"),c=n("7f20"),l=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),A="@@iterator",h="keys",p="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){u(n,t,g);var w,x,C,S=function(e){if(!f&&e in D)return D[e];switch(e){case h:return function(){return new n(this,e)};case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",_=v==p,B=!1,D=e.prototype,M=D[d]||D[A]||v&&D[v],E=M||S(v),T=v?_?S("entries"):E:void 0,I="Array"==t&&D.entries||M;if(I&&(C=l(I.call(new e)),C!==Object.prototype&&C.next&&(c(C,k,!0),r||"function"==typeof C[d]||a(C,d,m))),_&&M&&M.name!==p&&(B=!0,E=function(){return M.call(this)}),r&&!b||!f&&!B&&D[d]||a(D,d,E),s[t]=E,s[k]=m,v)if(w={values:_?E:S(p),keys:y?E:S(h),entries:T},b)for(x in w)x in D||o(D,x,w[x]);else i(i.P+i.F*(f||B),t,w);return w}},"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,n){var r=n("ce10"),i=n("e11e");e.exports=Object.keys||function(e){return r(e,i)}},1495:function(e,t,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){i(e);var n,a=o(t),s=a.length,u=0;while(s>u)r.f(e,n=a[u++],t[n]);return e}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),a=n("be13"),s=n("2b4c"),u=n("520a"),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),A=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=A?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t})):void 0;if(!A||!h||"replace"===e&&!l||"split"===e&&!d){var p=/./[f],m=n(a,f,""[e],(function(e,t,n,r,i){return t.exec===u?A&&!i?{done:!0,value:p.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=m[0],v=m[1];r(String.prototype,e,g),i(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"2aba":function(e,t,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),u="toString",c=(""+s).split(u);n("8378").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n("230e")("iframe"),r=o.length,i="<",a=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),c=e.F;while(r--)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,n){var r=n("86cc"),i=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},"456d":function(e,t,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(r(e))}}))},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},"520a":function(e,t,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s="lastIndex",u=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[s]||0!==t[s]}(),c=void 0!==/()??/.exec("")[1],l=u||c;l&&(a=function(e){var t,n,a,l,d=this;return c&&(n=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),u&&(t=d[s]),a=i.call(d,e),u&&a&&(d[s]=d.global?a.index+a[0].length:t),c&&a&&a.length>1&&o.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),e.exports=a},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),u="prototype",c=function e(t,n,c){var l,d,f,A,h=t&e.F,p=t&e.G,m=t&e.S,g=t&e.P,v=t&e.B,y=p?r:m?r[n]||(r[n]={}):(r[n]||{})[u],b=p?i:i[n]||(i[n]={}),w=b[u]||(b[u]={});for(l in p&&(c=n),c)d=!h&&y&&void 0!==y[l],f=(d?y:c)[l],A=v&&d?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,t&e.U),b[l]!=f&&o(b,l,A),g&&w[l]!=f&&(w[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5eda":function(e,t,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==a(o))throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"613b":function(e,t,n){var r=n("5537")("keys"),i=n("ca5a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6762:function(e,t,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),i=n("be13");e.exports=function(e){return r(i(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(e,t,n){"use strict";var r=n("0d58"),i=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),u=Object.assign;e.exports=!u||n("79e5")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){var n=a(e),u=arguments.length,c=1,l=i.f,d=o.f;while(u>c){var f,A=s(arguments[c++]),h=l?r(A).concat(l(A)):r(A),p=h.length,m=0;while(p>m)d.call(A,f=h[m++])&&(n[f]=A[f])}return n}:u},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),e.exports=function(e){i[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,n){t.exports=e},a481:function(e,t,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),a=n("4588"),s=n("0390"),u=n("5f1b"),c=Math.max,l=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,A=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),A="function"===typeof t;A||(t=String(t));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}var y=[];while(1){var b=u(d,f);if(null===b)break;if(y.push(b),!g)break;var w=String(b[0]);""===w&&(d.lastIndex=s(f,o(d.lastIndex),v))}for(var x="",C=0,S=0;S<y.length;S++){b=y[S];for(var k=String(b[0]),_=c(l(a(b.index),f.length),0),B=[],D=1;D<b.length;D++)B.push(h(b[D]));var M=b.groups;if(A){var E=[k].concat(B,_,f);void 0!==M&&E.push(M);var T=String(t.apply(void 0,E))}else T=m(k,f,_,B,M,t);_>=C&&(x+=f.slice(C,_)+T,C=_+k.length)}return x+f.slice(C)}];function m(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=A;return void 0!==a&&(a=i(a),l=f),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var f=d(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},aae3:function(e,t,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},ac6a:function(e,t,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),u=n("84f2"),c=n("2b4c"),l=c("iterator"),d=c("toStringTag"),f=u.Array,A={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(A),p=0;p<h.length;p++){var m,g=h[p],v=A[g],y=a[g],b=y&&y.prototype;if(b&&(b[l]||s(b,l,f),b[d]||s(b,d,g),u[g]=f,v))for(m in r)b[m]||o(b,m,r[m],!0)}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),i=n("9def"),o=n("77f1");e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},c649:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u}));n("a481");function r(){return"undefined"!==typeof window?window.console:e.console}var i=r();function o(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var a=/-(\w)/g,s=o((function(e){return e.replace(a,(function(e,t){return t?t.toUpperCase():""}))}));function u(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function c(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===("undefined"===typeof window?"undefined":a(window))&&(n=window)}e.exports=n},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(t.length>u)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},d2c8:function(e,t,n){var r=n("aae3"),i=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===a(e)?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(e,t,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="startsWith",s=""[a];r(r.P+r.F*n("5147")(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},f751:function(e,t,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function i(e){if(Array.isArray(e))return e}function o(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return i(e)||o(e,t)||s(e,t)||u()}n("6762"),n("2fdb");function l(e){if(Array.isArray(e))return a(e)}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){return l(e)||d(e)||s(e)||f()}var h=n("a352"),p=n.n(h),m=n("c649");function g(e,t,n){return void 0===n||(e=e||{},e[t]=n),e}function v(e,t){return e.map((function(e){return e.elm})).indexOf(t)}function y(e,t,n,r){if(!e)return[];var i=e.map((function(e){return e.elm})),o=t.length-r,a=A(t).map((function(e,t){return t>=o?i.length:i.indexOf(e)}));return n?a.filter((function(e){return-1!==e})):a}function b(e,t){var n=this;this.$nextTick((function(){return n.$emit(e.toLowerCase(),t)}))}function w(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),b.call(t,e,n)}}function x(e){return["transition-group","TransitionGroup"].includes(e)}function C(e){if(!e||1!==e.length)return!1;var t=c(e,1),n=t[0].componentOptions;return!!n&&x(n.tag)}function S(e,t,n){return e[n]||(t[n]?t[n]():void 0)}function k(e,t,n){var r=0,i=0,o=S(t,n,"header");o&&(r=o.length,e=e?[].concat(A(o),A(e)):A(o));var a=S(t,n,"footer");return a&&(i=a.length,e=e?[].concat(A(e),A(a)):A(a)),{children:e,headerOffset:r,footerOffset:i}}function _(e,t){var n=null,r=function(e,t){n=g(n,e,t)},i=Object.keys(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{});if(r("attrs",i),!t)return n;var o=t.on,a=t.props,s=t.attrs;return r("on",o),r("props",a),Object.assign(n.attrs,s),n}var B=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],M=["Move"].concat(B,D).map((function(e){return"on"+e})),E=null,T={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},I={name:"draggable",inheritAttrs:!1,props:T,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=C(t);var n=k(t,this.$slots,this.$scopedSlots),r=n.children,i=n.headerOffset,o=n.footerOffset;this.headerOffset=i,this.footerOffset=o;var a=_(this.$attrs,this.componentData);return e(this.getTag(),a,r)},created:function(){null!==this.list&&null!==this.value&&m["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&m["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&m["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};B.forEach((function(n){t["on"+n]=w.call(e,n)})),D.forEach((function(n){t["on"+n]=b.bind(e,n)}));var n=Object.keys(this.$attrs).reduce((function(t,n){return t[Object(m["a"])(n)]=e.$attrs[n],t}),{}),r=Object.assign({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new p.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(m["a"])(t);-1===M.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=y(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=v(this.getChildrenNodes()||[],e);if(-1===t)return null;var n=this.realList[t];return{index:t,element:n}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&x(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=A(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,A(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};if(t!==n&&i&&r.getUnderlyingVm){var a=r.getUnderlyingVm(n);if(a)return Object.assign(a,o)}return o},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),E=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(m["d"])(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(m["c"])(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(m["d"])(e.clone)},onDragUpdate:function(e){Object(m["d"])(e.item),Object(m["c"])(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=A(t.to.children).filter((function(e){return"none"!==e.style["display"]})),r=n.indexOf(t.related),i=e.component.getVmIndex(r),o=-1!==n.indexOf(E);return o||!t.willInsertAfter?i:i+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),i=this.context,o=this.computeFutureIndex(r,e);Object.assign(i,{futureIndex:o});var a=Object.assign({},e,{relatedContext:r,draggedContext:i});return n(a,t)},onDragEnd:function(){this.computeIndexes(),E=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",I);var O=I;t["default"]=O}})["default"]}))}).call(this,n("62e4")(e))},bd52:function(e,t,n){},be7f:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},i=function(e){return function(t){return typeof t===e}},o=function(e){return function(t){return e===t}},a=r("string"),s=r("array"),u=o(null),c=i("boolean"),l=i("function"),d=function(e){var t=e.getParam("link_assume_external_targets",!1);return c(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},f=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},A=function(e){return e.getParam("link_list")},h=function(e){return e.getParam("default_link_target")},p=function(e){return e.getParam("target_list",!0)},m=function(e){return e.getParam("rel_list",[],"array")},g=function(e){return e.getParam("link_class_list",[],"array")},v=function(e){return e.getParam("link_title",!0,"boolean")},y=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},b=function(e){return e.getParam("link_quicklink",!1,"boolean")},w=function(e){return e.getParam("link_default_protocol","http","string")},x=function(){},C=function(e){return function(){return e}},S=C(!1),k=C(!0),_=function(){return B},B=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:S,isSome:S,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:C(null),getOrUndefined:C(void 0),or:n,orThunk:t,map:_,each:x,bind:_,exists:S,forall:k,filter:_,equals:e,equals_:e,toArray:function(){return[]},toString:C("none()")};return r}(),D=function(e){var t=C(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:k,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return D(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:B},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(S,(function(t){return n(e,t)}))}};return i},M=function(e){return null===e||void 0===e?B:D(e)},E={some:D,none:_,from:M},T=Array.prototype.indexOf,I=Array.prototype.push,O=function(e,t){return T.call(e,t)},L=function(e,t){return O(e,t)>-1},F=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},P=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},N=function(e,t,n){return P(e,(function(e){n=t(n,e)})),n},U=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);I.apply(t,e[n])}return t},H=function(e,t){return U(F(e,t))},R=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return E.none()},V=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Q=function(e,t){return e?E.some(t):E.none()},j=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=function(e){return a(e.value)?e.value:""},G=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},K=function(e,t){var n=[];return j.each(e,(function(e){var r=G(e);if(void 0!==e.menu){var i=K(e.menu,t);n.push({text:r,items:i})}else{var o=t(e);n.push({text:r,value:o})}})),n},q=function(e){return void 0===e&&(e=z),function(t){return E.from(t).map((function(t){return K(t,e)}))}},W=function(e){return q(z)(e)},$=function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}},X={sanitize:W,sanitizeWith:q,createUi:$,getValue:z},Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)},J=Object.keys,Z=Object.hasOwnProperty,ee=function(e,t){for(var n=J(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},te=function(e){return function(t,n){e[n]=t}},ne=function(e,t,n,r){var i={};return ee(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},re=function(e,t){var n={};return ne(e,t,te(n),x),n},ie=function(e,t){return Z.call(e,t)},oe=function(e,t){return ie(e,t)&&void 0!==e[t]&&null!==e[t]},ae=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),se=function(e){return e&&"a"===e.nodeName.toLowerCase()},ue=function(e){return se(e)&&!!de(e)},ce=function(e,t){if(e.collapsed)return[];var n=e.cloneContents(),r=new ae(n.firstChild,n),i=[],o=n.firstChild;do{t(o)&&i.push(o)}while(o=r.next());return i},le=function(e){return/^\w+:/i.test(e)},de=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},fe=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],i=function(e){return j.trim(e.sort().join(" "))},o=function(e){return e=a(e),e.length>0?e.concat(n):n},a=function(e){return e.filter((function(e){return-1===j.inArray(n,e)}))},s=t?o(r):a(r);return s.length>0?i(s):""},Ae=function(e){return e.replace(/\uFEFF/g,"")},he=function(e,t){return t=t||e.selection.getNode(),ye(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},pe=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return Ae(n)},me=function(e){return j.grep(e,ue).length>0},ge=function(e){return ce(e,ue).length>0},ve=function(e){var t=e.schema.getTextInlineElements(),n=function(e){return 1===e.nodeType&&!se(e)&&!ie(t,e.nodeName.toLowerCase())},r=ce(e.selection.getRng(),n);return 0===r.length},ye=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},be=function(e){return N(["title","rel","class","target"],(function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t}),{href:e.href})},we=function(e,t){return"http"!==t&&"https"!==t||le(e)?e:t+"://"+e},xe=function(e,t){var n=Y({},t);if(!(m(e).length>0)&&!1===y(e)){var r=fe(n.rel,"_blank"===n.target);n.rel=r||null}return E.from(n.target).isNone()&&!1===p(e)&&(n.target=h(e)),n.href=we(n.href,d(e)),n},Ce=function(e,t,n,r){n.each((function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)},Se=function(e,t,n,r){ye(t)?Ie(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))},ke=function(e,t,n){var r=e.selection.getNode(),i=he(e,r),o=xe(e,be(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),i?(e.focus(),Ce(e,i,n.text,o)):Se(e,r,n.text,o)}))},_e=function(e){var t=e.dom,n=e.selection,r=n.getBookmark(),i=n.getRng().cloneRange(),o=t.getParent(i.startContainer,"a[href]",e.getBody()),a=t.getParent(i.endContainer,"a[href]",e.getBody());o&&i.setStartBefore(o),a&&i.setEndAfter(a),n.setRng(i),e.execCommand("unlink"),n.moveToBookmark(r)},Be=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();ye(t)?Te(e,t):_e(e),e.focus()}))},De=function(e){var t=e.class,n=e.href,r=e.rel,i=e.target,o=e.text,a=e.title;return re({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:i.getOrNull(),text:o.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===u(e)}))},Me=function(e,t,n){e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,De(n)):ke(e,t,n)},Ee=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):Be(e)},Te=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},Ie=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var i=e.dom.create("a",n);r.parentNode.insertBefore(i,r),i.appendChild(r)}},Oe=function(e){return oe(e,"items")},Le=function(e,t){return R(t,(function(t){return Oe(t)?Le(e,t.items):Q(t.value===e,t)}))},Fe=function(e,t,n,r){var i=r[t],o=e.length>0;return void 0!==i?Le(i,n).map((function(t){return{url:{value:t.value,meta:{text:o?e:t.text,attach:x}},text:o?e:t.text}})):E.none()},Pe=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:E.none()},Ne=function(e,t){var n={text:e.text,title:e.title},r=function(e){return Q(n.title.length<=0,E.from(e.meta.title).getOr(""))},i=function(e){return Q(n.text.length<=0,E.from(e.meta.text).getOr(e.value))},o=function(e){var t=i(e.url),n=r(e.url);return t.isSome()||n.isSome()?E.some(Y(Y({},t.map((function(e){return{text:e}})).getOr({})),n.map((function(e){return{title:e}})).getOr({}))):E.none()},a=function(e,r){var i=Pe(t,r.name).getOr([]);return Fe(n.text,r.name,i,e)},s=function(e,t){var r=t.name;return"url"===r?o(e()):L(["anchor","link"],r)?a(e(),t):"text"===r||"title"===r?(n[r]=e()[r],E.none()):E.none()};return{onChange:s}},Ue={init:Ne,getDelta:Fe},He=tinymce.util.Tools.resolve("tinymce.util.Delay"),Re=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ve=function(e,t,n){var r=e.selection.getRng();He.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))},Qe=function(e){var t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?E.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return Y(Y({},e),{href:"mailto:"+t})}}):E.none()},je=function(e,t){return function(n){var r=n.href,i=1===e&&!le(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r);return i?E.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return Y(Y({},e),{href:t+"://"+r})}}):E.none()}},ze=function(e,t){return R([Qe,je(d(e),w(e))],(function(e){return e(t)})).fold((function(){return Re.resolve(t)}),(function(n){return new Re((function(r){Ve(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))},Ge={preprocess:ze},Ke=function(e){var t=e.dom.select("a:not([href])"),n=H(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?E.some([{text:"None",value:""}].concat(n)):E.none()},qe={getAnchors:Ke},We=function(e){var t=g(e);return t.length>0?X.sanitize(t):E.none()},$e={getClasses:We},Xe=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ye=function(e){try{return E.some(JSON.parse(e))}catch(t){return E.none()}},Je=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=A(e);return new Re((function(e){a(n)?Xe.send({url:n,success:function(t){return e(Ye(t))},error:function(t){return e(E.none())}}):l(n)?n((function(t){return e(E.some(t))})):e(E.from(n))})).then((function(e){return e.bind(X.sanitizeWith(t)).map((function(e){if(e.length>0){var t=[{text:"None",value:""}];return t.concat(e)}return e}))}))},Ze={getLinks:Je},et=function(e,t){var n=m(e);if(n.length>0){var r=t.is("_blank"),i=!1===y(e),o=function(e){return fe(X.getValue(e),r)},a=i?X.sanitizeWith(o):X.sanitize;return a(n)}return E.none()},tt={getRels:et},nt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],rt=function(e){var t=p(e);return s(t)?X.sanitize(t).orThunk((function(){return E.some(nt)})):!1===t?E.none():E.some(nt)},it={getTargets:rt},ot=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?E.some(r):E.none()},at=function(e,t){var n=e.dom,r=ve(e),i=r?E.some(pe(e.selection,t)):E.none(),o=t?E.some(n.getAttrib(t,"href")):E.none(),a=t?E.from(n.getAttrib(t,"target")):E.none(),s=ot(n,t,"rel"),u=ot(n,t,"class"),c=ot(n,t,"title");return{url:o,text:i,title:c,target:a,rel:s,linkClass:u}},st=function(e,t){return Ze.getLinks(e).then((function(n){var r=at(e,t);return{anchor:r,catalogs:{targets:it.getTargets(e),rels:tt.getRels(e,r.target),classes:$e.getClasses(e),anchor:qe.getAnchors(e),link:n},optNode:E.from(t),flags:{titleEnabled:v(e)}}}))},ut={collect:st},ct=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return Ee(e),void n.close();var i=function(e){return E.from(r[e]).filter((function(n){return!t.anchor[e].is(n)}))},o={href:r.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:x};Ge.preprocess(e,o).then((function(t){Me(e,a,t)})),n.close()}},lt=function(e){var t=he(e);return ut.collect(e,t)},dt=function(e,t){var n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},ft=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],i=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=E.from(h(n)),s=dt(e,a),u=e.catalogs,c=Ue.init(s,u),l={type:"panel",items:U([r,i,o,V([u.anchor.map(X.createUi("anchor","Anchors")),u.rels.map(X.createUi("rel","Rel")),u.targets.map(X.createUi("target","Open link in...")),u.link.map(X.createUi("link","Link list")),u.classes.map(X.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onChange:function(e,t){var n=t.name;c.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}},At=function(e){var t=lt(e);t.then((function(t){var n=ct(e,t);return ft(t,n,e)})).then((function(t){e.windowManager.open(t)}))},ht=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},pt=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),ht(t,n)},mt=function(e,t){return e.dom.getParent(t,"a[href]")},gt=function(e){return mt(e,e.selection.getStart())},vt=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},yt=function(e,t){if(t){var n=de(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else pt(t.href)}},bt=function(e){return function(){At(e)}},wt=function(e){return function(){yt(e,gt(e))}},xt=function(e){e.on("click",(function(n){var r=mt(e,n.target);r&&t.metaKeyPressed(n)&&(n.preventDefault(),yt(e,r))})),e.on("keydown",(function(t){var n=gt(e);n&&13===t.keyCode&&vt(t)&&(t.preventDefault(),yt(e,n))}))},Ct=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},St=function(e){return function(t){return Ct(e,(function(){t.setActive(!e.mode.isReadOnly()&&null!==he(e,e.selection.getNode()))}))}},kt=function(e){return function(t){var n=function(){return t.setDisabled(null===he(e,e.selection.getNode()))};return n(),Ct(e,n)}},_t=function(e){return function(t){var n=function(t){return me(t)||ge(e.selection.getRng())},r=e.dom.getParents(e.selection.getStart());return t.setDisabled(!n(r)),Ct(e,(function(e){return t.setDisabled(!n(e.parents))}))}},Bt=function(e){e.addCommand("mceLink",(function(){b(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):bt(e)()}))},Dt=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))},Mt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:bt(e),onSetup:St(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:wt(e),onSetup:kt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Ee(e)},onSetup:_t(e)})},Et=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:wt(e),onSetup:kt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:bt(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Ee(e)},onSetup:_t(e)})},Tt=function(e){var t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:function(r){return me(e.dom.getParents(r,"a"))?t:n}})},It=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!he(e,n)),x};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:St(e)},label:"Link",predicate:function(t){return!!he(e,t)&&f(e)},initValue:function(){var t=he(e);return t?de(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!he(e,n)),St(e)(t)},onAction:function(n){var r=he(e),i=n.getValue();if(r)e.undoManager.transact((function(){e.dom.setAttrib(r,"href",i),t(e),n.hide()}));else{var o={href:i,attach:x},a=ve(e),s=a?E.some(pe(e.selection,r)).filter((function(e){return e.length>0})).or(E.from(i)):E.none();Me(e,o,{href:i,text:s,title:E.none(),rel:E.none(),target:E.none(),class:E.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){Ee(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){wt(e)(),t.hide()}}]})};function Ot(){e.add("link",(function(e){Mt(e),Et(e),Tt(e),It(e),xt(e),Bt(e),Dt(e)}))}Ot()})()},c0b6:function(e){e.exports=JSON.parse('[{"type":"input","layoutType":"inline","text":"唯一标识","bindKey":"ctrlId","disabled":true,"default":"@[packageid]","desc":"","helpUrl":""},{"type":"group","text":"基本属性","desc":"提供设置组件能达到展示效果的基本属性设置信息","children":[{"type":"input","layoutType":"inline","text":"title","bindKey":"title","desc":"html标签的title，也就是鼠标放上去会有显示文本内容的文字","default":""}]},{"type":"group","text":"高级","desc":"点击？查看高级设置用法指南","children":[{"type":"actionSelect","layoutType":"block","text":"点击时动作","bindKey":"clickFunction","desc":"点击的时候会调用设置的自定义函数，接收参数为格式为{...自定义的}","multiple":true}]}]')},c345a:function(e,t,n){(function(t){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}))).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(o(n.parts[i]));l[n.id]={id:n.id,refs:1,parts:a}}}}function i(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function o(e){var t,n,r=document.querySelector("style["+g+'~="'+e.id+'"]');if(r){if(h)return p;r.parentNode.removeChild(r)}if(v){var o=A++;r=f||(f=i()),t=a.bind(null,r,o,!1),n=a.bind(null,r,o,!0)}else r=i(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),m.ssrId&&e.setAttribute(g,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(64),l={},d=u&&(document.head||document.getElementsByTagName("head")[0]),f=null,A=0,h=!1,p=function(){},m=null,g="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,i){h=n,m=i||{};var o=c(e,t);return r(o),function(t){for(var n=[],i=0;i<o.length;i++){var a=o[i],s=l[a.id];s.refs--,n.push(s)}t?(o=c(e,t),r(o)):o=[];for(i=0;i<n.length;i++){s=n[i];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete l[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,r,i,o){var a,s=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,s=e.default);var c,l="function"==typeof s?s.options:s;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=r),c){var d=l.functional,f=d?l.render:l.beforeCreate;d?(l._injectStyles=c,l.render=function(e,t){return c.call(t),f(e,t)}):l.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:s,options:l}}},function(e,t,n){"use strict";function r(e,t){var n,r=e&&e.a;!(n=e&&e.hsl?(0,o.default)(e.hsl):e&&e.hex&&e.hex.length>0?(0,o.default)(e.hex):e&&e.hsv?(0,o.default)(e.hsv):e&&e.rgba?(0,o.default)(e.rgba):e&&e.rgb?(0,o.default)(e.rgb):(0,o.default)(e))||void 0!==n._a&&null!==n._a||n.setAlpha(r||1);var i=n.toHsl(),a=n.toHsv();return 0===i.s&&(a.h=i.h=e.h||e.hsl&&e.hsl.h||t||0),{hsl:i,hex:n.toHexString().toUpperCase(),hex8:n.toHex8String().toUpperCase(),rgba:n.toRgb(),hsv:a,oldHue:e.h||t||i.h,source:e.source,a:e.a||n.getAlpha()}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={props:["value"],data:function(){return{val:r(this.value)}},computed:{colors:{get:function(){return this.val},set:function(e){this.val=e,this.$emit("input",e)}}},watch:{value:function(e){this.val=r(e)}},methods:{colorChange:function(e,t){this.oldHue=this.colors.hsl.h,this.colors=r(e,t||this.oldHue)},isValidHex:function(e){return(0,o.default)(e).isValid()},simpleCheckForValidColor:function(e){for(var t=["r","g","b","a","h","s","l","v"],n=0,r=0,i=0;i<t.length;i++){var o=t[i];e[o]&&(n++,isNaN(e[o])||r++)}if(n===r)return e},paletteUpperCase:function(e){return e.map((function(e){return e.toUpperCase()}))},isTransparent:function(e){return 0===(0,o.default)(e).getAlpha()}}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){u||n(66)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(68),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/common/EditableInput.vue",t.default=d.exports},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),i=n(18);e.exports=n(9)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(16),i=n(42),o=n(25),a=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(90),i=n(24);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(29)("wks"),i=n(19),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function r(e){u||n(111)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(113),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/common/Hue.vue",t.default=d.exports},function(e,t){e.exports=!0},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";function r(e){u||n(123)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(127),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/common/Saturation.vue",t.default=d.exports},function(e,t,n){"use strict";function r(e){u||n(128)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(55),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(133),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/common/Alpha.vue",t.default=d.exports},function(e,t,n){"use strict";function r(e){u||n(130)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(132),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/common/Checkboard.vue",t.default=d.exports},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var r=n(46),i=n(30);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(29)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(15),i=n(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(8).f,i=n(6),o=n(11)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(11)},function(e,t,n){var r=n(4),i=n(15),o=n(14),a=n(32),s=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(5),s=r(a),u=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"];t.default={name:"Compact",mixins:[o.default],props:{palette:{type:Array,default:function(){return u}}},components:{"ed-in":s.default},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"editableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get:function(){return this.value},set:function(e){if(!(void 0!==this.max&&+e>this.max))return e;this.$refs.input.value=this.max}},labelId:function(){return"input__label__"+this.label+"__"+Math.random().toString().slice(2,5)},labelSpanText:function(){return this.labelText||this.label}},methods:{update:function(e){this.handleChange(e.target.value)},handleChange:function(e){var t={};t[this.label]=e,(void 0===t.hex&&void 0===t["#"]||e.length>5)&&this.$emit("change",t)},handleKeyDown:function(e){var t=this.val,n=Number(t);if(n){var r=this.arrowOffset||1;38===e.keyCode&&(t=n+r,this.handleChange(t),e.preventDefault()),40===e.keyCode&&(t=n-r,this.handleChange(t),e.preventDefault())}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=["#FFFFFF","#F2F2F2","#E6E6E6","#D9D9D9","#CCCCCC","#BFBFBF","#B3B3B3","#A6A6A6","#999999","#8C8C8C","#808080","#737373","#666666","#595959","#4D4D4D","#404040","#333333","#262626","#0D0D0D","#000000"];t.default={name:"Grayscale",mixins:[i.default],props:{palette:{type:Array,default:function(){return o}}},components:{},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(3),s=r(a);t.default={name:"Material",mixins:[s.default],components:{"ed-in":o.default},methods:{onChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),o=r(i),a=n(3),s=r(a),u=n(13),c=r(u);t.default={name:"Slider",mixins:[s.default],props:{swatches:{type:Array,default:function(){return[{s:.5,l:.8},{s:.5,l:.65},{s:.5,l:.5},{s:.5,l:.35},{s:.5,l:.2}]}}},components:{hue:c.default},computed:{normalizedSwatches:function(){return this.swatches.map((function(e){return"object"!==(void 0===e?"undefined":(0,o.default)(e))?{s:.5,l:e}:e}))}},methods:{isActive:function(e,t){var n=this.colors.hsl;return 1===n.l&&1===e.l||0===n.l&&0===e.l||Math.abs(n.l-e.l)<.01&&Math.abs(n.s-e.s)<.01},hueChange:function(e){this.colorChange(e)},handleSwClick:function(e,t){this.colorChange({h:this.colors.hsl.h,s:t.s,l:t.l,source:"hsl"})}}}},function(e,t,n){"use strict";var r=n(14),i=n(41),o=n(44),a=n(7),s=n(26),u=n(88),c=n(31),l=n(95),d=n(11)("iterator"),f=!([].keys&&"next"in[].keys()),A=function(){return this};e.exports=function(e,t,n,h,p,m,g){u(n,t,h);var v,y,b,w=function(e){if(!f&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",C="values"==p,S=!1,k=e.prototype,_=k[d]||k["@@iterator"]||p&&k[p],B=_||w(p),D=p?C?w("entries"):B:void 0,M="Array"==t&&k.entries||_;if(M&&(b=l(M.call(new e)))!==Object.prototype&&b.next&&(c(b,x,!0),r||"function"==typeof b[d]||a(b,d,A)),C&&_&&"values"!==_.name&&(S=!0,B=function(){return _.call(this)}),r&&!g||!f&&!S&&k[d]||a(k,d,B),s[t]=B,s[x]=A,p)if(v={values:C?B:w("values"),keys:m?B:w("keys"),entries:D},g)for(y in v)y in k||o(k,y,v[y]);else i(i.P+i.F*(f||S),t,v);return v}},function(e,t,n){var r=n(4),i=n(15),o=n(86),a=n(7),s=n(6),u=function(e,t,n){var c,l,d,f=e&u.F,A=e&u.G,h=e&u.S,p=e&u.P,m=e&u.B,g=e&u.W,v=A?i:i[t]||(i[t]={}),y=v.prototype,b=A?r:h?r[t]:(r[t]||{}).prototype;for(c in A&&(n=t),n)(l=!f&&b&&void 0!==b[c])&&s(v,c)||(d=l?b[c]:n[c],v[c]=A&&"function"!=typeof b[c]?n[c]:m&&l?o(d,r):g&&b[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):p&&"function"==typeof d?o(Function.call,d):d,p&&((v.virtual||(v.virtual={}))[c]=d,e&u.R&&y&&!y[c]&&a(y,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){e.exports=!n(9)&&!n(17)((function(){return 7!=Object.defineProperty(n(43)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=n(7)},function(e,t,n){var r=n(16),i=n(89),o=n(30),a=n(28)("IE_PROTO"),s=function(){},u=function(){var e,t=n(43)("iframe"),r=o.length;for(t.style.display="none",n(94).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(6),i=n(10),o=n(91)(!1),a=n(28)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(24);e.exports=function(e){return Object(r(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(46),i=n(30).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data:function(){return{oldHue:0,pullDirection:""}},computed:{colors:function(){var e=this.value.hsl.h;return 0!==e&&e-this.oldHue>0&&(this.pullDirection="right"),0!==e&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.value},directionClass:function(){return{"vc-hue--horizontal":"horizontal"===this.direction,"vc-hue--vertical":"vertical"===this.direction}},pointerTop:function(){return"vertical"===this.direction?0===this.colors.hsl.h&&"right"===this.pullDirection?0:-100*this.colors.hsl.h/360+100+"%":0},pointerLeft:function(){return"vertical"===this.direction?0:0===this.colors.hsl.h&&"right"===this.pullDirection?"100%":100*this.colors.hsl.h/360+"%"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var r,i,o=n.clientWidth,a=n.clientHeight,s=n.getBoundingClientRect().left+window.pageXOffset,u=n.getBoundingClientRect().top+window.pageYOffset,c=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),d=c-s,f=l-u;"vertical"===this.direction?(f<0?r=360:f>a?r=0:(i=-100*f/a+100,r=360*i/100),this.colors.hsl.h!==r&&this.$emit("change",{h:r,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(d<0?r=0:d>o?r=360:(i=100*d/o,r=360*i/100),this.colors.hsl.h!==r&&this.$emit("change",{h:r,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))}},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),o=r(i),a=n(3),s=r(a),u=["red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","black"],c=["900","700","500","300","100"],l=function(){var e=[];return u.forEach((function(t){var n=[];"black"===t.toLowerCase()||"white"===t.toLowerCase()?n=n.concat(["#000000","#FFFFFF"]):c.forEach((function(e){var r=o.default[t][e];n.push(r.toUpperCase())})),e.push(n)})),e}();t.default={name:"Swatches",mixins:[s.default],props:{palette:{type:Array,default:function(){return l}}},computed:{pick:function(){return this.colors.hex}},methods:{equal:function(e){return e.toLowerCase()===this.colors.hex.toLowerCase()},handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(5),s=r(a),u=n(20),c=r(u),l=n(13),d=r(l),f=n(21),A=r(f);t.default={name:"Photoshop",mixins:[o.default],props:{head:{type:String,default:"Color Picker"},disableFields:{type:Boolean,default:!1},hasResetButton:{type:Boolean,default:!1},acceptLabel:{type:String,default:"OK"},cancelLabel:{type:String,default:"Cancel"},resetLabel:{type:String,default:"Reset"},newLabel:{type:String,default:"new"},currentLabel:{type:String,default:"current"}},components:{saturation:c.default,hue:d.default,alpha:A.default,"ed-in":s.default},data:function(){return{currentColor:"#FFF"}},computed:{hsv:function(){var e=this.colors.hsv;return{h:e.h.toFixed(),s:(100*e.s).toFixed(),v:(100*e.v).toFixed()}},hex:function(){var e=this.colors.hex;return e&&e.replace("#","")}},created:function(){this.currentColor=this.colors.hex},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e["#"]?this.isValidHex(e["#"])&&this.colorChange({hex:e["#"],source:"hex"}):e.r||e.g||e.b||e.a?this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}):(e.h||e.s||e.v)&&this.colorChange({h:e.h||this.colors.hsv.h,s:e.s/100||this.colors.hsv.s,v:e.v/100||this.colors.hsv.v,source:"hsv"}))},clickCurrentColor:function(){this.colorChange({hex:this.currentColor,source:"hex"})},handleAccept:function(){this.$emit("ok")},handleCancel:function(){this.$emit("cancel")},handleReset:function(){this.$emit("reset")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(125),o=r(i),a=n(126),s=r(a);t.default={name:"Saturation",props:{value:Object},computed:{colors:function(){return this.value},bgColor:function(){return"hsl("+this.colors.hsv.h+", 100%, 50%)"},pointerTop:function(){return-100*this.colors.hsv.v+1+100+"%"},pointerLeft:function(){return 100*this.colors.hsv.s+"%"}},methods:{throttle:(0,s.default)((function(e,t){e(t)}),20,{leading:!0,trailing:!1}),handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var r=n.clientWidth,i=n.clientHeight,a=n.getBoundingClientRect().left+window.pageXOffset,s=n.getBoundingClientRect().top+window.pageYOffset,u=e.pageX||(e.touches?e.touches[0].pageX:0),c=e.pageY||(e.touches?e.touches[0].pageY:0),l=(0,o.default)(u-a,0,r),d=(0,o.default)(c-s,0,i),f=l/r,A=(0,o.default)(-d/i+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:f,v:A,a:this.colors.hsv.a,source:"hsva"})}},onChange:function(e){this.$emit("change",e)},handleMouseDown:function(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"Alpha",props:{value:Object,onChange:Function},components:{checkboard:i.default},computed:{colors:function(){return this.value},gradientColor:function(){var e=this.colors.rgba,t=[e.r,e.g,e.b].join(",");return"linear-gradient(to right, rgba("+t+", 0) 0%, rgba("+t+", 1) 100%)"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var r,i=n.clientWidth,o=n.getBoundingClientRect().left+window.pageXOffset,a=e.pageX||(e.touches?e.touches[0].pageX:0),s=a-o;r=s<0?0:s>i?1:Math.round(100*s/i)/100,this.colors.a!==r&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:r,source:"rgba"})}},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function r(e,t,n){if("undefined"==typeof document)return null;var r=document.createElement("canvas");r.width=r.height=2*n;var i=r.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,r.width,r.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}function i(e,t,n){var i=e+","+t+","+n;if(o[i])return o[i];var a=r(e,t,n);return o[i]=a,a}Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle:function(){return{"background-image":"url("+i(this.white,this.grey,this.size)+")"}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(5),s=r(a),u=n(20),c=r(u),l=n(13),d=r(l),f=n(21),A=r(f),h=n(22),p=r(h),m=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];t.default={name:"Sketch",mixins:[o.default],components:{saturation:c.default,hue:d.default,alpha:A.default,"ed-in":s.default,checkboard:p.default},props:{presetColors:{type:Array,default:function(){return m}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex:function(){var e=void 0;return e=this.colors.a<1?this.colors.hex8:this.colors.hex,e.replace("#","")},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"}},methods:{handlePreset:function(e){this.colorChange({hex:e,source:"hex"})},childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(5),s=r(a),u=n(20),c=r(u),l=n(13),d=r(l),f=n(21),A=r(f),h=n(22),p=r(h);t.default={name:"Chrome",mixins:[o.default],props:{disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},components:{saturation:c.default,hue:d.default,alpha:A.default,"ed-in":s.default,checkboard:p.default},data:function(){return{fieldsIndex:0,highlight:!1}},computed:{hsl:function(){var e=this.colors.hsl,t=e.h,n=e.s,r=e.l;return{h:t.toFixed(),s:(100*n).toFixed()+"%",l:(100*r).toFixed()+"%"}},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"},hasAlpha:function(){return this.colors.a<1}},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){if(e)if(e.hex)this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"});else if(e.r||e.g||e.b||e.a)this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"});else if(e.h||e.s||e.l){var t=e.s?e.s.replace("%","")/100:this.colors.hsl.s,n=e.l?e.l.replace("%","")/100:this.colors.hsl.l;this.colorChange({h:e.h||this.colors.hsl.h,s:t,l:n,source:"hsl"})}},toggleViews:function(){this.fieldsIndex>=2?this.fieldsIndex=0:this.fieldsIndex++},showHighlight:function(){this.highlight=!0},hideHighlight:function(){this.highlight=!1}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(3),s=r(a),u=["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"];t.default={name:"Twitter",mixins:[s.default],components:{editableInput:o.default},props:{width:{type:[String,Number],default:276},defaultColors:{type:Array,default:function(){return u}},triangle:{default:"top-left",validator:function(e){return["hide","top-left","top-right"].includes(e)}}},computed:{hsv:function(){var e=this.colors.hsv;return{h:e.h.toFixed(),s:(100*e.s).toFixed(),v:(100*e.v).toFixed()}},hex:function(){var e=this.colors.hex;return e&&e.replace("#","")}},methods:{equal:function(e){return e.toLowerCase()===this.colors.hex.toLowerCase()},handlerClick:function(e){this.colorChange({hex:e,source:"hex"})},inputChange:function(e){e&&(e["#"]?this.isValidHex(e["#"])&&this.colorChange({hex:e["#"],source:"hex"}):e.r||e.g||e.b||e.a?this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}):(e.h||e.s||e.v)&&this.colorChange({h:e.h||this.colors.hsv.h,s:e.s/100||this.colors.hsv.s,v:e.v/100||this.colors.hsv.v,source:"hsv"}))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(61),o=r(i),a=n(70),s=r(a),u=n(74),c=r(u),l=n(78),d=r(l),f=n(115),A=r(f),h=n(120),p=r(h),m=n(135),g=r(m),v=n(139),y=r(v),b=n(143),w=r(b),x=n(21),C=r(x),S=n(22),k=r(S),_=n(5),B=r(_),D=n(13),M=r(D),E=n(20),T=r(E),I=n(3),O=r(I),L={version:"2.8.1",Compact:o.default,Grayscale:s.default,Twitter:w.default,Material:c.default,Slider:d.default,Swatches:A.default,Photoshop:p.default,Sketch:g.default,Chrome:y.default,Alpha:C.default,Checkboard:k.default,EditableInput:B.default,Hue:M.default,Saturation:T.default,ColorMixin:O.default};e.exports=L},function(e,t,n){"use strict";function r(e){u||n(62)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(69),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Compact.vue",t.default=d.exports},function(e,t,n){var r=n(63);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("6ce8a5a8",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-compact {\n  padding-top: 5px;\n  padding-left: 5px;\n  width: 245px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-compact-colors {\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-compact-color-item {\n  list-style: none;\n  width: 15px;\n  height: 15px;\n  float: left;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  position: relative;\n  cursor: pointer;\n}\n.vc-compact-color-item--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-compact-color-item--white .vc-compact-dot {\n  background: #000;\n}\n.vc-compact-dot {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  bottom: 5px;\n  left: 5px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[0],s=o[1],u=o[2],c=o[3],l={id:e+":"+i,css:s,media:u,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}},function(e,t,n){var r;!function(i){function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=z(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=z(this._r)),this._g<1&&(this._g=z(this._g)),this._b<1&&(this._b=z(this._b)),this._ok=n.ok,this._tc_id=j++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,u=!1;return"string"==typeof e&&(e=H(e)),"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(t=s(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=F(e.s),i=F(e.v),t=d(e.h,r,i),a=!0,u="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=F(e.s),o=F(e.l),t=c(e.h,r,o),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=D(n),{ok:a,format:e.format||u,r:G(255,K(t.r,0)),g:G(255,K(t.g,0)),b:G(255,K(t.b,0)),a:n}}function s(e,t,n){return{r:255*M(e,255),g:255*M(t,255),b:255*M(n,255)}}function u(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=K(e,t,n),a=G(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=r(u,s,e+1/3),o=r(u,s,e),a=r(u,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function l(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=K(e,t,n),a=G(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function d(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}function f(e,t,n,r){var i=[L(z(e).toString(16)),L(z(t).toString(16)),L(z(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function A(e,t,n,r,i){var o=[L(z(e).toString(16)),L(z(t).toString(16)),L(z(n).toString(16)),L(P(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h(e,t,n,r){return[L(P(r)),L(z(e).toString(16)),L(z(t).toString(16)),L(z(n).toString(16))].join("")}function p(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=E(n.s),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=E(n.s),o(n)}function g(e){return o(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=E(n.l),o(n)}function y(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=K(0,G(255,n.r-z(-t/100*255))),n.g=K(0,G(255,n.g-z(-t/100*255))),n.b=K(0,G(255,n.b-z(-t/100*255))),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=E(n.l),o(n)}function w(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function x(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function C(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function _(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function B(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],u=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+u)%1;return s}function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){I(e)&&(e="100%");var n=O(e);return e=G(t,K(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return G(1,K(0,e))}function T(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function O(e){return"string"==typeof e&&-1!=e.indexOf("%")}function L(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function P(e){return i.round(255*parseFloat(e)).toString(16)}function N(e){return T(e)/255}function U(e){return!!X.CSS_UNIT.exec(e)}function H(e){e=e.replace(V,"").replace(Q,"").toLowerCase();var t,n=!1;if(W[e])e=W[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=X.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=X.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=X.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=X.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=X.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=X.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=X.hex8.exec(e))?{r:T(t[1]),g:T(t[2]),b:T(t[3]),a:N(t[4]),format:n?"name":"hex8"}:(t=X.hex6.exec(e))?{r:T(t[1]),g:T(t[2]),b:T(t[3]),format:n?"name":"hex"}:(t=X.hex4.exec(e))?{r:T(t[1]+""+t[1]),g:T(t[2]+""+t[2]),b:T(t[3]+""+t[3]),a:N(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=X.hex3.exec(e))&&{r:T(t[1]+""+t[1]),g:T(t[2]+""+t[2]),b:T(t[3]+""+t[3]),format:n?"name":"hex"}}function R(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var V=/^\s+/,Q=/\s+$/,j=0,z=i.round,G=i.min,K=i.max,q=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(e){return this._a=D(e),this._roundA=z(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=z(360*e.h),n=z(100*e.s),r=z(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=z(360*e.h),n=z(100*e.s),r=z(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return A(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:z(this._r),g:z(this._g),b:z(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+z(this._r)+", "+z(this._g)+", "+z(this._b)+")":"rgba("+z(this._r)+", "+z(this._g)+", "+z(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:z(100*M(this._r,255))+"%",g:z(100*M(this._g,255))+"%",b:z(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+z(100*M(this._r,255))+"%, "+z(100*M(this._g,255))+"%, "+z(100*M(this._b,255))+"%)":"rgba("+z(100*M(this._r,255))+"%, "+z(100*M(this._g,255))+"%, "+z(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&($[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+h(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:q(),g:q(),b:q()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,r=R(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,u=null,c=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var l=0;l<t.length;l++)(r=o.readability(e,t[l]))>c&&(c=r,u=o(t[l]));return o.isReadable(e,u,{level:a,size:s})||!i?u:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var W=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(W),X=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("0f73e73c",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-editable-input {\n  position: relative;\n}\n.vc-input__input {\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n.vc-input__label {\n  text-transform: capitalize;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-editable-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],ref:"input",staticClass:"vc-input__input",attrs:{"aria-labelledby":e.labelId},domProps:{value:e.val},on:{keydown:e.handleKeyDown,input:[function(t){t.target.composing||(e.val=t.target.value)},e.update]}}),e._v(" "),n("span",{staticClass:"vc-input__label",attrs:{for:e.label,id:e.labelId}},[e._v(e._s(e.labelSpanText))]),e._v(" "),n("span",{staticClass:"vc-input__desc"},[e._v(e._s(e.desc))])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-compact",attrs:{role:"application","aria-label":"Compact color picker"}},[n("ul",{staticClass:"vc-compact-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-compact-color-item",class:{"vc-compact-color-item--white":"#FFFFFF"===t},style:{background:t},attrs:{role:"option","aria-label":"color:"+t,"aria-selected":t===e.pick},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-compact-dot"})])})),0)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(71)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(73),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Grayscale.vue",t.default=d.exports},function(e,t,n){var r=n(72);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("21ddbb74",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-grayscale {\n  width: 125px;\n  border-radius: 2px;\n  box-shadow: 0 2px 15px rgba(0,0,0,.12), 0 2px 10px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-grayscale-colors {\n  border-radius: 2px;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-grayscale-color-item {\n  list-style: none;\n  width: 25px;\n  height: 25px;\n  float: left;\n  position: relative;\n  cursor: pointer;\n}\n.vc-grayscale-color-item--white .vc-grayscale-dot {\n  background: #000;\n}\n.vc-grayscale-dot {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 6px;\n  margin: -3px 0 0 -2px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-grayscale",attrs:{role:"application","aria-label":"Grayscale color picker"}},[n("ul",{staticClass:"vc-grayscale-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-grayscale-color-item",class:{"vc-grayscale-color-item--white":"#FFFFFF"==t},style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":t===e.pick},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-grayscale-dot"})])})),0)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(75)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(38),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(77),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Material.vue",t.default=d.exports},function(e,t,n){var r=n(76);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("1ff3af73",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'\n.vc-material {\n  width: 98px;\n  height: 98px;\n  padding: 16px;\n  font-family: "Roboto";\n  position: relative;\n  border-radius: 2px;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-material .vc-input__input {\n  width: 100%;\n  margin-top: 12px;\n  font-size: 15px;\n  color: #333;\n  height: 30px;\n}\n.vc-material .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 11px;\n  color: #999;\n  text-transform: capitalize;\n}\n.vc-material-hex {\n  border-bottom-width: 2px;\n  border-bottom-style: solid;\n}\n.vc-material-split {\n  display: flex;\n  margin-right: -10px;\n  padding-top: 11px;\n}\n.vc-material-third {\n  flex: 1;\n  padding-right: 10px;\n}\n',""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-material",attrs:{role:"application","aria-label":"Material color picker"}},[n("ed-in",{staticClass:"vc-material-hex",style:{borderColor:e.colors.hex},attrs:{label:"hex"},on:{change:e.onChange},model:{value:e.colors.hex,callback:function(t){e.$set(e.colors,"hex",t)},expression:"colors.hex"}}),e._v(" "),n("div",{staticClass:"vc-material-split"},[n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"r"},on:{change:e.onChange},model:{value:e.colors.rgba.r,callback:function(t){e.$set(e.colors.rgba,"r",t)},expression:"colors.rgba.r"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"g"},on:{change:e.onChange},model:{value:e.colors.rgba.g,callback:function(t){e.$set(e.colors.rgba,"g",t)},expression:"colors.rgba.g"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"b"},on:{change:e.onChange},model:{value:e.colors.rgba.b,callback:function(t){e.$set(e.colors.rgba,"b",t)},expression:"colors.rgba.b"}})],1)])],1)},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(79)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(114),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Slider.vue",t.default=d.exports},function(e,t,n){var r=n(80);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7982aa43",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-slider {\n  position: relative;\n  width: 410px;\n}\n.vc-slider-hue-warp {\n  height: 12px;\n  position: relative;\n}\n.vc-slider-hue-warp .vc-hue-picker {\n  width: 14px;\n  height: 14px;\n  border-radius: 6px;\n  transform: translate(-7px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-slider-swatches {\n  display: flex;\n  margin-top: 20px;\n}\n.vc-slider-swatch {\n  margin-right: 1px;\n  flex: 1;\n  width: 20%;\n}\n.vc-slider-swatch:first-child {\n  margin-right: 1px;\n}\n.vc-slider-swatch:first-child .vc-slider-swatch-picker {\n  border-radius: 2px 0px 0px 2px;\n}\n.vc-slider-swatch:last-child {\n  margin-right: 0;\n}\n.vc-slider-swatch:last-child .vc-slider-swatch-picker {\n  border-radius: 0px 2px 2px 0px;\n}\n.vc-slider-swatch-picker {\n  cursor: pointer;\n  height: 12px;\n}\n.vc-slider-swatch:nth-child(n) .vc-slider-swatch-picker.vc-slider-swatch-picker--active {\n  transform: scaleY(1.8);\n  border-radius: 3.6px/2px;\n}\n.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-slider-swatch-picker--active.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 0.6px #ddd;\n}\n",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(82),o=r(i),a=n(100),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84),n(96),e.exports=n(32).f("iterator")},function(e,t,n){"use strict";var r=n(85)(!0);n(40)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(23),i=n(24);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){var r=n(87);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(45),i=n(18),o=n(31),a={};n(7)(a,n(11)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(8),i=n(16),o=n(27);e.exports=n(9)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(10),i=n(92),o=n(93);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(23),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(23),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(6),i=n(48),o=n(28)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(97);for(var r=n(4),i=n(7),o=n(26),a=n(11)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],d=l&&l.prototype;d&&!d[a]&&i(d,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(98),i=n(99),o=n(26),a=n(10);e.exports=n(40)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(102),n(108),n(109),n(110),e.exports=n(15).Symbol},function(e,t,n){"use strict";var r=n(4),i=n(6),o=n(9),a=n(41),s=n(44),u=n(103).KEY,c=n(17),l=n(29),d=n(31),f=n(19),A=n(11),h=n(32),p=n(33),m=n(104),g=n(105),v=n(16),y=n(12),b=n(48),w=n(10),x=n(25),C=n(18),S=n(45),k=n(106),_=n(107),B=n(49),D=n(8),M=n(27),E=_.f,T=D.f,I=k.f,O=r.Symbol,L=r.JSON,F=L&&L.stringify,P=A("_hidden"),N=A("toPrimitive"),U={}.propertyIsEnumerable,H=l("symbol-registry"),R=l("symbols"),V=l("op-symbols"),Q=Object.prototype,j="function"==typeof O&&!!B.f,z=r.QObject,G=!z||!z.prototype||!z.prototype.findChild,K=o&&c((function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=E(Q,t);r&&delete Q[t],T(e,t,n),r&&e!==Q&&T(Q,t,r)}:T,q=function(e){var t=R[e]=S(O.prototype);return t._k=e,t},W=j&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},$=function(e,t,n){return e===Q&&$(V,t,n),v(e),t=x(t,!0),v(n),i(R,t)?(n.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),n=S(n,{enumerable:C(0,!1)})):(i(e,P)||T(e,P,C(1,{})),e[P][t]=!0),K(e,t,n)):T(e,t,n)},X=function(e,t){v(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)$(e,n=r[i++],t[n]);return e},Y=function(e,t){return void 0===t?S(e):X(S(e),t)},J=function(e){var t=U.call(this,e=x(e,!0));return!(this===Q&&i(R,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,P)&&this[P][e])||t)},Z=function(e,t){if(e=w(e),t=x(t,!0),e!==Q||!i(R,t)||i(V,t)){var n=E(e,t);return!n||!i(R,t)||i(e,P)&&e[P][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=I(w(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==P||t==u||r.push(t);return r},te=function(e){for(var t,n=e===Q,r=I(n?V:w(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(Q,t)||o.push(R[t]);return o};j||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===Q&&t.call(V,n),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),K(this,e,C(1,n))};return o&&G&&K(Q,e,{configurable:!0,set:t}),q(e)},s(O.prototype,"toString",(function(){return this._k})),_.f=Z,D.f=$,n(50).f=k.f=ee,n(34).f=J,B.f=te,o&&!n(14)&&s(Q,"propertyIsEnumerable",J,!0),h.f=function(e){return q(A(e))}),a(a.G+a.W+a.F*!j,{Symbol:O});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)A(ne[re++]);for(var ie=M(A.store),oe=0;ie.length>oe;)p(ie[oe++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(H,e+="")?H[e]:H[e]=O(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in H)if(H[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!j,"Object",{create:Y,defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c((function(){B.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return B.f(b(e))}}),L&&a(a.S+a.F*(!j||c((function(){var e=O();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!W(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,F.apply(L,r)}}),O.prototype[N]||n(7)(O.prototype,N,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(19)("meta"),i=n(12),o=n(6),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(17)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},A=function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:A}},function(e,t,n){var r=n(27),i=n(49),o=n(34);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(47);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(34),i=n(18),o=n(10),a=n(25),s=n(6),u=n(42),c=Object.getOwnPropertyDescriptor;t.f=n(9)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(33)("asyncIterator")},function(e,t,n){n(33)("observable")},function(e,t,n){var r=n(112);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7c5f1a1c",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-hue {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-radius: 2px;\n}\n.vc-hue--horizontal {\n  background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue--vertical {\n  background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue-container {\n  cursor: pointer;\n  margin: 0 2px;\n  position: relative;\n  height: 100%;\n}\n.vc-hue-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-hue-picker {\n  cursor: pointer;\n  margin-top: 1px;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  transform: translateX(-2px) ;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-hue",e.directionClass]},[n("div",{ref:"container",staticClass:"vc-hue-container",attrs:{role:"slider","aria-valuenow":e.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360"},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-hue-pointer",style:{top:e.pointerTop,left:e.pointerLeft},attrs:{role:"presentation"}},[n("div",{staticClass:"vc-hue-picker"})])])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-slider",attrs:{role:"application","aria-label":"Slider color picker"}},[n("div",{staticClass:"vc-slider-hue-warp"},[n("hue",{on:{change:e.hueChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-slider-swatches",attrs:{role:"group"}},e._l(e.normalizedSwatches,(function(t,r){return n("div",{key:r,staticClass:"vc-slider-swatch",attrs:{"data-index":r,"aria-label":"color:"+e.colors.hex,role:"button"},on:{click:function(n){return e.handleSwClick(r,t)}}},[n("div",{staticClass:"vc-slider-swatch-picker",class:{"vc-slider-swatch-picker--active":e.isActive(t,r),"vc-slider-swatch-picker--white":1===t.l},style:{background:"hsl("+e.colors.hsl.h+", "+100*t.s+"%, "+100*t.l+"%)"}})])})),0)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(116)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(119),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Swatches.vue",t.default=d.exports},function(e,t,n){var r=n(117);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("10f839a2",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-swatches {\n  width: 320px;\n  height: 240px;\n  overflow-y: scroll;\n  background-color: #fff;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n}\n.vc-swatches-box {\n  padding: 16px 0 6px 16px;\n  overflow: hidden;\n}\n.vc-swatches-color-group {\n  padding-bottom: 10px;\n  width: 40px;\n  float: left;\n  margin-right: 10px;\n}\n.vc-swatches-color-it {\n  box-sizing: border-box;\n  width: 40px;\n  height: 24px;\n  cursor: pointer;\n  background: #880e4f;\n  margin-bottom: 1px;\n  overflow: hidden;\n  -ms-border-radius: 2px 2px 0 0;\n  -moz-border-radius: 2px 2px 0 0;\n  -o-border-radius: 2px 2px 0 0;\n  -webkit-border-radius: 2px 2px 0 0;\n  border-radius: 2px 2px 0 0;\n}\n.vc-swatches-color--white {\n  border: 1px solid #DDD;\n}\n.vc-swatches-pick {\n  fill: rgb(255, 255, 255);\n  margin-left: 8px;\n  display: block;\n}\n.vc-swatches-color--white .vc-swatches-pick {\n  fill: rgb(51, 51, 51);\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return a})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return u})),n.d(t,"lightBlue",(function(){return c})),n.d(t,"cyan",(function(){return l})),n.d(t,"teal",(function(){return d})),n.d(t,"green",(function(){return f})),n.d(t,"lightGreen",(function(){return A})),n.d(t,"lime",(function(){return h})),n.d(t,"yellow",(function(){return p})),n.d(t,"amber",(function(){return m})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return v})),n.d(t,"brown",(function(){return y})),n.d(t,"grey",(function(){return b})),n.d(t,"blueGrey",(function(){return w})),n.d(t,"darkText",(function(){return x})),n.d(t,"lightText",(function(){return C})),n.d(t,"darkIcons",(function(){return S})),n.d(t,"lightIcons",(function(){return k})),n.d(t,"white",(function(){return _})),n.d(t,"black",(function(){return B}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},u={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},l={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},A={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},p={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},b={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},w={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},C={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},S={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},k={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},_="#ffffff",B="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:u,lightBlue:c,cyan:l,teal:d,green:f,lightGreen:A,lime:h,yellow:p,amber:m,orange:g,deepOrange:v,brown:y,grey:b,blueGrey:w,darkText:x,lightText:C,darkIcons:S,lightIcons:k,white:_,black:B}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-swatches",attrs:{role:"application","aria-label":"Swatches color picker","data-pick":e.pick}},[n("div",{staticClass:"vc-swatches-box",attrs:{role:"listbox"}},e._l(e.palette,(function(t,r){return n("div",{key:r,staticClass:"vc-swatches-color-group"},e._l(t,(function(t){return n("div",{key:t,class:["vc-swatches-color-it",{"vc-swatches-color--white":"#FFFFFF"===t}],style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":e.equal(t),"data-color":t},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.equal(t),expression:"equal(c)"}],staticClass:"vc-swatches-pick"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])])})),0)})),0)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(121)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(134),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Photoshop.vue",t.default=d.exports},function(e,t,n){var r=n(122);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("080365d4",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'\n.vc-photoshop {\n  background: #DCDCDC;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15);\n  box-sizing: initial;\n  width: 513px;\n  font-family: Roboto;\n}\n.vc-photoshop__disable-fields {\n  width: 390px;\n}\n.vc-ps-head {\n  background-image: linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%);\n  border-bottom: 1px solid #B1B1B1;\n  box-shadow: inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02);\n  height: 23px;\n  line-height: 24px;\n  border-radius: 4px 4px 0 0;\n  font-size: 13px;\n  color: #4D4D4D;\n  text-align: center;\n}\n.vc-ps-body {\n  padding: 15px;\n  display: flex;\n}\n.vc-ps-saturation-wrap {\n  width: 256px;\n  height: 256px;\n  position: relative;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n  overflow: hidden;\n}\n.vc-ps-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-ps-hue-wrap {\n  position: relative;\n  height: 256px;\n  width: 19px;\n  margin-left: 10px;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n}\n.vc-ps-hue-pointer {\n  position: relative;\n}\n.vc-ps-hue-pointer--left,\n.vc-ps-hue-pointer--right {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 5px 0 5px 8px;\n  border-color: transparent transparent transparent #555;\n}\n.vc-ps-hue-pointer--left:after,\n.vc-ps-hue-pointer--right:after {\n  content: "";\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 6px;\n  border-color: transparent transparent transparent #fff;\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  transform: translate(-8px, -5px);\n}\n.vc-ps-hue-pointer--left {\n  transform: translate(-13px, -4px);\n}\n.vc-ps-hue-pointer--right {\n  transform: translate(20px, -4px) rotate(180deg);\n}\n.vc-ps-controls {\n  width: 180px;\n  margin-left: 10px;\n  display: flex;\n}\n.vc-ps-controls__disable-fields {\n  width: auto;\n}\n.vc-ps-actions {\n  margin-left: 20px;\n  flex: 1;\n}\n.vc-ps-ac-btn {\n  cursor: pointer;\n  background-image: linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%);\n  border: 1px solid #878787;\n  border-radius: 2px;\n  height: 20px;\n  box-shadow: 0 1px 0 0 #EAEAEA;\n  font-size: 14px;\n  color: #000;\n  line-height: 20px;\n  text-align: center;\n  margin-bottom: 10px;\n}\n.vc-ps-previews {\n  width: 60px;\n}\n.vc-ps-previews__swatches {\n  border: 1px solid #B3B3B3;\n  border-bottom: 1px solid #F0F0F0;\n  margin-bottom: 2px;\n  margin-top: 1px;\n}\n.vc-ps-previews__pr-color {\n  height: 34px;\n  box-shadow: inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000;\n}\n.vc-ps-previews__label {\n  font-size: 14px;\n  color: #000;\n  text-align: center;\n}\n.vc-ps-fields {\n  padding-top: 5px;\n  padding-bottom: 9px;\n  width: 80px;\n  position: relative;\n}\n.vc-ps-fields .vc-input__input {\n  margin-left: 40%;\n  width: 40%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 5px;\n  font-size: 13px;\n  padding-left: 3px;\n  margin-right: 10px;\n}\n.vc-ps-fields .vc-input__label, .vc-ps-fields .vc-input__desc {\n  top: 0;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n  position: absolute;\n}\n.vc-ps-fields .vc-input__label {\n  left: 0;\n  width: 34px;\n}\n.vc-ps-fields .vc-input__desc {\n  right: 0;\n  width: 0;\n}\n.vc-ps-fields__divider {\n  height: 5px;\n}\n.vc-ps-fields__hex .vc-input__input {\n  margin-left: 20%;\n  width: 80%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 6px;\n  font-size: 13px;\n  padding-left: 3px;\n}\n.vc-ps-fields__hex .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 14px;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n}\n',""])},function(e,t,n){var r=n(124);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("b5380e52",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-saturation,\n.vc-saturation--white,\n.vc-saturation--black {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.vc-saturation--white {\n  background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n}\n.vc-saturation--black {\n  background: linear-gradient(to top, #000, rgba(0,0,0,0));\n}\n.vc-saturation-pointer {\n  cursor: pointer;\n  position: absolute;\n}\n.vc-saturation-circle {\n  cursor: head;\n  width: 4px;\n  height: 4px;\n  box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n  border-radius: 50%;\n  transform: translate(-2px, -2px);\n}\n",""])},function(e,t){function n(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}e.exports=n},function(e,n){function r(e,t,n){function r(t){var n=p,r=m;return p=m=void 0,w=t,v=e.apply(r,n)}function i(e){return w=e,y=setTimeout(l,t),k?r(e):v}function a(e){var n=e-b,r=e-w,i=t-n;return _?C(i,g-r):i}function s(e){var n=e-b,r=e-w;return void 0===b||n>=t||n<0||_&&r>=g}function l(){var e=S();if(s(e))return d(e);y=setTimeout(l,a(e))}function d(e){return y=void 0,B&&p?r(e):(p=m=void 0,v)}function f(){void 0!==y&&clearTimeout(y),w=0,p=b=m=y=void 0}function A(){return void 0===y?v:d(S())}function h(){var e=S(),n=s(e);if(p=arguments,m=this,b=e,n){if(void 0===y)return i(b);if(_)return y=setTimeout(l,t),r(b)}return void 0===y&&(y=setTimeout(l,t)),v}var p,m,g,v,y,b,w=0,k=!1,_=!1,B=!0;if("function"!=typeof e)throw new TypeError(c);return t=u(t)||0,o(n)&&(k=!!n.leading,_="maxWait"in n,g=_?x(u(n.maxWait)||0,t):g,B="trailing"in n?!!n.trailing:B),h.cancel=f,h.flush=A,h}function i(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||a(e)&&w.call(e)==d}function u(e){if("number"==typeof e)return e;if(s(e))return l;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=h.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):A.test(e)?l:+e}var c="Expected a function",l=NaN,d="[object Symbol]",f=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=Object.prototype,w=b.toString,x=Math.max,C=Math.min,S=function(){return y.Date.now()};e.exports=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"vc-saturation",style:{background:e.bgColor},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-saturation--white"}),e._v(" "),n("div",{staticClass:"vc-saturation--black"}),e._v(" "),n("div",{staticClass:"vc-saturation-pointer",style:{top:e.pointerTop,left:e.pointerLeft}},[n("div",{staticClass:"vc-saturation-circle"})])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){var r=n(129);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("4dc1b086",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-alpha {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-checkboard-wrap {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  overflow: hidden;\n}\n.vc-alpha-gradient {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-container {\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  margin: 0 3px;\n}\n.vc-alpha-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-alpha-picker {\n  cursor: pointer;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  margin-top: 1px;\n  transform: translateX(-2px);\n}\n",""])},function(e,t,n){var r=n(131);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7e15c05b",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-checkerboard {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  background-size: contain;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vc-checkerboard",style:e.bgStyle})},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-alpha"},[n("div",{staticClass:"vc-alpha-checkboard-wrap"},[n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-alpha-gradient",style:{background:e.gradientColor}}),e._v(" "),n("div",{ref:"container",staticClass:"vc-alpha-container",on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-alpha-pointer",style:{left:100*e.colors.a+"%"}},[n("div",{staticClass:"vc-alpha-picker"})])])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-photoshop",e.disableFields?"vc-photoshop__disable-fields":""],attrs:{role:"application","aria-label":"PhotoShop color picker"}},[n("div",{staticClass:"vc-ps-head",attrs:{role:"heading"}},[e._v(e._s(e.head))]),e._v(" "),n("div",{staticClass:"vc-ps-body"},[n("div",{staticClass:"vc-ps-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-ps-hue-wrap"},[n("hue",{attrs:{direction:"vertical"},on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}},[n("div",{staticClass:"vc-ps-hue-pointer"},[n("i",{staticClass:"vc-ps-hue-pointer--left"}),n("i",{staticClass:"vc-ps-hue-pointer--right"})])])],1),e._v(" "),n("div",{class:["vc-ps-controls",e.disableFields?"vc-ps-controls__disable-fields":""]},[n("div",{staticClass:"vc-ps-previews"},[n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.newLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-previews__swatches"},[n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.colors.hex},attrs:{"aria-label":"New color is "+e.colors.hex}}),e._v(" "),n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.currentColor},attrs:{"aria-label":"Current color is "+e.currentColor},on:{click:e.clickCurrentColor}})]),e._v(" "),n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.currentLabel))])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-ps-actions"},[n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.acceptLabel},on:{click:e.handleAccept}},[e._v(e._s(e.acceptLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.cancelLabel},on:{click:e.handleCancel}},[e._v(e._s(e.cancelLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-fields"},[n("ed-in",{attrs:{label:"h",desc:"°",value:e.hsv.h},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"s",desc:"%",value:e.hsv.s,max:100},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"v",desc:"%",value:e.hsv.v,max:100},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{staticClass:"vc-ps-fields__hex",attrs:{label:"#",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),e.hasResetButton?n("div",{staticClass:"vc-ps-ac-btn",attrs:{"aria-label":"reset"},on:{click:e.handleReset}},[e._v(e._s(e.resetLabel))]):e._e()])])])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(136)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(57),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(138),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Sketch.vue",t.default=d.exports},function(e,t,n){var r=n(137);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("612c6604",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-sketch {\n  position: relative;\n  width: 200px;\n  padding: 10px 10px 0;\n  box-sizing: initial;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, .15), 0 8px 16px rgba(0, 0, 0, .15);\n}\n.vc-sketch-saturation-wrap {\n  width: 100%;\n  padding-bottom: 75%;\n  position: relative;\n  overflow: hidden;\n}\n.vc-sketch-controls {\n  display: flex;\n}\n.vc-sketch-sliders {\n  padding: 4px 0;\n  flex: 1;\n}\n.vc-sketch-sliders .vc-hue,\n.vc-sketch-sliders .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-sketch-hue-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-sketch-alpha-wrap {\n  position: relative;\n  height: 10px;\n  margin-top: 4px;\n  overflow: hidden;\n}\n.vc-sketch-color-wrap {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  margin-top: 4px;\n  margin-left: 4px;\n  border-radius: 3px;\n}\n.vc-sketch-active-color {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 2px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15), inset 0 0 4px rgba(0, 0, 0, .25);\n  z-index: 2;\n}\n.vc-sketch-color-wrap .vc-checkerboard {\n  background-size: auto;\n}\n.vc-sketch-field {\n  display: flex;\n  padding-top: 4px;\n}\n.vc-sketch-field .vc-input__input {\n  width: 90%;\n  padding: 4px 0 3px 10%;\n  border: none;\n  box-shadow: inset 0 0 0 1px #ccc;\n  font-size: 10px;\n}\n.vc-sketch-field .vc-input__label {\n  display: block;\n  text-align: center;\n  font-size: 11px;\n  color: #222;\n  padding-top: 3px;\n  padding-bottom: 4px;\n  text-transform: capitalize;\n}\n.vc-sketch-field--single {\n  flex: 1;\n  padding-left: 6px;\n}\n.vc-sketch-field--double {\n  flex: 2;\n}\n.vc-sketch-presets {\n  margin-right: -10px;\n  margin-left: -10px;\n  padding-left: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #eee;\n}\n.vc-sketch-presets-color {\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n  display: inline-block;\n  margin: 0 10px 10px 0;\n  vertical-align: top;\n  cursor: pointer;\n  width: 16px;\n  height: 16px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n}\n.vc-sketch-presets-color .vc-checkerboard {\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n  border-radius: 3px;\n}\n.vc-sketch__disable-alpha .vc-sketch-color-wrap {\n  height: 10px;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-sketch",e.disableAlpha?"vc-sketch__disable-alpha":""],attrs:{role:"application","aria-label":"Sketch color picker"}},[n("div",{staticClass:"vc-sketch-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-controls"},[n("div",{staticClass:"vc-sketch-sliders"},[n("div",{staticClass:"vc-sketch-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-color-wrap"},[n("div",{staticClass:"vc-sketch-active-color",style:{background:e.activeColor},attrs:{"aria-label":"Current color is "+e.activeColor}}),e._v(" "),n("checkboard")],1)]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-sketch-field"},[n("div",{staticClass:"vc-sketch-field--double"},[n("ed-in",{attrs:{label:"hex",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-presets",attrs:{role:"group","aria-label":"A color preset, pick one to set as current color"}},[e._l(e.presetColors,(function(t){return[e.isTransparent(t)?n("div",{key:t,staticClass:"vc-sketch-presets-color",attrs:{"aria-label":"Color:"+t},on:{click:function(n){return e.handlePreset(t)}}},[n("checkboard")],1):n("div",{key:t,staticClass:"vc-sketch-presets-color",style:{background:t},attrs:{"aria-label":"Color:"+t},on:{click:function(n){return e.handlePreset(t)}}})]}))],2)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(140)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(58),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(142),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Chrome.vue",t.default=d.exports},function(e,t,n){var r=n(141);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("1cd16048",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-chrome {\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3);\n  box-sizing: initial;\n  width: 225px;\n  font-family: Menlo;\n  background-color: #fff;\n}\n.vc-chrome-controls {\n  display: flex;\n}\n.vc-chrome-color-wrap {\n  position: relative;\n  width: 36px;\n}\n.vc-chrome-active-color {\n  position: relative;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  overflow: hidden;\n  z-index: 1;\n}\n.vc-chrome-color-wrap .vc-checkerboard {\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  background-size: auto;\n}\n.vc-chrome-sliders {\n  flex: 1;\n}\n.vc-chrome-fields-wrap {\n  display: flex;\n  padding-top: 16px;\n}\n.vc-chrome-fields {\n  display: flex;\n  margin-left: -6px;\n  flex: 1;\n}\n.vc-chrome-field {\n  padding-left: 6px;\n  width: 100%;\n}\n.vc-chrome-toggle-btn {\n  width: 32px;\n  text-align: right;\n  position: relative;\n}\n.vc-chrome-toggle-icon {\n  margin-right: -4px;\n  margin-top: 12px;\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n}\n.vc-chrome-toggle-icon-highlight {\n  position: absolute;\n  width: 24px;\n  height: 28px;\n  background: #eee;\n  border-radius: 4px;\n  top: 10px;\n  left: 12px;\n}\n.vc-chrome-hue-wrap {\n  position: relative;\n  height: 10px;\n  margin-bottom: 8px;\n}\n.vc-chrome-alpha-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-chrome-hue-wrap .vc-hue {\n  border-radius: 2px;\n}\n.vc-chrome-alpha-wrap .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-chrome-hue-wrap .vc-hue-picker, .vc-chrome-alpha-wrap .vc-alpha-picker {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  transform: translate(-6px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-chrome-body {\n  padding: 16px 16px 12px;\n  background-color: #fff;\n}\n.vc-chrome-saturation-wrap {\n  width: 100%;\n  padding-bottom: 55%;\n  position: relative;\n  border-radius: 2px 2px 0 0;\n  overflow: hidden;\n}\n.vc-chrome-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-chrome-fields .vc-input__input {\n  font-size: 11px;\n  color: #333;\n  width: 100%;\n  border-radius: 2px;\n  border: none;\n  box-shadow: inset 0 0 0 1px #dadada;\n  height: 21px;\n  text-align: center;\n}\n.vc-chrome-fields .vc-input__label {\n  text-transform: uppercase;\n  font-size: 11px;\n  line-height: 11px;\n  color: #969696;\n  text-align: center;\n  display: block;\n  margin-top: 12px;\n}\n.vc-chrome__disable-alpha .vc-chrome-active-color {\n  width: 18px;\n  height: 18px;\n}\n.vc-chrome__disable-alpha .vc-chrome-color-wrap {\n  width: 30px;\n}\n.vc-chrome__disable-alpha .vc-chrome-hue-wrap {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-chrome",e.disableAlpha?"vc-chrome__disable-alpha":""],attrs:{role:"application","aria-label":"Chrome color picker"}},[n("div",{staticClass:"vc-chrome-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-body"},[n("div",{staticClass:"vc-chrome-controls"},[n("div",{staticClass:"vc-chrome-color-wrap"},[n("div",{staticClass:"vc-chrome-active-color",style:{background:e.activeColor},attrs:{"aria-label":"current color is "+e.colors.hex}}),e._v(" "),e.disableAlpha?e._e():n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-chrome-sliders"},[n("div",{staticClass:"vc-chrome-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-chrome-fields-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.fieldsIndex,expression:"fieldsIndex === 0"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[e.hasAlpha?e._e():n("ed-in",{attrs:{label:"hex",value:e.colors.hex},on:{change:e.inputChange}}),e._v(" "),e.hasAlpha?n("ed-in",{attrs:{label:"hex",value:e.colors.hex8},on:{change:e.inputChange}}):e._e()],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.fieldsIndex,expression:"fieldsIndex === 1"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.fieldsIndex,expression:"fieldsIndex === 2"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"h",value:e.hsl.h},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"s",value:e.hsl.s},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"l",value:e.hsl.l},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-chrome-toggle-btn",attrs:{role:"button","aria-label":"Change another color definition"},on:{click:e.toggleViews}},[n("div",{staticClass:"vc-chrome-toggle-icon"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"},on:{mouseover:e.showHighlight,mouseenter:e.showHighlight,mouseout:e.hideHighlight}},[n("path",{attrs:{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.highlight,expression:"highlight"}],staticClass:"vc-chrome-toggle-icon-highlight"})])])])])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o},function(e,t,n){"use strict";function r(e){u||n(144)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(59),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var s=n(146),u=!1,c=n(2),l=r,d=c(o.a,s.a,!1,l,null,null);d.options.__file="src/components/Twitter.vue",t.default=d.exports},function(e,t,n){var r=n(145);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("669a48a5",r,!1,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"\n.vc-twitter {\n  background: #fff;\n  border: 0 solid rgba(0,0,0,0.25);\n  box-shadow: 0 1px 4px rgba(0,0,0,0.25);\n  border-radius: 4px;\n  position: relative;\n}\n.vc-twitter-triangle {\n  width: 0px;\n  height: 0px;\n  border-style: solid;\n  border-width: 0 9px 10px 9px;\n  border-color: transparent transparent #fff transparent;\n  position: absolute;\n}\n.vc-twitter-triangle-shadow {\n  width: 0px;\n  height: 0px;\n  border-style: solid;\n  border-width: 0 9px 10px 9px;\n  border-color: transparent transparent rgba(0, 0, 0, .1) transparent;\n  position: absolute;\n}\n.vc-twitter-body {\n  padding: 15px 9px 9px 15px;\n}\n.vc-twitter .vc-editable-input {\n  position: relative;\n}\n.vc-twitter .vc-editable-input input {\n  width: 100px;\n  font-size: 14px;\n  color: #666;\n  border: 0px;\n  outline: none;\n  height: 28px;\n  box-shadow: inset 0 0 0 1px #F0F0F0;\n  box-sizing: content-box;\n  border-radius: 0 4px 4px 0;\n  float: left;\n  padding: 1px;\n  padding-left: 8px;\n}\n.vc-twitter .vc-editable-input span {\n  display: none;\n}\n.vc-twitter-hash {\n  background: #F0F0F0;\n  height: 30px;\n  width: 30px;\n  border-radius: 4px 0 0 4px;\n  float: left;\n  color: #98A1A4;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.vc-twitter-swatch {\n  width: 30px;\n  height: 30px;\n  float: left;\n  border-radius: 4px;\n  margin: 0 6px 6px 0;\n  cursor: pointer;\n  position: relative;\n  outline: none;\n}\n.vc-twitter-clear {\n  clear: both;\n}\n.vc-twitter-hide-triangle .vc-twitter-triangle {\n  display: none;\n}\n.vc-twitter-hide-triangle .vc-twitter-triangle-shadow {\n  display: none;\n}\n.vc-twitter-top-left-triangle .vc-twitter-triangle{\n  top: -10px;\n  left: 12px;\n}\n.vc-twitter-top-left-triangle .vc-twitter-triangle-shadow{\n  top: -11px;\n  left: 12px;\n}\n.vc-twitter-top-right-triangle .vc-twitter-triangle{\n  top: -10px;\n  right: 12px;\n}\n.vc-twitter-top-right-triangle .vc-twitter-triangle-shadow{\n  top: -11px;\n  right: 12px;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-twitter",class:{"vc-twitter-hide-triangle ":"hide"===e.triangle,"vc-twitter-top-left-triangle ":"top-left"===e.triangle,"vc-twitter-top-right-triangle ":"top-right"===e.triangle},style:{width:"number"==typeof e.width?e.width+"px":e.width}},[n("div",{staticClass:"vc-twitter-triangle-shadow"}),e._v(" "),n("div",{staticClass:"vc-twitter-triangle"}),e._v(" "),n("div",{staticClass:"vc-twitter-body"},[e._l(e.defaultColors,(function(t,r){return n("span",{key:r,staticClass:"vc-twitter-swatch",style:{background:t,boxShadow:"0 0 4px "+(e.equal(t)?t:"transparent")},on:{click:function(n){return e.handlerClick(t)}}})})),e._v(" "),n("div",{staticClass:"vc-twitter-hash"},[e._v("#")]),e._v(" "),n("editable-input",{attrs:{label:"#",value:e.hex},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-twitter-clear"})],2)])},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};t.a=o}])}))}).call(this,n("c8ba"))},c973:function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n("d3b7"),e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},cdd9:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},i=function(e){return function(t){return typeof t===e}},o=function(e){return function(t){return e===t}},a=r("string"),s=r("object"),u=r("array"),c=o(null),l=i("boolean"),d=function(e){return null===e||void 0===e},f=function(e){return!d(e)},A=i("number"),h=function(){},p=function(e){return function(){return e}},m=p(!1),g=p(!0),v=function(){return y},y=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:m,isSome:m,isNone:g,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:n,orThunk:t,map:v,each:h,bind:v,exists:m,forall:g,filter:v,equals:e,equals_:e,toArray:function(){return[]},toString:p("none()")};return r}(),b=function(e){var t=p(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:g,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(m,(function(t){return n(e,t)}))}};return i},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:v,from:w},C=Object.keys,S=Object.hasOwnProperty,k=function(e,t){for(var n=C(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},_=function(e){return function(t,n){e[n]=t}},B=function(e,t,n,r){var i={};return k(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},D=function(e,t){var n={};return B(e,t,_(n),h),n},M=function(e,t){return S.call(e,t)},E=function(e,t){return M(e,t)&&void 0!==e[t]&&null!==e[t]},T=Array.prototype.push,I=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t},O=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()},L=function(e){return O(e,0)},F=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},P=("undefined"!==typeof window?window:Function("return this;")(),function(e,t,n){if(!(a(n)||l(n)||A(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}),N=function(e,t,n){P(e.dom,t,n)},U=function(e,t){e.dom.removeAttribute(t)},H=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Q(r.childNodes[0])},R=function(e,t){var n=t||document,r=n.createElement(e);return Q(r)},V=function(e,t){var n=t||document,r=n.createTextNode(e);return Q(r)},Q=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},j=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(Q)},z={fromHtml:H,fromTag:R,fromText:V,fromDom:Q,fromPoint:j},G=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),K=tinymce.util.Tools.resolve("tinymce.util.Promise"),q=tinymce.util.Tools.resolve("tinymce.util.XHR"),W=function(e){return e.getParam("image_dimensions",!0,"boolean")},$=function(e){return e.getParam("image_advtab",!1,"boolean")},X=function(e){return e.getParam("image_uploadtab",!0,"boolean")},Y=function(e){return e.getParam("image_prepend_url","","string")},J=function(e){return e.getParam("image_class_list")},Z=function(e){return e.getParam("image_description",!0,"boolean")},ee=function(e){return e.getParam("image_title",!1,"boolean")},te=function(e){return e.getParam("image_caption",!1,"boolean")},ne=function(e){return e.getParam("image_list",!1)},re=function(e){return f(e.getParam("images_upload_url"))},ie=function(e){return f(e.getParam("images_upload_handler"))},oe=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},ae=function(e){return e.getParam("automatic_uploads",!0,"boolean")},se=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ue=function(e){return new K((function(t){var n=document.createElement("img"),r=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e=se(n.width,n.clientWidth),t=se(n.height,n.clientHeight),i={width:e,height:t};r(K.resolve(i))},n.onerror=function(){r(K.reject("Failed to get image dimensions for: "+e))};var i=n.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",document.body.appendChild(n),n.src=e}))},ce=function(e){return e&&(e=e.replace(/px$/,"")),e},le=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},de=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},fe=function(e,t){var n=ne(e);"string"===typeof n?q.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"===typeof n?n(t):t(n)},Ae=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!W(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},he=function(e){return new K((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(e)}))},pe=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},me=G.DOM,ge=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ce(e.style.marginLeft):""},ve=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ce(e.style.marginTop):""},ye=function(e){return e.style.borderWidth?ce(e.style.borderWidth):""},be=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},we=function(e,t){return e.style[t]?e.style[t]:""},xe=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},Ce=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},Se=function(e){var t=me.create("figure",{class:"image"});me.insertAfter(t,e),t.appendChild(e),t.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},ke=function(e){var t=e.parentNode;me.insertAfter(e,t),me.remove(t)},_e=function(e){xe(e)?ke(e):Se(e)},Be=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},De=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=le(r),Be(e,t)):Ce(e,n,r)}},Me=function(e,t){return e.style[t]?ce(e.style[t]):be(e,t)},Ee=function(e,t){var n=le(t);e.style.marginLeft=n,e.style.marginRight=n},Te=function(e,t){var n=le(t);e.style.marginTop=n,e.style.marginBottom=n},Ie=function(e,t){var n=le(t);e.style.borderWidth=n},Oe=function(e,t){e.style.borderStyle=t},Le=function(e){return we(e,"borderStyle")},Fe=function(e){return"FIGURE"===e.nodeName},Pe=function(e){return"IMG"===e.nodeName},Ne=function(e){return 0===me.getAttrib(e,"alt").length&&"presentation"===me.getAttrib(e,"role")},Ue=function(e){return Ne(e)?"":be(e,"alt")},He=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Re=function(e,t){var n=document.createElement("img");return Ce(n,"style",t.style),(ge(n)||""!==t.hspace)&&Ee(n,t.hspace),(ve(n)||""!==t.vspace)&&Te(n,t.vspace),(ye(n)||""!==t.border)&&Ie(n,t.border),(Le(n)||""!==t.borderStyle)&&Oe(n,t.borderStyle),e(n.getAttribute("style"))},Ve=function(e,n){var r=document.createElement("img");if(qe(e,t(t({},n),{caption:!1}),r),ze(r,n.alt,n.isDecorative),n.caption){var i=me.create("figure",{class:"image"});return i.appendChild(r),i.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),i.contentEditable="false",i}return r},Qe=function(e,t){return{src:be(t,"src"),alt:Ue(t),title:be(t,"title"),width:Me(t,"width"),height:Me(t,"height"),class:be(t,"class"),style:e(be(t,"style")),caption:xe(t),hspace:ge(t),vspace:ve(t),border:ye(t),borderStyle:we(t,"borderStyle"),isDecorative:Ne(t)}},je=function(e,t,n,r,i){n[r]!==t[r]&&i(e,r,n[r])},ze=function(e,t,n){if(n){me.setAttrib(e,"role","presentation");var r=z.fromDom(e);N(r,"alt","")}else{if(c(t)){r=z.fromDom(e);U(r,"alt")}else{r=z.fromDom(e);N(r,"alt",t)}"presentation"===me.getAttrib(e,"role")&&me.setAttrib(e,"role","")}},Ge=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||ze(e,n.alt,n.isDecorative)},Ke=function(e,t){return function(n,r,i){e(n,i),Be(n,t)}},qe=function(e,t,n){var r=Qe(e,n);je(n,r,t,"caption",(function(e,t,n){return _e(e)})),je(n,r,t,"src",Ce),je(n,r,t,"title",Ce),je(n,r,t,"width",De("width",e)),je(n,r,t,"height",De("height",e)),je(n,r,t,"class",Ce),je(n,r,t,"style",Ke((function(e,t){return Ce(e,"style",t)}),e)),je(n,r,t,"hspace",Ke(Ee,e)),je(n,r,t,"vspace",Ke(Te,e)),je(n,r,t,"border",Ke(Ie,e)),je(n,r,t,"borderStyle",Ke(Oe,e)),Ge(n,r,t)},We=function(e,t){var n=e.dom.styles.parse(t),r=de(n),i=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(i)},$e=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||pe(t))?null:t},Xe=function(e,t){var n=e.dom,r=D(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")})),i=n.getParent(t.parentNode,(function(e){return E(r,e.nodeName)}),e.getBody());return i?n.split(i,t):t},Ye=function(e){var t=$e(e);return t?Qe((function(t){return We(e,t)}),t):He()},Je=function(e,t){var n=Ve((function(t){return We(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Fe(r)){var i=Xe(e,r);e.selection.select(i)}else e.selection.select(r)},Ze=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},et=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},tt=function(e,t){var n=$e(e);if(qe((function(t){return We(e,t)}),t,n),Ze(e,n),Fe(n.parentNode)){var r=n.parentNode;Xe(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),Ae(e,t,n)},nt=function(e,n){var r=$e(e);if(r){var i=Qe((function(t){return We(e,t)}),r),o=t(t({},i),n);o.src?tt(e,o):et(e,r)}else n.src&&Je(e,t(t({},He()),n))},rt=Object.prototype.hasOwnProperty,it=function(e,t){var n=s(e)&&s(t);return n?at(e,t):t},ot=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)rt.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},at=ot(it),st=function(e){return e.length>0},ut=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),ct=tinymce.util.Tools.resolve("tinymce.util.Tools"),lt=function(e){return a(e.value)?e.value:""},dt=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},ft=function(e,t){var n=[];return ct.each(e,(function(e){var r=dt(e);if(void 0!==e.menu){var i=ft(e.menu,t);n.push({text:r,items:i})}else{var o=t(e);n.push({text:r,value:o})}})),n},At=function(e){return void 0===e&&(e=lt),function(t){return t?x.from(t).map((function(t){return ft(t,e)})):x.none()}},ht=function(e){return At(lt)(e)},pt=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},mt=function(e,t){return F(e,(function(e){return pt(e)?mt(e.items,t):e.value===t?x.some(e):x.none()}))},gt=function(e,t){return e.bind((function(e){return mt(e,t)}))},vt={sanitizer:At,sanitize:ht,findEntry:gt},yt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},bt={makeTab:yt},wt=function(e){var t=vt.sanitizer((function(t){return e.convertURL(t.value||t.url,"src")})),n=new K((function(n){fe(e,(function(e){n(t(e).map((function(e){return I([[{text:"None",value:""}],e])})))}))})),r=vt.sanitize(J(e)),i=$(e),o=X(e),s=re(e),u=ie(e),c=Ye(e),l=Z(e),d=ee(e),f=W(e),A=te(e),h=oe(e),p=ae(e),m=x.some(Y(e)).filter((function(e){return a(e)&&e.length>0}));return n.then((function(e){return{image:c,imageList:e,classList:r,hasAdvTab:i,hasUploadTab:o,hasUploadUrl:s,hasUploadHandler:u,hasDescription:l,hasImageTitle:d,hasDimensions:f,hasImageCaption:A,prependURL:m,hasAccessibilityOptions:h,automaticUploads:p}}))},xt=function(e){var n={name:"src",type:"urlinput",filetype:"image",label:"Source"},r=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),i={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},o={name:"title",type:"input",label:"Image title"},a={name:"dimensions",type:"sizeinput"},s={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},u=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}})),c={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},l=function(e){return e?{type:"grid",columns:2}:{type:"panel"}};return I([[n],r.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[s]:[],e.hasDescription?[i]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[a]:[],[t(t({},l(e.classList.isSome()&&e.hasImageCaption)),{items:I([u.toArray(),e.hasImageCaption?[c]:[]])})]])},Ct=function(e){return{title:"General",name:"general",items:xt(e)}},St={makeTab:Ct,makeItems:xt},kt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},_t={makeTab:kt},Bt=function(e){return{prevImage:vt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},Dt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},Mt=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},Et=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?x.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?x.some(e+t):x.none()}))},Tt=function(e,t){var n=t.getData();Et(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},It=function(e,t,n){e.hasDescription&&a(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&a(n.title)&&(t.title=n.title),e.hasDimensions&&(a(n.width)&&(t.dimensions.width=n.width),a(n.height)&&(t.dimensions.height=n.height)),a(n.class)&&vt.findEntry(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&l(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(a(n.style)&&(t.style=n.style),a(n.vspace)&&(t.vspace=n.vspace),a(n.border)&&(t.border=n.border),a(n.hspace)&&(t.hspace=n.hspace),a(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Ot=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var i=at({},n);It(e,i,r),t.setData(i)}},Lt=function(e,t,n,r){var i=r.getData(),o=i.src.value,a=i.src.meta||{};a.width||a.height||!t.hasDimensions||(st(o)?e.imageSize(o).then((function(e){n.open&&r.setData({dimensions:e})})).catch((function(e){return console.error(e)})):r.setData({dimensions:{width:"",height:""}}))},Ft=function(e,t,n){var r=n.getData(),i=vt.findEntry(e.imageList,r.src.value);t.prevImage=i,n.setData({images:i.map((function(e){return e.value})).getOr("")})},Pt=function(e,t,n,r){Tt(t,r),Ot(t,r),Lt(e,t,n,r),Ft(t,n,r)},Nt=function(e,t,n,r){var i=r.getData(),o=vt.findEntry(t.imageList,i.images);o.each((function(e){var t=""===i.alt||n.prevImage.map((function(e){return e.text===i.alt})).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=o,Pt(e,t,n,r)},Ut=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?ce(String(e["margin-top"])):""},Ht=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?ce(String(e["margin-right"])):""},Rt=function(e){return e["border-width"]?ce(String(e["border-width"])):""},Vt=function(e){return e["border-style"]?String(e["border-style"]):""},Qt=function(e,t,n){return t(e(t(n)))},jt=function(e,t,n){var r=de(e(n.style)),i=at({},n);return i.vspace=Ut(r),i.hspace=Ht(r),i.border=Rt(r),i.borderstyle=Vt(r),i.style=Qt(e,t,r),i},zt=function(e,t){var n=t.getData(),r=jt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Gt=function(e,t,n){var r=at(Dt(t.image),n.getData()),i=Re(e.normalizeCss,Mt(r,!1));n.setData({style:i})},Kt=function(e,t,n,r){var i=r.getData();r.block("Uploading image"),L(i.fileinput).fold((function(){r.unblock()}),(function(i){var o=URL.createObjectURL(i),a=function(){r.unblock(),URL.revokeObjectURL(o)},s=function(i){r.setData({src:{value:i,meta:{}}}),r.showTab("general"),Pt(e,t,n,r)};he(i).then((function(n){var u=e.createBlobCache(i,o,n);t.automaticUploads?e.uploadImage(u).then((function(e){s(e.url),a()})).catch((function(t){a(),e.alertErr(t)})):(e.addToBlobCache(u),s(u.blobUri()),r.unblock())}))}))},qt=function(e,t,n){return function(r,i){"src"===i.name?Pt(e,t,n,r):"images"===i.name?Nt(e,t,n,r):"alt"===i.name?n.prevAlt=r.getData().alt:"style"===i.name?zt(e,r):"vspace"===i.name||"hspace"===i.name||"border"===i.name||"borderstyle"===i.name?Gt(e,t,r):"fileinput"===i.name?Kt(e,t,n,r):"isDecorative"===i.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Wt=function(e){return function(){e.open=!1}},$t=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:I([[St.makeTab(e)],e.hasAdvTab?[bt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[_t.makeTab(e)]:[]])};return t}var n={type:"panel",items:St.makeItems(e)};return n},Xt=function(e){return function(t){var n=Bt(t);return{title:"Insert/Edit Image",size:"normal",body:$t(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Dt(t.image),onSubmit:e.onSubmit(t),onChange:qt(e,t,n),onClose:Wt(n)}}},Yt=function(e){return function(t){return function(n){var r=at(Dt(t.image),n.getData());e.execCommand("mceUpdateImage",!1,Mt(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Jt=function(e){return function(t){return ue(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}}))}},Zt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:r.split(",")[1]})}},en=function(e){return function(t){e.editorUpload.blobCache.add(t)}},tn=function(e){return function(t){e.windowManager.alert(t)}},nn=function(e){return function(t){return We(e,t)}},rn=function(e){return function(t){return e.dom.parseStyle(t)}},on=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},an=function(e){return function(t){return ut(e).upload([t],!1).then((function(e){return 0===e.length?K.reject("Failed to upload image"):!1===e[0].status?K.reject(e[0].error.message):e[0]}))}},sn=function(e){var t={onSubmit:Yt(e),imageSize:Jt(e),addToBlobCache:en(e),createBlobCache:Zt(e),alertErr:tn(e),normalizeCss:nn(e),parseStyle:rn(e),serializeStyle:on(e),uploadImage:an(e)},n=function(){wt(e).then(Xt(t)).then(e.windowManager.open)};return{open:n}},un=function(e){e.addCommand("mceImage",sn(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return nt(e,n)}))}))},cn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},ln=function(e){return function(t){var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};while(n--){var i=t[n];cn(i)&&(i.attr("contenteditable",e?"false":null),ct.each(i.getAll("figcaption"),r))}}},dn=function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",ln(!0)),e.serializer.addNodeFilter("figure",ln(!1))}))},fn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:sn(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:sn(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return Fe(e)||Pe(e)&&!pe(e)?["image"]:[]}})};function An(){e.add("image",(function(e){dn(e),fn(e),un(e)}))}An()})()},cf05:function(e,t,n){e.exports=n.p+"static/img/logo.31bd237b.png"},d1c7:function(e,t){e.exports={load:function(e,t){if(e=e||IDM.url.getWebPath("~/lib"),window.monaco)t();else{var n={paths:{vs:e+"/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}},r="".concat(n.paths.vs,"/loader.js"),i=function(){if(window.LOADER_PENDING&&window.require.config(n),window.require(["vs/editor/editor.main"],(function(){t()})),window.LOADER_PENDING){window.LOADER_PENDING=!1;var e=window.LOADER_CALLBACKS;if(e&&e.length){var r=e.shift();while(r)r.fn.call(r.window),r=e.shift()}}};if(window.LOADER_PENDING)window.LOADER_CALLBACKS=window.LOADER_CALLBACKS||[],window.LOADER_CALLBACKS.push({window:this,fn:i});else if("undefined"===typeof window.require){var o=window.document.createElement("script");o.type="text/javascript",o.src=r,o.addEventListener("load",i),window.document.body.appendChild(o),window.LOADER_PENDING=!0}else i()}}}},d411:function(e,t){tinymce.addI18n("zh_CN",{Redo:"重做",Undo:"撤销",Cut:"剪切",Copy:"复制",Paste:"粘贴","Select all":"全选","New document":"新文件",Ok:"确定",Cancel:"取消","Visual aids":"网格线",Bold:"粗体",Italic:"斜体",Underline:"下划线",Strikethrough:"删除线",Superscript:"上标",Subscript:"下标","Clear formatting":"清除格式","Align left":"左边对齐","Align center":"中间对齐","Align right":"右边对齐",Justify:"两端对齐","Bullet list":"项目符号","Numbered list":"编号列表","Decrease indent":"减少缩进","Increase indent":"增加缩进",Close:"关闭",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。",Headers:"标题","Header 1":"标题1","Header 2":"标题2","Header 3":"标题3","Header 4":"标题4","Header 5":"标题5","Header 6":"标题6",Headings:"标题","Heading 1":"标题1","Heading 2":"标题2","Heading 3":"标题3","Heading 4":"标题4","Heading 5":"标题5","Heading 6":"标题6",Preformatted:"预先格式化的",Div:"Div",Pre:"Pre",Code:"代码",Paragraph:"段落",Blockquote:"引文区块",Inline:"文本",Blocks:"基块","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。",Fonts:"字体","Font Sizes":"字号",Class:"类型","Browse for an image":"浏览图像",OR:"或","Drop an image here":"拖放一张图像至此",Upload:"上传",Block:"块",Align:"对齐",Default:"默认",Circle:"空心圆",Disc:"实心圆",Square:"方块","Lower Alpha":"小写英文字母","Lower Greek":"小写希腊字母","Lower Roman":"小写罗马字母","Upper Alpha":"大写英文字母","Upper Roman":"大写罗马字母","Anchor...":"锚点...",Name:"名称",Id:"标识符","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。","You have unsaved changes are you sure you want to navigate away?":"你还有文档尚未保存，确定要离开？","Restore last draft":"恢复上次的草稿","Special characters...":"特殊字符...","Source code":"源代码","Insert/Edit code sample":"插入/编辑代码示例",Language:"语言","Code sample...":"示例代码...","Color Picker":"选色器",R:"R",G:"G",B:"B","Left to right":"从左到右","Right to left":"从右到左","Emoticons...":"表情符号...","Metadata and Document Properties":"元数据和文档属性",Title:"标题",Keywords:"关键词",Description:"描述",Robots:"机器人",Author:"作者",Encoding:"编码",Fullscreen:"全屏",Action:"操作",Shortcut:"快捷键",Help:"帮助",Address:"地址","Focus to menubar":"移动焦点到菜单栏","Focus to toolbar":"移动焦点到工具栏","Focus to element path":"移动焦点到元素路径","Focus to contextual toolbar":"移动焦点到上下文菜单","Insert link (if link plugin activated)":"插入链接 (如果链接插件已激活)","Save (if save plugin activated)":"保存(如果保存插件已激活)","Find (if searchreplace plugin activated)":"查找(如果查找替换插件已激活)","Plugins installed ({0}):":"已安装插件 ({0}):","Premium plugins:":"优秀插件：","Learn more...":"了解更多...","You are using {0}":"你正在使用 {0}",Plugins:"插件","Handy Shortcuts":"快捷键","Horizontal line":"水平分割线","Insert/edit image":"插入/编辑图片","Image description":"图片描述",Source:"地址",Dimensions:"大小","Constrain proportions":"保持纵横比",General:"普通",Advanced:"高级",Style:"样式","Vertical space":"垂直边距","Horizontal space":"水平边距",Border:"边框","Insert image":"插入图片","Image...":"图片...","Image list":"图片列表","Rotate counterclockwise":"逆时针旋转","Rotate clockwise":"顺时针旋转","Flip vertically":"垂直翻转","Flip horizontally":"水平翻转","Edit image":"编辑图片","Image options":"图片选项","Zoom in":"放大","Zoom out":"缩小",Crop:"裁剪",Resize:"调整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"锐化",Contrast:"对比度","Color levels":"颜色层次",Gamma:"伽马值",Invert:"反转",Apply:"应用",Back:"后退","Insert date/time":"插入日期/时间","Date/time":"日期/时间","Insert/Edit Link":"插入/编辑链接","Insert/edit link":"插入/编辑链接","Text to display":"显示文字",Url:"地址","Open link in...":"链接打开位置...","Current window":"当前窗口",None:"无","New window":"在新窗口打开","Remove link":"删除链接",Anchors:"锚点","Link...":"链接...","Paste or type a link":"粘贴或输入链接","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填写的URL地址属于外部链接，需要加上http://:前缀吗？","Link list":"链接列表","Insert video":"插入视频","Insert/edit video":"插入/编辑视频","Insert/edit media":"插入/编辑媒体","Alternative source":"镜像","Alternative source URL":"替代来源网址","Media poster (Image URL)":"封面(图片地址)","Paste your embed code below:":"将内嵌代码粘贴在下面:",Embed:"内嵌","Media...":"多媒体...","Nonbreaking space":"不间断空格","Page break":"分页符","Paste as text":"粘贴为文本",Preview:"预览","Print...":"打印...",Save:"保存",Find:"查找","Replace with":"替换为",Replace:"替换","Replace all":"全部替换",Previous:"上一个",Next:"下一个","Find and replace...":"查找并替换...","Could not find the specified string.":"未找到搜索内容.","Match case":"区分大小写","Find whole words only":"全字匹配","Spell check":"拼写检查",Ignore:"忽略","Ignore all":"全部忽略",Finish:"完成","Add to Dictionary":"添加到字典","Insert table":"插入表格","Table properties":"表格属性","Delete table":"删除表格",Cell:"单元格",Row:"行",Column:"列","Cell properties":"单元格属性","Merge cells":"合并单元格","Split cell":"拆分单元格","Insert row before":"在上方插入","Insert row after":"在下方插入","Delete row":"删除行","Row properties":"行属性","Cut row":"剪切行","Copy row":"复制行","Paste row before":"粘贴到上方","Paste row after":"粘贴到下方","Insert column before":"在左侧插入","Insert column after":"在右侧插入","Delete column":"删除列",Cols:"列",Rows:"行",Width:"宽",Height:"高","Cell spacing":"单元格外间距","Cell padding":"单元格内边距","Show caption":"显示标题",Left:"左对齐",Center:"居中",Right:"右对齐","Cell type":"单元格类型",Scope:"范围",Alignment:"对齐方式","H Align":"水平对齐","V Align":"垂直对齐",Top:"顶部对齐",Middle:"垂直居中",Bottom:"底部对齐","Header cell":"表头单元格","Row group":"行组","Column group":"列组","Row type":"行类型",Header:"表头",Body:"表体",Footer:"表尾","Border color":"边框颜色","Insert template...":"插入模板...",Templates:"模板",Template:"模板","Text color":"文字颜色","Background color":"背景色","Custom...":"自定义...","Custom color":"自定义颜色","No color":"无","Remove color":"移除颜色","Table of Contents":"内容列表","Show blocks":"显示区块边框","Show invisible characters":"显示不可见字符","Word count":"字数","Words: {0}":"字数：{0}","{0} words":"{0} 字",File:"文件",Edit:"编辑",Insert:"插入",View:"视图",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由{0}驱动","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助","Image title":"图片标题","Border width":"边框宽度","Border style":"边框样式",Error:"错误",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"按Shitf+Enter键打开对话框","Rich Text Area. Press ALT-0 for help.":"编辑区。按Alt+0键打开帮助。","System Font":"系统字体","Failed to upload image: {0}":"图片上传失败: {0}","Failed to load plugin: {0} from url {1}":"插件加载失败: {0} 来自链接 {1}","Failed to load plugin url: {0}":"插件加载失败 链接: {0}","Failed to initialize plugin: {0}":"插件初始化失败: {0}",example:"示例",Search:"搜索",All:"全部",Currency:"货币",Text:"文字",Quotations:"引用",Mathematical:"数学","Extended Latin":"拉丁语扩充",Symbols:"符号",Arrows:"箭头","User Defined":"自定义","dollar sign":"美元符号","currency sign":"货币符号","euro-currency sign":"欧元符号","colon sign":"冒号","cruzeiro sign":"克鲁赛罗币符号","french franc sign":"法郎符号","lira sign":"里拉符号","mill sign":"密尔符号","naira sign":"奈拉符号","peseta sign":"比塞塔符号","rupee sign":"卢比符号","won sign":"韩元符号","new sheqel sign":"新谢克尔符号","dong sign":"越南盾符号","kip sign":"老挝基普符号","tugrik sign":"图格里克符号","drachma sign":"德拉克马符号","german penny symbol":"德国便士符号","peso sign":"比索符号","guarani sign":"瓜拉尼符号","austral sign":"澳元符号","hryvnia sign":"格里夫尼亚符号","cedi sign":"塞地符号","livre tournois sign":"里弗弗尔符号","spesmilo sign":"spesmilo符号","tenge sign":"坚戈符号","indian rupee sign":"印度卢比","turkish lira sign":"土耳其里拉","nordic mark sign":"北欧马克","manat sign":"马纳特符号","ruble sign":"卢布符号","yen character":"日元字样","yuan character":"人民币元字样","yuan character, in hong kong and taiwan":"元字样（港台地区）","yen/yuan character variant one":"元字样（大写）","Loading emoticons...":"加载表情符号...","Could not load emoticons":"不能加载表情符号",People:"人类","Animals and Nature":"动物和自然","Food and Drink":"食物和饮品",Activity:"活动","Travel and Places":"旅游和地点",Objects:"物件",Flags:"旗帜",Characters:"字符","Characters (no spaces)":"字符(无空格)","Error: Form submit field collision.":"错误: 表单提交字段冲突。","Error: No form element found.":"错误: 没有表单控件。",Update:"更新","Color swatch":"颜色样本",Turquoise:"青绿色",Green:"绿色",Blue:"蓝色",Purple:"紫色","Navy Blue":"海军蓝","Dark Turquoise":"深蓝绿色","Dark Green":"深绿色","Medium Blue":"中蓝色","Medium Purple":"中紫色","Midnight Blue":"深蓝色",Yellow:"黄色",Orange:"橙色",Red:"红色","Light Gray":"浅灰色",Gray:"灰色","Dark Yellow":"暗黄色","Dark Orange":"深橙色","Dark Red":"深红色","Medium Gray":"中灰色","Dark Gray":"深灰色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"切换全屏模式","Open help dialog":"打开帮助对话框",history:"历史",styles:"样式",formatting:"格式化",alignment:"对齐",indentation:"缩进","permanent pen":"记号笔",comments:"备注",Anchor:"锚点","Special character":"特殊符号","Code sample":"代码示例",Color:"颜色",Emoticons:"表情","Document properties":"文档属性",Image:"图片","Insert link":"插入链接",Target:"打开方式",Link:"链接",Poster:"封面",Media:"媒体",Print:"打印",Prev:"上一个","Find and replace":"查找和替换","Whole words":"全字匹配",Spellcheck:"拼写检查",Caption:"标题","Insert template":"插入模板"})},e343:function(e,t,n){},e562:function(e,t,n){(function(t){(function(){"use strict";var n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},i=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},o=function(e,t){return a((function(n,r){return e.eq(t(n),t(r))}))},a=function(e){return{eq:e}},s=a((function(e,t){return e===t})),u=s,c=function(e){return a((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0}))},l=function(e,t){return o(c(e),(function(e){return i(e,t)}))},d=function(e){return a((function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!l(u).eq(r,i))return!1;for(var o=r.length,a=0;a<o;a++){var s=r[a];if(!e.eq(t[s],n[s]))return!1}return!0}))},f=a((function(e,t){if(e===t)return!0;var i=n(e),o=n(t);return i===o&&(r(i)?e===t:"array"===i?c(f).eq(e,t):"object"===i&&d(f).eq(e,t))})),A=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},h=function(e){return function(t){return A(t)===e}},p=function(e){return function(t){return typeof t===e}},m=function(e){return function(t){return e===t}},g=h("string"),v=h("object"),y=h("array"),b=m(null),w=p("boolean"),x=m(void 0),C=function(e){return null===e||void 0===e},S=function(e){return!C(e)},k=p("function"),B=p("number"),D=function(){},M=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},E=function(e,t){return function(n){return e(t(n))}},T=function(e){return function(){return e}},I=function(e){return e};function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var L=function(e){return function(t){return!e(t)}},F=function(e){return function(){throw new Error(e)}},P=function(e){return e()},N=function(e){e()},U=T(!1),H=T(!0),R=function(){return V},V=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:U,isSome:U,isNone:H,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:n,orThunk:t,map:R,each:D,bind:R,exists:U,forall:H,filter:R,equals:e,equals_:e,toArray:function(){return[]},toString:T("none()")};return r}(),Q=function(e){var t=T(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:H,isNone:U,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return Q(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:V},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(U,(function(t){return n(e,t)}))}};return i},j=function(e){return null===e||void 0===e?V:Q(e)},z={some:Q,none:R,from:j},G=Array.prototype.slice,K=Array.prototype.indexOf,q=Array.prototype.push,W=function(e,t){return K.call(e,t)},$=function(e,t){var n=W(e,t);return-1===n?z.none():z.some(n)},X=function(e,t){return W(e,t)>-1},Y=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},J=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},ee=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},te=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i)?n:r;s.push(a)}return{pass:n,fail:r}},ne=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},re=function(e,t,n){return ee(e,(function(e){n=t(n,e)})),n},ie=function(e,t,n){return Z(e,(function(e){n=t(n,e)})),n},oe=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return z.some(o);if(n(o,r))break}return z.none()},ae=function(e,t){return oe(e,t,U)},se=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return z.some(n)}return z.none()},ue=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!y(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);q.apply(t,e[n])}return t},ce=function(e,t){return ue(J(e,t))},le=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},de=function(e){var t=G.call(e,0);return t.reverse(),t},fe=function(e,t){return ne(e,(function(e){return!X(t,e)}))},Ae=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},he=function(e,t){var n=G.call(e,0);return n.sort(t),n},pe=function(e,t){return t>=0&&t<e.length?z.some(e[t]):z.none()},me=function(e){return pe(e,0)},ge=function(e){return pe(e,e.length-1)},ve=k(Array.from)?Array.from:function(e){return G.call(e)},ye=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return z.none()},be=Object.keys,we=Object.hasOwnProperty,xe=function(e,t){for(var n=be(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},Ce=function(e,t){return Se(e,(function(e,n){return{k:n,v:t(e,n)}}))},Se=function(e,t){var n={};return xe(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},ke=function(e){return function(t,n){e[n]=t}},_e=function(e,t,n,r){var i={};return xe(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Be=function(e,t){var n={},r={};return _e(e,t,ke(n),ke(r)),{t:n,f:r}},De=function(e,t){var n={};return _e(e,t,ke(n),D),n},Me=function(e,t){var n=[];return xe(e,(function(e,r){n.push(t(e,r))})),n},Ee=function(e){return Me(e,(function(e){return e}))},Te=function(e,t){return Ie(e,t)?z.from(e[t]):z.none()},Ie=function(e,t){return we.call(e,t)},Oe=function(e,t){return Ie(e,t)&&void 0!==e[t]&&null!==e[t]},Le=function(e,t,n){return void 0===n&&(n=f),d(n).eq(e,t)},Fe=Array.isArray,Pe=function(e){if(Fe(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},Ne=function(e,t,n){var r,i;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},Ue=function(e,t){var n=[];return Ne(e,(function(r,i){n.push(t(r,i,e))})),n},He=function(e,t){var n=[];return Ne(e,(function(r,i){t&&!t(r,i,e)||n.push(r)})),n},Re=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Ve=function(e,t,n,r){for(var i=x(n)?e[0]:n,o=0;o<e.length;o++)i=t.call(r,i,e[o],o);return i},Qe=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},je=function(e){return e[e.length-1]},ze=function(){return ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ze.apply(this,arguments)};function Ge(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ke(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var qe=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},We=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=i||!o&&a&&r("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!u&&!l;return{isiPad:T(i),isiPhone:T(o),isTablet:T(u),isPhone:T(c),isTouch:T(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:T(l),isDesktop:T(d)}},$e=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Xe=function(e,t){var n=$e(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ze(r(1),r(2))},Ye=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Je():Xe(e,n)},Je=function(){return Ze(0,0)},Ze=function(e,t){return{major:e,minor:t}},et={nu:Ze,detect:Ye,unknown:Je},tt=function(e,t){var n=String(t).toLowerCase();return ae(e,(function(e){return e.search(n)}))},nt=function(e,t){return tt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},rt=function(e,t){return tt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},it={detectBrowser:nt,detectOs:rt},ot=function(e,t){return e.substring(t)},at=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},st=function(e,t){return ct(e,t)?ot(e,t.length):e},ut=function(e,t){return-1!==e.indexOf(t)},ct=function(e,t){return at(e,t,0)},lt=function(e){return function(t){return t.replace(e,"")}},dt=lt(/^\s+|\s+$/g),ft=lt(/^\s+/g),At=lt(/\s+$/g),ht=function(e){return e.length>0},pt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mt=function(e){return function(t){return ut(t,e)}},gt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ut(e,"edge/")&&ut(e,"chrome")&&ut(e,"safari")&&ut(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pt],search:function(e){return ut(e,"chrome")&&!ut(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ut(e,"msie")||ut(e,"trident")}},{name:"Opera",versionRegexes:[pt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mt("firefox")},{name:"Safari",versionRegexes:[pt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ut(e,"safari")||ut(e,"mobile/"))&&ut(e,"applewebkit")}}],vt=[{name:"Windows",search:mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ut(e,"iphone")||ut(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mt("linux"),versionRegexes:[]},{name:"Solaris",search:mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yt={browsers:T(gt),oses:T(vt)},bt="Edge",wt="Chrome",xt="IE",Ct="Opera",St="Firefox",kt="Safari",_t=function(){return Bt({current:void 0,version:et.unknown()})},Bt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(bt),isChrome:r(wt),isIE:r(xt),isOpera:r(Ct),isFirefox:r(St),isSafari:r(kt)}},Dt={unknown:_t,nu:Bt,edge:T(bt),chrome:T(wt),ie:T(xt),opera:T(Ct),firefox:T(St),safari:T(kt)},Mt="Windows",Et="iOS",Tt="Android",It="Linux",Ot="OSX",Lt="Solaris",Ft="FreeBSD",Pt="ChromeOS",Nt=function(){return Ut({current:void 0,version:et.unknown()})},Ut=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Mt),isiOS:r(Et),isAndroid:r(Tt),isOSX:r(Ot),isLinux:r(It),isSolaris:r(Lt),isFreeBSD:r(Ft),isChromeOS:r(Pt)}},Ht={unknown:Nt,nu:Ut,windows:T(Mt),ios:T(Et),android:T(Tt),linux:T(It),osx:T(Ot),solaris:T(Lt),freebsd:T(Ft),chromeos:T(Pt)},Rt=function(e,t){var n=yt.browsers(),r=yt.oses(),i=it.detectBrowser(n,e).fold(Dt.unknown,Dt.nu),o=it.detectOs(r,e).fold(Ht.unknown,Ht.nu),a=We(o,i,e,t);return{browser:i,os:o,deviceType:a}},Vt={detect:Rt},Qt=function(e){return window.matchMedia(e).matches},jt=qe((function(){return Vt.detect(navigator.userAgent,Qt)})),zt=function(){return jt()},Gt=navigator.userAgent,Kt=zt(),qt=Kt.browser,Wt=Kt.os,$t=Kt.deviceType,Xt=/WebKit/.test(Gt)&&!qt.isEdge(),Yt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Jt=-1!==Gt.indexOf("Windows Phone"),Zt={opera:qt.isOpera(),webkit:Xt,ie:!(!qt.isIE()&&!qt.isEdge())&&qt.version.major,gecko:qt.isFirefox(),mac:Wt.isOSX()||Wt.isiOS(),iOS:$t.isiPad()||$t.isiPhone(),android:Wt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:qt.isIE()?document.documentMode||7:10,fileApi:Yt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!qt.isIE(),desktop:$t.isDesktop(),windowsPhone:Jt,browser:{current:qt.current,version:qt.version,isChrome:qt.isChrome,isEdge:qt.isEdge,isFirefox:qt.isFirefox,isIE:qt.isIE,isOpera:qt.isOpera,isSafari:qt.isSafari},os:{current:Wt.current,version:Wt.version,isAndroid:Wt.isAndroid,isChromeOS:Wt.isChromeOS,isFreeBSD:Wt.isFreeBSD,isiOS:Wt.isiOS,isLinux:Wt.isLinux,isOSX:Wt.isOSX,isSolaris:Wt.isSolaris,isWindows:Wt.isWindows},deviceType:{isDesktop:$t.isDesktop,isiPad:$t.isiPad,isiPhone:$t.isiPhone,isPhone:$t.isPhone,isTablet:$t.isTablet,isTouch:$t.isTouch,isWebView:$t.isWebView}},en=/^\s*|\s*$/g,tn=function(e){return null===e||void 0===e?"":(""+e).replace(en,"")},nn=function(e,t){return t?!("array"!==t||!Fe(e))||typeof e===t:void 0!==e},rn=function(e,t,n){var r;e=e||[],t=t||",","string"===typeof e&&(e=e.split(t)),n=n||{},r=e.length;while(r--)n[e[r]]={};return n},on=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},an=function(e,t,n){var r,i,o,a=this,s=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var u=e[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[u]){if("static"===e[2])return c[u]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[u]));t[u]||(t[u]=function(){},s=1),c[u]=t[u],a.extend(c[u].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=c[u],c[u]=s?function(){return r[i].apply(this,arguments)}:function(){return this.parent=r[i],o.apply(this,arguments)},c[u].prototype[u]=c[u],a.each(r,(function(e,t){c[u].prototype[t]=r[t]})),a.each(t,(function(e,t){r[t]?c[u].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==u&&(c[u].prototype[t]=e)}))),a.each(t.static,(function(e,t){c[u][t]=e}))}},sn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];void 0!==a&&(e[o]=a)}}return e},un=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Ne(e,(function(e,i){if(!1===t.call(r,e,i,n))return!1;un(e,t,n,r)})))},cn=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},ln=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r;n++)if(t=t[e[n]],!t)break;return t},dn=function(e,t){return!e||nn(e,"array")?e:Ue(e.split(t||","),tn)},fn=function(e){var t=Zt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},An={trim:tn,isArray:Fe,is:nn,toArray:Pe,makeMap:rn,each:Ne,map:Ue,grep:He,inArray:Re,hasOwn:on,extend:sn,create:an,walk:un,createNS:cn,resolve:ln,explode:dn,_addCacheSuffix:fn},hn=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return gn(r.childNodes[0])},pn=function(e,t){var n=t||document,r=n.createElement(e);return gn(r)},mn=function(e,t){var n=t||document,r=n.createTextNode(e);return gn(r)},gn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},vn=function(e,t,n){return z.from(e.dom.elementFromPoint(t,n)).map(gn)},yn={fromHtml:hn,fromTag:pn,fromText:mn,fromDom:gn,fromPoint:vn},bn=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n},wn=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},xn=function(e,t){return wn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Cn=8,Sn=9,kn=11,_n=1,Bn=3,Dn=function(e,t){var n=e.dom;if(n.nodeType!==_n)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Mn=function(e){return e.nodeType!==_n&&e.nodeType!==Sn&&e.nodeType!==kn||0===e.childElementCount},En=function(e,t){var n=void 0===t?document:t.dom;return Mn(n)?[]:J(n.querySelectorAll(e),yn.fromDom)},Tn=function(e,t){var n=void 0===t?document:t.dom;return Mn(n)?z.none():z.from(n.querySelector(e)).map(yn.fromDom)},In=function(e,t){return e.dom===t.dom},On=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Ln=function(e,t){return xn(e.dom,t.dom)},Fn=function(e,t){return zt().browser.isIE()?Ln(e,t):On(e,t)},Pn=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Nn=function(e){return e.dom.nodeType},Un=function(e){return function(t){return Nn(t)===e}},Hn=function(e){return Nn(e)===Cn||"#comment"===Pn(e)},Rn=Un(_n),Vn=Un(Bn),Qn=Un(Sn),jn=Un(kn),zn=function(e){return yn.fromDom(e.dom.ownerDocument)},Gn=function(e){return Qn(e)?e:zn(e)},Kn=function(e){return yn.fromDom(Gn(e).dom.documentElement)},qn=function(e){return yn.fromDom(Gn(e).dom.defaultView)},Wn=function(e){return z.from(e.dom.parentNode).map(yn.fromDom)},$n=function(e,t){var n=k(t)?t:U,r=e.dom,i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=yn.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},Xn=function(e){var t=function(t){return ne(t,(function(t){return!In(e,t)}))};return Wn(e).map(tr).map(t).getOr([])},Yn=function(e){return z.from(e.dom.previousSibling).map(yn.fromDom)},Jn=function(e){return z.from(e.dom.nextSibling).map(yn.fromDom)},Zn=function(e){return de(bn(e,Yn))},er=function(e){return bn(e,Jn)},tr=function(e){return J(e.dom.childNodes,yn.fromDom)},nr=function(e,t){var n=e.dom.childNodes;return z.from(n[t]).map(yn.fromDom)},rr=function(e){return nr(e,0)},ir=function(e){return nr(e,e.dom.childNodes.length-1)},or=function(e){return e.dom.childNodes.length},ar=function(e){var t=e.dom.head;if(null===t||void 0===t)throw new Error("Head is not available yet");return yn.fromDom(t)},sr=function(e){return jn(e)&&S(e.dom.host)},ur=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode),cr=T(ur),lr=ur?function(e){return yn.fromDom(e.dom.getRootNode())}:Gn,dr=function(e){return sr(e)?e:ar(Gn(e))},fr=function(e){var t=lr(e);return sr(t)?z.some(t):z.none()},Ar=function(e){return yn.fromDom(e.dom.host)},hr=function(e){if(cr()&&S(e.target)){var t=yn.fromDom(e.target);if(Rn(t)&&pr(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return me(n)}}return z.from(e.target)},pr=function(e){return S(e.dom.shadowRoot)},mr=function(e,t){var n=Wn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},gr=function(e,t){var n=Jn(e);n.fold((function(){var n=Wn(e);n.each((function(e){yr(e,t)}))}),(function(e){mr(e,t)}))},vr=function(e,t){var n=rr(e);n.fold((function(){yr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},yr=function(e,t){e.dom.appendChild(t.dom)},br=function(e,t){mr(e,t),yr(t,e)},wr=function(e,t){Z(t,(function(t){mr(e,t)}))},xr=function(e,t){Z(t,(function(t){yr(e,t)}))},Cr=function(e){e.dom.textContent="",Z(tr(e),(function(e){Sr(e)}))},Sr=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},kr=function(e){var t=tr(e);t.length>0&&wr(e,t),Sr(e)},_r=function(e){var t=Vn(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return fr(yn.fromDom(t)).fold((function(){return n.body.contains(t)}),E(_r,Ar))},Br=function(e,t){var n=function(n,r){return Br(e+n,t+r)};return{left:e,top:t,translate:n}},Dr=Br,Mr=function(e){var t=e.getBoundingClientRect();return Dr(t.left,t.top)},Er=function(e,t){return void 0!==e?e:void 0!==t?t:0},Tr=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Dr(n.offsetLeft,n.offsetTop);var o=Er(null===r||void 0===r?void 0:r.pageYOffset,i.scrollTop),a=Er(null===r||void 0===r?void 0:r.pageXOffset,i.scrollLeft),s=Er(i.clientTop,n.clientTop),u=Er(i.clientLeft,n.clientLeft);return Ir(e).translate(a-u,o-s)},Ir=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Dr(r.offsetLeft,r.offsetTop):_r(e)?Mr(t):Dr(0,0)},Or=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Dr(n,r)},Lr=function(e,t,n){var r=void 0!==n?n.dom:document,i=r.defaultView;i&&i.scrollTo(e,t)},Fr=function(e,t){var n=zt().browser.isSafari();n&&k(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Pr=function(e){var t=void 0===e?window:e;return z.from(t["visualViewport"])},Nr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Ur=function(e){var t=void 0===e?window:e,n=t.document,r=Or(yn.fromDom(n));return Pr(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Nr(r.left,r.top,n,i)}),(function(e){return Nr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Hr=function(e){return function(t){return!!t&&t.nodeType===e}},Rr=function(e){return!!e&&!Object.getPrototypeOf(e)},Vr=Hr(1),Qr=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return X(t,n)}return!1}},jr=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,i;if(Vr(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if(i=o?o.getPropertyValue(e):null,i===n[r])return!0}return!1}},zr=function(e){return function(t){return Vr(t)&&t.hasAttribute(e)}},Gr=function(e,t){return function(n){return Vr(n)&&n.getAttribute(e)===t}},Kr=function(e){return Vr(e)&&e.hasAttribute("data-mce-bogus")},qr=function(e){return Vr(e)&&"all"===e.getAttribute("data-mce-bogus")},Wr=function(e){return Vr(e)&&"TABLE"===e.tagName},$r=function(e){return function(t){if(Vr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Xr=Qr(["textarea","input"]),Yr=Hr(3),Jr=Hr(8),Zr=Hr(9),ei=Hr(11),ti=Qr(["br"]),ni=Qr(["img"]),ri=$r("true"),ii=$r("false"),oi=Qr(["td","th"]),ai=Qr(["video","audio","object","embed"]),si=function(e){return void 0!==e.style&&k(e.style.getPropertyValue)},ui=function(e,t,n){if(!(g(n)||w(n)||B(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ci=function(e,t,n){ui(e.dom,t,n)},li=function(e,t){var n=e.dom;xe(t,(function(e,t){ui(n,t,e)}))},di=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},fi=function(e,t){return z.from(di(e,t))},Ai=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},hi=function(e,t){e.dom.removeAttribute(t)},pi=function(e){return ie(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},mi=function(e,t,n){if(!g(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);si(e)&&e.style.setProperty(t,n)},gi=function(e,t){var n=e.dom;xe(t,(function(e,t){mi(n,t,e)}))},vi=function(e,t){var n=e.dom,r=window.getComputedStyle(n),i=r.getPropertyValue(t);return""!==i||_r(e)?i:yi(n,t)},yi=function(e,t){return si(e)?e.style.getPropertyValue(t):""},bi=function(e,t){var n=e.dom,r=yi(n,t);return z.from(r).filter((function(e){return e.length>0}))},wi=function(e){var t={},n=e.dom;if(si(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},xi=function(e){return e.dom.offsetWidth},Ci=zt().browser,Si=function(e){return ae(e,Rn)},ki=function(e){return Ci.isFirefox()&&"table"===Pn(e)?Si(tr(e)).filter((function(e){return"caption"===Pn(e)})).bind((function(e){return Si(er(e)).map((function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=r?-i:0}))})).getOr(0):0},_i=function(e,t){return e.children&&X(e.children,t)},Bi=function(e,t,n){var r,i,o=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===vi(yn.fromDom(e),"position"))return i=t.getBoundingClientRect(),o=i.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,a=i.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:o,y:a};r=t;while(r&&r!==n&&r.nodeType&&!_i(r,n))o+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;r=t.parentNode;while(r&&r!==n&&r.nodeType&&!_i(r,n))o-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=ki(yn.fromDom(t))}return{x:o,y:a}},Di={},Mi={exports:Di};(function(e,n,r,i){(function(i){if("object"===typeof n&&"undefined"!==typeof r)r.exports=i();else if("function"===typeof e&&e.amd)e([],i);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=i()}})((function(){return function(){function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return o(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var l,d=[],f=!1,A=-1;function h(){f&&l&&(f=!1,l.length?d=l.concat(d):A=-1,d.length&&p())}function p(){if(!f){var e=u(h);f=!0;var t=d.length;while(t){l=d,d=[];while(++A<t)l&&l[A].run();A=-1,t=d.length}l=null,f=!1,c(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new m(e,t)),1!==d.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void c(t.promise,i)}u(t.promise,r)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"===typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,l(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(r){if(n)return;n=!0,c(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}t[o]=a,0===--r&&e(t)}catch(u){n(u)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Di,Mi,void 0);var Ei=Mi.exports.boltExport,Ti=function(e){var t=z.none(),n=[],r=function(e){return Ti((function(t){i((function(n){t(e(n))}))}))},i=function(e){a()?u(e):n.push(e)},o=function(e){a()||(t=z.some(e),s(n),n=[])},a=function(){return t.isSome()},s=function(e){Z(e,u)},u=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e(o),{get:i,map:r,isReady:a}},Ii=function(e){return Ti((function(t){t(e)}))},Oi={nu:Ti,pure:Ii},Li=function(e){setTimeout((function(){throw e}),0)},Fi=function(e){var t=function(t){e().then(t,Li)},n=function(t){return Fi((function(){return e().then(t)}))},r=function(t){return Fi((function(){return e().then((function(e){return t(e).toPromise()}))}))},i=function(t){return Fi((function(){return e().then((function(){return t.toPromise()}))}))},o=function(){return Oi.nu(t)},a=function(){var t=null;return Fi((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:i,toLazy:o,toCached:a,toPromise:s,get:t}},Pi=function(e){return Fi((function(){return new Ei(e)}))},Ni=function(e){return Fi((function(){return Ei.resolve(e)}))},Ui={nu:Pi,pure:Ni},Hi=function(e,t){return t((function(t){var n=[],r=0,i=function(i){return function(o){n[i]=o,r++,r>=e.length&&t(n)}};0===e.length?t([]):Z(e,(function(e,t){e.get(i(t))}))}))},Ri=function(e){return Hi(e,Ui.nu)},Vi=function(e){var t=function(t){return e===t},n=function(t){return Vi(e)},r=function(t){return Vi(e)},i=function(t){return Vi(t(e))},o=function(t){return Vi(e)},a=function(t){t(e)},s=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},d=function(){return z.some(e)};return{is:t,isValue:H,isError:U,getOr:T(e),getOrThunk:T(e),getOrDie:T(e),or:n,orThunk:r,fold:u,map:i,mapError:o,each:a,bind:s,exists:c,forall:l,toOptional:d}},Qi=function(e){var t=function(e){return e()},n=function(){return F(String(e))()},r=function(e){return e},i=function(e){return e()},o=function(t){return Qi(e)},a=function(t){return Qi(t(e))},s=function(t){return Qi(e)},u=function(t,n){return t(e)};return{is:U,isValue:U,isError:H,getOr:I,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:u,map:o,mapError:a,each:D,bind:s,exists:U,forall:H,toOptional:z.none}},ji=function(e,t){return e.fold((function(){return Qi(t)}),Vi)},zi={value:Vi,error:Qi,fromOption:ji},Gi=function(e){if(!y(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Z(e,(function(r,i){var o=be(r);if(1!==o.length)throw new Error("one and only one name per case");var a=o[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!y(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+o);var u=function(e){var r=be(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));var i=le(t,(function(e){return X(r,e)}));if(!i)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var o=t[i];return o.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},Ki={generate:Gi},qi=(Ki.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(I,I)});function Wi(e,t,n,r,i){return e(n,r)?z.some(n):k(i)&&i(n)?z.none():t(n,r,i)}var $i,Xi,Yi,Ji,Zi,eo,to,no,ro,io,oo,ao,so,uo,co,lo,fo,Ao,ho,po=function(e,t,n){var r=e.dom,i=k(n)?n:U;while(r.parentNode){r=r.parentNode;var o=yn.fromDom(r);if(t(o))return z.some(o);if(i(o))break}return z.none()},mo=function(e,t,n){var r=function(e,t){return t(e)};return Wi(r,po,e,t,n)},go=function(e,t){var n=e.dom;return n.parentNode?vo(yn.fromDom(n.parentNode),(function(n){return!In(e,n)&&t(n)})):z.none()},vo=function(e,t){var n=function(e){return t(yn.fromDom(e))},r=ae(e.dom.childNodes,n);return r.map(yn.fromDom)},yo=function(e,t,n){return po(e,(function(e){return Dn(e,t)}),n)},bo=function(e,t){return Tn(t,e)},wo=function(e,t,n){var r=function(e,t){return Dn(e,t)};return Wi(r,yo,e,t,n)},xo=function(){var e=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(t,n)}},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,e(o,this),e(a,this))},r=n.immediateFn||"function"===typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)};function i(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void c(e(n,t),e(o,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(r){a.call(this,r)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}var c=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}};return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n((function(n,o){i.call(r,new u(e,t,n,o))}))},n.all=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=Array.prototype.slice.call(1===e.length&&t(e[0])?e[0]:e);return new n((function(e,t){if(0===i.length)return e([]);for(var n=i.length,r=function(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){r(o,e)}),t)}i[o]=a,0===--n&&e(i)}catch(u){t(u)}},o=0;o<i.length;o++)r(o,i[o])}))},n.resolve=function(e){return e&&"object"===typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},n},Co=window.Promise?window.Promise:xo(),So=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],i=function(e){window.setTimeout(e,0)},o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];n||(n=i),n(e,t)},ko=function(e,t){return"number"!==typeof t&&(t=0),setTimeout(e,t)},_o=function(e,t){return"number"!==typeof t&&(t=1),setInterval(e,t)},Bo=function(e){return clearTimeout(e)},Do=function(e){return clearInterval(e)},Mo=function(e,t){var n,r=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];clearTimeout(n),n=ko((function(){e.apply(this,r)}),t)};return r.stop=function(){clearTimeout(n)},r},Eo={requestAnimationFrame:function(e,t){$i?$i.then(e):$i=new Co((function(e){t||(t=document.body),So(e,t)})).then(e)},setTimeout:ko,setInterval:_o,setEditorTimeout:function(e,t,n){return ko((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=_o((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:Mo,throttle:Mo,clearInterval:Do,clearTimeout:Bo},To=function(e,t){void 0===t&&(t={});var n=0,r={},i=yn.fromDom(e),o=Gn(i),a=t.maxLoadTime||5e3,s=function(e){t.referrerPolicy=e},u=function(e){yr(dr(i),e)},c=function(e){var t=dr(i);bo(t,"#"+e).each(Sr)},l=function(e){return Te(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))},d=function(n,i,s){var c,d=An._addCacheSuffix(n),f=l(d);r[d]=f,f.count++;var A=function(e,t){var n=e.length;while(n--)e[n]();f.status=t,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},h=function(){return A(f.passed,2)},p=function(){return A(f.failed,3)},m=function(e,t){e()||(Date.now()-y<a?Eo.setTimeout(t):p())},g=function(){m((function(){var t=e.styleSheets,n=t.length;while(n--){var r=t[n],i=r.ownerNode;if(i&&i.id===c.id)return h(),!0}return!1}),g)};if(i&&f.passed.push(i),s&&f.failed.push(s),1!==f.status)if(2!==f.status)if(3!==f.status){f.status=1;var v=yn.fromTag("link",o.dom);li(v,{rel:"stylesheet",type:"text/css",id:f.id});var y=Date.now();t.contentCssCors&&ci(v,"crossOrigin","anonymous"),t.referrerPolicy&&ci(v,"referrerpolicy",t.referrerPolicy),c=v.dom,c.onload=g,c.onerror=p,u(v),ci(v,"href",d)}else p();else h()},f=function(e){return Ui.nu((function(t){d(e,M(t,T(zi.value(e))),M(t,T(zi.error(e))))}))},A=function(e,t,n){Ri(J(e,f)).get((function(e){var r=te(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(qi)):t(r.pass.map(qi))}))},h=function(e){var t=An._addCacheSuffix(e);Te(r,t).each((function(e){var n=--e.count;0===n&&(delete r[t],c(e.id))}))},p=function(e){Z(e,(function(e){h(e)}))};return{load:d,loadAll:A,unload:h,unloadAll:p,_setReferrerPolicy:s}},Io=function(){var e=new WeakMap,t=function(t,n){var r=lr(t),i=r.dom;return z.from(e.get(i)).getOrThunk((function(){var t=To(i,n);return e.set(i,t),t}))};return{forElement:t}},Oo=Io(),Lo=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var i,o;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(i=e[n],i)return i;for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[n],i)return i}}},e.prototype.findPreviousNode=function(e,t,n,r){var i,o,a;if(e){if(i=e[n],this.rootNode&&i===this.rootNode)return;if(i){if(!r)for(a=i[t];a;a=a[t])if(!a[t])return a;return i}if(o=e.parentNode,o&&o!==this.rootNode)return o}},e}(),Fo=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Po=["td","th"],No=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ho=["h1","h2","h3","h4","h5","h6"],Ro=["li","dd","dt"],Vo=["ul","ol","dl"],Qo=["pre","script","textarea","style"],jo=function(e){var t;return function(n){return t=t||Ae(e,H),t.hasOwnProperty(Pn(n))}},zo=jo(Ho),Go=jo(Fo),Ko=function(e){return"table"===Pn(e)},qo=function(e){return Rn(e)&&!Go(e)},Wo=function(e){return Rn(e)&&"br"===Pn(e)},$o=jo(Uo),Xo=jo(Vo),Yo=jo(Ro),Jo=jo(No),Zo=jo(Po),ea=jo(Qo),ta=function(e,t,n){return yo(e,t,n).isSome()},na="\ufeff",ra=" ",ia=function(e){return e===na},oa=function(e){return e.replace(/\uFEFF/g,"")},aa=na,sa=ia,ua=oa,ca=Vr,la=Yr,da=function(e){return la(e)&&(e=e.parentNode),ca(e)&&e.hasAttribute("data-mce-caret")},fa=function(e){return la(e)&&sa(e.data)},Aa=function(e){return da(e)||fa(e)},ha=function(e){return e.firstChild!==e.lastChild||!ti(e.firstChild)},pa=function(e,t){var n,r=e.ownerDocument,i=r.createTextNode(aa),o=e.parentNode;if(t){if(n=e.previousSibling,la(n)){if(Aa(n))return n;if(wa(n))return n.splitText(n.data.length-1)}o.insertBefore(i,e)}else{if(n=e.nextSibling,la(n)){if(Aa(n))return n;if(ba(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i)}return i},ma=function(e){var t=e.container();return!!Yr(t)&&(t.data.charAt(e.offset())===aa||e.isAtStart()&&fa(t.previousSibling))},ga=function(e){var t=e.container();return!!Yr(t)&&(t.data.charAt(e.offset()-1)===aa||e.isAtEnd()&&fa(t.nextSibling))},va=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},ya=function(e,t,n){var r=t.ownerDocument,i=r.createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(va());var o=t.parentNode;return n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i},ba=function(e){return la(e)&&e.data[0]===aa},wa=function(e){return la(e)&&e.data[e.data.length-1]===aa},xa=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Kr(n)&&n.parentNode.removeChild(n)},Ca=function(e){return e&&e.hasAttribute("data-mce-caret")?(xa(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Sa=function(e){return da(e.startContainer)},ka=ri,_a=ii,Ba=ti,Da=Yr,Ma=Qr(["script","style","textarea"]),Ea=Qr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ta=Qr(["table"]),Ia=Aa,Oa=function(e){return!Ia(e)&&(Da(e)?!Ma(e.parentNode):Ea(e)||Ba(e)||Ta(e)||Fa(e))},La=function(e){return Vr(e)&&"true"===e.getAttribute("unselectable")},Fa=function(e){return!1===La(e)&&_a(e)},Pa=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Fa(e))return!1;if(ka(e))return!0}return!0},Na=function(e){return!!Fa(e)&&!0!==ie(ve(e.getElementsByTagName("*")),(function(e,t){return e||ka(t)}),!1)},Ua=function(e){return Ea(e)||Na(e)},Ha=function(e,t){return Oa(e)&&Pa(e,t)},Ra=/^[ \t\r\n]*$/,Va=function(e){return Ra.test(e)},Qa=function(e,t){var n=yn.fromDom(t),r=yn.fromDom(e);return ta(r,"pre,code",O(In,n))},ja=function(e,t){return Yr(e)&&Va(e.data)&&!1===Qa(e,t)},za=function(e){return Vr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Ga=function(e,t){return Oa(e)&&!1===ja(e,t)||za(e)||Ka(e)},Ka=zr("data-mce-bookmark"),qa=zr("data-mce-bogus"),Wa=Gr("data-mce-bogus","all"),$a=function(e,t){var n,r=0;if(Ga(e,e))return!1;if(n=e.firstChild,!n)return!0;var i=new Lo(n,e);do{if(t){if(Wa(n)){n=i.next(!0);continue}if(qa(n)){n=i.next();continue}}if(ti(n))r++,n=i.next();else{if(Ga(n,e))return!1;n=i.next()}}while(n);return r<=1},Xa=function(e,t){return void 0===t&&(t=!0),$a(e.dom,t)},Ya=function(e){return"span"===e.nodeName.toLowerCase()},Ja=function(e,t){return S(e)&&(Ga(e,t)||qo(yn.fromDom(e)))},Za=function(e,t){var n=new Lo(e,t).prev(!1),r=new Lo(e,t).next(!1),i=x(n)||Ja(n,t),o=x(r)||Ja(r,t);return i&&o},es=function(e){return Ya(e)&&"bookmark"===e.getAttribute("data-mce-type")},ts=function(e,t){return Yr(e)&&e.data.length>0&&Za(e,t)},ns=function(e){return!!Vr(e)&&e.childNodes.length>0},rs=function(e){return ei(e)||Zr(e)},is=function(e,t,n){var r=n||t;if(Vr(t)&&es(t))return t;for(var i=t.childNodes,o=i.length-1;o>=0;o--)is(e,i[o],r);if(Vr(t)){var a=t.childNodes;1===a.length&&es(a[0])&&t.parentNode.insertBefore(a[0],t)}return rs(t)||Ga(t,r)||ns(t)||ts(t,r)||e.remove(t),t},os=An.makeMap,as=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ss=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,us=/[<>&\"\']/g,cs=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ls={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ds={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},fs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},As=function(e){var t=yn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},hs=function(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),ds[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}},ps=hs("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ms=function(e,t){return e.replace(t?as:ss,(function(e){return ds[e]||e}))},gs=function(e){return(""+e).replace(us,(function(e){return ds[e]||e}))},vs=function(e,t){return e.replace(t?as:ss,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ds[e]||"&#"+e.charCodeAt(0)+";"}))},ys=function(e,t,n){return n=n||ps,e.replace(t?as:ss,(function(e){return ds[e]||n[e]||e}))},bs=function(e,t){var n=hs(t)||ps,r=function(e,t){return e.replace(t?as:ss,(function(e){return void 0!==ds[e]?ds[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))},i=function(e,t){return ys(e,t,n)},o=os(e.replace(/\+/g,","));return o.named&&o.numeric?r:o.named?t?i:ys:o.numeric?vs:ms},ws=function(e){return e.replace(cs,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ls[t]||String.fromCharCode(t)):fs[e]||ps[e]||As(e)}))},xs={encodeRaw:ms,encodeAllRaw:gs,encodeNumeric:vs,encodeNamed:ys,getEncodeFunc:bs,decode:ws},Cs={},Ss={},ks=An.makeMap,_s=An.each,Bs=An.extend,Ds=An.explode,Ms=An.inArray,Es=function(e,t){return e=An.trim(e),e?e.split(t||" "):[]},Ts=function(e){var t,n,r,i,o,a,s={},u=function(e,n,r){var i,o,a,u=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i};r=r||[],n=n||"","string"===typeof r&&(r=Es(r));var c=Es(e);i=c.length;while(i--)o=Es([t,n].join(" ")),a={attributes:u(o),attributesOrder:o,children:u(r,Ss)},s[c[i]]=a},c=function(e,t){var n,r,i,o,a=Es(e);n=a.length;var u=Es(t);while(n--)for(r=s[a[n]],i=0,o=u.length;i<o;i++)r.attributes[u[i]]={},r.attributesOrder.push(u[i])};return Cs[e]?Cs[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),_s(Es(a),(function(e){u(e,"",r)})),o="center dir isindex noframes",n=[n,o].join(" "),i=[n,r].join(" "),_s(Es(o),(function(e){u(e,"",i)}))),i=i||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),u("address dt dd div caption","",i),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",i),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",i),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",i),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",i),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),u("param","name value"),u("map","name",[i,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",i),u("th","colspan rowspan headers scope abbr",i),u("form","accept-charset action autocomplete enctype method name novalidate target",i),u("fieldset","disabled form name",[i,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[i,"li"].join(" ")),u("noscript","",i),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",i),u("mark rt rp summary bdi","",r),u("canvas","width height",i),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",i),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[i,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",i),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[i,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),_s(Es("a form meter progress dfn"),(function(e){s[e]&&delete s[e].children[e]})),delete s.caption.children.table,delete s.script,Cs[e]=s,s)},Is=function(e,t){var n;return e&&(n={},"string"===typeof e&&(e={"*":e}),_s(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?ks(e,/[, ]/):Ds(e,/[, ]/)}))),n},Os=function(e){var t={},n={},r=[],i={},o={},a=function(t,n,r){var i=e[t];return i?i=ks(i,/[, ]/,ks(i.toUpperCase(),/[, ]/)):(i=Cs[t],i||(i=ks(n," ",ks(n.toUpperCase()," ")),i=Bs(i,r),Cs[t]=i)),i};e=e||{};var s=Ts(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var u=Is(e.valid_styles),c=Is(e.invalid_styles,"map"),l=Is(e.valid_classes,"map"),d=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),A=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),p="td th iframe video audio object script code",m=a("non_empty_elements",p+" pre",A),g=a("move_caret_before_on_enter_elements",p+" table",A),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),y=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),b=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");_s((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")}));var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,i,o,a,s,u,c,l,d,f,A,h,p,m,g,v,y,b,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e){var k=Es(e,",");for(t["@"]&&(v=t["@"].attributes,y=t["@"].attributesOrder),n=0,i=k.length;n<i;n++)if(s=x.exec(k[n]),s){if(m=s[1],d=s[2],g=s[3],l=s[5],h={},p=[],u={attributes:h,attributesOrder:p},"#"===m&&(u.paddEmpty=!0),"-"===m&&(u.removeEmpty=!0),"!"===s[4]&&(u.removeEmptyAttrs=!0),v&&(xe(v,(function(e,t){h[t]=e})),p.push.apply(p,y)),l)for(l=Es(l,"|"),o=0,a=l.length;o<a;o++)if(s=C.exec(l[o]),s){if(c={},A=s[1],f=s[2].replace(/[\\:]:/g,":"),m=s[3],b=s[4],"!"===A&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(f),c.required=!0),"-"===A){delete h[f],p.splice(Ms(p,f),1);continue}m&&("="===m&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:f,value:b}),c.defaultValue=b),":"===m&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:f,value:b}),c.forcedValue=b),"<"===m&&(c.validValues=ks(b,"?"))),S.test(f)?(u.attributePatterns=u.attributePatterns||[],c.pattern=w(f),u.attributePatterns.push(c)):(h[f]||p.push(f),h[f]=c)}v||"@"!==d||(v=h,y=p),g&&(u.outputName=d,t[g]=u),S.test(d)?(u.pattern=w(d),r.push(u)):t[d]=u}}},C=function(e){t={},r=[],x(e),_s(s,(function(e,t){n[t]=e.children}))},S=function(e){var r=/^(~)?(.+)$/;e&&(Cs.text_block_elements=Cs.block_elements=null,_s(Es(e,","),(function(e){var o=r.exec(e),a="~"===o[1],s=a?"span":"div",u=o[2];if(n[u]=n[s],i[u]=s,a||(y[u.toUpperCase()]={},y[u]={}),!t[u]){var c=t[s];c=Bs({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,t[u]=c}_s(n,(function(e,t){e[s]&&(n[t]=e=Bs({},n[t]),e[u]=e[s])}))})))},k=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Cs[e.schema]=null,t&&_s(Es(t,","),(function(e){var t,i,o=r.exec(e);o&&(i=o[1],t=i?n[o[2]]:n[o[2]]={"#comment":{}},t=n[o[2]],_s(Es(o[3],"|"),(function(e){"-"===i?delete t[e]:t[e]={}})))}))},_=function(e){var n,i=t[e];if(i)return i;n=r.length;while(n--)if(i=r[n],i.pattern.test(e))return i};e.valid_elements?C(e.valid_elements):(_s(s,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children})),"html5"!==e.schema&&_s(Es("strong/b em/i"),(function(e){var n=Es(e,"/");t[n[1]].outputName=n[0]})),_s(Es("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=!0)})),_s(Es("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=!0})),_s(Es("span"),(function(e){t[e].removeEmptyAttrs=!0}))),S(e.custom_elements),k(e.valid_children),x(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),_s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=Es(e))})),e.invalid_elements&&_s(Ds(e.invalid_elements),(function(e){t[e]&&delete t[e]})),_("span")||x("span[!data-mce-type|*]");var B=function(){return u},D=function(){return c},M=function(){return l},E=function(){return h},T=function(){return y},I=function(){return v},O=function(){return b},L=function(){return A},F=function(){return f},P=function(){return m},N=function(){return g},U=function(){return d},H=function(){return o},R=function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},V=function(e,t){var n,r,i=_(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(e))return!0}}return!1},Q=function(){return i};return{children:n,elements:t,getValidStyles:B,getValidClasses:M,getBlockElements:T,getInvalidStyles:D,getShortEndedElements:L,getTextBlockElements:I,getTextInlineElements:O,getBoolAttrs:E,getElementRule:_,getSelfClosingElements:F,getNonEmptyElements:P,getMoveCaretBeforeOnEnterElements:N,getWhiteSpaceElements:U,getSpecialElements:H,isValidChild:R,isValid:V,getCustomElements:Q,addValidElements:x,setValidElements:C,addCustomElements:S,addValidChildren:k}},Ls=function(e,t,n,r){var i=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)},Fs=function(e,t){var n,r,i,o=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},d=na;e=e||{},t&&(r=t.getValidStyles(),i=t.getInvalidStyles());var f=("\\\" \\' \\; \\: ; : "+d).split(" ");for(n=0;n<f.length;n++)l[f[n]]=d+n,l[d+n]=f[n];return{toHex:function(e){return e.replace(a,Ls)},parse:function(t){var r,i,f,A,h={},p=e.url_converter,m=e.url_converter_scope||o,g=function(e,t,r){var i=h[e+"-top"+t];if(i){var o=h[e+"-right"+t];if(o){var a=h[e+"-bottom"+t];if(a){var s=h[e+"-left"+t];if(s){var u=[i,o,a,s];n=u.length-1;while(n--)if(u[n]!==u[n+1])break;n>-1&&r||(h[e+t]=-1===n?u[0]:u.join(" "),delete h[e+"-top"+t],delete h[e+"-right"+t],delete h[e+"-bottom"+t],delete h[e+"-left"+t])}}}}},v=function(e){var t,n=h[e];if(n){n=n.split(" "),t=n.length;while(t--)if(n[t]!==n[0])return!1;return h[e]=n[0],!0}},y=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(h[e]=h[t]+" "+h[n]+" "+h[r],delete h[t],delete h[n],delete h[r])},b=function(e){return A=!0,l[e]},w=function(e,t){return A&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return l[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},C=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},S=function(t,n,r,i,o,a){if(o=o||a,o)return o=w(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=w(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,b)}));while(r=u.exec(t))if(u.lastIndex=r.index+r[0].length,i=r[1].replace(c,"").toLowerCase(),f=r[2].replace(c,""),i&&f){if(i=C(i),f=C(f),-1!==i.indexOf(d)||-1!==i.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(f)))continue;"font-weight"===i&&"700"===f?f="bold":"color"!==i&&"background-color"!==i||(f=f.toLowerCase()),f=f.replace(a,Ls),f=f.replace(s,S),h[i]=A?w(f,!0):f}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),y("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(e,t){var n="",o=function(t){var i,o=r[t];if(o)for(var a=0,s=o.length;a<s;a++)t=o[a],i=e[t],i&&(n+=(n.length>0?" ":"")+t+": "+i+";")},a=function(e,t){var n=i["*"];return(!n||!n[e])&&(n=i[t],!(n&&n[e]))};return t&&r?(o("*"),o(t)):xe(e,(function(e,r){!e||i&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},Ps="mce-data-",Ns=/^(?:mouse|contextmenu)|click/,Us={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Hs=function(e){return e.isDefaultPrevented===Vs||e.isDefaultPrevented===Rs},Rs=U,Vs=H,Qs=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},js=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},zs=function(e){return Ns.test(e.type)},Gs=function(e,t){var n,r=t||{};for(n in e)Us[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return e.composedPath()}),e&&zs(e)&&void 0===e.pageX&&void 0!==e.clientX){var i=r.target.ownerDocument||document,o=i.documentElement,a=i.body;r.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.defaultPrevented=!0,r.isDefaultPrevented=Vs,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0,r.isPropagationStopped=Vs,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Vs,r.stopPropagation()},!1===Hs(r)&&(r.isDefaultPrevented=!0===r.defaultPrevented?Vs:Rs,r.isPropagationStopped=!0===r.cancelBubble?Vs:Rs,r.isImmediatePropagationStopped=Rs),"undefined"===typeof r.metaKey&&(r.metaKey=!1),r},Ks=function(e,t,n){var r=e.document,i={type:"ready"};if(n.domLoaded)t(i);else{var o=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){js(e,"DOMContentLoaded",a),js(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};o()?a():Qs(e,"DOMContentLoaded",a),n.domLoaded||Qs(e,"load",a)}},qs=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Ps+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,r){var i,o,a,s,u,c,l,d=this,f=window,A=function(e){d.executeHandlers(Gs(e||f.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),r=r||e;var h=t.split(" ");a=h.length;while(a--)s=h[a],c=A,u=l=!1,"DOMContentLoaded"===s&&(s="ready"),d.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,Gs({type:s})):(d.hasMouseEnterLeave||(u=d.mouseEnterLeave[s],u&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=Gs(e||f.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))})),d.hasFocusIn||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){e=Gs(e||f.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),o=d.events[i][s],o?"ready"===s&&d.domLoaded?n(Gs({type:s})):o.push({func:n,scope:r}):(d.events[i][s]=o=[{func:n,scope:r}],o.fakeName=u,o.capture=l,o.nativeHandler=c,"ready"===s?Ks(e,c,d):Qs(e,u||s,c,l)));return e=o=null,n}},e.prototype.unbind=function(e,t,n){var r,i,o,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var u=e[this.expando];if(u){if(s=this.events[u],t){var c=t.split(" ");i=c.length;while(i--)if(a=c[i],r=s[a],r){if(n){o=r.length;while(o--)if(r[o].func===n){var l=r.nativeHandler,d=r.fakeName,f=r.capture;r=r.slice(0,o).concat(r.slice(o+1)),r.nativeHandler=l,r.fakeName=d,r.capture=f,s[a]=r}}n&&0!==r.length||(delete s[a],js(e,r.fakeName||a,r.nativeHandler,r.capture))}}else xe(s,(function(t,n){js(e,t.fakeName||n,t.nativeHandler,t.capture)})),s={};for(a in s)if(Ie(s,a))return this;delete this.events[u];try{delete e[this.expando]}catch(A){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var i=Gs(null,n);i.type=t,i.target=e;do{r=e[this.expando],r&&this.executeHandlers(i,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!i.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;while(t--)e=n[t],e[this.expando]&&this.unbind(e)}return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Ws="sizzle"+-new Date,$s=window.document,Xs=0,Ys=0,Js=Iu(),Zs=Iu(),eu=Iu(),tu=function(e,t){return e===t&&(oo=!0),0},nu="undefined",ru=1<<31,iu={}.hasOwnProperty,ou=[],au=ou.pop,su=ou.push,uu=ou.push,cu=ou.slice,lu=ou.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},du="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fu="[\\x20\\t\\r\\n\\f]",Au="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",hu="\\["+fu+"*("+Au+")(?:"+fu+"*([*^$|!~]?=)"+fu+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Au+"))|)"+fu+"*\\]",pu=":("+Au+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+hu+")*)|.*)\\)|)",mu=new RegExp("^"+fu+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fu+"+$","g"),gu=new RegExp("^"+fu+"*,"+fu+"*"),vu=new RegExp("^"+fu+"*([>+~]|"+fu+")"+fu+"*"),yu=new RegExp("="+fu+"*([^\\]'\"]*?)"+fu+"*\\]","g"),bu=new RegExp(pu),wu=new RegExp("^"+Au+"$"),xu={ID:new RegExp("^#("+Au+")"),CLASS:new RegExp("^\\.("+Au+")"),TAG:new RegExp("^("+Au+"|[*])"),ATTR:new RegExp("^"+hu),PSEUDO:new RegExp("^"+pu),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fu+"*(even|odd|(([+-]|)(\\d*)n|)"+fu+"*(?:([+-]|)"+fu+"*(\\d+)|))"+fu+"*\\)|)","i"),bool:new RegExp("^(?:"+du+")$","i"),needsContext:new RegExp("^"+fu+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fu+"*((?:-\\d)?\\d*)"+fu+"*\\)|)(?=[^-]|$)","i")},Cu=/^(?:input|select|textarea|button)$/i,Su=/^h\d$/i,ku=/^[^{]+\{\s*\[native \w/,_u=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Bu=/[+~]/,Du=/'|\\/g,Mu=new RegExp("\\\\([\\da-f]{1,6}"+fu+"?|("+fu+")|.)","ig"),Eu=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{uu.apply(ou=cu.call($s.childNodes),$s.childNodes),ou[$s.childNodes.length].nodeType}catch(LR){uu={apply:ou.length?function(e,t){su.apply(e,cu.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}var Tu=function(e,t,n,r){var i,o,a,s,u,c,l,d,f,A;if((t?t.ownerDocument||t:$s)!==so&&ao(t),t=t||so,n=n||[],!e||"string"!==typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(co&&!r){if(i=_u.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&ho(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return uu.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&Xi.getElementsByClassName)return uu.apply(n,t.getElementsByClassName(a)),n}if(Xi.qsa&&(!lo||!lo.test(e))){if(d=l=Ws,f=t,A=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){c=eo(e),(l=t.getAttribute("id"))?d=l.replace(Du,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;while(u--)c[u]=d+Ru(c[u]);f=Bu.test(e)&&Uu(t.parentNode)||t,A=c.join(",")}if(A)try{return uu.apply(n,f.querySelectorAll(A)),n}catch(h){}finally{l||t.removeAttribute("id")}}}return no(e.replace(mu,"$1"),t,n,r)};function Iu(){var e=[];function t(n,r){return e.push(n+" ")>Yi.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function Ou(e){return e[Ws]=!0,e}function Lu(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||ru)-(~e.sourceIndex||ru);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function Fu(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function Pu(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Nu(e){return Ou((function(t){return t=+t,Ou((function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function Uu(e){return e&&typeof e.getElementsByTagName!==nu&&e}function Hu(){}function Ru(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Vu(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=Ys++;return t.first?function(t,n,o){while(t=t[r])if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[Xs,o];if(a){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||i){if(u=t[Ws]||(t[Ws]={}),(s=u[r])&&s[0]===Xs&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function Qu(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ju(e,t,n){for(var r=0,i=t.length;r<i;r++)Tu(e,t[r],n);return n}function zu(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Gu(e,t,n,r,i,o){return r&&!r[Ws]&&(r=Gu(r)),i&&!i[Ws]&&(i=Gu(i,o)),Ou((function(o,a,s,u){var c,l,d,f=[],A=[],h=a.length,p=o||ju(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?p:zu(p,f,e,s,u),g=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,g,s,u),r){c=zu(g,A),r(c,[],s,u),l=c.length;while(l--)(d=c[l])&&(g[A[l]]=!(m[A[l]]=d))}if(o){if(i||e){if(i){c=[],l=g.length;while(l--)(d=g[l])&&c.push(m[l]=d);i(null,g=[],c,u)}l=g.length;while(l--)(d=g[l])&&(c=i?lu.call(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else g=zu(g===a?g.splice(h,g.length):g),i?i(null,a,g,u):uu.apply(a,g)}))}function Ku(e){for(var t,n,r,i=e.length,o=Yi.relative[e[0].type],a=o||Yi.relative[" "],s=o?1:0,u=Vu((function(e){return e===t}),a,!0),c=Vu((function(e){return lu.call(t,e)>-1}),a,!0),l=[function(e,n,r){var i=!o&&(r||n!==ro)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=Yi.relative[e[s].type])l=[Vu(Qu(l),n)];else{if(n=Yi.filter[e[s].type].apply(null,e[s].matches),n[Ws]){for(r=++s;r<i;r++)if(Yi.relative[e[r].type])break;return Gu(s>1&&Qu(l),s>1&&Ru(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(mu,"$1"),n,s<r&&Ku(e.slice(s,r)),r<i&&Ku(e=e.slice(r)),r<i&&Ru(e))}l.push(n)}return Qu(l)}function qu(e,t){var n=t.length>0,r=e.length>0,i=function(i,o,a,s,u){var c,l,d,f=0,A="0",h=i&&[],p=[],m=ro,g=i||r&&Yi.find.TAG("*",u),v=Xs+=null==m?1:Math.random()||.1,y=g.length;for(u&&(ro=o!==so&&o);A!==y&&null!=(c=g[A]);A++){if(r&&c){l=0;while(d=e[l++])if(d(c,o,a)){s.push(c);break}u&&(Xs=v)}n&&((c=!d&&c)&&f--,i&&h.push(c))}if(f+=A,n&&A!==f){l=0;while(d=t[l++])d(h,p,o,a);if(i){if(f>0)while(A--)h[A]||p[A]||(p[A]=au.call(s));p=zu(p)}uu.apply(s,p),u&&!i&&p.length>0&&f+t.length>1&&Tu.uniqueSort(s)}return u&&(Xs=v,ro=m),h};return n?Ou(i):i}Xi=Tu.support={},Zi=Tu.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ao=Tu.setDocument=function(e){var t,n=e?e.ownerDocument||e:$s,r=n.defaultView;function i(e){try{return e.top}catch(t){}return null}return n!==so&&9===n.nodeType&&n.documentElement?(so=n,uo=n.documentElement,co=!Zi(n),r&&r!==i(r)&&(r.addEventListener?r.addEventListener("unload",(function(){ao()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){ao()}))),Xi.attributes=!0,Xi.getElementsByTagName=!0,Xi.getElementsByClassName=ku.test(n.getElementsByClassName),Xi.getById=!0,Yi.find.ID=function(e,t){if(typeof t.getElementById!==nu&&co){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Yi.filter.ID=function(e){var t=e.replace(Mu,Eu);return function(e){return e.getAttribute("id")===t}},Yi.find.TAG=Xi.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==nu)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},Yi.find.CLASS=Xi.getElementsByClassName&&function(e,t){if(co)return t.getElementsByClassName(e)},fo=[],lo=[],Xi.disconnectedMatch=!0,lo=lo.length&&new RegExp(lo.join("|")),fo=fo.length&&new RegExp(fo.join("|")),t=ku.test(uo.compareDocumentPosition),ho=t||ku.test(uo.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},tu=t?function(e,t){if(e===t)return oo=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!Xi.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$s&&ho($s,e)?-1:t===n||t.ownerDocument===$s&&ho($s,t)?1:io?lu.call(io,e)-lu.call(io,t):0:4&r?-1:1)}:function(e,t){if(e===t)return oo=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],u=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:io?lu.call(io,e)-lu.call(io,t):0;if(o===a)return Lu(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)u.unshift(r);while(s[i]===u[i])i++;return i?Lu(s[i],u[i]):s[i]===$s?-1:u[i]===$s?1:0},n):so},Tu.matches=function(e,t){return Tu(e,null,null,t)},Tu.matchesSelector=function(e,t){if((e.ownerDocument||e)!==so&&ao(e),t=t.replace(yu,"='$1']"),Xi.matchesSelector&&co&&(!fo||!fo.test(t))&&(!lo||!lo.test(t)))try{var n=Ao.call(e,t);if(n||Xi.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(LR){}return Tu(t,so,null,[e]).length>0},Tu.contains=function(e,t){return(e.ownerDocument||e)!==so&&ao(e),ho(e,t)},Tu.attr=function(e,t){(e.ownerDocument||e)!==so&&ao(e);var n=Yi.attrHandle[t.toLowerCase()],r=n&&iu.call(Yi.attrHandle,t.toLowerCase())?n(e,t,!co):void 0;return void 0!==r?r:Xi.attributes||!co?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Tu.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Tu.uniqueSort=function(e){var t,n=[],r=0,i=0;if(oo=!Xi.detectDuplicates,io=!Xi.sortStable&&e.slice(0),e.sort(tu),oo){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return io=null,e},Ji=Tu.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Ji(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=Ji(t);return n},Yi=Tu.selectors={cacheLength:50,createPseudo:Ou,match:xu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Mu,Eu),e[3]=(e[3]||e[4]||e[5]||"").replace(Mu,Eu),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Tu.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Tu.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return xu.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&bu.test(n)&&(t=eo(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Mu,Eu).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Js[e+" "];return t||(t=new RegExp("(^|"+fu+")"+e+"("+fu+"|$)"))&&Js(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==nu&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Tu.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,A,h,p=o!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(p){d=t;while(d=d[p])if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=p="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){l=m[Ws]||(m[Ws]={}),c=l[e]||[],A=c[0]===Xs&&c[1],f=c[0]===Xs&&c[2],d=A&&m.childNodes[A];while(d=++A&&d&&d[p]||(f=A=0)||h.pop())if(1===d.nodeType&&++f&&d===t){l[e]=[Xs,A,f];break}}else if(v&&(c=(t[Ws]||(t[Ws]={}))[e])&&c[0]===Xs)f=c[1];else while(d=++A&&d&&d[p]||(f=A=0)||h.pop())if((s?d.nodeName.toLowerCase()===g:1===d.nodeType)&&++f&&(v&&((d[Ws]||(d[Ws]={}))[e]=[Xs,f]),d===t))break;return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=Yi.pseudos[e]||Yi.setFilters[e.toLowerCase()]||Tu.error("unsupported pseudo: "+e);return r[Ws]?r(t):r.length>1?(n=[e,e,"",t],Yi.setFilters.hasOwnProperty(e.toLowerCase())?Ou((function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=lu.call(e,o[a]),e[i]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:Ou((function(e){var t=[],n=[],r=to(e.replace(mu,"$1"));return r[Ws]?Ou((function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:Ou((function(e){return function(t){return Tu(e,t).length>0}})),contains:Ou((function(e){return e=e.replace(Mu,Eu),function(t){return(t.textContent||t.innerText||Ji(t)).indexOf(e)>-1}})),lang:Ou((function(e){return wu.test(e||"")||Tu.error("unsupported lang: "+e),e=e.replace(Mu,Eu).toLowerCase(),function(t){var n;do{if(n=co?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===uo},focus:function(e){return e===so.activeElement&&(!so.hasFocus||so.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Yi.pseudos.empty(e)},header:function(e){return Su.test(e.nodeName)},input:function(e){return Cu.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Nu((function(){return[0]})),last:Nu((function(e,t){return[t-1]})),eq:Nu((function(e,t,n){return[n<0?n+t:n]})),even:Nu((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Nu((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Nu((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:Nu((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},Yi.pseudos.nth=Yi.pseudos.eq,Z(["radio","checkbox","file","password","image"],(function(e){Yi.pseudos[e]=Fu(e)})),Z(["submit","reset"],(function(e){Yi.pseudos[e]=Pu(e)})),Hu.prototype=Yi.filters=Yi.pseudos,Yi.setFilters=new Hu,eo=Tu.tokenize=function(e,t){var n,r,i,o,a,s,u,c=Zs[e+" "];if(c)return t?0:c.slice(0);a=e,s=[],u=Yi.preFilter;while(a){for(o in n&&!(r=gu.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=vu.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(mu," ")}),a=a.slice(n.length)),Yi.filter)Yi.filter.hasOwnProperty(o)&&(!(r=xu[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Tu.error(e):Zs(e,s).slice(0)},to=Tu.compile=function(e,t){var n,r=[],i=[],o=eu[e+" "];if(!o){t||(t=eo(e)),n=t.length;while(n--)o=Ku(t[n]),o[Ws]?r.push(o):i.push(o);o=eu(e,qu(i,r)),o.selector=e}return o},no=Tu.select=function(e,t,n,r){var i,o,a,s,u,c="function"===typeof e&&e,l=!r&&eo(e=c.selector||e);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&Xi.getById&&9===t.nodeType&&co&&Yi.relative[o[1].type]){if(t=(Yi.find.ID(a.matches[0].replace(Mu,Eu),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=xu.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],Yi.relative[s=a.type])break;if((u=Yi.find[s])&&(r=u(a.matches[0].replace(Mu,Eu),Bu.test(o[0].type)&&Uu(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&Ru(o),!e)return uu.apply(n,r),n;break}}}return(c||to(e,l))(r,t,!co,n,Bu.test(e)&&Uu(t.parentNode)||t),n},Xi.sortStable=Ws.split("").sort(tu).join("")===Ws,Xi.detectDuplicates=!!oo,ao(),Xi.sortDetached=!0;var Wu=document,$u=Array.prototype.push,Xu=Array.prototype.slice,Yu=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ju=qs.Event,Zu=An.makeMap("children,contents,next,prev"),ec=function(e){return"undefined"!==typeof e},tc=function(e){return"string"===typeof e},nc=function(e){return e&&e===e.window},rc=function(e,t){t=t||Wu;var n,r=t.createElement("div"),i=t.createDocumentFragment();r.innerHTML=e;while(n=r.firstChild)i.appendChild(n);return i},ic=function(e,t,n,r){var i;if(tc(t))t=rc(t,yc(e[0]));else if(t.length&&!t.nodeType){if(t=Cc.makeArray(t),r)for(i=t.length-1;i>=0;i--)ic(e,t[i],n,r);else for(i=0;i<t.length;i++)ic(e,t[i],n,r);return e}if(t.nodeType){i=e.length;while(i--)n.call(e[i],t)}return e},oc=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},ac=function(e,t,n){var r,i;return t=Cc(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e)),i.appendChild(e)})),e},sc=An.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),uc=An.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),cc={for:"htmlFor",class:"className",readonly:"readOnly"},lc={float:"cssFloat"},dc={},fc={},Ac=function(e,t){return new Cc.fn.init(e,t)},hc=function(e,t){var n;if(t.indexOf)return t.indexOf(e);n=t.length;while(n--)if(t[n]===e)return n;return-1},pc=/^\s*|\s*$/g,mc=function(e){return null===e||void 0===e?"":(""+e).replace(pc,"")},gc=function(e,t){var n,r,i,o;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===t.call(o,r,o)))break}else for(i=0;i<n;i++)if(o=e[i],!1===t.call(o,i,o))break;return e},vc=function(e,t){var n=[];return gc(e,(function(e,r){t(r,e)&&n.push(r)})),n},yc=function(e){return e?9===e.nodeType?e:e.ownerDocument:Wu};Ac.fn=Ac.prototype={constructor:Ac,selector:"",context:null,length:0,init:function(e,t){var n,r,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return Cc(e).attr(t);i.context=t=document}if(tc(e)){if(i.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Yu.exec(e),!n)return Cc(t).find(e);if(n[1]){r=rc(e,yc(t)).firstChild;while(r)$u.call(i,r),r=r.nextSibling}else{if(r=yc(t).getElementById(n[2]),!r)return i;if(r.id!==n[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1);return i},toArray:function(){return An.toArray(this)},add:function(e,t){var n,r,i=this;if(tc(e))return i.add(Cc(e));if(!1!==t)for(n=Cc.unique(i.toArray().concat(Cc.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else $u.apply(i,Cc.makeArray(e));return i},attr:function(e,t){var n,r=this;if("object"===typeof e)gc(e,(function(e,t){r.attr(e,t)}));else{if(!ec(t)){if(r[0]&&1===r[0].nodeType){if(n=dc[e],n&&n.get)return n.get(r[0],e);if(uc[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if(n=dc[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=cc[e]||e,"object"===typeof e)gc(e,(function(e,t){n.prop(e,t)}));else{if(!ec(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,i=this,o=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"===typeof e)gc(e,(function(e,t){i.css(e,t)}));else if(ec(t))e=o(e),"number"!==typeof t||sc[e]||(t=t.toString()+"px"),i.each((function(){var n=this.style;if(r=fc[e],r&&r.set)r.set(this,t);else{try{this.style[lc[e]||e]=t}catch(i){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=i[0],r=fc[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(s){return}}return i},remove:function(){var e,t=this,n=this.length;while(n--)e=t[n],Ju.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){var e,t=this,n=this.length;while(n--){e=t[n];while(e.firstChild)e.removeChild(e.firstChild)}return this},html:function(e){var t,n=this;if(ec(e)){t=n.length;try{while(t--)n[t].innerHTML=e}catch(r){Cc(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(ec(e)){t=n.length;while(t--)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return ic(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return ic(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?ic(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?ic(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return Cc(e).append(this),this},prependTo:function(e){return Cc(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ac(this,e)},wrapAll:function(e){return ac(this,e,!0)},wrapInner:function(e){return this.each((function(){Cc(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){Cc(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),Cc(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!==typeof e||(-1!==e.indexOf(" ")?gc(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var i=oc(r,e);if(i!==t){var o=r.className;i?r.className=mc((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e}}))),n},hasClass:function(e){return oc(this[0],e)},each:function(e){return gc(this,e)},on:function(e,t){return this.each((function(){Ju.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Ju.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Ju.fire(this,e.type,e):Ju.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Cc(Xu.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Cc.find(e,this[t],r);return Cc(r)},filter:function(e){return Cc("function"===typeof e?vc(this.toArray(),(function(t,n){return e(n,t)})):Cc.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Cc&&(e=e[0]),this.each((function(n,r){while(r){if("string"===typeof e&&Cc(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),Cc(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(i=t.getBoundingClientRect(),o=i.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:$u,sort:Array.prototype.sort,splice:Array.prototype.splice},An.extend(Ac,{extend:An.extend,makeArray:function(e){return nc(e)||e.nodeType?[e]:An.toArray(e)},inArray:hc,isArray:An.isArray,each:gc,trim:mc,grep:vc,find:Tu,expr:Tu.selectors,unique:Tu.uniqueSort,text:Tu.getText,contains:Tu.contains,filter:function(e,t,n){var r=t.length;n&&(e=":not("+e+")");while(r--)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Cc.find.matchesSelector(t[0],e)?[t[0]]:[]:Cc.find.matches(e,t),t}});var bc=function(e,t,n){var r=[],i=e[t];"string"!==typeof n&&n instanceof Cc&&(n=n[0]);while(i&&9!==i.nodeType){if(void 0!==n){if(i===n)break;if("string"===typeof n&&Cc(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r},wc=function(e,t,n,r){var i=[];for(r instanceof Cc&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"===typeof r&&Cc(e).is(r))break}i.push(e)}return i},xc=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};gc({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return bc(e,"parentNode")},next:function(e){return xc(e,"nextSibling",1)},prev:function(e){return xc(e,"previousSibling",1)},children:function(e){return wc(e.firstChild,"nextSibling",1)},contents:function(e){return An.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){Ac.fn[e]=function(n){var r=this,i=[];r.each((function(){var e=t.call(i,this,n,i);e&&(Cc.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(Zu[e]||(i=Cc.unique(i)),0===e.indexOf("parents")&&(i=i.reverse()));var o=Cc(i);return n?o.filter(n):o}})),gc({parentsUntil:function(e,t){return bc(e,"parentNode",t)},nextUntil:function(e,t){return wc(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return wc(e,"previousSibling",1,t).slice(1)}},(function(e,t){Ac.fn[e]=function(n,r){var i=this,o=[];i.each((function(){var e=t.call(o,this,n,o);e&&(Cc.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=Cc.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var a=Cc(o);return r?a.filter(r):a}})),Ac.fn.is=function(e){return!!e&&this.filter(e).length>0},Ac.fn.init.prototype=Ac.fn,Ac.overrideDefaults=function(e){var t,n=function(r,i){return t=t||e(),0===arguments.length&&(r=t.element),i||(i=t.context),new n.fn.init(r,i)};return Cc.extend(n,this),n},Ac.attrHooks=dc,Ac.cssHooks=fc;var Cc=Ac,Sc=An.each,kc=An.grep,_c=Zt.ie,Bc=/^([a-z0-9],?)+$/i,Dc=function(e,t,n){var r=t.keep_values,i={set:function(e,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,i,e[0])),e.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},o={style:{set:function(t,n){null===n||"object"!==typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"===typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName),n}}};return r&&(o.href=o.src=i),o},Mc=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Ec=function(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(i++,n=r);return i},Tc=function(e,t){void 0===t&&(t={});var n={},r=window,i={},o=0,a=!0,s=!0,u=Oo.forElement(yn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],l=t.schema?t.schema:Os({}),d=Fs({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),f=t.ownEvents?new qs:qs.Event,A=l.getBlockElements(),h=Cc.overrideDefaults((function(){return{context:e,element:Ee.getRoot()}})),p=function(e){if("string"===typeof e)return!!A[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!A[e.nodeName])}return!1},m=function(t){return t&&e&&g(t)?e.getElementById(t):t},v=function(e){return h("string"===typeof e?m(e):e)},y=function(e,t,n){var r,i,o=v(e);return o.length&&(r=Te[t],i=r&&r.get?r.get(o,t):o.attr(t)),"undefined"===typeof i&&(i=n||""),i},b=function(e){var t=m(e);return t?t.attributes:[]},w=function(e,n,r){""===r&&(r=null);var i=v(e),o=i.attr(n);if(i.length){var a=Te[n];a&&a.set?a.set(i,r,n):i.attr(n,r),o!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:i,attrName:n,attrValue:r})}},x=function(t,n){if(!_c||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return Sc(b(t),(function(e){w(r,e.nodeName,y(t,e.nodeName))})),r},S=function(){return t.root_element||e.body},k=function(e){var t=Ur(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},_=function(t,n){return Bi(e.body,m(t),n)},B=function(e,n,r){var i=g(n)?v(e).css(n,r):v(e).css(n);t.update_styles&&Mc(d,i)},M=function(e,n){var r=v(e).css(n);t.update_styles&&Mc(d,r)},E=function(e,t,n){var r=v(e);return n?r.css(t):(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})),"float"===t&&(t=Zt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},T=function(e){var t,n;return e=m(e),t=E(e,"width"),n=E(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},I=function(e){e=m(e);var t=_(e),n=T(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},O=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Bc.test(t)){var r=t.toLowerCase().split(/,/),i=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===i)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return Tu(t,o[0].ownerDocument||o[0],null,o).length>0},L=function(e,t,n,r){var i,o=[],a=m(e);r=void 0===r,n=n||("BODY"!==S().nodeName?S().parentNode:null),An.is(t,"string")&&(i=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return O(e,i)});while(a){if(a===n||C(a.nodeType)||Zr(a)||ei(a))break;if(!t||"function"===typeof t&&t(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null},F=function(e,t,n){var r=L(e,t,n,!1);return r&&r.length>0?r[0]:null},P=function(e,t,n){var r=t;if(e)for("string"===typeof t&&(r=function(e){return O(e,t)}),e=e[n];e;e=e[n])if("function"===typeof r&&r(e))return e;return null},N=function(e,t){return P(e,t,"nextSibling")},U=function(e,t){return P(e,t,"previousSibling")},H=function(n,r){return Tu(n,m(r)||t.root_element||e,[])},R=function(e,t,n){var r,i="string"===typeof e?m(e):e;if(!i)return!1;if(An.isArray(i)&&(i.length||0===i.length))return r=[],Sc(i,(function(e,i){e&&r.push(t.call(n,"string"===typeof e?m(e):e,i))})),r;var o=n||this;return t.call(o,i)},V=function(e,t){v(e).each((function(e,n){Sc(t,(function(e,t){w(n,t,e)}))}))},Q=function(e,t){var n=v(e);_c?n.each((function(e,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){Cc("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},j=function(t,n,r,i,o){return R(t,(function(t){var a="string"===typeof n?e.createElement(n):n;return V(a,r),i&&("string"!==typeof i&&i.nodeType?a.appendChild(i):"string"===typeof i&&Q(a,i)),o?a:t.appendChild(a)}))},z=function(t,n,r){return j(e.createElement(t),t,n,r,!0)},G=xs.decode,K=xs.encodeAllRaw,q=function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!==typeof t[r]&&(i+=" "+r+'="'+K(t[r])+'"');return"undefined"!==typeof n?i+">"+n+"</"+e+">":i+" />"},W=function(t){var n,r=e.createElement("div"),i=e.createDocumentFragment();i.appendChild(r),t&&(r.innerHTML=t);while(n=r.firstChild)i.appendChild(n);return i.removeChild(r),i},$=function(e,t){var n=v(e);return t?n.each((function(){var e;while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},X=function(e){return R(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},Y=function(e){return d.parse(e)},J=function(e,t){return d.serialize(e,t)},ee=function(t){var r,i;if(Ee!==Tc.DOM&&e===document){if(n[t])return;n[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},te=function(e){e||(e=""),Z(e.split(","),(function(e){i[e]=!0,u.load(e,D)}))},ne=function(e,t,n){v(e).toggleClass(t,n).each((function(){""===this.className&&Cc(this).attr("class",null)}))},re=function(e,t){v(e).addClass(t)},ie=function(e,t){ne(e,t,!1)},oe=function(e,t){return v(e).hasClass(t)},ae=function(e){v(e).show()},se=function(e){v(e).hide()},ue=function(e){return"none"===v(e).css("display")},ce=function(e){return(e||"mce_")+o++},le=function(e){var t="string"===typeof e?m(e):e;return Vr(t)?t.outerHTML:Cc("<div></div>").append(Cc(t).clone()).html()},de=function(e,t){v(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}$(Cc(this).html(t),!0)}))},fe=function(e,t){var n=m(t);return R(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},Ae=function(e,t,n){return R(t,(function(t){return An.is(t,"array")&&(e=e.cloneNode(!0)),n&&Sc(kc(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},he=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=z(t),Sc(b(e),(function(t){w(n,t.nodeName,y(e,t.nodeName))})),Ae(n,e,!0)),n||e},pe=function(e,t){var n,r=e;while(r){n=t;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},me=function(e){return d.toHex(An.trim(e))},ge=function(e){if(Vr(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t)return!0}return!1},ve=function(e,t){var n,r,i=0;if(ge(e))return!1;if(e=e.firstChild,e){var o=new Lo(e,e.parentNode),a=l?l.getWhiteSpaceElements():{};t=t||(l?l.getNonEmptyElements():null);do{if(n=e.nodeType,Vr(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=o.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){i++,e=o.next();continue}return!1}if(ge(e))return!1}if(8===n)return!1;if(3===n&&!Va(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Va(e.nodeValue))return!1;e=o.next()}while(e)}return i<=1},ye=function(){return e.createRange()},be=function(e,t,n){var r,i,o,a=ye();if(e&&t)return a.setStart(e.parentNode,Ec(e)),a.setEnd(t.parentNode,Ec(t)),r=a.extractContents(),a=ye(),a.setStart(t.parentNode,Ec(t)+1),a.setEnd(e.parentNode,Ec(e)+1),i=a.extractContents(),o=e.parentNode,o.insertBefore(is(Ee,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(is(Ee,i),e),$(e),n||t},we=function(n,i,o,a){if(An.isArray(n)){var s=n.length,u=[];while(s--)u[s]=we(n[s],i,o,a);return u}!t.collect||n!==e&&n!==r||c.push([n,i,o,a]);var l=f.bind(n,i,o,a||Ee);return l},Ce=function(t,n,i){if(An.isArray(t)){var o=t.length,a=[];while(o--)a[o]=Ce(t[o],n,i);return a}if(c.length>0&&(t===e||t===r)){o=c.length;while(o--){var s=c[o];t!==s[0]||n&&n!==s[1]||i&&i!==s[2]||f.unbind(s[0],s[1],s[2])}}return f.unbind(t,n,i)},Se=function(e,t,n){return f.fire(e,t,n)},ke=function(e){if(e&&Vr(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},_e=function(e){for(var t=S(),n=null;e&&e!==t;e=e.parentNode)if(n=ke(e),null!==n)break;return n},Be=function(){if(c.length>0){var e=c.length;while(e--){var t=c[e];f.unbind(t[0],t[1],t[2])}}xe(i,(function(e,t){u.unload(t),delete i[t]})),Tu.setDocument&&Tu.setDocument()},De=function(e,t){while(e){if(t===e)return!0;e=e.parentNode}return!1},Me=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Ee={doc:e,settings:t,win:r,files:i,stdMode:a,boxModel:s,styleSheetLoader:u,boundEvents:c,styles:d,schema:l,events:f,isBlock:p,$:h,$$:v,root:null,clone:x,getRoot:S,getViewPort:k,getRect:I,getSize:T,getParent:F,getParents:L,get:m,getNext:N,getPrev:U,select:H,is:O,add:j,create:z,createHTML:q,createFragment:W,remove:$,setStyle:B,getStyle:E,setStyles:M,removeAllAttribs:X,setAttrib:w,setAttribs:V,getAttrib:y,getPos:_,parseStyle:Y,serializeStyle:J,addStyle:ee,loadCSS:te,addClass:re,removeClass:ie,hasClass:oe,toggleClass:ne,show:ae,hide:se,isHidden:ue,uniqueId:ce,setHTML:Q,getOuterHTML:le,setOuterHTML:de,decode:G,encode:K,insertAfter:fe,replace:Ae,rename:he,findCommonAncestor:pe,toHex:me,run:R,getAttribs:b,isEmpty:ve,createRng:ye,nodeIndex:Ec,split:be,bind:we,unbind:Ce,fire:Se,getContentEditable:ke,getContentEditableParent:_e,destroy:Be,isChildOf:De,dumpRng:Me},Te=Dc(d,t,(function(){return Ee}));return Ee};Tc.DOM=Tc(document),Tc.nodeIndex=Ec;var Ic=Tc.DOM,Oc=An.each,Lc=An.grep,Fc=0,Pc=1,Nc=2,Uc=3,Hc=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var r,i=Ic,o=function(){i.remove(u),r&&(r.onerror=r.onload=r=null)},a=function(){o(),t()},s=function(){o(),k(n)?n():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+e)},u=i.uniqueId();r=document.createElement("script"),r.id=u,r.type="text/javascript",r.src=An._addCacheSuffix(e),this.settings.referrerPolicy&&i.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},e.prototype.isDone=function(e){return this.states[e]===Nc},e.prototype.markDone=function(e){this.states[e]=Nc},e.prototype.add=function(e,t,n,r){var i=this.states[e];this.queue.push(e),void 0===i&&(this.states[e]=Fc),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var i=this,o=[],a=function(e,t){Oc(i.scriptLoadedCallbacks[t],(function(t){k(t[e])&&t[e].call(t.scope)})),i.scriptLoadedCallbacks[t]=void 0};i.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t=Lc(e);if(e.length=0,Oc(t,(function(e){i.states[e]!==Nc?i.states[e]!==Uc?i.states[e]!==Pc&&(i.states[e]=Pc,i.loading++,i.loadScript(e,(function(){i.states[e]=Nc,i.loading--,a("success",e),s()}),(function(){i.states[e]=Uc,i.loading--,o.push(e),a("failure",e),s()}))):a("failure",e):a("success",e)})),!i.loading){var n=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,Oc(n,(function(e){0===o.length?k(e.success)&&e.success.call(e.scope):k(e.failure)&&e.failure.call(e.scope,o)}))}};s()},e.ScriptLoader=new e,e}(),Rc=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Vc=function(e){return v(e)&&Ie(e,"raw")},Qc=function(e){return y(e)&&e.length>1},jc={},zc=Rc("en"),Gc=function(){return Te(jc,zc.get())},Kc=function(){return Ce(jc,(function(e){return ze({},e)}))},qc=function(e){e&&zc.set(e)},Wc=function(){return zc.get()},$c=function(e,t){var n=jc[e];n||(jc[e]=n={}),xe(t,(function(e,t){n[t.toLowerCase()]=e}))},Xc=function(e){var t=Gc().getOr({}),n=function(e){return k(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},i=function(e){var r=n(e);return Te(t,r.toLowerCase()).map(n).getOr(r)},o=function(e){return e.replace(/{context:\w+}$/,"")};if(r(e))return"";if(Vc(e))return n(e.raw);if(Qc(e)){var a=e.slice(1),s=i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Ie(a,t)?n(a[t]):e}));return o(s)}return o(i(e))},Yc=function(){return Gc().bind((function(e){return Te(e,"_dir")})).exists((function(e){return"rtl"===e}))},Jc=function(e){return Ie(jc,e)},Zc={getData:Kc,setCode:qc,getCode:Wc,add:$c,translate:Xc,isRtl:Yc,hasCode:Jc},el=function(){var e=[],t={},n={},r=[],i=function(e,t){var n=ne(r,(function(n){return n.name===e&&n.state===t}));Z(n,(function(e){return e.callback()}))},o=function(e){if(n[e])return n[e].instance},a=function(e){var t;return n[e]&&(t=n[e].dependencies),t||[]},s=function(e,n){!1!==el.languageLoad&&h(e,(function(){var r=Zc.getCode(),i=","+(n||"")+",";!r||n&&-1===i.indexOf(","+r+",")||Hc.ScriptLoader.add(t[e]+"/langs/"+r+".js")}),"loaded")},u=function(t,r,o){var a=r;return e.push(a),n[t]={instance:a,dependencies:o},i(t,"added"),a},c=function(e){delete t[e],delete n[e]},l=function(e,t){return"object"===typeof t?t:"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(e,n){var r=t[e];Z(n,(function(e){Hc.ScriptLoader.add(r+"/"+e)}))},f=function(e,t,n,r){var i=a(e);Z(i,(function(e){var n=l(t,e);A(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Hc))},A=function(e,r,o,a,s){if(!t[e]){var u="string"===typeof r?r:r.prefix+r.resource+r.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=el.baseURL+"/"+u),t[e]=u.substring(0,u.lastIndexOf("/"));var c=function(){i(e,"loaded"),f(e,r,o,a)};n[e]?c():Hc.ScriptLoader.add(u,c,a,s)}},h=function(e,i,o){void 0===o&&(o="added"),Ie(n,e)&&"added"===o||Ie(t,e)&&"loaded"===o?i():r.push({name:e,state:o,callback:i})};return{items:e,urls:t,lookup:n,_listeners:r,get:o,dependencies:a,requireLangPack:s,add:u,remove:c,createUrl:l,addComponents:d,load:A,waitFor:h}};el.languageLoad=!0,el.baseURL="",el.PluginManager=el(),el.ThemeManager=el();var tl=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},i=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))};return{cancel:r,throttle:i}},nl=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},i=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:i}},rl=function(e,t){var n=di(e,t);return void 0===n||""===n?[]:n.split(" ")},il=function(e,t,n){var r=rl(e,t),i=r.concat([n]);return ci(e,t,i.join(" ")),!0},ol=function(e,t,n){var r=ne(rl(e,t),(function(e){return e!==n}));return r.length>0?ci(e,t,r.join(" ")):hi(e,t),!1},al=function(e){return void 0!==e.dom.classList},sl=function(e){return rl(e,"class")},ul=function(e,t){return il(e,"class",t)},cl=function(e,t){return ol(e,"class",t)},ll=function(e,t){al(e)?e.dom.classList.add(t):ul(e,t)},dl=function(e){var t=al(e)?e.dom.classList:sl(e);0===t.length&&hi(e,"class")},fl=function(e,t){if(al(e)){var n=e.dom.classList;n.remove(t)}else cl(e,t);dl(e)},Al=function(e,t){return al(e)&&e.dom.classList.contains(t)},hl=function(e,t){var n=[];return Z(tr(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(hl(e,t))})),n},pl=function(e,t){return En(t,e)},ml=T("mce-annotation"),gl=T("data-mce-annotation"),vl=T("data-mce-annotation-uid"),yl=function(e,t){var n=e.selection.getRng(),r=yn.fromDom(n.startContainer),i=yn.fromDom(e.getBody()),o=t.fold((function(){return"."+ml()}),(function(e){return"["+gl()+'="'+e+'"]'})),a=nr(r,n.startOffset).getOr(r),s=wo(a,o,(function(e){return In(e,i)})),u=function(e,t){return Ai(e,t)?z.some(di(e,t)):z.none()};return s.bind((function(t){return u(t,""+vl()).bind((function(n){return u(t,""+gl()).map((function(t){var r=wl(e,n);return{uid:n,name:t,elements:r}}))}))}))},bl=function(e){return Rn(e)&&Al(e,ml())},wl=function(e,t){var n=yn.fromDom(e.getBody());return pl(n,"["+vl()+'="'+t+'"]')},xl=function(e,t){var n=yn.fromDom(e.getBody()),r=pl(n,"["+gl()+'="'+t+'"]'),i={};return Z(r,(function(e){var t=di(e,vl()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])})),i},Cl=function(e,t){var n=Rc({}),r=function(){return{listeners:[],previous:Rc(z.none())}},i=function(e,t){o(e,(function(e){return t(e),e}))},o=function(e,t){var i=n.get(),o=i.hasOwnProperty(e)?i[e]:r(),a=t(o);i[e]=a,n.set(i)},a=function(e,t,n){i(e,(function(r){Z(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:J(n,(function(e){return e.dom}))})}))}))},s=function(e){i(e,(function(t){Z(t.listeners,(function(t){return t(!1,e)}))}))},u=nl((function(){var t=n.get(),r=he(be(t));Z(r,(function(t){o(t,(function(n){var r=n.previous.get();return yl(e,z.some(t)).fold((function(){r.isSome()&&(s(t),n.previous.set(z.none()))}),(function(e){var t=e.uid,i=e.name,o=e.elements;r.is(t)||(a(i,t,o),n.previous.set(z.some(t)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){u.cancel()})),e.on("NodeChange",(function(){u.throttle()}));var c=function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))};return{addListener:c}},Sl=function(e,t){var n=function(e){return z.from(e.attr(gl())).bind(t.lookup)};e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){Z(e,(function(e){n(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},kl=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?z.from(e[t]).map((function(e){return e.settings})):z.none()};return{register:t,lookup:n}},_l=0,Bl=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return _l++,e+"_"+r+_l+String(n)},Dl=function(e,t){Z(t,(function(t){ll(e,t)}))},Ml=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,tr(yn.fromDom(r))},El=function(e){return e.dom.innerHTML},Tl=function(e,t){var n=zn(e),r=n.dom,i=yn.fromDom(r.createDocumentFragment()),o=Ml(t,r);xr(i,o),Cr(e),yr(e,i)},Il=function(e,t){return yn.fromDom(e.dom.cloneNode(t))},Ol=function(e){return Il(e,!1)},Ll=function(e){return Il(e,!0)},Fl=function(e,t,n){void 0===n&&(n=U);var r=new Lo(e,t),i=function(e){var t;do{t=r[e]()}while(t&&!Yr(t)&&!n(t));return z.from(t).filter(Yr)};return{current:function(){return z.from(r.current()).filter(Yr)},next:function(){return i("next")},prev:function(){return i("prev")},prev2:function(){return i("prev2")}}},Pl=function(e,t){var n=t||function(t){return e.isBlock(t)||ti(t)||ii(t)},r=function(e,t,n,i){if(Yr(e)){var o=i(e,t,e.data);if(-1!==o)return z.some({container:e,offset:o})}return n().bind((function(e){return r(e.container,e.offset,n,i)}))},i=function(e,t,i,o){var a=Fl(e,o,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),i).getOrNull()},o=function(e,t,i,o){var a=Fl(e,o,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),i).getOrNull()};return{backwards:i,forwards:o}},Nl=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ul=function(e,t,n){return e.isSome()&&t.isSome()?z.some(n(e.getOrDie(),t.getOrDie())):z.none()},Hl=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?z.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):z.none()},Rl=function(e,t){return e?z.some(t):z.none()},Vl=Math.round,Ql=function(e){return e?{left:Vl(e.left),top:Vl(e.top),bottom:Vl(e.bottom),right:Vl(e.right),width:Vl(e.width),height:Vl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},jl=function(e,t){return e=Ql(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},zl=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Gl=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Kl=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Gl(t.top-e.bottom,e,t)},ql=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Gl(t.bottom-e.top,e,t)},Wl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},$l=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Xl=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Yl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jl=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Yl.test(e)},Zl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},ed=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}},td=Vr,nd=Oa,rd=jr("display","block table"),id=jr("float","left right"),od=ed(td,nd,L(id)),ad=L(jr("white-space","pre pre-line pre-wrap")),sd=Yr,ud=ti,cd=Tc.nodeIndex,ld=Xl,dd=function(e){return"createRange"in e?e.createRange():Tc.DOM.createRng()},fd=function(e){return e&&/[\r\n\t ]/.test(e)},Ad=function(e){return!!e.setStart&&!!e.setEnd},hd=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(fd(e.toString())&&ad(n.parentNode)&&Yr(n)&&(t=n.data,fd(t[r-1])||fd(t[r+1])))},pd=function(e){var t=e.ownerDocument,n=dd(t),r=t.createTextNode(ra),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var o=Ql(n.getBoundingClientRect());return i.removeChild(r),o},md=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&Yr(n)&&0===r&&1===i){var o=e.cloneRange();return o.setEndAfter(n),vd(o)}return null},gd=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},vd=function(e){var t,n=e.getClientRects();return t=n.length>0?Ql(n[0]):Ql(e.getBoundingClientRect()),!Ad(e)&&ud(e)&&gd(t)?pd(e):gd(t)&&Ad(e)?md(e):t},yd=function(e,t){var n=jl(e,t);return n.width=1,n.right=n.left+1,n},bd=function(e){var t,n,r=[],i=function(e){0!==e.height&&(r.length>0&&zl(e,r[r.length-1])||r.push(e))},o=function(e,t){var n=dd(e.ownerDocument);if(t<e.data.length){if(Jl(e.data[t]))return r;if(Jl(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!hd(n)))return i(yd(vd(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),hd(n)||i(yd(vd(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),hd(n)||i(yd(vd(n),!0)))};if(sd(e.container()))return o(e.container(),e.offset()),r;if(td(e.container()))if(e.isAtEnd())n=ld(e.container(),e.offset()),sd(n)&&o(n,n.data.length),od(n)&&!ud(n)&&i(yd(vd(n),!1));else{if(n=ld(e.container(),e.offset()),sd(n)&&o(n,0),od(n)&&e.isAtEnd())return i(yd(vd(n),!1)),r;t=ld(e.container(),e.offset()-1),od(t)&&!ud(t)&&(rd(t)||rd(n)||!od(n))&&i(yd(vd(t),!1)),od(n)&&i(yd(vd(n),!0))}return r},wd=function(e,t,n){var r=function(){return sd(e),0===t},i=function(){return sd(e)?t>=e.data.length:t>=e.childNodes.length},o=function(){var n=dd(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=bd(wd(e,t))),n},s=function(){return a().length>0},u=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return ld(e,n?t-1:t)};return{container:T(e),offset:T(t),toRange:o,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:i,isEqual:u,getNode:c}};wd.fromRangeStart=function(e){return wd(e.startContainer,e.startOffset)},wd.fromRangeEnd=function(e){return wd(e.endContainer,e.endOffset)},wd.after=function(e){return wd(e.parentNode,cd(e)+1)},wd.before=function(e){return wd(e.parentNode,cd(e))},wd.isAbove=function(e,t){return Ul(me(t.getClientRects()),ge(e.getClientRects()),Kl).getOr(!1)},wd.isBelow=function(e,t){return Ul(ge(t.getClientRects()),me(e.getClientRects()),ql).getOr(!1)},wd.isAtStart=function(e){return!!e&&e.isAtStart()},wd.isAtEnd=function(e){return!!e&&e.isAtEnd()},wd.isTextPosition=function(e){return!!e&&Yr(e.container())},wd.isElementPosition=function(e){return!1===wd.isTextPosition(e)};var xd,Cd=function(e,t){Yr(t)&&0===t.data.length&&e.remove(t)},Sd=function(e,t,n){t.insertNode(n),Cd(e,n.previousSibling),Cd(e,n.nextSibling)},kd=function(e,t,n){var r=z.from(n.firstChild),i=z.from(n.lastChild);t.insertNode(n),r.each((function(t){return Cd(e,t.previousSibling)})),i.each((function(t){return Cd(e,t.nextSibling)}))},_d=function(e,t,n){ei(n)?kd(e,t,n):Sd(e,t,n)},Bd=Yr,Dd=Kr,Md=Tc.nodeIndex,Ed=function(e){var t=e.parentNode;return Dd(t)?Ed(t):t},Td=function(e){return e?Ve(e.childNodes,(function(e,t){return Dd(t)&&"BR"!==t.nodeName?e=e.concat(Td(t)):e.push(t),e}),[]):[]},Id=function(e,t){while(e=e.previousSibling){if(!Bd(e))break;t+=e.data.length}return t},Od=function(e){return function(t){return e===t}},Ld=function(e){var t,n;t=Td(Ed(e)),n=Qe(t,Od(e),e),t=t.slice(0,n+1);var r=Ve(t,(function(e,n,r){return Bd(n)&&Bd(t[r-1])&&e++,e}),0);return t=He(t,Qr([e.nodeName])),n=Qe(t,Od(e),e),n-r},Fd=function(e){var t;return t=Bd(e)?"text()":e.nodeName.toLowerCase(),t+"["+Ld(e)+"]"},Pd=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break;r.push(t)}return r},Nd=function(e,t){var n,r,i,o,a,s=[];return n=t.container(),r=t.offset(),Bd(n)?i=Id(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),s.push(Fd(n)),a=Pd(e,n),a=He(a,L(Kr)),s=s.concat(Ue(a,(function(e){return Fd(e)}))),s.reverse().join("/")+","+i},Ud=function(e,t,n){var r=Td(e);return r=He(r,(function(e,t){return!Bd(e)||!Bd(r[t-1])})),r=He(r,Qr([t])),r[n]},Hd=function(e,t){var n,r=e,i=0;while(Bd(r)){if(n=r.data.length,t>=i&&t<=i+n){e=r,t-=i;break}if(!Bd(r.nextSibling)){e=r,t=n;break}i+=n,r=r.nextSibling}return Bd(e)&&t>e.data.length&&(t=e.data.length),wd(e,t)},Rd=function(e,t){var n;if(!t)return null;var r=t.split(","),i=r[0].split("/");n=r.length>1?r[1]:"before";var o=Ve(i,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),Ud(e,n[1],parseInt(n[2],10))):null}),e);return o?Bd(o)?Hd(o,parseInt(n,10)):(n="after"===n?Md(o)+1:Md(o),wd(o.parentNode,n)):null},Vd=ii,Qd=function(e,t,n){var r,i;for(i=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Yr(r);r=r.previousSibling)i+=e(r.data).length;return i},jd=function(e,t,n,r,i){var o,a=r[i?"startContainer":"endContainer"],s=r[i?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Yr(a)?u.push(n?Qd(t,a,s):s):(o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),u.push(e.nodeIndex(o[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},zd=function(e,t,n,r){var i=t.dom,o={};return o.start=jd(i,e,n,r,!0),t.isCollapsed()||(o.end=jd(i,e,n,r,!1)),o},Gd=function(e,t,n){var r=0;return An.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},Kd=function(e,t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],Vr(n)&&"TR"===n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},qd=function(e){return Kd(e,!0),Kd(e,!1),e},Wd=function(e,t){var n;if(Vr(e)&&(e=Xl(e,t),Vd(e)))return e;if(Aa(e)){if(Yr(e)&&da(e)&&(e=e.parentNode),n=e.previousSibling,Vd(n))return n;if(n=e.nextSibling,Vd(n))return n}},$d=function(e){return Wd(e.startContainer,e.startOffset)||Wd(e.endContainer,e.endOffset)},Xd=function(e,t,n){var r=n.getNode(),i=r?r.nodeName:null,o=n.getRng();if(Vd(r)||"IMG"===i)return{name:i,index:Gd(n.dom,i,r)};var a=$d(o);return a?(i=a.tagName,{name:i,index:Gd(n.dom,i,a)}):zd(e,n,t,o)},Yd=function(e){var t=e.getRng();return{start:Nd(e.dom.getRoot(),wd.fromRangeStart(t)),end:Nd(e.dom.getRoot(),wd.fromRangeEnd(t))}},Jd=function(e){return{rng:e.getRng()}},Zd=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ef=function(e,t){var n=e.dom,r=e.getRng(),i=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Gd(n,s,a)};var u=qd(r.cloneRange());if(!o){u.collapse(!1);var c=Zd(n,i+"_end",t);_d(n,u,c)}r=qd(r),r.collapse(!0);var l=Zd(n,i+"_start",t);return _d(n,r,l),e.moveToBookmark({id:i,keep:!0}),{id:i}},tf=function(e,t,n){return 2===t?Xd(ua,n,e):3===t?Yd(e):t?Jd(e):ef(e,!1)},nf=O(Xd,I,!0),rf=Tc.DOM,of="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",af=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var i=e.getParam(t,"","hash");return i.hasOwnProperty(e.id)?i[e.id]:n}return r},sf=function(e){return e.getParam("iframe_attrs",{})},uf=function(e){return e.getParam("doctype","<!DOCTYPE html>")},cf=function(e){return e.getParam("document_base_url","")},lf=function(e){return af(e,"body_id","tinymce")},df=function(e){return af(e,"body_class","")},ff=function(e){return e.getParam("content_security_policy","")},Af=function(e){return e.getParam("br_in_pre",!0)},hf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},pf=function(e){return e.getParam("forced_root_block_attrs",{})},mf=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},gf=function(e){return e.getParam("no_newline_selector","")},vf=function(e){return e.getParam("keep_styles",!0)},yf=function(e){return e.getParam("end_container_on_empty_block",!1)},bf=function(e){return An.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},wf=function(e){return An.explode(e.getParam("font_size_classes",""))},xf=function(e){return e.getParam("images_dataimg_filter",H,"function")},Cf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Sf=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},kf=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},_f=function(e){return e.getParam("icons","","string")},Bf=function(e){return e.getParam("icons_url","","string")},Df=function(e){return e.getParam("images_upload_url","","string")},Mf=function(e){return e.getParam("images_upload_base_path","","string")},Ef=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Tf=function(e){return e.getParam("images_upload_handler",null,"function")},If=function(e){return e.getParam("content_css_cors",!1,"boolean")},Of=function(e){return e.getParam("referrer_policy","","string")},Lf=function(e){return e.getParam("language","en","string")},Ff=function(e){return e.getParam("language_url","","string")},Pf=function(e){return e.getParam("indent_use_margin",!1)},Nf=function(e){return e.getParam("indentation","40px","string")},Uf=function(e){var t=e.getParam("content_css");return g(t)?J(t.split(","),dt):y(t)?t:!1===t||e.inline?[]:["default"]},Hf=function(e){var t=e.getParam("font_css",[]);return y(t)?t:J(t.split(","),dt)},Rf=function(e){return e.getParam("directionality",Zc.isRtl()?"rtl":void 0)},Vf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Qf=function(e){var t=e.getParam("object_resizing");return!1!==t&&!Zt.iOS&&(g(t)?t:"table,img,figure.image,div,video,iframe")},jf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},zf=function(e){return e.getParam("placeholder",rf.getAttrib(e.getElement(),"placeholder"),"string")},Gf=function(e){return e.getParam("event_root")},Kf=function(e){return e.getParam("service_message")},qf=function(e){return e.getParam("theme")},Wf=function(e){return e.getParam("validate")},$f=function(e){return!1!==e.getParam("inline_boundaries")},Xf=function(e){return e.getParam("formats")},Yf=function(e){var t=e.getParam("preview_styles",of);return g(t)?t:""},Jf=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Zf=function(e){return e.getParam("custom_ui_selector","","string")},eA=function(e){return e.getParam("theme_url")},tA=function(e){return e.getParam("inline")},nA=function(e){return e.getParam("hidden_input")},rA=function(e){return e.getParam("submit_patch")},iA=function(e){return"xml"===e.getParam("encoding")},oA=function(e){return e.getParam("add_form_submit_trigger")},aA=function(e){return e.getParam("add_unload_trigger")},sA=function(e){return""!==hf(e)},uA=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},cA=function(e){return e.getParam("disable_nodechange")},lA=function(e){return e.getParam("readonly")},dA=function(e){return e.getParam("content_css_cors")},fA=function(e){return e.getParam("plugins","","string")},AA=function(e){return e.getParam("external_plugins")},hA=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},pA=function(e){return e.getParam("visual",!0,"boolean")},mA=function(e){return e.getParam("visual_table_class","mce-item-table","string")},gA=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},vA=Vr,yA=Yr,bA=function(e){var t=e.parentNode;t&&t.removeChild(e)},wA=function(e){var t=ua(e);return{count:e.length-t.length,text:t}},xA=function(e){var t;while(-1!==(t=e.data.lastIndexOf(aa)))e.deleteData(t,1)},CA=function(e,t){return MA(e),t},SA=function(e,t){var n=wA(e.data.substr(0,t.offset())),r=wA(e.data.substr(t.offset())),i=n.text+r.text;return i.length>0?(xA(e),wd(e,t.offset()-n.count)):t},kA=function(e,t){var n=t.container(),r=$(ve(n.childNodes),e).map((function(e){return e<t.offset()?wd(n,t.offset()-1):t})).getOr(t);return MA(e),r},_A=function(e,t){return yA(e)&&t.container()===e?SA(e,t):CA(e,t)},BA=function(e,t){return t.container()===e.parentNode?kA(e,t):CA(e,t)},DA=function(e,t){return wd.isTextPosition(t)?_A(e,t):BA(e,t)},MA=function(e){vA(e)&&Aa(e)&&(ha(e)?e.removeAttribute("data-mce-caret"):bA(e)),yA(e)&&(xA(e),0===e.data.length&&bA(e))},EA=zt().browser,TA=ii,IA=ai,OA=oi,LA="*[contentEditable=false],video,audio,embed,object",FA=function(e,t,n){var r,i,o,a,s,u=jl(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,i=e.scrollLeft||r.scrollLeft,o=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),i=e.scrollLeft-s.left,o=e.scrollTop-s.top),u.left+=i,u.right+=i,u.top+=o,u.bottom+=o,u.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),u.left+=a,u.right+=a),u},PA=function(e){for(var t=pl(yn.fromDom(e),LA),n=0;n<t.length;n++){var r=t[n].dom,i=r.previousSibling;if(wa(i)){var o=i.data;1===o.length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)}if(i=r.nextSibling,ba(i)){o=i.data;1===o.length?i.parentNode.removeChild(i):i.deleteData(0,1)}}},NA=function(e,t,n,r){var i,o,a=Rc(z.none()),s=hf(e),u=s.length>0?s:"p",c=function(e,r){var i,s;if(l(),OA(r))return null;if(!n(r))return o=pa(r,e),s=r.ownerDocument.createRange(),HA(o.nextSibling)?(s.setStart(o,0),s.setEnd(o,0)):(s.setStart(o,1),s.setEnd(o,1)),s;o=ya(u,r,e),i=FA(t,r,e),Cc(o).css("top",i.top);var c=Cc('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(i).appendTo(t)[0];return a.set(z.some({caret:c,element:r,before:e})),a.get().each((function(t){e&&Cc(t.caret).addClass("mce-visual-caret-before")})),d(),s=r.ownerDocument.createRange(),s.setStart(o,0),s.setEnd(o,0),s},l=function(){PA(t),o&&(MA(o),o=null),a.get().each((function(e){Cc(e.caret).remove(),a.set(z.none())})),i&&(Eo.clearInterval(i),i=null)},d=function(){i=Eo.setInterval((function(){r()?Cc("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):Cc("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)},f=function(){a.get().each((function(e){var n=FA(t,e.element,e.before);Cc(e.caret).css(ze({},n))}))},A=function(){return Eo.clearInterval(i)},h=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:c,hide:l,getCss:h,reposition:f,destroy:A}},UA=function(){return EA.isIE()||EA.isEdge()||EA.isFirefox()},HA=function(e){return TA(e)||IA(e)},RA=function(e){return HA(e)||Wr(e)&&UA()},VA=ii,QA=ai,jA=jr("display","block table table-cell table-caption list-item"),zA=Aa,GA=da,KA=Vr,qA=Oa,WA=function(e){return e>0},$A=function(e){return e<0},XA=function(e,t){var n;while(n=e(t))if(!GA(n))return n;return null},YA=function(e,t,n,r,i){var o=new Lo(e,r),a=VA(e)||GA(e);if($A(t)){if(a&&(e=XA(o.prev.bind(o),!0),n(e)))return e;while(e=XA(o.prev.bind(o),i))if(n(e))return e}if(WA(t)){if(a&&(e=XA(o.next.bind(o),!0),n(e)))return e;while(e=XA(o.next.bind(o),i))if(n(e))return e}return null},JA=function(e,t){while(e&&e!==t){if(jA(e))return e;e=e.parentNode}return null},ZA=function(e,t,n){return JA(e.container(),n)===JA(t.container(),n)},eh=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return KA(n)?n.childNodes[r+e]:null},th=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},nh=function(e,t,n){return JA(t,e)===JA(n,e)},rh=function(e,t,n){var r,i;i=e?"previousSibling":"nextSibling";while(n&&n!==t){if(r=n[i],zA(r)&&(r=r[i]),VA(r)||QA(r)){if(nh(t,r,n))return r;break}if(qA(r))break;n=n.parentNode}return null},ih=O(th,!0),oh=O(th,!1),ah=function(e,t,n){var r,i,o,a=O(rh,!0,t),s=O(rh,!1,t);i=n.startContainer;var u=n.startOffset;if(da(i)){if(KA(i)||(i=i.parentNode),o=i.getAttribute("data-mce-caret"),"before"===o&&(r=i.nextSibling,RA(r)))return ih(r);if("after"===o&&(r=i.previousSibling,RA(r)))return oh(r)}if(!n.collapsed)return n;if(Yr(i)){if(zA(i)){if(1===e){if(r=s(i),r)return ih(r);if(r=a(i),r)return oh(r)}if(-1===e){if(r=a(i),r)return oh(r);if(r=s(i),r)return ih(r)}return n}if(wa(i)&&u>=i.data.length-1)return 1===e&&(r=s(i),r)?ih(r):n;if(ba(i)&&u<=1)return-1===e&&(r=a(i),r)?oh(r):n;if(u===i.data.length)return r=s(i),r?ih(r):n;if(0===u)return r=a(i),r?oh(r):n}return n},sh=function(e,t){return z.from(eh(e?0:-1,t)).filter(VA)},uh=function(e,t,n){var r=ah(e,t,n);return-1===e?wd.fromRangeStart(r):wd.fromRangeEnd(r)},ch=function(e){return z.from(e.getNode()).map(yn.fromDom)},lh=function(e){return z.from(e.getNode(!0)).map(yn.fromDom)},dh=function(e,t){while(t=e(t))if(t.isVisible())return t;return t},fh=function(e,t){var n=ZA(e,t);return!(n||!ti(e.getNode()))||n};(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(xd||(xd={}));var Ah=ii,hh=Yr,ph=Vr,mh=ti,gh=Oa,vh=Ua,yh=Ha,bh=function(e,t){var n=[];while(e&&e!==t)n.push(e),e=e.parentNode;return n},wh=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},xh=function(e,t){if(WA(e)){if(gh(t.previousSibling)&&!hh(t.previousSibling))return wd.before(t);if(hh(t))return wd(t,0)}if($A(e)){if(gh(t.nextSibling)&&!hh(t.nextSibling))return wd.after(t);if(hh(t))return wd(t,t.data.length)}return $A(e)?mh(t)?wd.before(t):wd.after(t):wd.before(t)},Ch=function(e,t){var n=t.nextSibling;return n&&gh(n)?hh(n)?wd(n,0):wd.before(n):Sh(xd.Forwards,wd.after(t),e)},Sh=function(e,t,n){var r,i,o,a;if(!ph(n)||!t)return null;if(t.isEqual(wd.after(n))&&n.lastChild){if(a=wd.after(n.lastChild),$A(e)&&gh(n.lastChild)&&ph(n.lastChild))return mh(n.lastChild)?wd.before(n.lastChild):a}else a=t;var s=a.container(),u=a.offset();if(hh(s)){if($A(e)&&u>0)return wd(s,--u);if(WA(e)&&u<s.length)return wd(s,++u);r=s}else{if($A(e)&&u>0&&(i=wh(s,u-1),gh(i)))return!vh(i)&&(o=YA(i,e,yh,i),o)?hh(o)?wd(o,o.data.length):wd.after(o):hh(i)?wd(i,i.data.length):wd.before(i);if(WA(e)&&u<s.childNodes.length&&(i=wh(s,u),gh(i)))return mh(i)?Ch(n,i):!vh(i)&&(o=YA(i,e,yh,i),o)?hh(o)?wd(o,0):wd.before(o):hh(i)?wd(i,0):wd.after(i);r=i||a.getNode()}if((WA(e)&&a.isAtEnd()||$A(e)&&a.isAtStart())&&(r=YA(r,e,H,n,!0),yh(r,n)))return xh(e,r);i=YA(r,e,yh,n);var c=je(ne(bh(s,n),Ah));return!c||i&&c.contains(i)?i?xh(e,i):null:(a=WA(e)?wd.after(c):wd.before(c),a)},kh=function(e){return{next:function(t){return Sh(xd.Forwards,t,e)},prev:function(t){return Sh(xd.Backwards,t,e)}}},_h=function(e,t,n){var r=e?wd.before(n):wd.after(n);return Oh(e,t,r)},Bh=function(e){return ti(e)?wd.before(e):wd.after(e)},Dh=function(e){return wd.isTextPosition(e)?0===e.offset():Oa(e.getNode())},Mh=function(e){if(wd.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Oa(e.getNode(!0))},Eh=function(e,t){return!wd.isTextPosition(e)&&!wd.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Th=function(e){return!wd.isTextPosition(e)&&ti(e.getNode())},Ih=function(e,t,n){return e?!Eh(t,n)&&!Th(t)&&Mh(t)&&Dh(n):!Eh(n,t)&&Dh(t)&&Mh(n)},Oh=function(e,t,n){var r=kh(t);return z.from(e?r.next(n):r.prev(n))},Lh=function(e,t,n){return Oh(e,t,n).bind((function(r){return ZA(n,r,t)&&Ih(e,n,r)?Oh(e,t,r):z.some(r)}))},Fh=function(e,t,n,r){return Lh(e,t,n).bind((function(n){return r(n)?Fh(e,t,n,r):z.some(n)}))},Ph=function(e,t){var n=e?t.firstChild:t.lastChild;return Yr(n)?z.some(wd(n,e?0:n.data.length)):n?Oa(n)?z.some(e?wd.before(n):Bh(n)):_h(e,t,n):z.none()},Nh=O(Oh,!0),Uh=O(Oh,!1),Hh=O(Ph,!0),Rh=O(Ph,!1),Vh="_mce_caret",Qh=function(e){return Vr(e)&&e.id===Vh},jh=function(e,t){while(t&&t!==e){if(t.id===Vh)return t;t=t.parentNode}return null},zh=function(e){return g(e.start)},Gh=function(e){return e.hasOwnProperty("rng")},Kh=function(e){return e.hasOwnProperty("id")},qh=function(e){return e.hasOwnProperty("name")},Wh=function(e){return An.isArray(e.start)},$h=function(e,t){return Vr(t)&&e.isBlock(t)&&!t.innerHTML&&!Zt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Xh=function(e,t){var n,r=e.createRng();return n=Rd(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Rd(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},Yh=function(e,t){var n=e.ownerDocument.createTextNode(aa);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Jh=function(e){return!1===e.hasChildNodes()},Zh=function(e,t){return Rh(e).fold(U,(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},ep=function(e,t,n){return!(!Jh(t)||!jh(e,t))&&(Yh(t,n),!0)},tp=function(e,t,n,r){var i,o,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],o=c,i=u.length-1;i>=1;i--){if(s=o.childNodes,ep(c,o,r))return!0;if(u[i]>s.length-1)return!!ep(c,o,r)||Zh(o,r);o=s[u[i]]}3===o.nodeType&&(a=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(u[0],o.childNodes.length)),t?r.setStart(o,a):r.setEnd(o,a)}return!0},np=function(e){return Yr(e)&&e.data.length>0},rp=function(e,t,n){var r,i,o,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,i=1):np(c.nextSibling)?(r=c.nextSibling,i=0):np(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)+1):i=e.nodeIndex(c),s=r,u=i):(l?c.hasChildNodes()?(r=c.firstChild,i=1):np(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)):i=e.nodeIndex(c),s=r,u=i),!l){a=c.previousSibling,o=c.nextSibling,An.each(An.grep(c.childNodes),(function(e){Yr(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));while(c=e.get(n.id+"_"+t))e.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&Yr(a)&&!Zt.opera&&(i=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,u=i)}return z.some(wd(s,u))}return z.none()},ip=function(e,t){var n=e.createRng();return tp(e,!0,t,n)&&tp(e,!1,t,n)?z.some(n):z.none()},op=function(e,t){var n=rp(e,"start",t),r=rp(e,"end",t);return Ul(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart($h(e,t.container()),t.offset()),r.setEnd($h(e,n.container()),n.offset()),r}))},ap=function(e,t){return z.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))},sp=function(e,t){var n=e.dom;if(t){if(Wh(t))return ip(n,t);if(zh(t))return z.some(Xh(n,t));if(Kh(t))return op(n,t);if(qh(t))return ap(n,t);if(Gh(t))return z.some(t.rng)}return z.none()},up=function(e,t,n){return tf(e,t,n)},cp=function(e,t){sp(e,t).each((function(t){e.setRng(t)}))},lp=function(e){return Vr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},dp=function(e){return function(t){return e===t}},fp=dp(ra),Ap=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},hp=function(e){return!Ap(e)&&!fp(e)},pp=function(e){return!!e.nodeType},mp=function(e){return e&&/^(IMG)$/.test(e.nodeName)},gp=function(e,t,n){var r,i,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!mp(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(o=s.childNodes,a<o.length?(s=o[a],r=new Lo(s,e.getParent(s,e.isBlock))):(s=o[o.length-1],r=new Lo(s,e.getParent(s,e.isBlock)),r.next(!0)),i=r.current();i;i=r.next())if(3===i.nodeType&&!wp(i))return n.setStart(i,0),void t.setRng(n)},vp=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!wp(e))return e}},yp=function(e,t){return pp(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},bp=function(e,t,n){return e.schema.isValidChild(t,n)},wp=function(e,t){if(void 0===t&&(t=!1),S(e)&&Yr(e)){var n=t?e.data.replace(/ /g," "):e.data;return Va(n)}return!1},xp=function(e){return S(e)&&Yr(e)&&0===e.length},Cp=function(e,t){return"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},Sp=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},kp=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},_p=function(e,t,n){return kp(e,e.getStyle(t,n),n)},Bp=function(e,t){var n;return e.getParent(t,(function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n})),n},Dp=function(e,t,n){return e.getParents(t,n,e.getRoot())},Mp=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return Y(["styles","attributes"],(function(n){return Te(e,n).exists((function(e){var n=y(e)?e:Ee(e);return Y(n,t)}))}))};return Y(e.formatter.get(t),n)},Ep=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],i=function(e){return De(e,(function(e,t){return Y(r,(function(e){return e===t}))}))};return Y(e.formatter.get(t),(function(t){var r=i(t);return Y(e.formatter.get(n),(function(e){var t=i(e);return Le(r,t)}))}))},Tp=function(e){return Oe(e,"block")},Ip=function(e){return Oe(e,"selector")},Op=function(e){return Oe(e,"inline")},Lp=function(e,t){return Y(t.childNodes,e.isBlock)},Fp=lp,Pp=Dp,Np=wp,Up=yp,Hp=function(e){return ti(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Rp=function(e,t){var n=t;while(n){if(Vr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Vp=function(e,t,n,r){for(var i=t.data,o=n;e?o>=0:o<i.length;e?o--:o++)if(r(i.charAt(o)))return e?o+1:o;return-1},Qp=function(e,t,n){return Vp(e,t,n,(function(e){return fp(e)||Ap(e)}))},jp=function(e,t,n){return Vp(e,t,n,hp)},zp=function(e,t,n,r,i,o){var a,s=e.getParent(n,e.isBlock)||t,u=function(t,n,r){var o=Pl(e),u=i?o.backwards:o.forwards;return z.from(u(t,n,(function(e,t){return Fp(e.parentNode)?-1:(a=e,r(i,e,t))}),s))},c=u(n,r,Qp);return c.bind((function(e){return o?u(e.container,e.offset+(i?-1:0),jp):z.some(e)})).orThunk((function(){return a?z.some({container:a,offset:i?0:a.length}):z.none()}))},Gp=function(e,t,n,r,i){Yr(r)&&0===r.nodeValue.length&&r[i]&&(r=r[i]);for(var o=Pp(e,r),a=0;a<o.length;a++)for(var s=0;s<t.length;s++){var u=t[s];if((!("collapsed"in u)||u.collapsed===n.collapsed)&&e.is(o[a],u.selector))return o[a]}return r},Kp=function(e,t,n,r){var i,o=e.dom,a=o.getRoot();if(t[0].wrapper||(i=o.getParent(n,t[0].block,a)),!i){var s=o.getParent(n,"LI,TD,TH");i=o.getParent(Yr(n)?n.parentNode:n,(function(t){return t!==a&&Up(e,t)}),s)}if(i&&t[0].wrapper&&(i=Pp(o,i,"ul,ol").reverse()[0]||i),!i){i=n;while(i[r]&&!o.isBlock(i[r]))if(i=i[r],Sp(i,"br"))break}return i||n},qp=function(e,t,n,r){var i=n.parentNode;return!S(n[r])&&(!(i!==t&&!C(i)&&!e.isBlock(i))||qp(e,t,i,r))},Wp=function(e,t,n,r,i){var o,a=n,s=i?"previousSibling":"nextSibling",u=e.getRoot();if(Yr(n)&&!Np(n)&&(i?r>0:r<n.data.length))return n;while(1){if(!t[0].block_expand&&e.isBlock(a))return a;for(o=a[s];o;o=o[s]){var c=Yr(o)&&!qp(e,u,o,s);if(!Fp(o)&&!Hp(o)&&!Np(o,c))return a}if(a===u||a.parentNode===u){n=a;break}a=a.parentNode}return n},$p=function(e){return Fp(e.parentNode)||Fp(e)},Xp=function(e,t,n,r){void 0===r&&(r=!1);var i=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,u=e.dom;if(Vr(i)&&i.hasChildNodes()&&(i=Xl(i,o),Yr(i)&&(o=0)),Vr(a)&&a.hasChildNodes()&&(a=Xl(a,t.collapsed?s:s-1),Yr(a)&&(s=a.nodeValue.length)),i=Rp(u,i),a=Rp(u,a),$p(i)&&(i=Fp(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,Yr(i)&&(o=t.collapsed?i.length:0)),$p(a)&&(a=Fp(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Yr(a)&&(s=t.collapsed?0:a.length)),t.collapsed){var c=zp(u,e.getBody(),i,o,!0,r);c.each((function(e){var t=e.container,n=e.offset;i=t,o=n}));var l=zp(u,e.getBody(),a,s,!1,r);l.each((function(e){var t=e.container,n=e.offset;a=t,s=n}))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Yr(i)&&0!==o||(i=Wp(u,n,i,o,!0)),n[0].inline&&Yr(a)&&s!==a.nodeValue.length||(a=Wp(u,n,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=Gp(u,n,t,i,"previousSibling"),a=Gp(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(i=Kp(e,n,i,"previousSibling"),a=Kp(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(i)||(i=Wp(u,n,i,o,!0)),u.isBlock(a)||(a=Wp(u,n,a,s,!1)))),Vr(i)&&(o=u.nodeIndex(i),i=i.parentNode),Vr(a)&&(s=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:i,startOffset:o,endContainer:a,endOffset:s}},Yp=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Jp=function(e,t){return Yp(e,t-1)},Zp=function(e,t,n){var r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&i>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===o&&3===t.nodeType&&e.splice(e.length-1,1),e},u=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,r){for(var i=r?"nextSibling":"previousSibling",o=e,a=o.parentNode;o&&o!==t;o=a){a=o.parentNode;var c=u(o===e?o:o[i],i);c.length&&(r||c.reverse(),n(s(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Yp(r,i)),1===o.nodeType&&o.hasChildNodes()&&(o=Jp(o,a)),r===o)return n(s([r]));for(var d=e.findCommonAncestor(r,o),f=r;f;f=f.parentNode){if(f===o)return l(r,d,!0);if(f===d)break}for(f=o;f;f=f.parentNode){if(f===r)return l(o,d);if(f===d)break}var A=c(r,d)||r,h=c(o,d)||o;l(r,A,!0);var p=u(A===r?A:A.nextSibling,"nextSibling",h===o?h.nextSibling:h);p.length&&n(s(p)),l(o,h)},em=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},tm=function(e){return ce(e,(function(e){var t=$l(e);return t?[yn.fromDom(t)]:[]}))},nm=function(e){return em(e).length>1},rm=function(e){return ne(tm(e),Zo)},im=function(e){return pl(e,"td[data-mce-selected],th[data-mce-selected]")},om=function(e,t){var n=im(t);return n.length>0?n:rm(e)},am=function(e){return om(em(e.selection.getSel()),yn.fromDom(e.getBody()))},sm=function(e){var t=e.startContainer,n=e.startOffset;return Yr(t)?0===n?z.some(yn.fromDom(t)):z.none():z.from(t.childNodes[n]).map(yn.fromDom)},um=function(e){var t=e.endContainer,n=e.endOffset;return Yr(t)?n===t.data.length?z.some(yn.fromDom(t)):z.none():z.from(t.childNodes[n-1]).map(yn.fromDom)},cm=function(e){return rr(e).fold(T([e]),(function(t){return[e].concat(cm(t))}))},lm=function(e){return ir(e).fold(T([e]),(function(t){return"br"===Pn(t)?Yn(t).map((function(t){return[e].concat(lm(t))})).getOr([]):[e].concat(lm(t))}))},dm=function(e,t){return Ul(sm(t),um(t),(function(t,n){var r=ae(cm(e),O(In,t)),i=ae(lm(e),O(In,n));return r.isSome()&&i.isSome()})).getOr(!1)},fm=function(e,t,n,r){var i=n,o=new Lo(n,i),a=De(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!X(["td","th","table"],t.toLowerCase())}));do{if(Yr(n)&&0!==An.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?o.next():o.prev());"BODY"===i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Am=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},hm=function(e,t){var n=am(e);n.length>0?Z(n,(function(n){var r=n.dom,i=e.dom.createRng();i.setStartBefore(r),i.setEndAfter(r),t(i,!0)})):t(e.selection.getRng(),!1)},pm=function(e,t,n){var r=ef(e,t);n(r),e.moveToBookmark(r)},mm=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?z.from(t.dom.nodeValue):z.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:i}},gm=mm(Vn,"text"),vm=function(e){return gm.get(e)},ym=function(e){return Vn(e)&&vm(e)===aa},bm=function(e,t,n,r){return Wn(t).fold((function(){return"skipping"}),(function(i){return"br"===r||ym(t)?"valid":bl(t)?"existing":Qh(t.dom)?"caret":bp(e,n,r)&&bp(e,Pn(i),n)?"valid":"invalid-child"}))},wm=function(e,t){var n=Xp(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},xm=function(e,t,n,r){var i=t.uid,o=void 0===i?Bl("mce-annotation"):i,a=Ge(t,["uid"]),s=yn.fromTag("span",e);ll(s,ml()),ci(s,""+vl(),o),ci(s,""+gl(),n);var u=r(o,a),c=u.attributes,l=void 0===c?{}:c,d=u.classes,f=void 0===d?[]:d;return li(s,l),Dl(s,f),s},Cm=function(e,t,n,r,i){var o=[],a=xm(e.getDoc(),i,n,r),s=Rc(z.none()),u=function(){s.set(z.none())},c=function(){return s.get().getOrThunk((function(){var e=Ol(a);return o.push(e),s.set(z.some(e)),e}))},l=function(e){Z(e,d)},d=function(t){var n=bm(e,t,"span",Pn(t));switch(n){case"invalid-child":u();var r=tr(t);l(r),u();break;case"valid":var i=c();br(t,i);break}},f=function(e){var t=J(e,yn.fromDom);l(t)};return Zp(e.dom,t,(function(e){u(),f(e)})),o},Sm=function(e,t,n,r){e.undoManager.transact((function(){var i=e.selection,o=i.getRng(),a=am(e).length>0;if(o.collapsed&&!a&&wm(e,o),i.getRng().collapsed&&!a){var s=xm(e.getDoc(),r,t,n.decorate);Tl(s,ra),i.getRng().insertNode(s.dom),i.select(s.dom)}else pm(i,!1,(function(){hm(e,(function(i){Cm(e,i,t,n.decorate,r)}))}))}))},km=function(e){var t=kl();Sl(e,t);var n=Cl(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each((function(t){Sm(e,n,t,r)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){yl(e,z.some(t)).each((function(e){var t=e.elements;Z(t,kr)}))},getAll:function(t){var n=xl(e,t);return Ce(n,(function(e){return J(e,(function(e){return e.dom}))}))}}},_m=function(e){return{getBookmark:O(up,e),moveToBookmark:O(cp,e)}};_m.isBookmarkNode=lp;var Bm=function(e,t){while(t&&t!==e){if(ri(t)||ii(t))return t;t=t.parentNode}return null},Dm=function(e,t,n){if(n.collapsed)return!1;if(Zt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Vr(r))return Y(r.getClientRects(),(function(n){return Wl(n,e,t)}))}return Y(n.getClientRects(),(function(n){return Wl(n,e,t)}))},Mm=function(e,t){return e.fire("PreProcess",t)},Em=function(e,t){return e.fire("PostProcess",t)},Tm=function(e){return e.fire("remove")},Im=function(e){return e.fire("detach")},Om=function(e,t){return e.fire("SwitchMode",{mode:t})},Lm=function(e,t,n,r,i){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:i})},Fm=function(e,t,n,r,i){e.fire("ObjectResized",{target:t,width:n,height:r,origin:i})},Pm=function(e){return e.fire("PreInit")},Nm=function(e){return e.fire("PostRender")},Um=function(e){return e.fire("Init")},Hm=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Rm=function(e,t,n){return e.fire(t,n)},Vm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Vm.metaKeyPressed(e)},metaKeyPressed:function(e){return Zt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Qm=ii,jm=function(e,t){var n,r,i,o,a,s,u,c,l,d,f,A,h,p,m,g,v,y="data-mce-selected",b=t.dom,w=An.each,x=t.getDoc(),C=document,k=Math.abs,_=Math.round,B=t.getBody(),D={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},M=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},E=function(e){return ai(e)||b.hasClass(e,"mce-preview-object")},T=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return M(e.target)&&!Dm(n.clientX,n.clientY,t)}return M(e.target)&&!Dm(e.clientX,e.clientY,t)},I=function(e){var n=e.target;T(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},O=function(e){return b.is(e,"figure.image")?[e.querySelector("img")]:b.hasClass(e,"mce-preview-object")&&S(e.firstElementChild)?[e,e.firstElementChild]:[e]},L=function(e){var n=Qf(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(b.hasClass(e,"mce-preview-object")?Dn(yn.fromDom(e.firstElementChild),n):Dn(yn.fromDom(e),n))))},F=function(e){return E(e)?b.create("img",{src:Zt.transparentSrc}):e.cloneNode(!0)},P=function(e,n,r){if(S(r)){var i=O(e);Z(i,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?b.setStyle(e,n,r):b.setAttrib(e,n,""+r)}))}},N=function(e,t,n){P(e,"width",t),P(e,"height",n)},U=function(e){var a,y,w,x,C;a=e.screenX-s,y=e.screenY-u,p=a*o[2]+d,m=y*o[3]+f,p=p<5?5:p,m=m<5?5:m,w=(M(n)||E(n))&&!1!==jf(t)?!Vm.modifierPressed(e):Vm.modifierPressed(e),w&&(k(a)>k(y)?(m=_(p*A),p=_(m/A)):(p=_(m/A),m=_(p*A))),N(r,p,m),x=o.startPos.x+a,C=o.startPos.y+y,x=x>0?x:0,C=C>0?C:0,b.setStyles(i,{left:x,top:C,display:"block"}),i.innerHTML=p+" &times; "+m,o[2]<0&&r.clientWidth<=p&&b.setStyle(r,"left",c+(d-p)),o[3]<0&&r.clientHeight<=m&&b.setStyle(r,"top",l+(f-m)),a=B.scrollWidth-g,y=B.scrollHeight-v,a+y!==0&&b.setStyles(i,{left:x-a,top:C-y}),h||(Lm(t,n,d,f,"corner-"+o.name),h=!0)},H=function(){var e=h;h=!1,e&&(P(n,"width",p),P(n,"height",m)),b.unbind(x,"mousemove",U),b.unbind(x,"mouseup",H),C!==x&&(b.unbind(C,"mousemove",U),b.unbind(C,"mouseup",H)),b.remove(r),b.remove(i),b.remove(a),R(n),e&&(Fm(t,n,p,m,"corner-"+o.name),b.setAttrib(n,"style",b.getAttrib(n,"style"))),t.nodeChanged()},R=function(e){z();var c=b.getPos(e,B),l=c.x,h=c.y,S=e.getBoundingClientRect(),k=S.width||S.right-S.left,_=S.height||S.bottom-S.top;n!==e&&(V(),n=e,p=m=0);var M=t.fire("ObjectSelected",{target:e}),E=b.getAttrib(n,y,"1");L(e)&&!M.isDefaultPrevented()?w(D,(function(e,t){var c,p=function(c){var p=O(n)[0];s=c.screenX,u=c.screenY,d=p.clientWidth,f=p.clientHeight,A=f/d,o=e,o.name=t,o.startPos={x:k*e[0]+l,y:_*e[1]+h},g=B.scrollWidth,v=B.scrollHeight,a=b.add(B,"div",{class:"mce-resize-backdrop"}),b.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=F(n),b.addClass(r,"mce-clonedresizable"),b.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",b.setStyles(r,{left:l,top:h,margin:0}),N(r,k,_),r.removeAttribute(y),B.appendChild(r),b.bind(x,"mousemove",U),b.bind(x,"mouseup",H),C!==x&&(b.bind(C,"mousemove",U),b.bind(C,"mouseup",H)),i=b.add(B,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+f)};c=b.get("mceResizeHandle"+t),c&&b.remove(c),c=b.add(B,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Zt.ie&&(c.contentEditable=!1),b.bind(c,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)})),e.elm=c,b.setStyles(c,{left:k*e[0]+l-c.offsetWidth/2,top:_*e[1]+h-c.offsetHeight/2})})):V(),b.getAttrib(n,y)||n.setAttribute(y,E)},V=function(){z(),n&&n.removeAttribute(y),xe(D,(function(e,t){var n=b.get("mceResizeHandle"+t);n&&(b.unbind(n),b.remove(n))}))},Q=function(n){var r,i,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};h||t.removed||(w(b.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(y)})),i="mousedown"===n.type?n.target:e.getNode(),i=b.$(i).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],o(i,B)&&(G(),r=e.getStart(!0),o(r,i)&&o(e.getEnd(!0),i))?R(i):V())},j=function(e){return Qm(Bm(t.getBody(),e))},z=function(){xe(D,(function(e){e.elm&&(b.unbind(e.elm),delete e.elm)}))},G=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(function(){if(G(),Zt.browser.isIE()||Zt.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||j(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}));var e=function(e){var n=function(e){Eo.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(j(e.target)||ai(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};b.bind(B,"mscontrolselect",e),t.on("remove",(function(){return b.unbind(B,"mscontrolselect",e)}))}var r=Eo.throttle((function(e){t.composing||Q(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",(function(e){n&&"TABLE"===n.nodeName&&r(e)})),t.on("hide blur",V),t.on("contextmenu longpress",I,!0)})),t.on("remove",z);var K=function(){n=r=a=null};return{isResizable:L,showResizeRect:R,hideResizeRect:V,updateResizeRect:Q,destroy:K}},zm=function(e){return ri(e)||ii(e)},Gm=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Km=function(e,t,n){var r,i=n.elementFromPoint(e,t),o=n.body.createTextRange();if(i&&"HTML"!==i.tagName||(i=n.body),o.moveToElementText(i),r=An.toArray(o.getClientRects()),r=r.sort((function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n})),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null},qm=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return ii(Gm(n,t,zm))?null:e},Wm=function(e,t,n){var r,i,o=n;if(o.caretPositionFromPoint)i=o.caretPositionFromPoint(e,t),i&&(r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=Km(e,t,n)}return qm(r,n.body)}return r},$m=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Xm=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Ym=function(e,t,n){return null!==Xm(e,t,n)},Jm=function(e,t,n){return Ym(e,t,(function(e){return e.nodeName===n}))},Zm=function(e){return e&&"TABLE"===e.nodeName},eg=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},tg=function(e,t){return Aa(e)&&!1===Ym(e,t,Qh)},ng=function(e,t,n){var r=new Lo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=r[n?"prev":"next"]())if(ti(t))return!0},rg=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},ig=function(e,t){while(t&&t!==e){if(ii(t))return!0;t=t.parentNode}return!1},og=function(e,t,n,r,i){var o,a,s=e.getRoot(),u=e.schema.getNonEmptyElements(),c=e.getParent(i.parentNode,e.isBlock)||s;if(r&&ti(i)&&t&&e.isEmpty(c))return z.some(wd(i.parentNode,e.nodeIndex(i)));var l=new Lo(i,c);while(a=l[r?"prev":"next"]()){if("false"===e.getContentEditableParent(a)||tg(a,s))return z.none();if(Yr(a)&&a.nodeValue.length>0)return!1===Jm(a,s,"A")?z.some(wd(a,r?a.nodeValue.length:0)):z.none();if(e.isBlock(a)||u[a.nodeName.toLowerCase()])return z.none();o=a}return n&&o?z.some(wd(o,0)):z.none()},ag=function(e,t,n,r){var i,o,a,s,u=e.getRoot(),c=!1;i=r[(n?"start":"end")+"Container"],o=r[(n?"start":"end")+"Offset"];var l=Vr(i)&&o===i.childNodes.length,d=e.schema.getNonEmptyElements();if(s=n,Aa(i))return z.none();if(Vr(i)&&o>i.childNodes.length-1&&(s=!1),Zr(i)&&(i=u,o=0),i===u){if(s&&(a=i.childNodes[o>0?o-1:0],a)){if(Aa(a))return z.none();if(d[a.nodeName]||Zm(a))return z.none()}if(i.hasChildNodes()){if(o=Math.min(!s&&o>0?o-1:o,i.childNodes.length-1),i=i.childNodes[o],o=Yr(i)&&l?i.data.length:0,!t&&i===u.lastChild&&Zm(i))return z.none();if(ig(u,i)||Aa(i))return z.none();if(i.hasChildNodes()&&!1===Zm(i)){a=i;var f=new Lo(i,u);do{if(ii(a)||Aa(a)){c=!1;break}if(Yr(a)&&a.nodeValue.length>0){o=s?0:a.nodeValue.length,i=a,c=!0;break}if(d[a.nodeName.toLowerCase()]&&!eg(a)){o=e.nodeIndex(a),i=a.parentNode,s||o++,c=!0;break}}while(a=s?f.next():f.prev())}}}return t&&(Yr(i)&&0===o&&og(e,l,t,!0,i).each((function(e){i=e.container(),o=e.offset(),c=!0})),Vr(i)&&(a=i.childNodes[o],a||(a=i.childNodes[o-1]),!a||!ti(a)||rg(a,"A")||ng(e,a,!1)||ng(e,a,!0)||og(e,l,t,!0,a).each((function(e){i=e.container(),o=e.offset(),c=!0})))),s&&!t&&Yr(i)&&o===i.nodeValue.length&&og(e,l,t,!1,i).each((function(e){i=e.container(),o=e.offset(),c=!0})),c?z.some(wd(i,o)):z.none()},sg=function(e,t){var n=t.collapsed,r=t.cloneRange(),i=wd.fromRangeStart(t);return ag(e,n,!0,r).each((function(e){n&&wd.isAbove(i,e)||r.setStart(e.container(),e.offset())})),n||ag(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),$m(t,r)?z.none():z.some(r)},ug=function(e,t){return e.splitText(t)},cg=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;return t===r&&Yr(t)?n>0&&n<t.nodeValue.length&&(r=ug(t,n),t=r.previousSibling,i>n?(i-=n,t=r=ug(r,i).previousSibling,i=r.nodeValue.length,n=0):i=0):(Yr(t)&&n>0&&n<t.nodeValue.length&&(t=ug(t,n),n=0),Yr(r)&&i>0&&i<r.nodeValue.length&&(r=ug(r,i).previousSibling,i=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},lg=function(e){var t=function(t,n){return Zp(e,t,n)},n=cg,r=function(t){return sg(e,t).fold(U,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))};return{walk:t,split:n,normalize:r}};lg.compareRanges=$m,lg.getCaretRangeFromPoint=Wm,lg.getSelectedNode=$l,lg.getNode=Xl;var dg,fg=function(e,t){var n=function(t,n){if(!B(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;si(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=vi(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return ie(t,(function(t,n){var r=vi(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}},Ag=fg("height",(function(e){var t=e.dom;return _r(e)?t.getBoundingClientRect().height:t.offsetHeight})),hg=function(e){return Ag.get(e)},pg=function(e,t){var n=e.view(t);return n.fold(T([]),(function(t){var n=e.owner(t),r=pg(e,n);return[t].concat(r)}))},mg=function(e,t){var n=t.owner(e);return pg(t,n)},gg=function(e){var t,n=e.dom===document?z.none():z.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(yn.fromDom)},vg=function(e){return Gn(e)},yg=Object.freeze({__proto__:null,view:gg,owner:vg}),bg=function(e){var t=yn.fromDom(document),n=Or(t),r=mg(e,yg),i=Ir(e),o=re(r,(function(e,t){var n=Ir(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Dr(o.left+i.left+n.left,o.top+i.top+n.top)},wg=function(e){return"textarea"===Pn(e)},xg=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},Cg=function(e,t){e.fire("AfterScrollIntoView",t)},Sg=function(e,t){var n=tr(e);if(0===n.length||wg(e))return{element:e,offset:t};if(t<n.length&&!wg(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return wg(r)?{element:e,offset:t}:"img"===Pn(r)?{element:r,offset:1}:Vn(r)?{element:r,offset:vm(r).length}:{element:r,offset:tr(r).length}},kg=function(e,t){var n=Tr(e),r=hg(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},_g=function(e,t){var n=Sg(e,t),r=yn.fromHtml('<span data-mce-bogus="all">'+aa+"</span>");return mr(n.element,r),kg(r,(function(){return Sr(r)}))},Bg=function(e){return kg(yn.fromDom(e),D)},Dg=function(e,t,n,r){Ig(e,(function(i,o){return Eg(e,t,n,r)}),n)},Mg=function(e,t,n,r,i){var o={elm:r.element.dom,alignToTop:i};if(!xg(e,o)){var a=Or(t).top;n(t,a,r,i),Cg(e,o)}},Eg=function(e,t,n,r){var i=yn.fromDom(e.getBody()),o=yn.fromDom(e.getDoc());xi(i);var a=_g(yn.fromDom(n.startContainer),n.startOffset);Mg(e,o,t,a,r),a.cleanup()},Tg=function(e,t,n,r){var i=yn.fromDom(e.getDoc());Mg(e,i,n,Bg(t),r)},Ig=function(e,t,n){var r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset;t(yn.fromDom(r),yn.fromDom(o));var s=e.dom.createRng();s.setStart(r,i),s.setEnd(o,a),e.selection.setRng(n)},Og=function(e,t,n,r){var i=e.pos;if(n)Lr(i.left,i.top,r);else{var o=i.top-t+e.height;Lr(i.left,o,r)}},Lg=function(e,t,n,r,i){var o=n+t,a=r.pos.top,s=r.bottom,u=s-a>=n;if(a<t)Og(r,n,!1!==i,e);else if(a>o){var c=u?!1!==i:!0===i;Og(r,n,c,e)}else s>o&&!u&&Og(r,n,!0===i,e)},Fg=function(e,t,n,r){var i=e.dom.defaultView.innerHeight;Lg(e,t,i,n,r)},Pg=function(e,t,n,r){var i=e.dom.defaultView.innerHeight;Lg(e,t,i,n,r);var o=bg(n.element),a=Ur(window);o.top<a.y?Fr(n.element,!1!==r):o.top>a.bottom&&Fr(n.element,!0===r)},Ng=function(e,t,n){return Dg(e,Fg,t,n)},Ug=function(e,t,n){return Tg(e,t,Fg,n)},Hg=function(e,t,n){return Dg(e,Pg,t,n)},Rg=function(e,t,n){return Tg(e,t,Pg,n)},Vg=function(e,t,n){var r=e.inline?Ug:Rg;r(e,t,n)},Qg=function(e,t,n){var r=e.inline?Ng:Hg;r(e,t,n)},jg=function(){return yn.fromDom(document)},zg=function(e){return e.dom.focus()},Gg=function(e){var t=lr(e).dom;return e.dom===t.activeElement},Kg=function(e){return void 0===e&&(e=jg()),z.from(e.dom.activeElement).map(yn.fromDom)},qg=function(e){return Kg(lr(e)).filter((function(t){return e.dom.contains(t.dom)}))},Wg=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},$g={create:Wg},Xg=Ki.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Yg=function(e,t,n,r){return e.fold(t,n,r)},Jg=function(e){return e.fold(I,I,I)},Zg=Xg.before,ev=Xg.on,tv=Xg.after,nv={before:Zg,on:ev,after:tv,cata:Yg,getStart:Jg},rv=Ki.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),iv=function(e){return rv.exact(e.start,e.soffset,e.finish,e.foffset)},ov=function(e){return e.match({domRange:function(e){return yn.fromDom(e.startContainer)},relative:function(e,t){return nv.getStart(e)},exact:function(e,t,n,r){return e}})},av=rv.domRange,sv=rv.relative,uv=rv.exact,cv=function(e){var t=ov(e);return qn(t)},lv=$g.create,dv={domRange:av,relative:sv,exact:uv,exactFromRange:iv,getWin:cv,range:lv},fv=zt().browser,Av=function(e,t){var n=Vn(t)?vm(t).length:tr(t).length+1;return e>n?n:e<0?0:e},hv=function(e){return dv.range(e.start,Av(e.soffset,e.start),e.finish,Av(e.foffset,e.finish))},pv=function(e,t){return!Rr(t.dom)&&(Fn(e,t)||In(e,t))},mv=function(e){return function(t){return pv(e,t.start)&&pv(e,t.finish)}},gv=function(e){return!0===e.inline||fv.isIE()},vv=function(e){return dv.range(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset)},yv=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?z.from(t.getRangeAt(0)):z.none();return n.map(vv)},bv=function(e){var t=qn(e);return yv(t.dom).filter(mv(e))},wv=function(e,t){return z.from(t).filter(mv(e)).map(hv)},xv=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),z.some(t)}catch(_){return z.none()}},Cv=function(e){var t=gv(e)?bv(yn.fromDom(e.getBody())):z.none();e.bookmark=t.isSome()?t:e.bookmark},Sv=function(e,t){var n=yn.fromDom(e.getBody()),r=gv(e)?z.from(t):z.none(),i=r.map(vv).filter(mv(n));e.bookmark=i.isSome()?i:e.bookmark},kv=function(e){var t=e.bookmark?e.bookmark:z.none();return t.bind((function(t){return wv(yn.fromDom(e.getBody()),t)})).bind(xv)},_v=function(e){kv(e).each((function(t){return e.selection.setRng(t)}))},Bv=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Dv={isEditorUIElement:Bv},Mv=function(e){return"nodechange"===e.type&&e.selectionChange},Ev=function(e,t){var n=function(){t.throttle()};Tc.DOM.bind(document,"mouseup",n),e.on("remove",(function(){Tc.DOM.unbind(document,"mouseup",n)}))},Tv=function(e){e.on("focusout",(function(){Cv(e)}))},Iv=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))},Ov=function(e,t){var n=zt().browser;n.isIE()?Tv(e):Iv(e,t),e.on("keyup NodeChange",(function(t){Mv(t)||Cv(e)}))},Lv=function(e){var t=tl((function(){Cv(e)}),0);e.on("init",(function(){e.inline&&Ev(e,t),Ov(e,t)})),e.on("remove",(function(){t.cancel()}))},Fv=Tc.DOM,Pv=function(e){return Dv.isEditorUIElement(e)},Nv=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Uv=function(e,t){var n=Zf(e),r=Fv.getParent(t,(function(t){return Pv(t)||!!n&&e.dom.is(t,n)}));return null!==r},Hv=function(e){try{var t=lr(yn.fromDom(e.getElement()));return Kg(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(n){return document.body}},Rv=function(e,t){var n=t.editor;Lv(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){Eo.setEditorTimeout(n,(function(){var t=e.focusedEditor;Uv(n,Hv(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),dg||(dg=function(t){var n=e.activeEditor;n&&hr(t).each((function(t){t.ownerDocument===document&&(t===document.body||Uv(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Fv.bind(document,"focusin",dg))},Vv=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Fv.unbind(document,"focusin",dg),dg=null)},Qv=function(e){e.on("AddEditor",O(Rv,e)),e.on("RemoveEditor",O(Vv,e))},jv=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))},zv=function(e){return e.collapsed?z.from(Xl(e.startContainer,e.startOffset)).map(yn.fromDom):z.none()},Gv=function(e,t){return zv(t).bind((function(t){return Jo(t)?z.some(t):!1===Fn(e,t)?z.some(e):z.none()}))},Kv=function(e,t){Gv(yn.fromDom(e.getBody()),t).bind((function(e){return Hh(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},qv=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Wv=function(e){return Gg(e)||qg(e).isSome()},$v=function(e){return e.iframeElement&&Gg(yn.fromDom(e.iframeElement))},Xv=function(e){var t=e.getBody();return t&&Wv(yn.fromDom(t))},Yv=function(e){var t=lr(yn.fromDom(e.getElement()));return Kg(t).filter((function(t){return!Nv(t.dom)&&Uv(e,t.dom)})).isSome()},Jv=function(e){return e.inline?Xv(e):$v(e)},Zv=function(e){return Jv(e)||Yv(e)},ey=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Jv(e)&&kv(e).each((function(t){e.selection.setRng(t),r=t}));var i=jv(e,t.getNode());if(e.$.contains(n,i))return qv(i),Kv(e,r),void ty(e);e.inline||(Zt.opera||qv(n),e.getWin().focus()),(Zt.gecko||e.inline)&&(qv(n),Kv(e,r)),ty(e)},ty=function(e){return e.editorManager.setActive(e)},ny=function(e,t){e.removed||(t?ty(e):ey(e))},ry=function(e,t,n,r,i){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return z.from(o).map(yn.fromDom).map((function(e){return r&&t.collapsed?e:nr(e,i(e,a)).getOr(e)})).bind((function(e){return Rn(e)?z.some(e):Wn(e).filter(Rn)})).map((function(e){return e.dom})).getOr(e)},iy=function(e,t,n){return ry(e,t,!0,n,(function(e,t){return Math.min(or(e),t)}))},oy=function(e,t,n){return ry(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},ay=function(e,t){var n=e;while(e&&Yr(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},sy=function(e,t){var n,r,i;if(!t)return e;r=t.startContainer,i=t.endContainer;var o=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===i&&a-o<2&&r.hasChildNodes()&&(n=r.childNodes[o]),3===r.nodeType&&3===i.nodeType&&(r=r.length===o?ay(r.nextSibling,!0):r.parentNode,i=0===a?ay(i.previousSibling,!1):i.parentNode,r&&r===i))?r:n&&3===n.nodeType?n.parentNode:n},uy=function(e,t,n,r){var i,o=[],a=e.getRoot();if(n=e.getParent(n||iy(a,t,t.collapsed),e.isBlock),r=e.getParent(r||oy(a,t,t.collapsed),e.isBlock),n&&n!==a&&o.push(n),n&&r&&n!==r){i=n;var s=new Lo(n,a);while((i=s.next())&&i!==r)e.isBlock(i)&&o.push(i)}return r&&n!==r&&r!==a&&o.push(r),o},cy=function(e,t,n){return z.from(t).map((function(t){var r=e.nodeIndex(t),i=e.createRng();return i.setStart(t.parentNode,r),i.setEnd(t.parentNode,r+1),n&&(fm(e,i,t,!0),fm(e,i,t,!1)),i}))},ly=function(e,t){return J(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},dy={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fy=function(e,t,n){var r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){var o=e[i];if(o)return o;for(var a=e.parent;a&&a!==t;a=a.parent)if(o=a[i],o)return o}},Ay=function(e){if(!Va(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},hy=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},py=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,dy[t]||1);return n&&xe(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!==typeof e)return void 0!==e&&null!==e&&xe(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];var i=n.length;while(i--)if(n[i].name===e)return n.splice(i,1),r}return r}if(e in n.map){i=n.length;while(i--)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var i=[];i.map={};for(var o=0,a=t.length;o<a;o++){var s=t[o];"id"!==s.name&&(i[i.length]={name:s.name,value:s.value},i.map[s.name]=s.value)}r.attributes=i}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=fy(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=fy(n,e))t.push(n);var r=t.length;while(r--){n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,i=r.firstChild;if(hy(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(hy(i))return!1}if(8===i.type)return!1;if(3===i.type&&!Ay(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Va(i.value))return!1;if(n&&n(i))return!1}while(i=fy(i,r));return!0},e.prototype.walk=function(e){return fy(this,null,e)},e}(),my=function(e){var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],i={},o=Bl("img"),a=0,s=0;while(t=n.exec(e)){var u=t[0],c=o+"_"+s++;i[c]=u,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+u.length}var l=new RegExp(o+"_[0-9]+","g");return 0===a?{prefix:o,uris:i,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:o,uris:i,html:r.join(""),re:l})},gy=function(e,t){return e.replace(t.re,(function(e){return Te(t.uris,e).getOr(e)}))},vy=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?z.some({type:t[1],data:decodeURIComponent(t[2])}):z.none()},yy=["img","video"],by=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},wy=function(e,t){var n=C(e)?X(yy,t):e;return!n},xy=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?wy(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Cy=function(e,t,n){var r,i,o=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;s.lastIndex=r=n;while(i=s.exec(t)){if(r=s.lastIndex,"/"===i[1])o--;else if(!i[1]){if(i[2]in a)continue;o++}if(0===o)break}return r},Sy=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},ky=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Sy(r,n)){var i=r.indexOf("[endif]",n);return r.indexOf(">",i)}if(t){var o=r.indexOf(">",n);return-1!==o?o:r.length}var a=/--!?>/g;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length},_y=function(e,t){var n=e.exec(t);if(n){var r=n[1],i=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null},By=function(e,t){void 0===t&&(t=Os()),e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var n=e.comment?e.comment:D,r=e.cdata?e.cdata:D,i=e.text?e.text:D,o=e.start?e.start:D,a=e.end?e.end:D,s=e.pi?e.pi:D,u=e.doctype?e.doctype:D,c=function(c,l){void 0===l&&(l="html");var d,f,A,h,p,m,g,v,y,b,w,x,C,S,k,_,B,D,M,E,T=c.html,I=0,O=[],L=0,F=xs.decode,P=An.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),N=/((java|vb)script|mhtml):/i,U="html"===l?0:1,H=function(e){var t,n;t=O.length;while(t--)if(O[t].name===e)break;if(t>=0){for(n=O.length-1;n>=t;n--)e=O[n],e.valid&&a(e.name);O.length=t}},R=function(e,t){return i(gy(e,c),t)},V=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),n(gy(t,c)))},Q=function(e){return gy(e,c)},j=function(e,t){var n=e||"",r=!ct(n,"--"),i=ky(T,r,t);return e=T.substr(t,i-t),V(r?n+e:e),i+1},z=function(t,n,r,i,o){var a,s,u=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=Q(n in $?n:F(r||i||o||"")),X&&!v&&!1===by(n)){if(a=S[n],!a&&k){s=k.length;while(s--)if(a=k[s],a.pattern.test(n))break;-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(P[n]&&!e.allow_script_urls){var c=r.replace(u,"");try{c=decodeURIComponent(c)}catch(l){c=unescape(c)}if(N.test(c))return;if(xy(e,c,t))return}v&&(n in P||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))},G=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),K=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,q=t.getShortEndedElements(),W=e.self_closing_elements||t.getSelfClosingElements(),$=t.getBoolAttrs(),X=e.validate,Y=e.remove_internals,J=e.fix_self_closing,Z=t.getSpecialElements(),ee=T+">";while(d=G.exec(ee)){var te=d[0];if(I<d.index&&R(F(T.substr(I,d.index-I))),f=d[7])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),H(f);else if(f=d[8]){if(d.index+te.length>T.length){R(F(T.substr(d.index))),I=d.index+te.length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),y=f in q,J&&W[f]&&O.length>0&&O[O.length-1].name===f&&H(f);var ne=_y(K,d[9]);if(null!==ne){if("all"===ne){I=Cy(t,T,G.lastIndex),G.lastIndex=I;continue}w=!1}if(!X||(b=t.getElementRule(f))){if(w=!0,X&&(S=b.attributes,k=b.attributePatterns),(C=d[9])?(v=-1!==C.indexOf("data-mce-type"),v&&Y&&(w=!1),h=[],h.map={},C.replace(K,(function(e,t,n,r,i){return z(f,t,n,r,i),""}))):(h=[],h.map={}),X&&!v){if(_=b.attributesRequired,B=b.attributesDefault,D=b.attributesForced,M=b.removeEmptyAttrs,M&&!h.length&&(w=!1),D){p=D.length;while(p--)x=D[p],g=x.name,E=x.value,"{$uid}"===E&&(E="mce_"+L++),h.map[g]=E,h.push({name:g,value:E})}if(B){p=B.length;while(p--)x=B[p],g=x.name,g in h.map||(E=x.value,"{$uid}"===E&&(E="mce_"+L++),h.map[g]=E,h.push({name:g,value:E}))}if(_){p=_.length;while(p--)if(_[p]in h.map)break;-1===p&&(w=!1)}if(x=h.map["data-mce-bogus"]){if("all"===x){I=Cy(t,T,G.lastIndex),G.lastIndex=I;continue}w=!1}}w&&o(f,h,y)}else w=!1;if(A=Z[f]){A.lastIndex=I=d.index+te.length,(d=A.exec(T))?(w&&(m=T.substr(I,d.index-I)),I=d.index+d[0].length):(m=T.substr(I),I=T.length),w&&(m.length>0&&R(m,!0),a(f)),G.lastIndex=I;continue}y||(C&&C.indexOf("/")===C.length-1?w&&a(f):O.push({name:f,valid:w}))}else if(f=d[1])V(f);else if(f=d[2]){var re=1===U||e.preserve_cdata||O.length>0&&t.isValidChild(O[O.length-1].name,"#cdata");if(!re){I=j("",d.index+2),G.lastIndex=I;continue}r(f)}else if(f=d[3])u(f);else{if((f=d[4])||"<!"===te){I=j(f,d.index+te.length),G.lastIndex=I;continue}if(f=d[5]){if(1!==U){I=j("?",d.index+2),G.lastIndex=I;continue}s(f,d[6])}}I=d.index+te.length}for(I<T.length&&R(F(T.substr(I))),p=O.length-1;p>=0;p--)f=O[p],f.valid&&a(f.name)},l=function(e,t){void 0===t&&(t="html"),c(my(e),t)};return{parse:l}};By.findEndTag=Cy;var Dy=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},My=function(e,t){var n,r,i,o,a=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema;a=Dy(e.getTempAttrs(),a);var c=u.getShortEndedElements();while(o=s.exec(a))r=s.lastIndex,i=o[0].length,n=c[o[1]]?r:By.findEndTag(u,a,r),a=a.substring(0,r-i)+a.substring(n),s.lastIndex=r-i;return ua(a)},Ey=My,Ty=function(e,t){var n=hf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},Iy=function(e,t,n,r){var i;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),i="raw"===t.format?An.trim(Ey(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":ua(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):Ty(e,e.serializer.serialize(r,t)),X(["text","tree"],t.format)||ea(yn.fromDom(r))?t.content=i:t.content=An.trim(i),t.no_events||e.fire("GetContent",t),t.content},Oy=function(e,t,n){return z.from(e.getBody()).fold(T("tree"===t.format?new py("body",11):""),(function(r){return Iy(e,t,n,r)}))},Ly=An.each,Fy=function(e){var t=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Ly(e.getAttribs(t),(function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=e.getAttrib(t,i))})),n},i=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"===typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!i(r(t),r(n))&&(!!i(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!lp(t)&&!lp(n)))};return{compare:t}},Py=An.makeMap,Ny=function(e){var t=[];e=e||{};var n=e.indent,r=Py(e.indent_before||""),i=Py(e.indent_after||""),o=xs.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,u){var c,l,d,f;if(n&&r[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n")),t.push("<",e),s)for(c=0,l=s.length;c<l;c++)d=s[c],t.push(" ",d.name,'="',o(d.value,!0),'"');t[t.length]=!u||a?">":" />",u&&n&&i[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&i[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:o(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",o(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Uy=function(e,t){void 0===t&&(t=Os());var n=Ny(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,s,u,c,l,d,f,A,h,p=o[e.type];if(p)p(e);else{if(r=e.name,s=e.shortEnded,u=e.attributes,i&&u&&u.length>1&&(d=[],d.map={},h=t.getElementRule(e.name),h)){for(f=0,A=h.attributesOrder.length;f<A;f++)c=h.attributesOrder[f],c in u.map&&(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));for(f=0,A=u.length;f<A;f++)c=u[f].name,c in d.map||(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));u=d}if(n.start(e.name,u,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()};return{serialize:r}},Hy=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Z(e,(function(e){Hy.add(e)}))})();var Ry=["font","text-decoration","text-emphasis"],Vy=function(e,t){return be(e.parseStyle(e.getAttrib(t,"style")))},Qy=function(e){return Hy.has(e)},jy=function(e,t){return le(Vy(e,t),(function(e){return!Qy(e)}))},zy=function(e){return ne(e,(function(e){return Y(Ry,(function(t){return ct(e,t)}))}))},Gy=function(e,t,n){var r=Vy(e,t),i=Vy(e,n),o=function(r){var i=e.getStyle(t,r),o=e.getStyle(n,r);return ht(i)&&ht(o)&&i!==o};return Y(r,(function(e){var t=function(t){return Y(t,(function(t){return t===e}))};if(!t(i)&&t(Ry)){var n=zy(i);return Y(n,o)}return o(e)}))},Ky=function(e,t,n){return z.from(n.container()).filter(Yr).exists((function(r){var i=e?0:-1;return t(r.data.charAt(n.offset()+i))}))},qy=O(Ky,!0,Ap),Wy=O(Ky,!1,Ap),$y=function(e){var t=e.container();return Yr(t)&&(0===t.data.length||sa(t.data)&&_m.isBookmarkNode(t.parentNode))},Xy=function(e,t){return function(n){return z.from(eh(e?0:-1,n)).filter(t).isSome()}},Yy=function(e){return ni(e)&&"block"===vi(yn.fromDom(e),"display")},Jy=function(e){return ii(e)&&!qr(e)},Zy=Xy(!0,Yy),eb=Xy(!1,Yy),tb=Xy(!0,ai),nb=Xy(!1,ai),rb=Xy(!0,Wr),ib=Xy(!1,Wr),ob=Xy(!0,Jy),ab=Xy(!1,Jy),sb=function(e){var t=[],n=e.dom;while(n)t.push(yn.fromDom(n)),n=n.lastChild;return t},ub=function(e){var t=pl(e,"br"),n=ne(sb(e).slice(-1),Wo);t.length===n.length&&Z(n,Sr)},cb=function(e){Cr(e),yr(e,yn.fromHtml('<br data-mce-bogus="1">'))},lb=function(e){ir(e).each((function(t){Yn(t).each((function(n){Go(e)&&Wo(t)&&Go(n)&&Sr(t)}))}))},db=function(e){return e.slice(0,-1)},fb=function(e,t,n){return Fn(t,e)?db($n(e,(function(e){return n(e)||In(e,t)}))):[]},Ab=function(e,t){return fb(e,t,U)},hb=function(e,t){return[e].concat(Ab(e,t))},pb=function(e,t,n){return Fh(e,t,n,$y)},mb=function(e,t){return ae(hb(yn.fromDom(t.container()),e),Go)},gb=function(e,t,n){return pb(e,t.dom,n).forall((function(e){return mb(t,n).fold((function(){return!1===ZA(e,n,t.dom)}),(function(r){return!1===ZA(e,n,t.dom)&&Fn(r,yn.fromDom(e.container()))}))}))},vb=function(e,t,n){return mb(t,n).fold((function(){return pb(e,t.dom,n).forall((function(e){return!1===ZA(e,n,t.dom)}))}),(function(t){return pb(e,t.dom,n).isNone()}))},yb=O(vb,!1),bb=O(vb,!0),wb=O(gb,!1),xb=O(gb,!0),Cb=function(e){return ch(e).exists(Wo)},Sb=function(e,t,n){var r=ne(hb(yn.fromDom(n.container()),t),Go),i=me(r).getOr(t);return Oh(e,i.dom,n).filter(Cb)},kb=function(e,t){return ch(t).exists(Wo)||Sb(!0,e,t).isSome()},_b=function(e,t){return lh(t).exists(Wo)||Sb(!1,e,t).isSome()},Bb=O(Sb,!1),Db=O(Sb,!0),Mb=function(e){return wd.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Eb=function(e,t){var n=ne(hb(yn.fromDom(t.container()),e),Go);return me(n).getOr(e)},Tb=function(e,t){return Mb(t)?Wy(t):Wy(t)||Uh(Eb(e,t).dom,t).exists(Wy)},Ib=function(e,t){return Mb(t)?qy(t):qy(t)||Nh(Eb(e,t).dom,t).exists(qy)},Ob=function(e){return X(["pre","pre-wrap"],e)},Lb=function(e){return ch(e).bind((function(e){return mo(e,Rn)})).exists((function(e){return Ob(vi(e,"white-space"))}))},Fb=function(e,t){return Uh(e.dom,t).isNone()},Pb=function(e,t){return Nh(e.dom,t).isNone()},Nb=function(e,t){return Fb(e,t)||Pb(e,t)||yb(e,t)||bb(e,t)||_b(e,t)||kb(e,t)},Ub=function(e,t){return!Lb(t)&&(Nb(e,t)||Tb(e,t)||Ib(e,t))},Hb=function(e,t){return!Lb(t)&&(yb(e,t)||wb(e,t)||_b(e,t)||Tb(e,t))},Rb=function(e){var t=e.container(),n=e.offset();return Yr(t)&&n<t.data.length?wd(t,n+1):e},Vb=function(e,t){return!Lb(t)&&(bb(e,t)||xb(e,t)||kb(e,t)||Ib(e,t))},Qb=function(e,t){return Hb(e,t)||Vb(e,Rb(t))},jb=function(e,t){return fp(e.charAt(t))},zb=function(e){var t=e.container();return Yr(t)&&ut(t.data,ra)},Gb=function(e){var t=e.split("");return J(t,(function(e,n){return fp(e)&&n>0&&n<t.length-1&&hp(t[n-1])&&hp(t[n+1])?" ":e})).join("")},Kb=function(e,t){var n=t.data,r=wd(t,0);return!(!jb(n,0)||Qb(e,r))&&(t.data=" "+n.slice(1),!0)},qb=function(e){var t=e.data,n=Gb(t);return n!==t&&(e.data=n,!0)},Wb=function(e,t){var n=t.data,r=wd(t,n.length-1);return!(!jb(n,n.length-1)||Qb(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},$b=function(e,t){return z.some(t).filter(zb).bind((function(t){var n=t.container(),r=Kb(e,n)||qb(n)||Wb(e,n);return r?z.some(t):z.none()}))},Xb=function(e){var t=yn.fromDom(e.getBody());e.selection.isCollapsed()&&$b(t,wd.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},Yb=function(e,t,n){var r=ie(e,(function(r,i){return Ap(i)||fp(i)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+ra}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+i}}),{previousCharIsSpace:!1,str:""});return r.str},Jb=function(e,t,n){if(0!==n){var r=yn.fromDom(e),i=po(r,Go).getOr(r),o=e.data.slice(t,t+n),a=t+n>=e.data.length&&Vb(i,wd(e,e.data.length)),s=0===t&&Hb(i,wd(e,0));e.replaceData(t,n,Yb(o,s,a))}},Zb=function(e,t){var n=e.data.slice(t),r=n.length-ft(n).length;return Jb(e,t,r)},ew=function(e,t){var n=e.data.slice(0,t),r=n.length-At(n).length;return Jb(e,t-r,r)},tw=function(e,t,n,r){void 0===r&&(r=!0);var i=At(e.data).length,o=r?e:t,a=r?t:e;return r?o.appendData(a.data):o.insertData(0,a.data),Sr(yn.fromDom(a)),n&&Zb(o,i),o},nw=function(e,t){var n=e.container(),r=e.offset();return!1===wd.isTextPosition(e)&&n===t.parentNode&&r>wd.before(t).offset()},rw=function(e,t){return nw(t,e)?wd(t.container(),t.offset()-1):t},iw=function(e){return Yr(e)?wd(e,0):wd.before(e)},ow=function(e){return Yr(e)?wd(e,e.data.length):wd.after(e)},aw=function(e){return Oa(e.previousSibling)?z.some(ow(e.previousSibling)):e.previousSibling?Rh(e.previousSibling):z.none()},sw=function(e){return Oa(e.nextSibling)?z.some(iw(e.nextSibling)):e.nextSibling?Hh(e.nextSibling):z.none()},uw=function(e,t){var n=wd.before(t.previousSibling?t.previousSibling:t.parentNode);return Uh(e,n).fold((function(){return Nh(e,wd.after(t))}),z.some)},cw=function(e,t){return Nh(e,wd.after(t)).fold((function(){return Uh(e,wd.before(t))}),z.some)},lw=function(e,t){return aw(t).orThunk((function(){return sw(t)})).orThunk((function(){return uw(e,t)}))},dw=function(e,t){return sw(t).orThunk((function(){return aw(t)})).orThunk((function(){return cw(e,t)}))},fw=function(e,t,n){return e?dw(t,n):lw(t,n)},Aw=function(e,t,n){return fw(e,t,n).map(O(rw,n))},hw=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},pw=function(e){return function(t){return t.dom===e}},mw=function(e,t){return t&&Ie(e.schema.getBlockElements(),Pn(t))},gw=function(e){if(Xa(e)){var t=yn.fromHtml('<br data-mce-bogus="1">');return Cr(e),yr(e,t),z.some(wd.before(t.dom))}return z.none()},vw=function(e,t,n){var r=Yn(e).filter(Vn),i=Jn(e).filter(Vn);return Sr(e),Hl(r,i,t,(function(e,t,r){var i=e.dom,o=t.dom,a=i.data.length;return tw(i,o,n),r.container()===o?wd(i,a):r})).orThunk((function(){return n&&(r.each((function(e){return ew(e.dom,e.dom.length)})),i.each((function(e){return Zb(e.dom,0)}))),t}))},yw=function(e,t){return Ie(e.schema.getTextInlineElements(),Pn(t))},bw=function(e,t,n,r){void 0===r&&(r=!0);var i=Aw(t,e.getBody(),n.dom),o=po(n,O(mw,e),pw(e.getBody())),a=vw(n,i,yw(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(gw).fold((function(){r&&hw(e,t,a)}),(function(n){r&&hw(e,t,z.some(n))}))},ww=function(e,t){return{start:e,end:t}},xw=function(e,t,n){return{rng:e,table:t,cells:n}},Cw=Ki.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Sw=function(e){return function(t){return In(e,t)}},kw=function(e,t){return wo(yn.fromDom(e),"td,th",t)},_w=function(e,t){return yo(e,"table",t)},Bw=function(e){return!In(e.start,e.end)},Dw=function(e,t){return _w(e.start,t).bind((function(n){return _w(e.end,t).bind((function(e){return Rl(In(n,e),n)}))}))},Mw=function(e,t){return!Bw(e)&&Dw(e,t).exists((function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))},Ew=function(e){return pl(e,"td,th")},Tw=function(e,t){var n=kw(e.startContainer,t),r=kw(e.endContainer,t);return Ul(n,r,ww)},Iw=function(e,t){return _w(e.start,t).bind((function(t){return ge(Ew(t)).map((function(t){return ww(e.start,t)}))}))},Ow=function(e,t){var n=kw(t.startContainer,e),r=kw(t.endContainer,e);return t.collapsed?z.none():Ul(n,r,ww).fold((function(){return n.fold((function(){return r.bind((function(t){return _w(t,e).bind((function(e){return me(Ew(e)).map((function(e){return ww(e,t)}))}))}))}),(function(t){return _w(t,e).bind((function(e){return ge(Ew(e)).map((function(e){return ww(t,e)}))}))}))}),(function(t){return Lw(e,t)?z.none():Iw(t,e)}))},Lw=function(e,t){return Dw(t,e).isSome()},Fw=function(e,t){return Dw(e,t).map((function(t){return xw(e,t,Ew(t))}))},Pw=function(e,t,n){return e.filter((function(e){return Bw(e)&&Lw(n,e)})).orThunk((function(){return Ow(n,t)})).bind((function(e){return Fw(e,n)}))},Nw=function(e,t){return se(e,(function(e){return In(e,t)}))},Uw=function(e){return Ul(Nw(e.cells,e.rng.start),Nw(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))},Hw=function(e,t,n){return e.filter((function(e){return Mw(e,n)&&dm(e.start,t)})).map((function(e){return e.start}))},Rw=function(e){return Uw(e).map((function(t){var n=e.cells;return t.length===n.length?Cw.removeTable(e.table):Cw.emptyCells(t)}))},Vw=function(e,t){var n=Sw(e),r=Tw(t,n);return Hw(r,t,n).map((function(e){return Cw.deleteCellSelection(t,e)})).orThunk((function(){return Pw(r,t,n).bind(Rw)}))},Qw=function(e){var t=Hn(e)?Yn(e):ir(e);return t.bind(Qw).orThunk((function(){return z.some(e)}))},jw=function(e,t){return Z(t,cb),e.selection.setCursorLocation(t[0].dom,0),!0},zw=function(e,t,n){t.deleteContents();var r=Qw(n).getOr(n),i=yn.fromDom(e.dom.getParent(r.dom,e.dom.isBlock));if(Xa(i)&&(cb(i),e.selection.setCursorLocation(i.dom,0)),!In(n,i)){var o=Wn(i).is(n)?[]:Xn(i);Z(o.concat(tr(n)),(function(e){In(e,i)||Fn(e,i)||Sr(e)}))}return!0},Gw=function(e,t){return bw(e,!1,t),!0},Kw=function(e,t,n){return Vw(t,n).map((function(t){return t.fold(O(Gw,e),O(jw,e),O(zw,e))}))},qw=function(e,t){return Zw(e,t)},Ww=function(e,t,n,r){return Yw(t,r).fold((function(){return Kw(e,t,n)}),(function(t){return qw(e,t)})).getOr(!1)},$w=function(e,t){var n=yn.fromDom(e.getBody()),r=e.selection.getRng(),i=am(e);return 0!==i.length?jw(e,i):Ww(e,n,r,t)},Xw=function(e,t){return ae(hb(t,e),Zo)},Yw=function(e,t){return ae(hb(t,e),(function(e){return"caption"===Pn(e)}))},Jw=function(e,t,n,r,i){return Lh(n,e.getBody(),i).bind((function(e){return Xw(t,yn.fromDom(e.getNode())).map((function(e){return!1===In(e,r)}))}))},Zw=function(e,t){return cb(t),e.selection.setCursorLocation(t.dom,0),z.some(!0)},ex=function(e,t,n,r){return Hh(e.dom).bind((function(i){return Rh(e.dom).map((function(e){return t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i)}))})).getOr(!0)},tx=function(e,t){return Zw(e,t)},nx=function(e,t,n){return Yw(e,yn.fromDom(n.getNode())).map((function(e){return!1===In(e,t)}))},rx=function(e,t,n,r,i){return Lh(n,e.getBody(),i).bind((function(o){return ex(r,n,i,o)?tx(e,r):nx(t,r,o)})).or(z.some(!0))},ix=function(e,t,n,r){var i=wd.fromRangeStart(e.selection.getRng());return Xw(n,r).bind((function(r){return Xa(r)?Zw(e,r):Jw(e,n,t,r,i)})).getOr(!1)},ox=function(e,t,n,r){var i=wd.fromRangeStart(e.selection.getRng());return Xa(r)?Zw(e,r):rx(e,n,t,r,i)},ax=function(e,t){return e?rb(t):ib(t)},sx=function(e,t){var n=wd.fromRangeStart(e.selection.getRng());return ax(t,n)||Oh(t,e.getBody(),n).exists((function(e){return ax(t,e)}))},ux=function(e,t,n){var r=yn.fromDom(e.getBody());return Yw(r,n).fold((function(){return ix(e,t,r,n)||sx(e,t)}),(function(n){return ox(e,t,r,n).getOr(!1)}))},cx=function(e,t){var n=yn.fromDom(e.selection.getStart(!0)),r=am(e);return e.selection.isCollapsed()&&0===r.length?ux(e,t,n):$w(e,n)},lx=function(e,t,n,r){var i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i},dx=function(e){var t=wd.fromRangeStart(e),n=wd.fromRangeEnd(e),r=e.commonAncestorContainer;return Oh(!1,r,n).map((function(i){return!ZA(t,n,r)&&ZA(t,i,r)?lx(t.container(),t.offset(),i.container(),i.offset()):e})).getOr(e)},fx=function(e){return e.collapsed?e:dx(e)},Ax=function(e){return e.firstChild&&e.firstChild===e.lastChild},hx=function(e){return"br"===e.name||e.value===ra},px=function(e,t){var n=e.getBlockElements();return n[t.name]&&Ax(t)&&hx(t.firstChild)},mx=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||px(e,t))},gx=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),mx(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},vx=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},yx=function(e,t,n){var r=t.serialize(n),i=e.createFragment(r);return vx(i)},bx=function(e){return An.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))},wx=function(e){return e.data===ra||ti(e)},xx=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&wx(e.firstChild)},Cx=function(e){return!e.firstChild||xx(e)},Sx=function(e){return e.length>0&&Cx(e[e.length-1])?e.slice(0,-1):e},kx=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},_x=function(e,t){return!!kx(e,t)},Bx=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Dx=function(e,t){var n=wd.before(e),r=kh(t),i=r.next(n);return i?i.toRange():null},Mx=function(e,t){var n=wd.after(e),r=kh(t),i=r.prev(n);return i?i.toRange():null},Ex=function(e,t,n,r){var i=Bx(e,r),o=e.parentNode;return o.insertBefore(i[0],e),An.each(t,(function(t){o.insertBefore(t,e)})),o.insertBefore(i[1],e),o.removeChild(e),Mx(t[t.length-1],n)},Tx=function(e,t,n){var r=e.parentNode;return An.each(t,(function(t){r.insertBefore(t,e)})),Dx(e,n)},Ix=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Mx(t[0],n)},Ox=function(e,t,n,r){var i=yx(t,e,r),o=kx(t,n.startContainer),a=Sx(bx(i.firstChild)),s=1,u=2,c=t.getRoot(),l=function(e){var r=wd.fromRangeStart(n),i=kh(t.getRoot()),a=e===s?i.prev(r):i.next(r);return!a||kx(t,a.getNode())!==o};return l(s)?Tx(o,a,c):l(u)?Ix(o,a,c,t):Ex(o,a,c,n)},Lx=function(e,t,n){var r=yn.fromDom(e.getRoot());return n=Hb(r,wd.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Vb(r,wd.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Fx=oi,Px=function(e,t,n){if(null!==n){var r=e.getParent(t.endContainer,Fx);return n===r&&dm(yn.fromDom(n),t)}return!1},Nx=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},Ux=function(e,t){z.from(e.getParent(t,"td,th")).map(yn.fromDom).each(lb)},Hx=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var i=e.getBody(),o=Fy(r);An.each(r.select("*[data-mce-fragment]"),(function(e){var t=S(n[e.nodeName.toLowerCase()]);if(t&&jy(r,e))for(var a=e.parentNode;S(a)&&a!==i;a=a.parentNode){var s=Gy(r,e,a);if(s)break;if(o.compare(a,e)){r.remove(e,!0);break}}}))}},Rx=function(e){var t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},Vx=function(e){An.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))},Qx=function(e){return!!e.getAttribute("data-mce-fragment")},jx=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},zx=function(e,t){var n,r,i=e.dom,o=e.selection,a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===i.getContentEditable(t))return t;return null};if(t){o.scrollIntoView(t);var s=a(t);if(s)return i.remove(t),void o.select(s);var u=i.createRng(),c=t.previousSibling;c&&3===c.nodeType?(u.setStart(c,c.nodeValue.length),Zt.ie||(r=t.nextSibling,r&&3===r.nodeType&&(c.appendData(r.data),r.parentNode.removeChild(r)))):(u.setStartBefore(t),u.setEndBefore(t));var l=function(t){var n=wd.fromRangeStart(t),r=kh(e.getBody());if(n=r.next(n),n)return n.toRange()},d=i.getParent(t,i.isBlock);i.remove(t),d&&i.isEmpty(d)&&(e.$(d).empty(),u.setStart(d,0),u.setEnd(d,0),Fx(d)||Qx(d)||!(n=l(u))?i.add(d,i.create("br",{"data-mce-bogus":"1"})):(u=n,i.remove(d))),o.setRng(u)}},Gx=function(e){var t=e.dom,n=fx(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,Fx);Px(t,n,r)?zw(e,n,yn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},Kx=function(e,t,n){var r,i,o,a,s,u,c=e.selection,l=e.dom;/^ | $/.test(t)&&(t=Lx(l,c.getRng(),t));var d=e.parser,f=n.merge,A=Uy({validate:Wf(e)},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(o={content:t,format:"html",selection:!0,paste:n.paste},o=e.fire("BeforeSetContent",o),o.isDefaultPrevented())e.fire("SetContent",{content:o.content,format:"html",selection:!0,paste:n.paste});else{t=o.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h),s=c.getRng();var p=s.startContainer||(s.parentElement?s.parentElement():null),m=e.getBody();p===m&&c.isCollapsed()&&l.isBlock(m.firstChild)&&jx(e,m.firstChild)&&l.isEmpty(m.firstChild)&&(s=l.createRng(),s.setStart(m.firstChild,0),s.setEnd(m.firstChild,0),c.setRng(s)),c.isCollapsed()||Gx(e),r=c.getNode();var g={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},v=d.parse(t,g);if(!0===n.paste&&gx(e.schema,v)&&_x(l,r))return s=Ox(A,l,c.getRng(),v),c.setRng(s),void e.fire("SetContent",o);if(Rx(v),u=v.lastChild,"mce_marker"===u.attr("id"))for(a=u,u=u.prev;u;u=u.walk(!0))if(3===u.type||!l.isBlock(u.name)){e.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(a,u,"br"===u.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),g.invalid){e.selection.setContent(h),r=c.getNode(),i=e.getBody(),9===r.nodeType?r=u=i:u=r;while(u!==i)r=u,u=u.parentNode;t=r===i?i.innerHTML:l.getOuterHTML(r),t=A.serialize(d.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return A.serialize(v)})))),r===i?l.setHTML(i,t):l.setOuterHTML(r,t)}else t=A.serialize(v),Nx(e,t,r);Hx(e,f),zx(e,l.get("mce_marker")),Vx(e.getBody()),Ux(l,c.getStart()),e.fire("SetContent",o),e.addVisual()}},qx=function(e,t){t(e),e.firstChild&&qx(e.firstChild,t),e.next&&qx(e.next,t)},Wx=function(e,t,n){var r={},i={},o=[];for(var a in n.firstChild&&qx(n.firstChild,(function(n){Z(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),Z(t,(function(e){"string"===typeof n.attr(e.name)&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&o.push(r[a]);for(var s in i)i.hasOwnProperty(s)&&o.push(i[s]);return o},$x=function(e,t,n){var r=Wx(e,t,n);Z(r,(function(e){Z(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},Xx="html",Yx=function(e){return e instanceof py},Jx=function(e){Jv(e)&&Hh(e.getBody()).each((function(t){var n=t.getNode(),r=Wr(n)?Hh(n).getOr(t):t;e.selection.setRng(r.toRange())}))},Zx=function(e,t){e.dom.setHTML(e.getBody(),t),Jx(e)},eC=function(e,t,n,r){var i,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),i=hf(e),i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,pf(e),n)):n||(n='<br data-mce-bogus="1">'),Zx(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=Uy({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ea(yn.fromDom(t))?n:An.trim(n),Zx(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},tC=function(e,t,n,r){$x(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var i=Uy({validate:e.validate},e.schema).serialize(n);return r.content=ea(yn.fromDom(t))?i:An.trim(i),Zx(e,r.content),r.no_events||e.fire("SetContent",r),n},nC=function(e,t,n){return n.format=n.format?n.format:Xx,n.set=!0,n.content=Yx(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),Yx(t)||(t=n.content),z.from(e.getBody()).fold(T(t),(function(r){return Yx(t)?tC(e,r,t,n):eC(e,r,t,n)}))},rC=function(e,t){return go(e,t).isSome()},iC=function(e){return k(e)?e:U},oC=function(e,t,n){var r=e.dom,i=iC(n);while(r.parentNode){r=r.parentNode;var o=yn.fromDom(r),a=t(o);if(a.isSome())return a;if(i(o))break}return z.none()},aC=function(e,t,n){var r=t(e),i=iC(n);return r.orThunk((function(){return i(e)?z.none():oC(e,t,i)}))},sC=Sp,uC=function(e,t,n){var r=e.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&e.dom.is(t,r[i].selector))return!0;return!1},cC=function(e,t,n,r){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,(function(t){return!!uC(e,t,n)||(t.parentNode===i||!!fC(e,t,n,r,!0))})),fC(e,t,n,r))},lC=function(e,t,n){return!!sC(t,n.inline)||(!!sC(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},dC=function(e,t,n,r,i,o){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if("undefined"===typeof c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):_p(e,t,a),i&&!s&&!n.exact)return;if((!i||n.exact)&&!sC(s,kp(e,Cp(c[a],o),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):_p(e,t,c[u]))return n;return n},fC=function(e,t,n,r,i){var o,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(o=c[a],lC(e.dom,t,o)&&dC(l,t,o,"attributes",i,r)&&dC(l,t,o,"styles",i,r)){if(u=o.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,Cp(u[s],r)))return;return o}},AC=function(e,t,n,r){if(r)return cC(e,r,t,n);if(r=e.selection.getNode(),cC(e,r,t,n))return!0;var i=e.selection.getStart();return!(i===r||!cC(e,i,t,n))},hC=function(e,t,n){var r=[],i={},o=e.selection.getStart();return e.dom.getParent(o,(function(o){for(var a=0;a<t.length;a++){var s=t[a];!i[s]&&fC(e,o,s,n)&&(i[s]=!0,r.push(s))}}),e.dom.getRoot()),r},pC=function(e,t){var n=function(t){return In(t,yn.fromDom(e.getBody()))},r=function(t,n){return fC(e,t.dom,n)?z.some(n):z.none()};return z.from(e.selection.getStart(!0)).bind((function(e){return aC(yn.fromDom(e),(function(e){return ye(t,(function(t){return r(e,t)}))}),n)})).getOrNull()},mC=function(e,t){var n,r,i,o,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=Dp(u,n),o=s.length-1;o>=0;o--){if(a=s[o].selector,!a||s[o].defaultBlock)return!0;for(i=r.length-1;i>=0;i--)if(u.is(r[i],a))return!0}return!1},gC=function(e,t,n){return ie(n,(function(n,r){var i=Mp(e,r);return e.formatter.matchNode(t,r,{},i)?n.concat([r]):n}),[])},vC=aa,yC="_mce_caret",bC=function(e,t){return e.importNode(t,!0)},wC=function(e){var t=[];while(e){if(3===e.nodeType&&e.nodeValue!==vC||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},xC=function(e){return wC(e).length>0},CC=function(e){if(e){var t=new Lo(e,e);for(e=t.current();e;e=t.next())if(Yr(e))return e}return null},SC=function(e){var t=yn.fromTag("span");return li(t,{id:yC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&yr(t,yn.fromText(vC)),t},kC=function(e){var t=CC(e);return t&&t.nodeValue.charAt(0)===vC&&t.deleteData(0,1),t},_C=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(xC(t))bw(e,!1,yn.fromDom(t),n);else{var o=i.getRng(),a=r.getParent(t,r.isBlock),s=o.startContainer,u=o.startOffset,c=o.endContainer,l=o.endOffset,d=kC(t);r.remove(t,!0),s===d&&u>0&&o.setStart(d,u-1),c===d&&l>0&&o.setEnd(d,l-1),a&&r.isEmpty(a)&&cb(yn.fromDom(a)),i.setRng(o)}},BC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(t)_C(e,t,n);else if(t=jh(e.getBody(),i.getStart()),!t)while(t=r.get(yC))_C(e,t,!1)},DC=function(e,t,n){var r=e.dom,i=r.getParent(n,O(yp,e));i&&r.isEmpty(i)?n.parentNode.replaceChild(t,n):(ub(yn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},MC=function(e,t){return e.appendChild(t),t},EC=function(e,t){var n=re(e,(function(e,t){return MC(e,t.cloneNode(!1))}),t);return MC(n,n.ownerDocument.createTextNode(vC))},TC=function(e,t,n,r,i,o){var a=e.formatter,s=e.dom,u=ne(be(a.get()),(function(e){return e!==r&&!ut(e,"removeformat")})),c=gC(e,n,u),l=ne(c,(function(t){return!Ep(e,t,r)}));if(l.length>0){var d=n.cloneNode(!1);return s.add(t,d),a.remove(r,i,d,o),s.remove(d),z.some(d)}return z.none()},IC=function(e,t,n){var r,i,o=e.selection,a=o.getRng(),s=a.startOffset,u=a.startContainer,c=u.nodeValue;r=jh(e.getBody(),o.getStart()),r&&(i=CC(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&s>0&&s<c.length&&l.test(c.charAt(s))&&l.test(c.charAt(s-1))){var d=o.getBookmark();a.collapse(!0);var f=Xp(e,a,e.formatter.get(t));f=cg(f),e.formatter.apply(t,n,f),o.moveToBookmark(d)}else r&&i.nodeValue===vC||(r=bC(e.getDoc(),SC(!0).dom),i=r.firstChild,a.insertNode(r),s=1),e.formatter.apply(t,n,r),o.setCursorLocation(i,s)},OC=function(e,t,n,r){var i,o,a,s=e.dom,u=e.selection,c=[],l=u.getRng(),d=l.startContainer,f=l.startOffset;o=d,3===d.nodeType&&(f!==d.nodeValue.length&&(i=!0),o=o.parentNode);while(o){if(fC(e,o,t,n,r)){a=o;break}o.nextSibling&&(i=!0),c.push(o),o=o.parentNode}if(a)if(i){var A=u.getBookmark();l.collapse(!0);var h=Xp(e,l,e.formatter.get(t),!0);h=cg(h),e.formatter.remove(t,n,h,r),u.moveToBookmark(A)}else{var p=jh(e.getBody(),a),m=SC(!1).dom;DC(e,m,null!==p?p:a);var g=TC(e,m,a,t,n,r),v=EC(c.concat(g.toArray()),m);_C(e,p,!1),u.setCursorLocation(v,1),s.isEmpty(a)&&s.remove(a)}},LC=function(e,t){var n=e.selection,r=e.getBody();BC(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==vC||BC(e,jh(r,n.getStart())),37!==t&&39!==t||BC(e,jh(r,n.getStart()))},FC=function(e){e.on("mouseup keydown",(function(t){LC(e,t.keyCode)}))},PC=function(e,t){var n=SC(!1),r=EC(t,n.dom);return mr(yn.fromDom(e),n),Sr(yn.fromDom(e)),wd(r,0)},NC=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(Pn(t))&&!Qh(t.dom)&&!Kr(t.dom)},UC=function(e){return Qh(e.dom)&&xC(e.dom)},HC={},RC=He,VC=Ne,QC=function(e,t){var n=HC[e];n||(HC[e]=[]),HC[e].push(t)},jC=function(e,t){VC(HC[e],(function(e){e(t)}))};QC("pre",(function(e){var t,n=e.selection.getRng(),r=function(e){return o(e.previousSibling)&&-1!==Re(t,e.previousSibling)},i=function(e,t){Cc(t).remove(),Cc(e).append("<br><br>").append(t.childNodes)},o=Qr(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),VC(RC(RC(t,o),r),(function(e){i(e.previousSibling,e)})))}));var zC=An.each,GC=function(e){return Vr(e)&&!lp(e)&&!Qh(e)&&!Kr(e)},KC=function(e,t){var n;for(n=e;n;n=n[t]){if(Yr(n)&&0!==n.nodeValue.length)return e;if(Vr(n)&&!lp(n))return n}return e},qC=function(e,t,n){var r,i,o=Fy(e);if(t&&n&&(t=KC(t,"previousSibling"),n=KC(n,"nextSibling"),o.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)i=r,r=r.nextSibling,t.appendChild(i);return e.remove(n),An.each(An.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},WC=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var i=qC(e,vp(r),r);qC(e,i,vp(i,!0))}},$C=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";zC(e.select(r,n),(function(n){GC(n)&&zC(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}},XC=function(e,t,n){zC(e.childNodes,(function(e){GC(e)&&(t(e)&&n(e),e.hasChildNodes()&&XC(e,t,n))}))},YC=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},JC=function(e,t){return function(n){return!(!n||!_p(e,n,t))}},ZC=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),YC(e,r)}},eS=Ki.generate([{keep:[]},{rename:["name"]},{removed:[]}]),tS=/^(src|href|style)$/,nS=An.each,rS=Sp,iS=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},oS=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},aS=function(e,t,n){var r,i;if(r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],Vr(r)){var o=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>o?o:i]}return Yr(r)&&n&&i>=r.nodeValue.length&&(r=new Lo(r,e.getBody()).next()||r),Yr(r)&&!n&&0===i&&(r=new Lo(r,e.getBody()).prev()||r),r},sS=function(e,t){var n=t?"firstChild":"lastChild";if(iS(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},uS=function(e,t,n,r){var i=e.create(n,r);return t.parentNode.insertBefore(i,t),i.appendChild(t),i},cS=function(e,t,n,r,i){var o=yn.fromDom(t),a=yn.fromDom(e.create(r,i)),s=n?er(o):Zn(o);return xr(a,s),n?(mr(o,a),vr(a,o)):(gr(o,a),yr(a,o)),a.dom},lS=function(e,t,n){return!!rS(t,n.inline)||(!!rS(t,n.block)||(n.selector?Vr(t)&&e.is(t,n.selector):void 0))},dS=function(e,t){return t.links&&"A"===e.nodeName},fS=function(e,t,n,r){return t=vp(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},AS=function(e,t,n){var r,i=t.parentNode,o=e.dom,a=hf(e);n.block&&(a?i===o.getRoot()&&(n.list_block&&rS(t,n.list_block)||Z(ve(t.childNodes),(function(t){bp(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=uS(o,t,a),o.setAttribs(r,e.settings.forced_root_block_attrs)):r=0}))):o.isBlock(t)&&!o.isBlock(i)&&(fS(o,t,!1)||fS(o,t.firstChild,!0,!0)||t.insertBefore(o.create("br"),t.firstChild),fS(o,t,!0)||fS(o,t.lastChild,!1,!0)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!rS(n.inline,t)||o.remove(t,!0)},hS=function(e,t,n,r,i){var o,a=e.dom;if(!lS(a,r,t)&&!dS(r,t))return eS.keep();var s=r;if(t.inline&&"all"===t.remove&&y(t.preserve_attributes)){var u=ne(a.getAttribs(s),(function(e){return X(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(s),Z(u,(function(e){return a.setAttrib(s,e.name,e.value)})),u.length>0)return eS.rename("span")}if("all"!==t.remove){nS(t.styles,(function(e,r){e=kp(a,Cp(e,n),r+""),B(r)&&(r=e,i=null),(t.remove_similar||!i||rS(_p(a,i,r),e))&&a.setStyle(s,r,""),o=!0})),o&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),nS(t.attributes,(function(e,r){var o;if(e=Cp(e,n),B(r)&&(r=e,i=null),t.remove_similar||!i||rS(a.getAttrib(i,r),e)){if("class"===r&&(e=a.getAttrib(s,r),e&&(o="",Z(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)})),o)))return void a.setAttrib(s,r,o);if(tS.test(r)&&s.removeAttribute("data-mce-"+r),"style"===r&&Qr(["li"])(s)&&"none"===a.getStyle(s,"list-style-type"))return s.removeAttribute(r),void a.setStyle(s,"list-style-type","none");"class"===r&&s.removeAttribute("className"),s.removeAttribute(r)}})),nS(t.classes,(function(e){e=Cp(e,n),i&&!a.hasClass(i,e)||a.removeClass(s,e)}));for(var c=a.getAttribs(s),l=0;l<c.length;l++){var d=c[l].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return eS.keep()}}return"none"!==t.remove?(AS(e,s,t),eS.removed()):eS.keep()},pS=function(e,t,n,r,i){return hS(e,t,n,r,i).fold(U,(function(t){return e.dom.rename(r,t),!0}),H)},mS=function(e,t,n,r,i){var o;return Z(Dp(e.dom,t.parentNode).reverse(),(function(t){if(!o&&"_start"!==t.id&&"_end"!==t.id){var a=fC(e,t,n,r,i);a&&!1!==a.split&&(o=t)}})),o},gS=function(e,t,n,r){return hS(e,t,n,r,r).fold(T(r),(function(t){var n=e.dom.createFragment();return n.appendChild(r),e.dom.rename(r,t)}),T(null))},vS=function(e,t,n,r,i,o,a,s){var u,c,l,d=e.dom;if(n){for(var f=n.parentNode,A=r.parentNode;A&&A!==f;A=A.parentNode){u=d.clone(A,!1);for(var h=0;h<t.length;h++)if(u=gS(e,t[h],s,u),null===u)break;u&&(c&&u.appendChild(c),l||(l=u),c=u)}!o||a.mixed&&d.isBlock(n)||(r=d.split(n,r)),c&&(i.parentNode.insertBefore(c,i),l.appendChild(i),a.inline&&WC(d,a,s,c))}return r},yS=function(e,t,n,r,i){var o=e.formatter.get(t),a=o[0],s=!0,u=e.dom,c=e.selection,l=function(r){var s=mS(e,r,t,n,i);return vS(e,o,s,r,r,!0,a,n)},d=function(e){return lp(e)&&Vr(e)&&("_start"===e.id||"_end"===e.id)},f=function(t){var r,i,c=t.parentNode;Yr(t)&&Lp(u,c)&&pS(e,a,n,c,c),Vr(t)&&u.getContentEditable(t)&&(r=s,s="true"===u.getContentEditable(t),i=!0);var l=ve(t.childNodes);if(s&&!i)for(var d=0;d<o.length;d++)if(pS(e,o[d],n,t,t))break;if(a.deep&&l.length){for(d=0;d<l.length;d++)f(l[d]);i&&(s=r)}},A=function(e){var t=u.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return d(n)&&(n=n[e?"firstChild":"lastChild"]),Yr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),u.remove(t,!0),n},h=function(t){var n,r,i=Xp(e,t,o,t.collapsed);if(a.split){if(i=cg(i),n=aS(e,i,!0),r=aS(e,i),n!==r){if(n=sS(n,!0),r=sS(r,!1),oS(u,n,r)){var s=z.from(n.firstChild).getOr(n);return l(cS(u,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void A(!0)}if(oS(u,r,n)){s=z.from(r.lastChild).getOr(r);return l(cS(u,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void A(!1)}n=uS(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=uS(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=u.createRng();c.setStartAfter(n),c.setEndBefore(r),Zp(u,c,(function(e){Z(e,(function(e){lp(e)||lp(e.parentNode)||l(e)}))})),l(n),l(r),n=A(!0),r=A()}else n=r=l(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=u.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=u.nodeIndex(r)+1}Zp(u,i,(function(t){Z(t,(function(t){f(t);var n=["underline","line-through","overline"];Z(n,(function(n){Vr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Bp(u,t.parentNode)===n&&pS(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))};if(r)if(pp(r)){var p=u.createRng();p.setStartBefore(r),p.setEndAfter(r),h(p)}else h(r);else if("false"!==u.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!am(e).length?OC(e,t,n,i):(pm(c,!0,(function(){hm(e,h)})),a.inline&&AC(e,t,n,c.getStart())&&gp(u,c,c.getRng()),e.nodeChanged());else{r=c.getNode();for(var m=0;m<o.length;m++)if(o[m].ceFalseOverride&&pS(e,o[m],n,r,r))break}},bS=An.each,wS=function(e,t,n,r){var i=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=Bp(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(An.walk(r,i,"childNodes"),i(r))},xS=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&XC(r,JC(e,"fontSize"),ZC(e,"backgroundColor",Cp(t.styles.backgroundColor,n)))},CS=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(XC(r,JC(e,"fontSize"),ZC(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},SS=function(e,t,n,r){bS(t,(function(t){bS(e.dom.select(t.inline,r),(function(r){GC(r)&&pS(e,t,n,r,t.exact?r:null)})),$C(e.dom,t,r)}))},kS=function(e,t,n,r,i){fC(e,i.parentNode,n,r)&&pS(e,t,r,i)||t.merge_with_parents&&e.dom.getParent(i.parentNode,(function(o){if(fC(e,o,n,r))return pS(e,t,r,i),!0}))},_S=An.each,BS=function(e,t){return Oe(e,t)},DS=function(e){return e&&1===e.nodeType&&!lp(e)&&!Qh(e)&&!Kr(e)},MS=function(e,t,n,r){if(Jf(e)&&Op(t)){var i=ze(ze({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),o=rC(yn.fromDom(n),(function(e){return Qh(e.dom)}));return Oe(i,r)&&Xa(yn.fromDom(n.parentNode),!1)&&!o}return!1},ES=function(e,t,n,r){var i=e.formatter.get(t),o=i[0],a=!r&&e.selection.isCollapsed(),s=e.dom,u=e.selection,c=function(e,t){if(t=t||o,e){if(t.onformat&&t.onformat(e,t,n,r),_S(t.styles,(function(t,r){s.setStyle(e,r,Cp(t,n))})),t.styles){var i=s.getAttrib(e,"style");i&&s.setAttrib(e,"data-mce-style",i)}_S(t.attributes,(function(t,r){s.setAttrib(e,r,Cp(t,n))})),_S(t.classes,(function(t){t=Cp(t,n),s.hasClass(e,t)||s.addClass(e,t)}))}},l=function(e,t){var n=!1;return!!Ip(o)&&(_S(e,(function(e){if(!("collapsed"in e)||e.collapsed===a)return s.is(t,e.selector)&&!Qh(t)?(c(t,e),n=!0,!1):void 0})),n)},d=function(r,a,s,u){var d=[],f=!0,A=o.inline||o.block,h=r.create(A);c(h),Zp(r,a,(function(a){var s,p=function(a){var m=!1,g=f,v=a.nodeName.toLowerCase(),y=a.parentNode.nodeName.toLowerCase();if(Vr(a)&&r.getContentEditable(a)&&(g=f,f="true"===r.getContentEditable(a),m=!0),ti(a)&&!MS(e,o,a,y))return s=null,void(Tp(o)&&r.remove(a));if(o.wrapper&&fC(e,a,t,n))s=null;else{if(f&&!m&&Tp(o)&&!o.wrapper&&yp(e,v)&&bp(e,y,A)){var b=r.rename(a,A);return c(b),d.push(b),void(s=null)}if(Ip(o)){var w=l(i,a);if(Yr(a)&&Lp(r,a.parentNode)&&l(i,a.parentNode),!BS(o,"inline")||w)return void(s=null)}!f||m||!bp(e,A,v)||!bp(e,y,A)||!u&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||Qh(a)||BS(o,"inline")&&r.isBlock(a)?(s=null,_S(An.grep(a.childNodes),p),m&&(f=g),s=null):(s||(s=r.clone(h,!1),a.parentNode.insertBefore(s,a),d.push(s)),s.appendChild(a))}};_S(a,p)})),!0===o.links&&_S(d,(function(e){var t=function(e){"A"===e.nodeName&&c(e,o),_S(An.grep(e.childNodes),t)};t(e)})),_S(d,(function(a){var s=function(e){var t=0;return _S(e.childNodes,(function(e){xp(e)||lp(e)||t++})),t},u=function(e){var t=!1;return _S(e.childNodes,(function(e){if(DS(e))return t=e,!1})),t},l=function(e){var t,n=u(e);return n&&!lp(n)&&lC(r,n,o)&&(t=r.clone(n,!1),c(t),r.replace(t,e,!0),r.remove(n,!0)),t||e},f=s(a);!(d.length>1)&&r.isBlock(a)||0!==f?(Op(o)||o.wrapper)&&(o.exact||1!==f||(a=l(a)),SS(e,i,n,a),kS(e,o,t,n,a),xS(r,o,n,a),wS(r,o,n,a),CS(r,o,n,a),WC(r,o,n,a)):r.remove(a,!0)}))};if("false"!==s.getContentEditable(u.getNode())){if(o){if(r)if(pp(r)){if(!l(i,r)){var f=s.createRng();f.setStartBefore(r),f.setEndAfter(r),d(s,Xp(e,f,i),null,!0)}}else d(s,r,null,!0);else if(a&&Op(o)&&!am(e).length)IC(e,t,n);else{var A=u.getNode(),h=i[0];e.settings.forced_root_block||!h.defaultBlock||s.getParent(A,s.isBlock)||ES(e,h.defaultBlock),u.setRng(fx(u.getRng())),pm(u,!0,(function(t){hm(e,(function(t,n){var r=n?t:Xp(e,t,i);d(s,r)}))})),gp(s,u,u.getRng()),e.nodeChanged()}jC(t,e)}}else{r=u.getNode();for(var p=0,m=i.length;p<m;p++){var g=i[p];if(g.ceFalseOverride&&Ip(g)&&s.is(r,g.selector))return void c(r,g)}}},TS=function(e,t){var n=Rc({});e.set({}),t.on("NodeChange",(function(r){IS(t,r.element,n,e.get())}))},IS=function(e,t,n,r){var i=be(n.get()),o={},a={},s=ne(Dp(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));xe(r,(function(t,n){An.each(s,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===i.indexOf(n)&&(Z(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:s})})),o[n]=t.callbacks),a[n]=t.callbacks,!1):!uC(e,r,n)&&void 0}))}));var u=OS(n.get(),a,t,s);n.set(ze(ze({},o),u))},OS=function(e,t,n,r){return Be(e,(function(e,i){return!!Ie(t,i)||(Z(e,(function(e){e(!1,{node:n,format:i,parents:r})})),!1)})).t},LS=function(e,t,n,r){var i=e.get();Z(t.split(","),(function(e){i[e]||(i[e]={similar:r,callbacks:[]}),i[e].callbacks.push(n)})),e.set(i)},FS=function(e,t,n){var r=e.get();Z(t.split(","),(function(e){r[e].callbacks=ne(r[e].callbacks,(function(e){return e!==n})),0===r[e].callbacks.length&&delete r[e]})),e.set(r)},PS=function(e,t,n,r,i){return null===t.get()&&TS(t,e),LS(t,n,r,i),{unbind:function(){return FS(t,n,r)}}},NS=function(e,t,n,r){var i=e.formatter.get(t);!AC(e,t,n,r)||"toggle"in i[0]&&!i[0].toggle?ES(e,t,n,r):yS(e,t,n,r)},US=function(e,t){var n=t||document,r=n.createDocumentFragment();return Z(e,(function(e){r.appendChild(e.dom)})),yn.fromDom(r)},HS=function(e,t,n){return{element:e,width:t,rows:n}},RS=function(e,t){return{element:e,cells:t}},VS=function(e,t){return{x:e,y:t}},QS=function(e,t){var n=parseInt(di(e,t),10);return isNaN(n)?1:n},jS=function(e,t,n,r,i){for(var o=QS(i,"rowspan"),a=QS(i,"colspan"),s=e.rows,u=n;u<n+o;u++){s[u]||(s[u]=RS(Ll(r),[]));for(var c=t;c<t+a;c++){var l=s[u].cells;l[c]=u===n&&c===t?i:Ol(i)}}},zS=function(e,t,n){var r=e.rows,i=r[n]?r[n].cells:[];return!!i[t]},GS=function(e,t,n){while(zS(e,t,n))t++;return t},KS=function(e){return ie(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)},qS=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var i=n[r].cells,o=0;o<i.length;o++)if(In(i[o],t))return z.some(VS(o,r));return z.none()},WS=function(e,t,n,r,i){for(var o=[],a=e.rows,s=n;s<=i;s++){var u=a[s].cells,c=t<r?u.slice(t,r+1):u.slice(r,t+1);o.push(RS(a[s].element,c))}return o},$S=function(e,t,n){var r=t.x,i=t.y,o=n.x,a=n.y,s=i<a?WS(e,r,i,o,a):WS(e,r,a,o,i);return HS(e.element,KS(s),s)},XS=function(e,t){var n=Ol(e.element),r=yn.fromTag("tbody");return xr(r,t),yr(n,r),n},YS=function(e){return J(e.rows,(function(e){var t=J(e.cells,(function(e){var t=Ll(e);return hi(t,"colspan"),hi(t,"rowspan"),t})),n=Ol(e.element);return xr(n,t),n}))},JS=function(e){var t=HS(Ol(e),0,[]);return Z(pl(e,"tr"),(function(e,n){Z(pl(e,"td,th"),(function(r,i){jS(t,GS(t,i,n),n,e,r)}))})),HS(t.element,KS(t.rows),t.rows)},ZS=function(e){return XS(e,YS(e))},ek=function(e,t,n){return qS(e,t).bind((function(t){return qS(e,n).map((function(n){return $S(e,t,n)}))}))},tk=function(e){return ae(e,(function(e){return"ul"===Pn(e)||"ol"===Pn(e)}))},nk=function(e,t){return ae(e,(function(e){return"li"===Pn(e)&&dm(e,t)})).fold(T([]),(function(t){return tk(e).map((function(e){var t=yn.fromTag(Pn(e)),n=De(wi(e),(function(e,t){return ct(t,"list-style")}));return gi(t,n),[yn.fromTag("li"),t]})).getOr([])}))},rk=function(e,t){var n=ie(t,(function(e,t){return yr(t,e),t}),e);return t.length>0?US([n]):n},ik=function(e){return Yo(e)?Wn(e).filter(Xo).fold(T([]),(function(t){return[e,t]})):Xo(e)?[e]:[]},ok=function(e,t){var n=yn.fromDom(t.commonAncestorContainer),r=hb(n,e),i=ne(r,(function(e){return qo(e)||zo(e)})),o=nk(r,t),a=i.concat(o.length?o:ik(n));return J(a,Ol)},ak=function(){return US([])},sk=function(e,t){return rk(yn.fromDom(t.cloneContents()),ok(e,t))},uk=function(e,t){return yo(t,"table",O(In,e))},ck=function(e,t){return uk(e,t[0]).bind((function(e){var n=t[0],r=t[t.length-1],i=JS(e);return ek(i,n,r).map((function(e){return US([ZS(e)])}))})).getOrThunk(ak)},lk=function(e,t){return t.length>0&&t[0].collapsed?ak():sk(e,t[0])},dk=function(e,t){var n=om(t,e);return n.length>0?ck(e,n):lk(e,t)},fk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Ak=function(e,t){return t>=0&&t<e.length&&Ap(e.charAt(t))},hk=function(e,t){var n=ua(e.innerText);return t?fk(n):n},pk=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()},mk=function(e){return z.from(e.selection.getRng()).map((function(t){var n=z.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=pk(n),o=Zt.browser.isIE()&&"pre"!==i,a=e.dom.add(r,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),s=hk(a,o),u=ua(a.textContent);if(e.dom.remove(a),Ak(u,0)||Ak(u,u.length-1)){var c=n.getOr(r),l=hk(c,o),d=l.indexOf(s);if(-1===d)return s;var f=Ak(l,d-1),A=Ak(l,d+s.length);return(f?" ":"")+s+(A?" ":"")}return s})).getOr("")},gk=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),o=ly(e,em(i)),a=t.contextual?dk(yn.fromDom(e.getBody()),o).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},vk=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return mk(e);n.getInner=!0;var r=gk(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},yk=0,bk=1,wk=2,xk=function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,i,o,s){var c=u(n,r,i,o);if(null===c||c.start===r&&c.diag===r-o||c.end===n&&c.diag===n-i){var l=n,d=i;while(l<r||d<o)l<r&&d<o&&e[l]===t[d]?(s.push([yk,e[l]]),++l,++d):r-n>o-i?(s.push([wk,e[l]]),++l):(s.push([bk,t[d]]),++d)}else{a(n,c.start,i,c.start-c.diag,s);for(var f=c.start;f<c.end;++f)s.push([yk,e[f]]);a(c.end,r,c.end-c.diag,o,s)}},s=function(n,r,i,a){var s=n;while(s-r<a&&s<i&&e[s]===t[s-r])++s;return o(n,s,r)},u=function(n,o,a,u){var c=o-n,l=u-a;if(0===c||0===l)return null;var d,f,A,h,p,m=c-l,g=l+c,v=(g%2===0?g:g+1)/2;for(r[1+v]=n,i[1+v]=o+1,d=0;d<=v;++d){for(f=-d;f<=d;f+=2){A=f+v,f===-d||f!==d&&r[A-1]<r[A+1]?r[A]=r[A+1]:r[A]=r[A-1]+1,h=r[A],p=h-n+a-f;while(h<o&&p<u&&e[h]===t[p])r[A]=++h,++p;if(m%2!==0&&m-d<=f&&f<=m+d&&i[A-m]<=r[A])return s(i[A-m],f+n-a,o,u)}for(f=m-d;f<=m+d;f+=2){A=f+v-m,f===m-d||f!==m+d&&i[A+1]<=i[A-1]?i[A]=i[A+1]-1:i[A]=i[A-1],h=i[A]-1,p=h-n+a-f;while(h>=n&&p>=a&&e[h]===t[p])i[A]=h--,p--;if(m%2===0&&-d<=f&&f<=d&&i[A]<=r[A+m])return s(i[A],f+n-a,o,u)}}},c=[];return a(0,e.length,0,t.length,c),c},Ck=function(e){return Vr(e)?e.outerHTML:Yr(e)?xs.encodeRaw(e.data,!1):Jr(e)?"\x3c!--"+e.data+"--\x3e":""},Sk=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();e&&(n.innerHTML=e);while(t=n.firstChild)r.appendChild(t);return r},kk=function(e,t,n){var r=Sk(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(r,i)}else e.appendChild(r)},_k=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Bk=function(e,t){var n=0;Z(e,(function(e){e[0]===yk?n++:e[0]===bk?(kk(t,e[1],n),n++):e[0]===wk&&_k(t,n)}))},Dk=function(e){return ne(J(ve(e.childNodes),Ck),(function(e){return e.length>0}))},Mk=function(e,t){var n=J(ve(t.childNodes),Ck);return Bk(xk(n,e),t),t},Ek=Rc(z.none()),Tk=function(){return Ek.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo");return Ek.set(z.some(e)),e}))},Ik=function(e){return-1!==e.indexOf("</iframe>")},Ok=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Lk=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Fk=function(e){var t=Dk(e.getBody()),n=ce(t,(function(t){var n=My(e.serializer,t);return n.length>0?[n]:[]})),r=n.join("");return Ik(r)?Ok(n):Lk(r)},Pk=function(e,t,n){"fragmented"===t.type?Mk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Nk=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Uk=function(e){var t=yn.fromTag("body",Tk());return Tl(t,Nk(e)),Z(pl(t,"*[data-mce-bogus]"),kr),El(t)},Hk=function(e,t){return Nk(e)===Nk(t)},Rk=function(e,t){return Uk(e)===Uk(t)},Vk=function(e,t){return!(!e||!t)&&(!!Hk(e,t)||Rk(e,t))},Qk=function(e){return 0===e.get()},jk=function(e,t,n){Qk(n)&&(e.typing=t)},zk=function(e,t){e.typing&&(jk(e,!1,t),e.add())},Gk=function(e){e.typing&&(e.typing=!1,e.add())},Kk=function(e,t,n){Qk(t)&&n.set(z.some(nf(e.selection)))},qk=function(e,t,n,r,i,o,a){var s=Fk(e);if(o=o||{},o=An.extend(o,s),!1===Qk(r)||e.removed)return null;var u=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:o,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&Vk(u,o))return null;t.data[n.get()]&&i.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var c=uA(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}o.bookmark=nf(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(o),n.set(t.data.length-1);var d={level:o,lastLevel:u,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",d),e.fire("change",d)):e.fire("AddUndo",d),o},Wk=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},$k=function(e,t,n,r,i){if(t.transact(r)){var o=t.data[n.get()].bookmark,a=t.data[n.get()-1];Pk(e,a,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=o)}},Xk=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Pk(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},Yk=function(e,t,n,r){var i;return t.typing&&(t.add(),t.typing=!1,jk(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],Pk(e,i,!0),e.setDirty(!0),e.fire("Undo",{level:i})),i},Jk=function(e){e.clear(),e.add()},Zk=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Vk(Fk(e),t.data[0])},e_=function(e,t){return t.get()<e.data.length-1&&!e.typing},t_=function(e,t,n){return zk(e,t),e.beforeChange(),e.ignore(n),e.add()},n_=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},r_=function(e,t){var n=e.dom,r=S(t)?t:e.getBody();x(e.hasVisual)&&(e.hasVisual=pA(e)),Z(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=mA(e),i=n.getAttrib(t,"border");i&&"0"!==i||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){var o=n.getAttrib(t,"name")||t.id,a=gA(e);o&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}break}})),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},i_=function(e){return{undoManager:{beforeChange:function(t,n){return Kk(e,t,n)},addUndoLevel:function(t,n,r,i,o,a){return qk(e,t,n,r,i,o,a)},undo:function(t,n,r){return Yk(e,t,n,r)},redo:function(t,n){return Xk(e,t,n)},clear:function(t,n){return Wk(e,t,n)},reset:function(e){return Jk(e)},hasUndo:function(t,n){return Zk(e,t,n)},hasRedo:function(e,t){return e_(e,t)},transact:function(e,t,n){return t_(e,t,n)},ignore:function(e,t){return n_(e,t)},extra:function(t,n,r,i){return $k(e,t,n,r,i)}},formatter:{match:function(t,n,r){return AC(e,t,n,r)},matchAll:function(t,n){return hC(e,t,n)},matchNode:function(t,n,r,i){return fC(e,t,n,r,i)},canApply:function(t){return mC(e,t)},closest:function(t){return pC(e,t)},apply:function(t,n,r){return ES(e,t,n,r)},remove:function(t,n,r,i){return yS(e,t,n,r,i)},toggle:function(t,n,r){return NS(e,t,n,r)},formatChanged:function(t,n,r,i){return PS(e,t,n,r,i)}},editor:{getContent:function(t,n){return Oy(e,t,n)},setContent:function(t,n){return nC(e,t,n)},insertContent:function(t,n){return Kx(e,t,n)},addVisual:function(t){return r_(e,t)}},selection:{getContent:function(t,n){return vk(e,t,n)}},raw:{getModel:function(){return z.none()}}}},o_=function(e){var t=function(e){return v(e)?e:{}},n=F("Unimplemented feature for rtc"),r=e.undoManager,i=e.formatter,o=e.editor,a=e.selection,s=e.raw,u=D;return{undoManager:{beforeChange:u,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(e,t,n){return r.transact(n)},ignore:function(e,t){return r.ignore(t)},extra:function(e,t,n,i){return r.extra(n,i)}},formatter:{match:function(e,n,r){return i.match(e,t(n))},matchAll:n,matchNode:n,canApply:function(e){return i.canApply(e)},closest:function(e){return i.closest(e)},apply:function(e,n,r){return i.apply(e,t(n))},remove:function(e,n,r,o){return i.remove(e,t(n))},toggle:function(e,n,r){return i.toggle(e,t(n))},formatChanged:function(e,t,n,r){return i.formatChanged(t,n,r)}},editor:{getContent:function(e,t){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e,t){return o.insertContent(e)},addVisual:u},selection:{getContent:function(e,t){return a.getContent(t)}},raw:{getModel:function(){return z.some(s.getRawModel())}}}},a_=function(){var e=T(null),t=T("");return{undoManager:{beforeChange:D,addUndoLevel:e,undo:e,redo:e,clear:D,reset:D,hasUndo:U,hasRedo:U,transact:e,ignore:D,extra:D},formatter:{match:U,matchAll:T([]),matchNode:U,canApply:U,closest:t,apply:D,remove:D,toggle:D,formatChanged:T({unbind:D})},editor:{getContent:t,setContent:t,insertContent:D,addVisual:D},selection:{getContent:t},raw:{getModel:T(z.none())}}},s_=function(e){return Ie(e.plugins,"rtc")},u_=function(e){return Te(e.plugins,"rtc").bind((function(e){return z.from(e.setup)}))},c_=function(e){var t=e;return u_(e).fold((function(){return t.rtcInstance=i_(e),z.none()}),(function(e){return z.some(e().then((function(e){return t.rtcInstance=o_(e),e.rtc.isRemote}),(function(e){return t.rtcInstance=a_(),Co.reject(e)})))}))},l_=function(e){return e.rtcInstance?e.rtcInstance:i_(e)},d_=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},f_=function(e,t,n){d_(e).undoManager.beforeChange(t,n)},A_=function(e,t,n,r,i,o,a){return d_(e).undoManager.addUndoLevel(t,n,r,i,o,a)},h_=function(e,t,n,r){return d_(e).undoManager.undo(t,n,r)},p_=function(e,t,n){return d_(e).undoManager.redo(t,n)},m_=function(e,t,n){d_(e).undoManager.clear(t,n)},g_=function(e,t){d_(e).undoManager.reset(t)},v_=function(e,t,n){return d_(e).undoManager.hasUndo(t,n)},y_=function(e,t,n){return d_(e).undoManager.hasRedo(t,n)},b_=function(e,t,n,r){return d_(e).undoManager.transact(t,n,r)},w_=function(e,t,n){d_(e).undoManager.ignore(t,n)},x_=function(e,t,n,r,i){d_(e).undoManager.extra(t,n,r,i)},C_=function(e,t,n,r){return d_(e).formatter.match(t,n,r)},S_=function(e,t,n){return d_(e).formatter.matchAll(t,n)},k_=function(e,t,n,r,i){return d_(e).formatter.matchNode(t,n,r,i)},__=function(e,t){return d_(e).formatter.canApply(t)},B_=function(e,t){return d_(e).formatter.closest(t)},D_=function(e,t,n,r){d_(e).formatter.apply(t,n,r)},M_=function(e,t,n,r,i){d_(e).formatter.remove(t,n,r,i)},E_=function(e,t,n,r){d_(e).formatter.toggle(t,n,r)},T_=function(e,t,n,r,i){return void 0===i&&(i=!1),d_(e).formatter.formatChanged(t,n,r,i)},I_=function(e,t,n){return l_(e).editor.getContent(t,n)},O_=function(e,t,n){return l_(e).editor.setContent(t,n)},L_=function(e,t,n){return l_(e).editor.insertContent(t,n)},F_=function(e,t,n){return d_(e).selection.getContent(t,n)},P_=function(e,t){return d_(e).editor.addVisual(t)},N_=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return F_(e,n,t)},U_=function(e){return 0===e.dom.length?(Sr(e),z.none()):z.some(e)},H_=function(e,t){return e.filter((function(e){return _m.isBookmarkNode(e.dom)})).bind(t?Jn:Yn)},R_=function(e,t,n,r){var i=e.dom,o=t.dom,a=r?i.length:o.length;r?(tw(i,o,!1,!r),n.setStart(o,a)):(tw(o,i,!1,!r),n.setEnd(o,a))},V_=function(e,t){Wn(e).each((function(n){var r=e.dom;t&&Hb(n,wd(r,0))?Zb(r,0):!t&&Vb(n,wd(r,r.length))&&ew(r,r.length)}))},Q_=function(e,t,n,r){e.bind((function(e){var i=r?ew:Zb;return i(e.dom,r?e.dom.length:0),t.filter(Vn).map((function(t){return R_(e,t,n,r)}))})).orThunk((function(){var e=H_(t,r).or(t).filter(Vn);return e.map((function(e){return V_(e,r)}))}))},j_=function(e,t){var n=z.from(t.firstChild).map(yn.fromDom),r=z.from(t.lastChild).map(yn.fromDom);e.deleteContents(),e.insertNode(t);var i=n.bind(Yn).filter(Vn).bind(U_),o=r.bind(Jn).filter(Vn).bind(U_);Q_(i,n,e,!0),Q_(o,r,e,!1),e.collapse(!1)},z_=function(e,t){return ze(ze({format:"html"},e),{set:!0,selection:!0,content:t})},G_=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},o=e.parser.parse(t.content,ze(ze({isRootContent:!0,forced_root_block:!1},i),t));return Uy({validate:e.validate},e.schema).serialize(o)}return t.content},K_=function(e,t,n){void 0===n&&(n={});var r=z_(n,t);if(r.no_events||(r=e.fire("BeforeSetContent",r),!r.isDefaultPrevented())){n.content=G_(e,r);var i=e.selection.getRng();j_(i,i.createContextualFragment(n.content)),e.selection.setRng(i),Qg(e,i),r.no_events||e.fire("SetContent",r)}else e.fire("SetContent",r)},q_=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=ne(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}};function W_(e,t){var n,r;return{selectorChangedWithUnbind:function(i,o){return n||(n={},r={},t.on("NodeChange",(function(t){var i=t.element,o=e.getParents(i,null,e.getRoot()),a={};An.each(n,(function(t,n){An.each(o,(function(i){if(e.is(i,n))return r[n]||(An.each(t,(function(e){e(!0,{node:i,selector:n,parents:o})})),r[n]=t),a[n]=t,!1}))})),An.each(r,(function(e,t){a[t]||(delete r[t],An.each(e,(function(e){e(!1,{node:i,selector:t,parents:o})})))}))}))),n[i]||(n[i]=[]),n[i].push(o),{unbind:function(){q_(n,i,o),q_(r,i,o)}}}}}var $_=function(e){return!!e.select},X_=function(e){return!(!e||!e.ownerDocument)&&Fn(yn.fromDom(e.ownerDocument),yn.fromDom(e))},Y_=function(e){return!!e&&(!!$_(e)||X_(e.startContainer)&&X_(e.endContainer))},J_=function(e,t,n,r){var i,o,a=W_(e,r).selectorChangedWithUnbind,s=function(t,n){var i=e.createRng();S(t)&&S(n)?(i.setStart(t,n),i.setEnd(t,n),y(i),m(!1)):(fm(e,i,r.getBody(),!0),y(i))},u=function(e){return N_(r,e)},c=function(e,t){return K_(r,e,t)},l=function(e){return iy(r.getBody(),v(),e)},d=function(e){return oy(r.getBody(),v(),e)},f=function(e,t){return O.getBookmark(e,t)},A=function(e){return O.moveToBookmark(e)},h=function(t,n){return cy(e,t,n).each(y),t},p=function(){var e=v(),t=g();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},m=function(e){var t=v();t.collapse(!!e),y(t)},g=function(){return t.getSelection?t.getSelection():t.document.selection},v=function(){var n,a,s,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}},c=t.document;if(void 0!==r.bookmark&&!1===Jv(r)){var l=kv(r);if(l.isSome())return l.map((function(e){return ly(r,[e])[0]})).getOr(c.createRange())}try{(n=g())&&!Rr(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=ly(r,[a])[0])}catch(d){}return a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),i&&o&&(0===u(a.START_TO_START,a,i)&&0===u(a.END_TO_END,a,i)?a=o:(i=null,o=null)),a},y=function(e,t){var n;if(Y_(e)){var a=$_(e)?e:null;if(a){o=null;try{a.select()}catch(c){}}else{var s=g(),u=r.fire("SetSelectionRange",{range:e,forward:t});if(e=u.range,s){o=e;try{s.removeAllRanges(),s.addRange(e)}catch(c){}!1===t&&s.extend&&(s.collapse(e.endContainer,e.endOffset),s.extend(e.startContainer,e.startOffset)),i=s.rangeCount>0?s.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!s.setBaseAndExtent||Zt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset],n&&"IMG"===n.tagName&&(s.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),s.anchorNode===e.startContainer&&s.focusNode===e.endContainer||s.setBaseAndExtent(n,0,n,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},b=function(t){return c(e.getOuterHTML(t)),t},w=function(){return sy(r.getBody(),v())},x=function(t,n){return uy(e,v(),t,n)},C=function(){var t=g(),n=null===t||void 0===t?void 0:t.anchorNode,r=null===t||void 0===t?void 0:t.focusNode;if(!t||!n||!r||Rr(n)||Rr(r))return!0;var i=e.createRng();i.setStart(n,t.anchorOffset),i.collapse(!0);var o=e.createRng();return o.setStart(r,t.focusOffset),o.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,o)<=0},k=function(){var t=v(),n=g();if(!nm(n)&&Am(r)){var i=sg(e,t);return i.each((function(e){y(e,C())})),i.getOr(t)}return t},_=function(e,t){return a(e,t),I},B=function(){var t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},D=function(e,t){return Vg(r,e,t)},M=function(e,t){return y(Wm(e,t,r.getDoc()))},E=function(){var e=v();return e.collapsed?wd.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},T=function(){t=i=o=null,L.destroy()},I={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:m,setCursorLocation:s,getContent:u,setContent:c,getBookmark:f,moveToBookmark:A,select:h,isCollapsed:p,isForward:C,setNode:b,getNode:w,getSel:g,setRng:y,getRng:v,getStart:l,getEnd:d,getSelectedBlocks:x,normalize:k,selectorChanged:_,selectorChangedWithUnbind:a,getScrollContainer:B,scrollIntoView:D,placeCaretAt:M,getBoundingClientRect:E,destroy:T},O=_m(I),L=jm(I,r);return I.bookmarkManager=O,I.controlSelection=L,I},Z_=function(e,t){Z(t,(function(t){e.attr(t,null)}))},eB=function(e,t,n){e.addNodeFilter("font",(function(e){Z(e,(function(e){var r=t.parse(e.attr("style")),i=e.attr("color"),o=e.attr("face"),a=e.attr("size");i&&(r.color=i),o&&(r["font-family"]=o),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),Z_(e,["color","face","size"])}))}))},tB=function(e,t){e.addNodeFilter("strike",(function(e){Z(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))},nB=function(e,t){var n=Fs();t.convert_fonts_to_spans&&eB(e,n,An.explode(t.font_size_legacy_values)),tB(e,n)},rB=function(e,t){t.inline_styles&&nB(e,t)},iB=function(e){return new Co((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===i.status?t(i.response):r()},i.onerror=r,i.send()}catch(o){r()}}))},oB=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},aB=function(e,t){var n;try{n=atob(t)}catch(LR){return z.none()}for(var r=new Uint8Array(n.length),i=0;i<r.length;i++)r[i]=n.charCodeAt(i);return z.some(new Blob([r],{type:e}))},sB=function(e){return new Co((function(t){var n=oB(e),r=n.type,i=n.data;aB(r,i).fold((function(){return t(new Blob([]))}),t)}))},uB=function(e){return 0===e.indexOf("blob:")?iB(e):0===e.indexOf("data:")?sB(e):null},cB=function(e){return new Co((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))},lB=0,dB=function(e){return(e||"blobid")+lB++},fB=function(e,t,n,r){var i,o;if(0===t.src.indexOf("blob:"))return o=e.getByUri(t.src),void(o?n({image:t,blobInfo:o}):uB(t.src).then((function(r){cB(r).then((function(a){i=oB(a).data,o=e.create(dB(),r,i),e.add(o),n({image:t,blobInfo:o})}))}),(function(e){r(e)})));var a=oB(t.src),s=a.data,u=a.type;i=s,o=e.getByData(i,u),o?n({image:t,blobInfo:o}):uB(t.src).then((function(r){o=e.create(dB(),r,i),e.add(o),n({image:t,blobInfo:o})}),(function(e){r(e)}))},AB=function(e){return e?ve(e.getElementsByTagName("img")):[]},hB=function(e,t){var n={},r=function(r,i){i||(i=H);var o=ne(AB(r),(function(t){var n=t.src;return!!Zt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Zt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&i(t):0===n.indexOf("data:")&&i(t)))))})),a=J(o,(function(e){if(void 0!==n[e.src])return new Co((function(t){n[e.src].then((function(n){if("string"===typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new Co((function(n,r){fB(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return Co.all(a)};return{findAll:r}},pB=function(e,t,n,r){var i=e.padd_empty_with_br||t.insert;i&&n[r.name]?r.empty().append(new py("br",1)).shortEnded=!0:r.empty().append(new py("#text",3)).value=ra},mB=function(e){return gB(e,"#text")&&e.firstChild.value===ra},gB=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},vB=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},yB=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return vB(e,t)}))},bB=function(e,t){return e&&(t[e.name]||"br"===e.name)},wB=function(e){return e.attr("data-mce-bogus")},xB=function(e){return e.attr("src")===Zt.transparentSrc||e.attr("data-mce-placeholder")},CB=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),xe(e.attributes.map,(function(e,t){n.setAttribute(t,e)})),t.images_dataimg_filter(n)}return!0},SB=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");xB(e)||wB(e)||vy(r).filter((function(){return CB(e,t)})).bind((function(e){var t=e.type,r=e.data;return z.from(n.getByData(r,t)).orThunk((function(){return aB(t,r).map((function(e){var t=n.create(dB(),e,r);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return Z(e,r)}))},kB=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,i){var o,a,s,u,c,l,d,f,A=e.length,h=An.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),m=n.getWhiteSpaceElements();for(h.body=1,o=0;o<A;o++)if(a=e[o],s=a.parent,h[a.parent.name]&&a===s.lastChild){c=a.prev;while(c){if(l=c.name,"span"!==l||"bookmark"!==c.attr("data-mce-type")){"br"===l&&(a=null);break}c=c.prev}a&&(a.remove(),yB(n,p,m,s)&&(d=n.getElementRule(s.name),d&&(d.removeEmpty?s.remove():d.paddEmpty&&pB(t,i,h,s))))}else{u=a;while(s&&s.firstChild===u&&s.lastChild===u){if(u=s,h[s.name])break;s=s.parent}u===s&&!0!==t.padd_empty_with_br&&(f=new py("#text",3),f.value=ra,a.replace(f))}})),e.addAttributeFilter("href",(function(e){var n=e.length,r=function(e){var t=e.split(" ").filter((function(e){return e.length>0}));return t.concat(["noopener"]).sort().join(" ")},i=function(e){var t=e?An.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)while(n--){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",i(o.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,n,r,i,o=e.length;while(o--)if(i=e[o],"a"===i.name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,n,r=e.length;while(r--)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var i=new py("li",1);i.attr("style","list-style-type: none"),t.wrap(i)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,r,i,o,a,s,u,c=e.length,l=n.getValidClasses();while(c--){for(t=e[c],r=t.attr("class").split(" "),a="",i=0;i<r.length;i++)o=r[i],u=!1,s=l["*"],s&&s[o]&&(u=!0),s=l[t.name],!u&&s&&s[o]&&(u=!0),u&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}})),SB(e,t)},_B=An.makeMap,BB=An.each,DB=An.explode,MB=An.extend,EB=function(e,t){void 0===t&&(t=Os());var n={},r=[],i={},o={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,i,o,a,u,c,l,d,f,A,h=_B("tr,td,th,tbody,thead,tfoot,table"),p=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),g=t.getTextBlockElements(),v=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(g[r.name]&&"li"===r.parent.name){f=r.next;while(f){if(!g[f.name])break;f.name="li",f.fixed=!0,r.parent.insert(f,r.parent),f=f.next}r.unwrap(r)}else{for(o=[r],i=r.parent;i&&!t.isValidChild(i.name,r.name)&&!h[i.name];i=i.parent)o.push(i);if(i&&o.length>1){for(o.reverse(),a=u=s(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(u.name,o[d].name)?(c=s(o[d].clone()),u.append(c)):c=u,l=o[d].firstChild;l&&l!==o[d+1];)A=l.next,c.append(l),l=A;u=c}yB(t,p,m,a)?i.insert(r,o[0],!0):(i.insert(a,o[0],!0),i.insert(r,a)),i=o[0],(yB(t,p,m,i)||gB(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if(f=r.prev,f&&("ul"===f.name||"ol"===f.name)){f.append(r);continue}if(f=r.next,f&&("ul"===f.name||"ol"===f.name)){f.insert(r,f.firstChild,!0);continue}r.wrap(s(new py("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new py("div",1))):v[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,s;a=e.name,a in n&&(s=i[a],s?s.push(e):i[a]=[e]),t=r.length;while(t--)a=r[t].name,a in e.attributes.map&&(s=o[a],s?s.push(e):o[a]=[e]);return e},u=function(e,t){BB(DB(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},c=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){BB(DB(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},d=function(){return[].concat(r)},f=function(s,u){var c,l,d,f,A,h,p,m,g,v=[],y=function(e){return!1===e?"":!0===e?"p":e};u=u||{},i={},o={};var b=MB(_B("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,C=e.validate,S="forced_root_block"in u?u.forced_root_block:e.forced_root_block,k=y(S),_=t.getWhiteSpaceElements(),B=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,E=/^[ \t\r\n]+$/;m=_.hasOwnProperty(u.context)||_.hasOwnProperty(e.root_name);var T=function(){var n,r,i=P.firstChild,o=function(e){e&&(i=e.firstChild,i&&3===i.type&&(i.value=i.value.replace(B,"")),i=e.lastChild,i&&3===i.type&&(i.value=i.value.replace(D,"")))};if(t.isValidChild(P.name,k.toLowerCase())){while(i)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!b[i.name]&&!i.attr("data-mce-type")?(r||(r=I(k,1),r.attr(e.forced_root_block_attrs),P.insert(r,i)),r.append(i)):(o(r),r=null),i=n;o(r)}},I=function(e,t){var r,o=new py(e,t);return e in n&&(r=i[e],r?r.push(o):i[e]=[o]),o},O=function(e){var n,r,i,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(i=n.value.replace(D,""),i.length>0)return void(n.value=i);if(r=n.next,r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},L=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n},F=By({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:L(t.getSelfClosingElements()),cdata:function(e){g.append(I("#cdata",4)).value=e},text:function(e,t){var n;m||(e=e.replace(M," "),bB(g.lastChild,b)&&(e=e.replace(B,""))),0!==e.length&&(n=I("#text",3),n.raw=!!t,g.append(n).value=e)},comment:function(e){g.append(I("#comment",8)).value=e},pi:function(e,t){g.append(I(e,7)).value=t,O(g)},doctype:function(e){var t=g.append(I("#doctype",10));t.value=e,O(g)},start:function(e,n,i){var a,s,u,c,l=C?t.getElementRule(e):{};if(l){a=I(l.outputName||e,1),a.attributes=n,a.shortEnded=i,g.append(a),c=x[g.name],c&&x[a.name]&&!c[a.name]&&v.push(a),s=r.length;while(s--)u=r[s].name,u in n.map&&(h=o[u],h?h.push(a):o[u]=[a]);b[e]&&O(a),i||(g=a),!m&&_[e]&&(m=!0)}},end:function(n){var r,i,o,a,s=C?t.getElementRule(n):{};if(s){if(b[n]&&!m){if(r=g.firstChild,r&&3===r.type)if(i=r.value.replace(B,""),i.length>0)r.value=i,r=r.next;else{o=r.next,r.remove(),r=o;while(r&&3===r.type)i=r.value,o=r.next,(0===i.length||E.test(i))&&(r.remove(),r=o),r=o}if(r=g.lastChild,r&&3===r.type)if(i=r.value.replace(D,""),i.length>0)r.value=i,r=r.prev;else{o=r.prev,r.remove(),r=o;while(r&&3===r.type)i=r.value,o=r.prev,(0===i.length||E.test(i))&&(r.remove(),r=o),r=o}}if(m&&_[n]&&(m=!1),s.removeEmpty&&yB(t,w,_,g))return a=g.parent,b[g.name]?g.empty().remove():g.unwrap(),void(g=a);s.paddEmpty&&(mB(g)||yB(t,w,_,g))&&pB(e,u,b,g),g=g.parent}}},t),P=g=new py(u.context||e.root_name,11);if(F.parse(s,u.format),C&&v.length&&(u.context?u.invalid=!0:a(v)),k&&("body"===P.name||u.isRootContent)&&T(),!u.invalid){for(p in i)if(i.hasOwnProperty(p)){h=n[p],c=i[p],f=c.length;while(f--)c[f].parent||c.splice(f,1);for(l=0,d=h.length;l<d;l++)h[l](c,p,u)}for(l=0,d=r.length;l<d;l++)if(h=r[l],h.name in o){c=o[h.name],f=c.length;while(f--)c[f].parent||c.splice(f,1);for(f=0,A=h.callbacks.length;f<A;f++)h.callbacks[f](c,h.name,u)}}return P},A={schema:t,addAttributeFilter:l,getAttributeFilters:d,addNodeFilter:u,getNodeFilters:c,filterNode:s,parse:f};return kB(A,e),rB(A,e),A},TB=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var n,r=e.length;while(r--)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){var i,o,a=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;while(a--)i=e[a],o=i.attr(s),void 0!==o?(i.attr(r,o.length>0?o:null),i.attr(s,null)):(o=i.attr(r),"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):u&&(o=u.call(c,o,r,i.name)),i.attr(r,o.length>0?o:null))})),e.addAttributeFilter("class",(function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){var r,i=e.length;while(i--)if(r=e[i],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var o=z.from(r.firstChild).exists((function(e){return!sa(e.value)}));o?r.unwrap():r.remove()}})),e.addNodeFilter("noscript",(function(e){var t,n=e.length;while(n--)t=e[n].firstChild,t&&(t.value=xs.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){var r,i,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};while(a--)r=e[a],i=r.firstChild?r.firstChild.value:"","script"===n?(o=r.attr("type"),o&&r.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){var r,i=e.length;while(i--)r=e[i],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){var n,r=e.length;while(r--)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){Z(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}))},IB=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},OB=function(e,t,n){var r,i,o=e.dom;t=t.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),An.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,!0))})),t="BODY"!==t.nodeName?r.body.firstChild:r.body,i=o.doc,o.doc=r),Mm(e,ze(ze({},n),{node:t})),i&&(o.doc=i),t},LB=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},FB=function(e,t,n){return LB(e,n)?OB(e,t,n):t},PB=function(e,t,n){-1===An.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)})),t.push(n))},NB=function(e,t,n){if(!t.no_events&&e){var r=Em(e,ze(ze({},t),{content:n}));return r.content}return n},UB=function(e,t,n){var r=ua(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ea(yn.fromDom(t))?r:An.trim(r)},HB=function(e,t,n){var r=n.selection?ze({forced_root_block:!1},n):n,i=e.parse(t,r);return IB(i),i},RB=function(e,t,n){var r=Uy(e,t);return r.serialize(n)},VB=function(e,t,n,r,i){var o=RB(t,n,r);return NB(e,i,o)},QB=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Tc.DOM,i=t&&t.schema?t.schema:Os(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var o=EB(e,i);TB(o,e,r);var a=function(n,a){void 0===a&&(a={});var s=ze({format:"html"},a),u=FB(t,n,s),c=UB(r,u,s),l=HB(o,c,s);return"tree"===s.format?l:VB(t,e,i,l,s)};return{schema:i,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:a,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:O(PB,o,n),getTempAttrs:T(n),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}},jB=function(e,t){var n=QB(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},zB="html",GB=function(e,t){void 0===t&&(t={});var n=t.format?t.format:zB;return I_(e,t,n)},KB=function(e,t,n){return void 0===n&&(n={}),O_(e,t,n)},qB=Tc.DOM,WB=function(e){qB.setStyle(e.id,"display",e.orgDisplay)},$B=function(e){return z.from(e).each((function(e){return e.destroy()}))},XB=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},YB=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),qB.unbind(t,"submit reset",e.formEventDelegate))},JB=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&i&&qB.remove(i.nextSibling),Tm(e),e.editorManager.remove(e),!e.inline&&r&&WB(e),Im(e),qB.remove(e.getContainer()),$B(t),$B(n),e.destroy()}},ZB=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),$B(n),$B(r)),YB(e),XB(e),e.destroyed=!0):e.remove())},eD=Object.prototype.hasOwnProperty,tD=function(e,t){var n=v(e)&&v(t);return n?rD(e,t):t},nD=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)eD.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},rD=nD(tD),iD=function(e,t){return{sections:T(e),settings:T(t)}},oD=zt().deviceType,aD=oD.isTouch(),sD=oD.isPhone(),uD=oD.isTablet(),cD=["lists","autolink","autosave"],lD={table_grid:!1,object_resizing:!1,resize:!1},dD=function(e){var t=y(e)?e.join(" "):e,n=J(g(t)?t.split(" "):[],dt);return ne(n,(function(e){return e.length>0}))},fD=function(e){return ne(e,O(X,cD))},AD=function(e,t){var n=Be(t,(function(t,n){return X(e,n)}));return iD(n.t,n.f)},hD=function(e,t,n){void 0===n&&(n={});var r=e.sections(),i=r.hasOwnProperty(t)?r[t]:{};return An.extend({},n,i)},pD=function(e,t){return e.sections().hasOwnProperty(t)},mD=function(e,t,n){var r=e.sections();return pD(e,t)&&r[t].theme===n},gD=function(e,t){return pD(e,t)?e.sections()[t]:{}},vD=function(e,t){return Te(e,"toolbar_mode").orThunk((function(){return Te(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)},yD=function(e,t,n,r,i){var o={id:t,theme:"silver",toolbar_mode:vD(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i};return ze(ze({},o),r?lD:{})},bD=function(e,t){var n={resize:!1,toolbar_mode:vD(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return ze(ze(ze({},lD),n),t?r:{})},wD=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?An.extend({},e.external_plugins,n):n},xD=function(e,t){return[].concat(dD(e)).concat(dD(t))},CD=function(e,t,n,r){return e&&mD(t,"mobile","mobile")?fD(r):e&&pD(t,"mobile")?r:n},SD=function(e,t,n,r){var i=dD(n.forced_plugins),o=dD(r.plugins),a=gD(t,"mobile"),s=a.plugins?dD(a.plugins):o,u=CD(e,t,o,s),c=xD(i,u);if(Zt.browser.isIE()&&X(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return An.extend(r,{plugins:c.join(" ")})},kD=function(e,t){return e&&pD(t,"mobile")},_D=function(e,t,n,r,i){var o=e?{mobile:bD(i.mobile||{},t)}:{},a=AD(["mobile"],rD(o,i)),s=An.extend(n,r,a.settings(),kD(e,a)?hD(a,"mobile"):{},{validate:!0,external_plugins:wD(r,a.settings())});return SD(e,a,r,s)},BD=function(e,t,n,r,i){var o=yD(i,t,n,aD,e);return _D(sD||uD,sD,o,r,i)},DD=function(e,t,n){return z.from(t.settings[n]).filter(e)},MD=function(e){var t={};return"string"===typeof e?Z(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[An.trim(n[0])]=An.trim(n[1]):t[An.trim(n[0])]=An.trim(n[0])})):t=e,t},ED=function(e){return function(t){return y(t)&&le(t,e)}},TD=function(e,t,n,r){var i=t in e.settings?e.settings[t]:n;return"hash"===r?MD(i):"string"===r?DD(g,e,t).getOr(n):"number"===r?DD(B,e,t).getOr(n):"boolean"===r?DD(w,e,t).getOr(n):"object"===r?DD(v,e,t).getOr(n):"array"===r?DD(y,e,t).getOr(n):"string[]"===r?DD(ED(g),e,t).getOr(n):"function"===r?DD(k,e,t).getOr(n):i},ID=function(){var e={},t=function(t,n){e[t]=n},n=function(t){return e[t]?e[t]:{icons:{}}},r=function(t){return Ie(e,t)};return{add:t,get:n,has:r}},OD=ID(),LD=function(e,t){var n=t.dom;return n[e]},FD=function(e,t){return parseInt(vi(t,e),10)},PD=O(LD,"clientWidth"),ND=O(LD,"clientHeight"),UD=O(FD,"margin-top"),HD=O(FD,"margin-left"),RD=function(e){return e.dom.getBoundingClientRect()},VD=function(e,t,n){var r=PD(e),i=ND(e);return t>=0&&n>=0&&t<=r&&n<=i},QD=function(e,t,n,r){var i=RD(t),o=e?i.left+t.dom.clientLeft+HD(t):0,a=e?i.top+t.dom.clientTop+UD(t):0,s=n-o,u=r-a;return{x:s,y:u}},jD=function(e,t,n){var r=yn.fromDom(e.getBody()),i=e.inline?r:Kn(r),o=QD(e.inline,i,t,n);return VD(i,o.x,o.y)},zD=function(e){return z.from(e).map(yn.fromDom)},GD=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return zD(t).map(_r).getOr(!1)},KD=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},qD=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():KD()},r=function(){return z.from(t[0])},i=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout},o=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){se(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},u=function(u,c){if(void 0===c&&(c=!0),!e.removed&&GD(e))return c&&e.fire("BeforeOpenNotification",{notification:u}),ae(t,(function(e){return i(n().getArgs(e),u)})).getOrThunk((function(){e.editorManager.setActive(e);var t=n().open(u,(function(){s(t),o(),r().fold((function(){return e.focus()}),(function(e){return zg(yn.fromDom(e.getEl()))}))}));return a(t),o(),e.fire("OpenNotification",{notification:ze({},t)}),t}))},c=function(){r().each((function(e){n().close(e),s(e),o()}))},l=function(){return t},d=function(e){e.on("SkinLoaded",(function(){var t=Kf(e);t&&u({text:t,type:"warning",timeout:0},!1)})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){Eo.requestAnimationFrame(o)})),e.on("remove",(function(){Z(t.slice(),(function(e){n().close(e)}))}))};return d(e),{open:u,close:c,getNotifications:l}},WD=el.PluginManager,$D=el.ThemeManager;function XD(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var YD,JD=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():XD()},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):void 0}},i=function(t){e.fire("OpenWindow",{dialog:t})},o=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),i(e)},s=function(n){o(n),t=ne(t,(function(e){return e!==n})),0===t.length&&e.focus()},u=function(){return z.from(t[t.length-1])},c=function(t){e.editorManager.setActive(e),Cv(e);var n=t();return a(n),n},l=function(e,t){return c((function(){return n().open(e,t,s)}))},d=function(e){return c((function(){return n().openUrl(e,s)}))},f=function(e,t,i){var o=n();o.alert(e,r(i||o,t))},A=function(e,t,i){var o=n();o.confirm(e,r(i||o,t))},h=function(){u().each((function(e){n().close(e),s(e)}))};return e.on("remove",(function(){Z(t,(function(e){n().close(e)}))})),{open:l,openUrl:d,alert:f,confirm:A,close:h}},ZD=function(e,t){e.notificationManager.open({type:"error",text:t})},eM=function(e,t){e._skinLoaded?ZD(e,t):e.on("SkinLoaded",(function(){ZD(e,t)}))},tM=function(e,t){eM(e,Zc.translate(["Failed to upload image: {0}",t]))},nM=function(e,t,n){Rm(e,t,{message:n}),console.error(n)},rM=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},iM=function(e,t,n){nM(e,"PluginLoadError",rM("plugin",t,n))},oM=function(e,t,n){nM(e,"IconsLoadError",rM("icons",t,n))},aM=function(e,t,n){nM(e,"LanguageLoadError",rM("language",t,n))},sM=function(e,t,n){var r=Zc.translate(["Failed to initialize plugin: {0}",t]);Rm(e,"PluginLoadError",{message:r}),uM(r,n),eM(e,r)},uM=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Ke([e],t)):r.log.apply(r,Ke([e],t)))},cM=function(e){return/^[a-z0-9\-]+$/i.test(e)},lM=function(e){return fM(e,Uf(e))},dM=function(e){return fM(e,Hf(e))},fM=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,i="content"+r+".css",o=!0===e.inline;return J(t,(function(t){return cM(t)&&!o?n+"/"+t+"/"+i:e.documentBaseURI.toAbsolute(t)}))},AM=function(e){e.contentCSS=e.contentCSS.concat(lM(e),dM(e))},hM=function(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},i=function(e){return e in n},o=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!i(t)&&n[t].status===e},s=function(e){return!!i(e)&&n[e].status===t},u=function(t){n[t]=r(e,null)},c=function(e,i){n[e]=r(t,i)},l=function(e){delete n[e]},d=function(){n={}};return{hasBlobUri:i,getResultUri:o,isPending:a,isUploaded:s,markPending:u,markUploaded:c,removeFailed:l,destroy:d}},pM=0,mM=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},gM=function(e){return e+pM+++mM()},vM=function(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"},n=function(e,t,n,i,o){if(g(e)){var a=e;return r({id:a,name:i,filename:o,blob:t,base64:n})}if(v(e))return r(e);throw new Error("Unknown input type")},r=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=e.id||gM("blobid"),r=e.name||n,i=e.blob;return{id:T(n),name:T(r),filename:T(e.filename||r+"."+t(i.type)),blob:T(i),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(i)),uri:T(e.uri)}},i=function(t){a(t.id())||e.push(t)},o=function(t){return ae(e,t).getOrUndefined()},a=function(e){return o((function(t){return t.id()===e}))},s=function(e){return o((function(t){return t.blobUri()===e}))},u=function(e,t){return o((function(n){return n.base64()===e&&n.blob().type===t}))},c=function(t){e=ne(e,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))},l=function(){Z(e,(function(e){URL.revokeObjectURL(e.blobUri())})),e=[]};return{create:n,add:i,get:a,getByUri:s,getByData:u,findFirst:o,removeByUri:c,destroy:l}},yM=function(e,t){var n={},r=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(e,n,i,o){var a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)i("HTTP Error: "+a.status);else{var e=JSON.parse(a.responseText);e&&"string"===typeof e.location?n(r(t.basePath,e.location)):i("Invalid JSON: "+a.responseText)}};var s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)},o=function(){return new Co((function(e){e([])}))},a=function(e,t){return{url:t,blobInfo:e,status:!0}},s=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},u=function(e,t){An.each(n[e],(function(e){e(t)})),delete n[e]},c=function(t,n,r){return e.markPending(t.blobUri()),new Co((function(i){var o,c;try{var l=function(){o&&(o.close(),c=D)},d=function(n){l(),e.markUploaded(t.blobUri(),n),u(t.blobUri(),a(t,n)),i(a(t,n))},f=function(n,r){var o=r||{};l(),e.removeFailed(t.blobUri()),u(t.blobUri(),s(t,n,o)),i(s(t,n,o))};c=function(e){e<0||e>100||z.from(o).orThunk((function(){return z.from(r).map(P)})).each((function(t){o=t,t.progressBar.value(e)}))},n(t,d,f,c)}catch(A){i(s(t,A.message,{}))}}))},l=function(e){return e===i},d=function(e){var t=e.blobUri();return new Co((function(e){n[t]=n[t]||[],n[t].push(e)}))},f=function(n,r){return n=An.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),Co.all(An.map(n,(function(n){return e.isPending(n.blobUri())?d(n):c(n,t.handler,r)})))},A=function(e,n){return!t.url&&l(t.handler)?o():f(e,n)};return!1===k(t.handler)&&(t.handler=i),{upload:A}},bM=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},wM=function(e,t){return yM(t,{url:Df(e),basePath:Mf(e),credentials:Ef(e),handler:Tf(e)})},xM=function(e){var t=hM(),n=wM(e,t);return{upload:function(t,r){return void 0===r&&(r=!0),n.upload(t,r?bM(e):void 0)}}},CM=function(e){var t=Rc(null);e.on("change AddUndo",(function(e){t.set(ze({},e.level))}));var n=function(){var n=e.undoManager.data;ge(n).filter((function(e){return!Vk(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:pe(n,n.length-2).getOrNull()})}))};return{fireIfChanged:n}},SM=function(e){var t,n,r=vM(),i=hM(),o=[],a=CM(e),s=function(t){return function(n){return e.selection?t(n):[]}},u=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},c=function(e,t,n){var r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},l=function(e,t,n){var r='src="'+n+'"'+(n===Zt.transparentSrc?' data-mce-placeholder="1"':"");return e=c(e,'src="'+t+'"',r),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},d=function(t,n){Z(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=J(e.fragments,(function(e){return l(e,t,n)})):e.content=l(e.content,t,n)}))},f=function(t,n){var r=e.convertURL(n,"src");d(t.src,n),e.$(t).attr({src:Sf(e)?u(n):n,"data-mce-src":r})},A=function(n){return t||(t=wM(e,i)),g().then(s((function(i){var o=J(i,(function(e){return e.blobInfo}));return t.upload(o,bM(e)).then(s((function(t){var o=[],s=J(t,(function(t,n){var a=i[n].blobInfo,s=i[n].image;return t.status&&kf(e)?(r.removeByUri(s.src),f(s,t.url)):t.error&&(t.error.options.remove&&(d(s.getAttribute("src"),Zt.transparentSrc),o.push(s)),tM(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:a}}));return s.length>0&&a.fireIfChanged(),o.length>0&&(s_(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){Z(o,(function(t){e.dom.remove(t),r.removeByUri(t.src)}))}))),n&&n(s),s})))})))},h=function(t){if(Cf(e))return A(t)},p=function(t){if(!1===le(o,(function(e){return e(t)})))return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=xf(e);return n(t)}return!0},m=function(e){o.push(e)},g=function(){return n||(n=hB(i,r)),n.findAll(e.getBody(),p).then(s((function(t){return t=ne(t,(function(t){return"string"!==typeof t||(eM(e,t),!1)})),Z(t,(function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},v=function(){r.destroy(),i.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var o=i.getResultUri(n);if(o)return'src="'+o+'"';var a=r.getByUri(n);if(a||(a=ie(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),a){var s=a.blob();return'src="data:'+s.type+";base64,"+a.base64()+'"'}return t}))};return e.on("SetContent",(function(){Cf(e)?h():g()})),e.on("RawSaveContent",(function(e){e.content=y(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=y(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Z(e,(function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=i.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:r,addFilter:m,uploadImages:A,uploadImagesAuto:h,scanForImages:g,destroy:v}},kM=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Vr(e)&&e.hasAttribute("href")},onformat:function(t,n,r){An.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return An.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t},_M=function(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Ie(t,e)},i=function(e,n){e&&("string"!==typeof e?An.each(e,(function(e,t){i(t,e)})):(y(n)||(n=[n]),An.each(n,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector),"undefined"===typeof e.split&&(e.split=!e.selector||e.inline),"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),t[e]=n))},o=function(e){return e&&t[e]&&delete t[e],t};return i(kM(e.dom)),i(Xf(e)),{get:n,has:r,register:i,unregister:o}},BM=An.each,DM=Tc.DOM,MM=function(e,t){var n,r,i,o=t&&t.schema||Os({}),a=function(e,t){t.classes.length&&DM.addClass(e,t.classes.join(" ")),DM.setAttribs(e,t.attrs)},s=function(e){r="string"===typeof e?{name:e,classes:[],attrs:{}}:e;var t=DM.create(r.name);return a(t,r),t},u=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e,r=o.getElementRule(n),i=r&&r.parentsRequired;return!(!i||!i.length)&&(t&&-1!==An.inArray(i,t)?t:i[0])},c=function(e,t,n){var r,i,o=t.length>0&&t[0],a=o&&o.name,l=u(e,a);if(l)a===l?(i=t[0],t=t.slice(1)):i=l;else if(o)i=t[0],t=t.slice(1);else if(!n)return e;return i&&(r=s(i),r.appendChild(e)),n&&(r||(r=DM.create("div"),r.appendChild(e)),An.each(n,(function(t){var n=s(t);r.insertBefore(n,e)}))),c(r,t,i&&i.siblings)};return e&&e.length?(r=e[0],n=s(r),i=DM.create("div"),i.appendChild(c(n,e.slice(1),r.siblings)),i):""},EM=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=An.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,i,o){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==An.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===i){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},TM=function(e){return e&&"string"===typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),An.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=An.map(e.split(/(?:~\+|~|\+)/),EM),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]},IM=function(e,t){var n,r,i,o="",a=Yf(e);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var u=Te(t,"preview");if(u.is(!1))return"";a=u.getOr(a)}n=t.block||t.inline||"span";var c=TM(t.selector);c.length?(c[0].name||(c[0].name=n),n=t.selector,r=MM(c,e)):r=MM([n],e);var l=DM.select(n,r)[0]||r.firstChild;return BM(t.styles,(function(e,t){var n=s(e);n&&DM.setStyle(l,t,n)})),BM(t.attributes,(function(e,t){var n=s(e);n&&DM.setAttrib(l,t,n)})),BM(t.classes,(function(e){var t=s(e);DM.hasClass(l,t)||DM.addClass(l,t)})),e.fire("PreviewFormats"),DM.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=DM.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,BM(a.split(" "),(function(t){var n=DM.getStyle(l,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=DM.getStyle(e.getBody(),t,!0),"#ffffff"!==DM.toHex(n).toLowerCase()))&&("color"!==t||"#000000"!==DM.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===i)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*i+"px"}"border"===t&&n&&(o+="padding:0 2px;"),o+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),DM.remove(r),o},OM=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},LM=function(e){var t=_M(e),n=Rc(null);return OM(e),FC(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){D_(e,t,n,r)},remove:function(t,n,r,i){M_(e,t,n,r,i)},toggle:function(t,n,r){E_(e,t,n,r)},match:function(t,n,r){return C_(e,t,n,r)},closest:function(t){return B_(e,t)},matchAll:function(t,n){return S_(e,t,n)},matchNode:function(t,n,r,i){return k_(e,t,n,r,i)},canApply:function(t){return __(e,t)},formatChanged:function(t,r,i){return T_(e,n,t,r,i)},getCssText:O(IM,e)}},FM=function(e,t,n){var r=Rc(!1),i=function(e){jk(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(zk(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&i(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",(function(n){var o=n.keyCode;n.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||n.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),r.get()&&t.typing&&!1===Vk(Fk(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var o=e.keyCode;if(!e.isDefaultPrevented())if(o>=33&&o<=36||o>=37&&o<=40||45===o)t.typing&&i(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(o<16||o>20)||224===o||91===o||t.typing||a||(t.beforeChange(),jk(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&i(e)}));var o=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},s=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",(function(e){e.inputType&&(o(e)||a(e)||s(e))&&i(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))},PM=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},NM=function(e){var t=Rc(z.none()),n=Rc(0),r=Rc(0),i={data:[],typing:!1,beforeChange:function(){f_(e,n,t)},add:function(o,a){return A_(e,i,r,n,t,o,a)},undo:function(){return h_(e,i,n,r)},redo:function(){return p_(e,r,i.data)},clear:function(){m_(e,i,r)},reset:function(){g_(e,i)},hasUndo:function(){return v_(e,i,r)},hasRedo:function(){return y_(e,i,r)},transact:function(t){return b_(e,i,n,t)},ignore:function(t){w_(e,n,t)},extra:function(t,n){x_(e,i,r,t,n)}};return s_(e)||FM(e,i,n),PM(e),i},UM=[9,27,Vm.HOME,Vm.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vm.DOWN,Vm.UP,Vm.LEFT,Vm.RIGHT].concat(Zt.browser.isFirefox()?[224]:[]),HM="data-mce-placeholder",RM=function(e){return"keydown"===e.type||"keyup"===e.type},VM=function(e){var t=e.keyCode;return t===Vm.BACKSPACE||t===Vm.DELETE},QM=function(e){if(RM(e)){var t=e.keyCode;return!VM(e)&&(Vm.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||X(UM,t))}return!1},jM=function(e){return RM(e)&&!(VM(e)||"keyup"===e.type&&229===e.keyCode)},zM=function(e,t,n){if(Xa(yn.fromDom(t),!1)){var r=""===n,i=t.firstElementChild;return!i||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(i):n===i.nodeName.toLowerCase())}return!1},GM=function(e){var t=e.dom,n=hf(e),r=zf(e),i=function(o,a){if(!QM(o)){var s=e.getBody(),u=!jM(o)&&zM(t,s,n),c=""!==t.getAttrib(s,HM);(c!==u||a)&&(t.setAttrib(s,HM,u?r:null),t.setAttrib(s,"aria-placeholder",u?r:null),Hm(e,u),e.on(u?"keydown":"keyup",i),e.off(u?"keyup":"keydown",i))}};r&&e.on("init",(function(t){i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(function(t){return Eo.setEditorTimeout(e,(function(){return i(t)}))}))}))},KM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,qM=function(e){return KM.test(e)},WM=function(e,t){return Dn(yn.fromDom(t),Vf(e))},$M=function(e){return"rtl"===Tc.DOM.getStyle(e,"direction",!0)||qM(e.textContent)},XM=function(e,t,n){return ne(Tc.DOM.getParents(n.container(),"*",t),e)},YM=function(e,t,n){var r=XM(e,t,n);return z.from(r[r.length-1])},JM=function(e,t,n){var r=JA(t,e),i=JA(n,e);return r&&r===i},ZM=function(e){return ma(e)||ga(e)},eE=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?fa(n)?Yr(n.nextSibling)?wd(n.nextSibling,0):wd.after(n):ma(t)?wd(n,r+1):t:fa(n)?Yr(n.previousSibling)?wd(n.previousSibling,n.previousSibling.data.length):wd.before(n):ga(t)?wd(n,r-1):t},tE=O(eE,!0),nE=O(eE,!1),rE=function(e){return function(t){return In(e,yn.fromDom(t.dom.parentNode))}},iE=function(e,t){return Fn(e,t)?mo(t,(function(e){return $o(e)||Yo(e)}),rE(e)):z.none()},oE=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},aE=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),oE(e))},sE=function(e,t,n){return Ul(Hh(n),Rh(n),(function(r,i){var o=eE(!0,r),a=eE(!1,i),s=eE(!1,t);return e?Nh(n,s).exists((function(e){return e.isEqual(a)&&t.isEqual(o)})):Uh(n,s).exists((function(e){return e.isEqual(o)&&t.isEqual(a)}))})).getOr(!0)},uE=function(e,t){return{block:e,position:t}},cE=function(e,t){return{from:e,to:t}},lE=function(e,t){var n=yn.fromDom(e),r=yn.fromDom(t.container());return iE(n,r).map((function(e){return uE(e,t)}))},dE=function(e){return!1===In(e.from.block,e.to.block)},fE=function(e){return Wn(e.from.block).bind((function(t){return Wn(e.to.block).filter((function(e){return In(t,e)}))})).isSome()},AE=function(e){return!1===ii(e.from.block.dom)&&!1===ii(e.to.block.dom)},hE=function(e,t,n){return ti(n.position.getNode())&&!1===Xa(n.block)?Ph(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?Oh(t,e,r).bind((function(t){return lE(e,t)})):z.some(n)})).getOr(n):n},pE=function(e,t,n){var r=lE(e,wd.fromRangeStart(n)),i=r.bind((function(n){return Oh(t,e,n.position).bind((function(n){return lE(e,n).map((function(n){return hE(e,t,n)}))}))}));return Ul(r,i,cE).filter((function(e){return dE(e)&&fE(e)&&AE(e)}))},mE=function(e,t,n){return n.collapsed?pE(e,t,n):z.none()},gE=function(e){var t=tr(e);return se(t,Go).fold((function(){return t}),(function(e){return t.slice(0,e)}))},vE=function(e){var t=gE(e);return Z(t,Sr),t},yE=function(e,t){var n=hb(t,e);return ae(n.reverse(),(function(e){return Xa(e)})).each(Sr)},bE=function(e){return 0===ne(Zn(e),(function(e){return!Xa(e)})).length},wE=function(e,t,n,r){if(Xa(n))return cb(n),Hh(n.dom);bE(r)&&Xa(t)&&mr(r,yn.fromTag("br"));var i=Uh(n.dom,wd.before(r.dom));return Z(vE(t),(function(e){mr(r,e)})),yE(e,t),i},xE=function(e,t,n){if(Xa(n))return Sr(n),Xa(t)&&cb(t),Hh(t.dom);var r=Rh(n.dom);return Z(vE(t),(function(e){yr(n,e)})),yE(e,t),r},CE=function(e,t){var n=hb(t,e);return z.from(n[n.length-1])},SE=function(e,t){return Fn(t,e)?CE(t,e):z.none()},kE=function(e,t){Ph(e,t.dom).map((function(e){return e.getNode()})).map(yn.fromDom).filter(Wo).each(Sr)},_E=function(e,t,n){return kE(!0,t),kE(!1,n),SE(t,n).fold(O(xE,e,t,n),O(wE,e,t,n))},BE=function(e,t,n,r){return t?_E(e,r,n):_E(e,n,r)},DE=function(e,t){var n=yn.fromDom(e.getBody()),r=mE(n.dom,t,e.selection.getRng()).bind((function(e){return BE(n,t,e.from.block,e.to.block)}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},ME=function(e,t){var n=t.getRng();return Ul(iE(e,yn.fromDom(n.startContainer)),iE(e,yn.fromDom(n.endContainer)),(function(r,i){return!1===In(r,i)&&(n.deleteContents(),BE(e,!0,r,i).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)},EE=function(e,t){var n=yn.fromDom(t),r=O(In,e);return po(n,Zo,r).isSome()},TE=function(e,t){return EE(e,t.startContainer)||EE(e,t.endContainer)},IE=function(e,t){var n=Uh(e.dom,wd.fromRangeStart(t)).isNone(),r=Nh(e.dom,wd.fromRangeEnd(t)).isNone();return!TE(e,t)&&n&&r},OE=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},LE=function(e){var t=yn.fromDom(e.getBody()),n=e.selection.getRng();return IE(t,n)?OE(e):ME(t,e.selection)},FE=function(e,t){return!e.selection.isCollapsed()&&LE(e)},PE=ri,NE=ii,UE=function(e,t,n,r,i){return z.from(t._selectionOverrides.showCaret(e,n,r,i))},HE=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},RE=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?z.none():z.some(HE(t))},VE=function(e,t,n){var r=ah(1,e.getBody(),t),i=wd.fromRangeStart(r),o=i.getNode();if(HA(o))return UE(1,e,o,!i.isAtEnd(),!1);var a=i.getNode(!0);if(HA(a))return UE(1,e,a,!1,!1);var s=e.dom.getParent(i.getNode(),(function(e){return NE(e)||PE(e)}));return HA(s)?UE(1,e,s,!1,n):z.none()},QE=function(e,t,n){return t.collapsed?VE(e,t,n).getOr(t):t},jE=function(e){return ob(e)||tb(e)},zE=function(e){return ab(e)||nb(e)},GE=function(e,t){Yr(t)&&0===t.data.length&&e.remove(t)},KE=function(e,t,n,r,i,o){return UE(r,e,o.getNode(!i),i,!0).each((function(n){if(t.collapsed){var r=t.cloneRange();i?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),GE(e.dom,n),!0},qE=function(e,t){var n=e.selection.getRng();if(!Yr(n.commonAncestorContainer))return!1;var r=t?xd.Forwards:xd.Backwards,i=kh(e.getBody()),o=O(dh,t?i.next:i.prev),a=t?jE:zE,s=uh(r,e.getBody(),n),u=eE(t,o(s));if(!u||!fh(s,u))return!1;if(a(u))return KE(e,n,s.getNode(),r,t,u);var c=o(u);return!!(c&&a(c)&&fh(u,c))&&KE(e,n,s.getNode(),r,t,c)},WE=function(e,t){return qE(e,t)},$E=function(e){return Zo(yn.fromDom(e))||Yo(yn.fromDom(e))},XE=Ki.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),YE=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Vr(n)&&n.getAttribute("data-mce-caret")===r},JE=function(e,t,n,r){var i=function(t){return qo(yn.fromDom(t))&&!ZA(n,r,e)};return sh(!t,n).fold((function(){return sh(t,r).fold(U,i)}),i)},ZE=function(e,t,n,r){var i=r.getNode(!1===t);return iE(yn.fromDom(e),yn.fromDom(n.getNode())).map((function(e){return Xa(e)?XE.remove(e.dom):XE.moveToElement(i)})).orThunk((function(){return z.some(XE.moveToElement(i))}))},eT=function(e,t,n){return Oh(t,e,n).bind((function(r){return $E(r.getNode())||JE(e,t,n,r)?z.none():t&&ii(r.getNode())||!1===t&&ii(r.getNode(!0))?ZE(e,t,n,r):t&&ab(n)||!1===t&&ob(n)?z.some(XE.moveToPosition(r)):z.none()}))},tT=function(e,t){return e&&ii(t.nextSibling)?z.some(XE.moveToElement(t.nextSibling)):!1===e&&ii(t.previousSibling)?z.some(XE.moveToElement(t.previousSibling)):z.none()},nT=function(e,t,n){return n.fold((function(e){return z.some(XE.remove(e))}),(function(e){return z.some(XE.moveToElement(e))}),(function(n){return ZA(t,n,e)?z.none():z.some(XE.moveToPosition(n))}))},rT=function(e,t,n){return YE(t,n)?tT(t,n.getNode(!1===t)).fold((function(){return eT(e,t,n)}),z.some):eT(e,t,n).bind((function(t){return nT(e,n,t)}))},iT=function(e,t,n){var r=ah(t?1:-1,e,n),i=wd.fromRangeStart(r),o=yn.fromDom(e);return!1===t&&ab(i)?z.some(XE.remove(i.getNode(!0))):t&&ob(i)?z.some(XE.remove(i.getNode())):!1===t&&ob(i)&&_b(o,i)?Bb(o,i).map((function(e){return XE.remove(e.getNode())})):t&&ab(i)&&kb(o,i)?Db(o,i).map((function(e){return XE.remove(e.getNode())})):rT(e,t,i)},oT=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),bw(e,t,yn.fromDom(n)),!0}},aT=function(e,t){return function(n){var r=t?wd.before(n):wd.after(n);return e.selection.setRng(r.toRange()),!0}},sT=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},uT=function(e,t){return z.from(Bm(e.getBody(),t))},cT=function(e,t){var n=e.selection.getNode();return uT(e,n).filter(ii).fold((function(){return iT(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(oT(e,t),aT(e,t),sT(e))}))}),H)},lT=function(e){Z(pl(e,".mce-offscreen-selection"),Sr)},dT=function(e,t){var n=e.selection.getNode();if(ii(n)){var r=uT(e,n.parentNode).filter(ii);return r.fold((function(){return lT(yn.fromDom(e.getBody())),bw(e,t,yn.fromDom(e.selection.getNode())),aE(e),!0}),H)}return!1},fT=function(e){var t=e.dom,n=e.selection,r=Bm(e.getBody(),n.getNode());if(ri(r)&&t.isBlock(r)&&t.isEmpty(r)){var i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(i),n.setRng(wd.before(i).toRange())}return!0},AT=function(e,t){return e.selection.isCollapsed()?cT(e,t):dT(e,t)},hT=function(e,t){var n=wd.fromRangeStart(e.selection.getRng());return Oh(t,e.getBody(),n).filter((function(e){return t?Zy(e):eb(e)})).bind((function(e){return z.from(eh(t?0:-1,e))})).exists((function(t){return e.selection.select(t),!0}))},pT=function(e,t){return!!e.selection.isCollapsed()&&hT(e,t)},mT=Yr,gT=function(e){return mT(e)&&e.data[0]===aa},vT=function(e){return mT(e)&&e.data[e.data.length-1]===aa},yT=function(e){return e.ownerDocument.createTextNode(aa)},bT=function(e){if(mT(e.previousSibling))return vT(e.previousSibling)||e.previousSibling.appendData(aa),e.previousSibling;if(mT(e))return gT(e)||e.insertData(0,aa),e;var t=yT(e);return e.parentNode.insertBefore(t,e),t},wT=function(e){if(mT(e.nextSibling))return gT(e.nextSibling)||e.nextSibling.insertData(0,aa),e.nextSibling;if(mT(e))return vT(e)||e.appendData(aa),e;var t=yT(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},xT=function(e,t){return e?bT(t):wT(t)},CT=O(xT,!0),ST=O(xT,!1),kT=function(e,t){return Yr(e.container())?xT(t,e.container()):xT(t,e.getNode())},_T=function(e,t){var n=t.get();return n&&e.container()===n&&fa(n)},BT=function(e,t){return t.fold((function(t){MA(e.get());var n=CT(t);return e.set(n),z.some(wd(n,n.length-1))}),(function(t){return Hh(t).map((function(t){if(_T(t,e))return wd(e.get(),1);MA(e.get());var n=kT(t,!0);return e.set(n),wd(n,1)}))}),(function(t){return Rh(t).map((function(t){if(_T(t,e))return wd(e.get(),e.get().length-1);MA(e.get());var n=kT(t,!1);return e.set(n),wd(n,n.length-1)}))}),(function(t){MA(e.get());var n=ST(t);return e.set(n),z.some(wd(n,1))}))},DT=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return z.none()},MT=Ki.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ET=function(e,t){var n=JA(t,e);return n||e},TT=function(e,t,n){var r=tE(n),i=ET(t,r.container());return YM(e,i,r).fold((function(){return Nh(i,r).bind(O(YM,e,i)).map((function(e){return MT.before(e)}))}),z.none)},IT=function(e,t){return null===jh(e,t)},OT=function(e,t,n){return YM(e,t,n).filter(O(IT,t))},LT=function(e,t,n){var r=nE(n);return OT(e,t,r).bind((function(e){var t=Uh(e,r);return t.isNone()?z.some(MT.start(e)):z.none()}))},FT=function(e,t,n){var r=tE(n);return OT(e,t,r).bind((function(e){var t=Nh(e,r);return t.isNone()?z.some(MT.end(e)):z.none()}))},PT=function(e,t,n){var r=nE(n),i=ET(t,r.container());return YM(e,i,r).fold((function(){return Uh(i,r).bind(O(YM,e,i)).map((function(e){return MT.after(e)}))}),z.none)},NT=function(e){return!1===$M(HT(e))},UT=function(e,t,n){var r=DT([TT,LT,FT,PT],[e,t,n]);return r.filter(NT)},HT=function(e){return e.fold(I,I,I,I)},RT=function(e){return e.fold(T("before"),T("start"),T("end"),T("after"))},VT=function(e){return e.fold(MT.before,MT.before,MT.after,MT.after)},QT=function(e){return e.fold(MT.start,MT.start,MT.end,MT.end)},jT=function(e,t){return RT(e)===RT(t)&&HT(e)===HT(t)},zT=function(e,t,n,r,i,o){return Ul(YM(t,n,r),YM(t,n,i),(function(t,r){return t!==r&&JM(n,t,r)?MT.after(e?t:r):o})).getOr(o)},GT=function(e,t){return e.fold(H,(function(e){return!jT(e,t)}))},KT=function(e,t,n,r,i){var o=eE(e,i),a=Oh(e,n,o).map(O(eE,e)),s=a.fold((function(){return r.map(VT)}),(function(i){return UT(t,n,i).map(O(zT,e,t,n,o,i)).filter(O(GT,r))}));return s.filter(NT)},qT=function(e,t){return e?t.fold(M(z.some,MT.start),z.none,M(z.some,MT.after),z.none):t.fold(z.none,M(z.some,MT.before),z.none,M(z.some,MT.end))},WT=function(e,t,n,r){var i=eE(e,r),o=UT(t,n,i);return UT(t,n,i).bind(O(qT,e)).orThunk((function(){return KT(e,t,n,o,r)}))},$T=(O(WT,!1),O(WT,!0),function(e){return k(e.selection.getSel().modify)}),XT=function(e,t,n){var r=e?1:-1;return t.setRng(wd(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},YT=function(e,t){var n=t.selection.getRng(),r=e?wd.fromRangeEnd(n):wd.fromRangeStart(n);return!!$T(t)&&(e&&ma(r)?XT(!0,t.selection,r):!(e||!ga(r))&&XT(!1,t.selection,r))};(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(YD||(YD={}));var JT,ZT=function(e,t){return e===xd.Backwards?de(t):t},eI=function(e,t,n){return e===xd.Forwards?t.next(n):t.prev(n)},tI=function(e,t,n,r){return ti(r.getNode(t===xd.Forwards))?YD.Br:!1===ZA(n,r)?YD.Block:YD.Wrap},nI=function(e,t,n,r){var i,o=kh(n),a=r,s=[];while(a){if(i=eI(t,o,a),!i)break;if(ti(i.getNode(!1)))return t===xd.Forwards?{positions:ZT(t,s).concat([i]),breakType:YD.Br,breakAt:z.some(i)}:{positions:ZT(t,s),breakType:YD.Br,breakAt:z.some(i)};if(i.isVisible()){if(e(a,i)){var u=tI(n,t,a,i);return{positions:ZT(t,s),breakType:u,breakAt:z.some(i)}}s.push(i),a=i}else a=i}return{positions:ZT(t,s),breakType:YD.Eol,breakAt:z.none()}},rI=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var i=t(n,r).positions;return e===xd.Backwards?i.concat(r):[r].concat(i)})).getOr([])},iI=function(e,t){return ie(e,(function(e,n){return e.fold((function(){return z.some(n)}),(function(r){return Ul(me(r.getClientRects()),me(n.getClientRects()),(function(e,i){var o=Math.abs(t-e.left),a=Math.abs(t-i.left);return a<=o?n:r})).or(e)}))}),z.none())},oI=function(e,t){return me(t.getClientRects()).bind((function(t){return iI(e,t.left)}))},aI=O(nI,wd.isAbove,-1),sI=O(nI,wd.isBelow,1),uI=function(e,t){return aI(e,t).breakAt.isNone()},cI=function(e,t){return sI(e,t).breakAt.isNone()},lI=O(rI,-1,aI),dI=O(rI,1,sI),fI=function(e){return Hh(e).map((function(t){return[t].concat(sI(e,t).positions)})).getOr([])},AI=function(e){return Rh(e).map((function(t){return aI(e,t).positions.concat(t)})).getOr([])},hI=function(e){var t=function(t){return J(t,(function(t){return t=Ql(t),t.node=e,t}))};if(Vr(e))return t(e.getClientRects());if(Yr(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},pI=function(e){return ce(e,hI)};(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(JT||(JT={}));var mI,gI,vI=function(e,t,n,r){while(r=YA(r,e,Ha,t))if(n(r))return},yI=function(e,t,n,r,i,o){var a=0,s=[],u=function(r){var o,u,l;for(l=pI([r]),-1===e&&(l=l.reverse()),o=0;o<l.length;o++)if(u=l[o],!n(u,c)){if(s.length>0&&t(u,je(s))&&a++,u.line=a,i(u))return!0;s.push(u)}},c=je(o.getClientRects());if(!c)return s;var l=o.getNode();return u(l),vI(e,r,u,l),s},bI=function(e,t){return t.line>e},wI=function(e,t){return t.line===e},xI=O(yI,JT.Up,Kl,ql),CI=O(yI,JT.Down,ql,Kl),SI=function(e,t,n,r){var i,o,a,s,u,c=kh(t),l=[],d=0,f=function(e){return je(e.getClientRects())};1===e?(i=c.next,o=ql,a=Kl,s=wd.after(r)):(i=c.prev,o=Kl,a=ql,s=wd.before(r));var A=f(s);do{if(s.isVisible()&&(u=f(s),!a(u,A))){if(l.length>0&&o(u,je(l))&&d++,u=Ql(u),u.position=s,u.line=d,n(u))return l;l.push(u)}}while(s=i(s));return l},kI=function(e){return function(t){return bI(e,t)}},_I=function(e){return function(t){return wI(e,t)}},BI=ii,DI=YA,MI=function(e,t){return Math.abs(e.left-t)},EI=function(e,t){return Math.abs(e.right-t)},TI=function(e,t){return e>=t.left&&e<=t.right},II=function(e,t){return e>=t.top&&e<=t.bottom},OI=function(e,t){return Ve(e,(function(e,n){var r=Math.min(MI(e,t),EI(e,t)),i=Math.min(MI(n,t),EI(n,t));return TI(t,n)?n:TI(t,e)?e:i===r&&BI(n.node)||i<r?n:e}))},LI=function(e,t,n,r,i){var o=DI(r,e,Ha,t,!i);do{if(!o||n(o))return}while(o=DI(o,e,Ha,t))},FI=function(e,t,n){void 0===n&&(n=!0);var r=[],i=function(e,n){var i=ne(pI([n]),(function(n){return!e(n,t)}));return r=r.concat(i),0===i.length};return r.push(t),LI(JT.Up,e,O(i,Kl),t.node,n),LI(JT.Down,e,O(i,ql),t.node,n),r},PI=function(e){return ne(ve(e.getElementsByTagName("*")),RA)},NI=function(e,t){return{node:e.node,before:MI(e,t)<EI(e,t)}},UI=function(e,t,n){var r=pI(PI(e)),i=ne(r,O(II,n)),o=OI(i,t);if(o){var a=!Wr(o.node)&&!ai(o.node);if(o=OI(FI(e,o,a),t),o&&RA(o.node))return NI(o,t)}return null},HI=function(e,t){e.selection.setRng(t),Qg(e,e.selection.getRng())},RI=function(e,t,n){return z.some(QE(e,t,n))},VI=function(e,t,n,r,i,o){var a=t===xd.Forwards,s=kh(e.getBody()),u=O(dh,a?s.next:s.prev),c=a?r:i;if(!n.collapsed){var l=$l(n);if(o(l))return UE(t,e,l,t===xd.Backwards,!1)}var d=uh(t,e.getBody(),n);if(c(d))return RE(e,d.getNode(!a));var f=eE(a,u(d)),A=Sa(n);if(!f)return A?z.some(n):z.none();if(c(f))return UE(t,e,f.getNode(!a),a,!1);var h=u(f);return h&&c(h)&&fh(f,h)?UE(t,e,h.getNode(!a),a,!1):A?RI(e,f.toRange(),!1):z.none()},QI=function(e,t,n,r,i,o){var a=uh(t,e.getBody(),n),s=je(a.getClientRects()),u=t===JT.Down;if(!s)return z.none();var c,l=u?CI:xI,d=l(e.getBody(),kI(1),a),f=ne(d,_I(1)),A=s.left,h=OI(f,A);if(h&&o(h.node)){var p=Math.abs(A-h.left),m=Math.abs(A-h.right);return UE(t,e,h.node,p<m,!1)}if(c=r(a)?a.getNode():i(a)?a.getNode(!0):$l(n),c){var g=SI(t,e.getBody(),kI(1),c),v=OI(ne(g,_I(1)),A);if(v)return RI(e,v.position.toRange(),!1);if(v=je(ne(g,_I(0))),v)return RI(e,v.position.toRange(),!1)}return 0===f.length?jI(e,u).filter(u?i:r).map((function(t){return QE(e,t.toRange(),!1)})):z.none()},jI=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var i=wd.fromRangeEnd(n),o=sI(r,i);return ge(o.positions)}i=wd.fromRangeStart(n),o=aI(r,i);return me(o.positions)},zI=function(e,t,n){return jI(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))},GI=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},KI=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},qI=function(e,t,n){return BT(t,n).map((function(t){return GI(e,t),n}))},WI=function(e,t,n){var r=e.getBody(),i=wd.fromRangeStart(e.selection.getRng()),o=O(WM,e),a=WT(n,o,r,i);return a.bind((function(n){return qI(e,t,n)}))},$I=function(e,t,n){var r=J(pl(yn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),i=ne(r,e),o=ne(n,e);Z(fe(i,o),O(KI,!1)),Z(fe(o,i),O(KI,!0))},XI=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=wd.fromRangeStart(e.selection.getRng());wd.isTextPosition(n)&&!1===ZM(n)&&(GI(e,DA(t.get(),n)),t.set(null))}},YI=function(e,t,n,r){if(t.selection.isCollapsed()){var i=ne(r,e);Z(i,(function(r){var i=wd.fromRangeStart(t.selection.getRng());UT(e,t.getBody(),i).bind((function(e){return qI(t,n,e)}))}))}},JI=function(e,t,n){return!!$f(e)&&WI(e,t,n).isSome()},ZI=function(e,t,n){return!!$f(t)&&YT(e,t)},eO=function(e){var t=Rc(null),n=O(WM,e);return e.on("NodeChange",(function(r){!$f(e)||Zt.browser.isIE()&&r.initial||($I(n,e.dom,r.parents),XI(e,t),YI(n,e,t,r.parents))})),t},tO=O(ZI,!0),nO=O(ZI,!1),rO=function(e,t,n){if($f(e)){var r=jI(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?wd.fromRangeEnd(n):wd.fromRangeStart(n)}));return UT(O(WM,e),e.getBody(),r).exists((function(t){var r=VT(t);return BT(n,r).exists((function(t){return GI(e,t),!0}))}))}return!1},iO=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},oO=function(e){return Ul(Hh(e),Rh(e),(function(t,n){var r=eE(!0,t),i=eE(!1,n);return Nh(e,r).forall((function(e){return e.isEqual(i)}))})).getOr(!0)},aO=function(e,t){return function(n){return BT(t,n).exists((function(t){return GI(e,t),!0}))}},sO=function(e,t,n,r){var i=e.getBody(),o=O(WM,e);e.undoManager.ignore((function(){e.selection.setRng(iO(n,r)),e.execCommand("Delete"),UT(o,i,wd.fromRangeStart(e.selection.getRng())).map(QT).map(aO(e,t))})),e.nodeChanged()},uO=function(e,t){var n=JA(t,e);return n||e},cO=function(e,t,n,r){var i=uO(e.getBody(),r.container()),o=O(WM,e),a=UT(o,i,r);return a.bind((function(e){return n?e.fold(T(z.some(QT(e))),z.none,T(z.some(VT(e))),z.none):e.fold(z.none,T(z.some(VT(e))),z.none,T(z.some(QT(e))))})).map(aO(e,t)).getOrThunk((function(){var s=Lh(n,i,r),u=s.bind((function(e){return UT(o,i,e)}));return Ul(a,u,(function(){return YM(o,i,r).exists((function(t){return!!oO(t)&&(bw(e,n,yn.fromDom(t)),!0)}))})).orThunk((function(){return u.bind((function(i){return s.map((function(i){return n?sO(e,t,r,i):sO(e,t,i,r),!0}))}))})).getOr(!1)}))},lO=function(e,t,n){if(e.selection.isCollapsed()&&$f(e)){var r=wd.fromRangeStart(e.selection.getRng());return cO(e,t,n,r)}return!1},dO=function(e,t){var n=hb(t,e);return se(n,Go).fold(T(n),(function(e){return n.slice(0,e)}))},fO=function(e){return 1===tr(e).length},AO=function(e,t,n,r){var i=O(NC,t),o=J(ne(r,i),(function(e){return e.dom}));if(0===o.length)bw(t,e,n);else{var a=PC(n.dom,o);t.selection.setRng(a.toRange())}},hO=function(e,t){var n=yn.fromDom(e.getBody()),r=yn.fromDom(e.selection.getStart()),i=ne(dO(n,r),fO);return ge(i).exists((function(n){var r=wd.fromRangeStart(e.selection.getRng());return!(!sE(t,r,n.dom)||UC(n))&&(AO(t,e,n,i),!0)}))},pO=function(e,t){return!!e.selection.isCollapsed()&&hO(e,t)},mO=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),bw(e,t,yn.fromDom(n)),!0},gO=function(e,t){var n=t?tb:nb,r=t?xd.Forwards:xd.Backwards,i=uh(r,e.getBody(),e.selection.getRng());return n(i)?mO(e,t,i.getNode(!t)):z.from(eE(t,i)).filter((function(e){return n(e)&&fh(i,e)})).exists((function(n){return mO(e,t,n.getNode(!t))}))},vO=function(e,t){var n=e.selection.getNode();return!!ai(n)&&mO(e,t,n)},yO=function(e,t){return e.selection.isCollapsed()?gO(e,t):vO(e,t)},bO=function(e){return mo(e,(function(e){return ri(e.dom)||ii(e.dom)})).exists((function(e){return ri(e.dom)}))},wO=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},xO=function(e,t){var n=e||Ko(t)?"margin":"padding",r="rtl"===vi(t,"direction")?"-right":"-left";return n+r},CO=function(e,t,n,r,i,o){var a=xO(n,yn.fromDom(o));if("outdent"===t){var s=Math.max(0,wO(o.style[a])-r);e.setStyle(o,a,s?s+i:"")}else{s=wO(o.style[a])+r+i;e.setStyle(o,a,s)}},SO=function(e,t){return le(t,(function(t){var n=xO(Pf(e),t),r=bi(t,n).map(wO).getOr(0),i=e.dom.getContentEditable(t.dom);return"false"!==i&&r>0}))},kO=function(e){var t=DO(e);return!e.mode.isReadOnly()&&(t.length>1||SO(e,t))},_O=function(e){return Xo(e)||Yo(e)},BO=function(e){return Wn(e).map(_O).getOr(!1)},DO=function(e){return ne(J(e.selection.getSelectedBlocks(),yn.fromDom),(function(e){return!_O(e)&&!BO(e)&&bO(e)}))},MO=function(e,t){var n=e.dom,r=e.selection,i=e.formatter,o=Nf(e),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),u=Pf(e),c=hf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||i.apply("div"),Z(DO(e),(function(e){CO(n,t,u,s,a,e.dom)}))},EO=function(e,t){if(e.selection.isCollapsed()&&kO(e)){var n=e.dom,r=e.selection.getRng(),i=wd.fromRangeStart(r),o=n.getParent(r.startContainer,n.isBlock);if(null!==o&&yb(yn.fromDom(o),i))return MO(e,"outdent"),!0}return!1},TO=function(e,t){e.getDoc().execCommand(t,!1,null)},IO=function(e,t){EO(e)||AT(e,!1)||WE(e,!1)||lO(e,t,!1)||DE(e,!1)||cx(e)||pT(e,!1)||yO(e,!1)||FE(e)||pO(e,!1)||(TO(e,"Delete"),aE(e))},OO=function(e,t){AT(e,!0)||WE(e,!0)||lO(e,t,!0)||DE(e,!0)||cx(e)||pT(e,!0)||yO(e,!0)||FE(e)||pO(e,!0)||TO(e,"ForwardDelete")},LO=function(e,t){e.addCommand("delete",(function(){IO(e,t)})),e.addCommand("forwardDelete",(function(){OO(e,t)}))},FO=5,PO=400,NO=function(e){return void 0===e.touches||1!==e.touches.length?z.none():z.some(e.touches[0])},UO=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>FO||r>FO},HO=function(e){var t=Rc(z.none()),n=Rc(!1),r=nl((function(t){e.fire("longpress",ze(ze({},t),{type:"longpress"})),n.set(!0)}),PO);e.on("touchstart",(function(e){NO(e).each((function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(z.some(o))}))}),!0),e.on("touchmove",(function(i){r.cancel(),NO(i).each((function(r){t.get().each((function(i){UO(r,i)&&(t.set(z.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(i){r.cancel(),"touchcancel"!==i.type&&t.get().filter((function(e){return e.target.isEqualNode(i.target)})).each((function(){n.get()?i.preventDefault():e.fire("tap",ze(ze({},i),{type:"tap"}))}))}),!0)},RO=function(e,t){return e.hasOwnProperty(t.nodeName)},VO=function(e,t){return!!Yr(t)||!!Vr(t)&&(!RO(e,t)&&!lp(t))},QO=function(e,t,n){return Y(Ab(yn.fromDom(n),yn.fromDom(t)),(function(t){return RO(e,t.dom)}))},jO=function(e,t){if(Yr(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||RO(e,t.nextSibling)))return!0}return!1},zO=function(e){var t,n,r,i=e.dom,o=e.selection,a=e.schema,s=a.getBlockElements(),u=o.getStart(),c=e.getBody(),l=hf(e);if(u&&Vr(u)&&l){var d=c.nodeName.toLowerCase();if(a.isValidChild(d,l.toLowerCase())&&!QO(s,c,u)){var f=o.getRng(),A=f.startContainer,h=f.startOffset,p=f.endContainer,m=f.endOffset,g=Jv(e);u=c.firstChild;while(u)if(VO(s,u)){if(jO(s,u)){n=u,u=u.nextSibling,i.remove(n);continue}t||(t=i.create(l,pf(e)),u.parentNode.insertBefore(t,u),r=!0),n=u,u=u.nextSibling,t.appendChild(n)}else t=null,u=u.nextSibling;r&&g&&(f.setStart(A,h),f.setEnd(p,m),o.setRng(f),e.nodeChanged())}}},GO=function(e){hf(e)&&e.on("NodeChange",O(zO,e))},KO=function(e){return bo(yn.fromDom(e.getBody()),"*[data-mce-caret]").fold(T(null),(function(e){return e.dom}))},qO=function(e){e.selection.setRng(e.selection.getRng())},WO=function(e,t){t.hasAttribute("data-mce-caret")&&(Ca(t),qO(e),e.selection.scrollIntoView(t))},$O=function(e,t){var n=KO(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void WO(e,n)):void(ha(n)&&(WO(e,n),e.undoManager.add()))},XO=function(e){e.on("keyup compositionstart",O($O,e))},YO=ii,JO=function(e,t,n){return VI(t,e,n,ob,ab,YO)},ZO=function(e,t,n){var r=function(e){return ob(e)||rb(e)},i=function(e){return ab(e)||ib(e)};return QI(t,e,n,r,i,YO)},eL=function(e){var t=e.dom.create(hf(e));return(!Zt.ie||Zt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},tL=function(e,t,n){var r=kh(e.getBody()),i=O(dh,1===t?r.next:r.prev);if(n.collapsed&&sA(e)){var o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;var a=i(wd.fromRangeStart(n));if(!a){var s=eL(e);1===t?e.$(o).after(s):e.$(o).before(s),e.selection.select(s,!0),e.selection.collapse()}}},nL=function(e,t){var n=t?xd.Forwards:xd.Backwards,r=e.selection.getRng();return JO(n,e,r).orThunk((function(){return tL(e,n,r),z.none()}))},rL=function(e,t){var n=t?1:-1,r=e.selection.getRng();return ZO(n,e,r).orThunk((function(){return tL(e,n,r),z.none()}))},iL=function(e,t){return nL(e,t).exists((function(t){return HI(e,t),!0}))},oL=function(e,t){return rL(e,t).exists((function(t){return HI(e,t),!0}))},aL=function(e,t){var n=t?ab:ob;return zI(e,t,n)},sL=function(e){return X(["figcaption"],Pn(e))},uL=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},cL=function(e,t,n){n?yr(e,t):vr(e,t)},lL=function(e,t){var n=yn.fromTag("br");return cL(e,n,t),uL(n)},dL=function(e,t,n,r){var i=yn.fromTag(n),o=yn.fromTag("br");return li(i,r),yr(i,o),cL(e,i,t),uL(o)},fL=function(e,t,n,r){return""===t?lL(e,r):dL(e,r,t,n)},AL=function(e,t){var n=O(In,t);return mo(yn.fromDom(e.container()),Go,n).filter(sL)},hL=function(e,t,n){return t?cI(e.dom,n):uI(e.dom,n)},pL=function(e,t){var n=yn.fromDom(e.getBody()),r=wd.fromRangeStart(e.selection.getRng()),i=hf(e),o=pf(e);return AL(r,n).exists((function(){if(hL(n,t,r)){var a=fL(n,i,o,t);return e.selection.setRng(a),!0}return!1}))},mL=function(e,t){return!!e.selection.isCollapsed()&&pL(e,t)},gL=function(e){return J(e,(function(e){return ze({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:D},e)}))},vL=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},yL=function(e,t){return ce(gL(e),(function(e){return vL(e,t)?[e]:[]}))},bL=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},wL=function(e,t){return ae(yL(e,t),(function(e){return e.action()}))},xL=function(e,t){var n=t?xd.Forwards:xd.Backwards,r=e.selection.getRng();return VI(e,n,r,tb,nb,ai).exists((function(t){return HI(e,t),!0}))},CL=function(e,t){var n=t?1:-1,r=e.selection.getRng();return QI(e,n,r,tb,nb,ai).exists((function(t){return HI(e,t),!0}))},SL=function(e,t){var n=t?nb:tb;return zI(e,t,n)},kL=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},_L=function(e,t){return ce(t,(function(t){var n=kL(Ql(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))},BL=function(e,t,n){return ie(e,(function(e,r){return e.fold((function(){return z.some(r)}),(function(e){var i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),o=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return z.some(o<i?r:e)}))}),z.none())},DL=function(e,t,n,r,i){var o=pl(yn.fromDom(n),"td,th,caption").map((function(e){return e.dom})),a=ne(_L(e,o),(function(e){return t(e,i)}));return BL(a,r,i).map((function(e){return e.cell}))},ML=function(e){return e.bottom},EL=function(e){return e.top},TL=function(e,t){return e.y<t},IL=function(e,t){return e.y>t},OL=O(DL,ML,TL),LL=O(DL,EL,IL),FL=function(e,t){return me(t.getClientRects()).bind((function(t){return OL(e,t.left,t.top)})).bind((function(e){return oI(AI(e),t)}))},PL=function(e,t){return ge(t.getClientRects()).bind((function(t){return LL(e,t.left,t.top)})).bind((function(e){return oI(fI(e),t)}))},NL=function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))},UL=function(e){return e.breakType===YD.Wrap&&0===e.positions.length},HL=function(e){return e.breakType===YD.Br&&1===e.positions.length},RL=function(e,t,n){var r=e(t,n);return UL(r)||!ti(n.getNode())&&HL(r)?!NL(e,t,r):r.breakAt.isNone()},VL=O(RL,aI),QL=O(RL,sI),jL=function(e,t,n){var r=wd.fromRangeStart(t);return Ph(!e,n).exists((function(e){return e.isEqual(r)}))},zL=function(e,t,n,r){var i=e.selection.getRng(),o=t?1:-1;return!(!UA()||!jL(t,i,n))&&(UE(o,e,n,!t,!1).each((function(t){HI(e,t)})),!0)},GL=function(e,t,n){return FL(t,n).orThunk((function(){return me(n.getClientRects()).bind((function(n){return iI(lI(e,wd.before(t)),n.left)}))})).getOr(wd.before(t))},KL=function(e,t,n){return PL(t,n).orThunk((function(){return me(n.getClientRects()).bind((function(n){return iI(dI(e,wd.after(t)),n.left)}))})).getOr(wd.after(t))},qL=function(e,t){var n=t.getNode(e);return Vr(n)&&"TABLE"===n.nodeName?z.some(n):z.none()},WL=function(e,t,n,r){var i=hf(t);i?t.undoManager.transact((function(){var r=yn.fromTag(i);li(r,pf(t)),yr(r,yn.fromTag("br")),e?gr(yn.fromDom(n),r):mr(yn.fromDom(n),r);var o=t.dom.createRng();o.setStart(r.dom,0),o.setEnd(r.dom,0),HI(t,o)})):HI(t,r.toRange())},$L=function(e,t,n){var r=qL(!!t,n),i=!1===t;r.fold((function(){return HI(e,n.toRange())}),(function(r){return Ph(i,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return HI(e,n.toRange())}),(function(i){return WL(t,e,r,n)}))}))},XL=function(e,t,n,r){var i=e.selection.getRng(),o=wd.fromRangeStart(i),a=e.getBody();if(!t&&VL(r,o)){var s=GL(a,n,o);return $L(e,t,s),!0}if(t&&QL(r,o)){s=KL(a,n,o);return $L(e,t,s),!0}return!1},YL=function(e,t,n){return z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return z.from(e.dom.getParent(r,"table")).map((function(i){return n(e,t,i,r)}))})).getOr(!1)},JL=function(e,t){return YL(e,t,zL)},ZL=function(e,t){return YL(e,t,XL)},eF=function(e,t,n){var r=zt().os;wL([{keyCode:Vm.RIGHT,action:bL(iL,e,!0)},{keyCode:Vm.LEFT,action:bL(iL,e,!1)},{keyCode:Vm.UP,action:bL(oL,e,!1)},{keyCode:Vm.DOWN,action:bL(oL,e,!0)},{keyCode:Vm.RIGHT,action:bL(JL,e,!0)},{keyCode:Vm.LEFT,action:bL(JL,e,!1)},{keyCode:Vm.UP,action:bL(ZL,e,!1)},{keyCode:Vm.DOWN,action:bL(ZL,e,!0)},{keyCode:Vm.RIGHT,action:bL(xL,e,!0)},{keyCode:Vm.LEFT,action:bL(xL,e,!1)},{keyCode:Vm.UP,action:bL(CL,e,!1)},{keyCode:Vm.DOWN,action:bL(CL,e,!0)},{keyCode:Vm.RIGHT,action:bL(JI,e,t,!0)},{keyCode:Vm.LEFT,action:bL(JI,e,t,!1)},{keyCode:Vm.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:bL(tO,e,t)},{keyCode:Vm.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:bL(nO,e,t)},{keyCode:Vm.UP,action:bL(mL,e,!1)},{keyCode:Vm.DOWN,action:bL(mL,e,!0)}],n).each((function(e){n.preventDefault()}))},tF=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&eF(e,t,n)}))},nF=function(e,t,n){wL([{keyCode:Vm.BACKSPACE,action:bL(EO,e,!1)},{keyCode:Vm.BACKSPACE,action:bL(AT,e,!1)},{keyCode:Vm.DELETE,action:bL(AT,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(WE,e,!1)},{keyCode:Vm.DELETE,action:bL(WE,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(lO,e,t,!1)},{keyCode:Vm.DELETE,action:bL(lO,e,t,!0)},{keyCode:Vm.BACKSPACE,action:bL(cx,e,!1)},{keyCode:Vm.DELETE,action:bL(cx,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(pT,e,!1)},{keyCode:Vm.DELETE,action:bL(pT,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(yO,e,!1)},{keyCode:Vm.DELETE,action:bL(yO,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(FE,e,!1)},{keyCode:Vm.DELETE,action:bL(FE,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(DE,e,!1)},{keyCode:Vm.DELETE,action:bL(DE,e,!0)},{keyCode:Vm.BACKSPACE,action:bL(pO,e,!1)},{keyCode:Vm.DELETE,action:bL(pO,e,!0)}],n).each((function(e){n.preventDefault()}))},rF=function(e,t){wL([{keyCode:Vm.BACKSPACE,action:bL(fT,e)},{keyCode:Vm.DELETE,action:bL(fT,e)}],t)},iF=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&nF(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&rF(e,t)}))},oF=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},aF=function(e,t){var n,r=t,i=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=oF(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(i.doc.createTextNode(ra),t.firstChild)}var s=i.createRng();if(t.normalize(),t.hasChildNodes()){var u=new Lo(t,t);while(n=u.current()){if(Yr(n)){s.setStart(n,0),s.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=u.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else ti(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Qg(e,s)}},sF=function(e,t){var n,r,i=e.getRoot();n=t;while(n!==i&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},uF=function(e){return z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},cF=function(e){return uF(e).fold(T(""),(function(e){return e.nodeName.toUpperCase()}))},lF=function(e){return uF(e).filter((function(e){return Yo(yn.fromDom(e))})).isSome()},dF=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},fF=function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},AF=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},hF=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},pF=function(e){return hF(e)&&hF(e.parentNode)},mF=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},gF=function(e,t,n){var r=e[n?"firstChild":"lastChild"];while(r){if(Vr(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===t},vF=function(e,t,n,r,i){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){pF(n)&&(i="LI");var s=i?t(i):o.create("BR");if(gF(n,r,!0)&&gF(n,r,!1))if(AF(n,"LI")){var u=mF(n);o.insertAfter(s,u),fF(n)?o.remove(u):o.remove(n)}else o.replace(s,n);else if(gF(n,r,!0))AF(n,"LI")?(o.insertAfter(s,mF(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n),o.remove(r);else if(gF(n,r,!1))o.insertAfter(s,mF(n)),o.remove(r);else{n=mF(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var l=c.extractContents();"LI"===i&&dF(l,"LI")?(s=l.firstChild,o.insertAfter(l,n)):(o.insertAfter(l,n),o.insertAfter(s,n)),o.remove(r)}aF(e,s)}},yF=function(e){Z(hl(yn.fromDom(e),Vn),(function(e){var t=e.dom;t.nodeValue=ua(t.nodeValue)}))},bF=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},wF=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},xF=function(e){e.innerHTML='<br data-mce-bogus="1">'},CF=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},SF=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},kF=function(e,t,n){var r,i=n,o=[];if(i){while(i=i.firstChild){if(e.isBlock(i))return;Vr(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}r=o.length;while(r--)i=o[r],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue||bF(e,i))&&e.remove(i)}},_F=function(e,t,n){return!1===Yr(t)?n:e?1===n&&t.data.charAt(n-1)===aa?0:n:n===t.data.length-1&&t.data.charAt(n)===aa?t.data.length:n},BF=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,_F(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,_F(!1,e.endContainer,e.endOffset)),t},DF=function(e){do{Yr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},MF=function(e,t){var n,r,i=e.getRoot();n=t;while(n!==i&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},EF=function(e,t,n){var r=e.dom;z.from(n.style).map(r.parseStyle).each((function(e){var n=wi(yn.fromDom(t)),i=ze(ze({},n),e);r.setStyles(t,i)}));var i=z.from(n.class).map((function(e){return e.split(/\s+/)})),o=z.from(t.className).map((function(e){return ne(e.split(/\s+/),(function(e){return""!==e}))}));Ul(i,o,(function(e,n){var i=ne(n,(function(t){return!X(e,t)})),o=Ke(e,i);r.setAttrib(t,"class",o.join(" "))}));var a=["style","class"],s=De(n,(function(e,t){return!X(a,t)}));r.setAttribs(t,s)},TF=function(e,t){var n=hf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=pf(e);EF(e,t,r)}},IF=function(e,t,n,r,i){var o,a,s,u,c,l,d=t||"P",f=e.dom,A=MF(f,r);if(a=f.getParent(r,f.isBlock),!a||!SF(f,a)){if(a=a||A,l=a===e.getBody()||wF(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=f.create(d),TF(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;u=r;while(u.parentNode!==a)u=u.parentNode;while(u&&!f.isBlock(u))s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,d.toLowerCase())){o=f.create(d),TF(e,o),s.parentNode.insertBefore(o,s),u=s;while(u&&!f.isBlock(u))c=u.nextSibling,o.appendChild(u),u=c;n.setStart(r,i),n.setEnd(r,i)}}return r},OF=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},LF=function(e,t){var n,r,i,o,a,s,u,c,l,d,f=e.dom,A=e.schema,h=A.getNonEmptyElements(),p=e.selection.getRng(),m=function(t){var n,i,a,s=r,u=A.getTextInlineElements();if(n=t||"TABLE"===c||"HR"===c?f.create(t||l):o.cloneNode(!1),a=n,!1===vf(e))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do{if(u[s.nodeName]){if(Qh(s)||lp(s))continue;i=s.cloneNode(!1),f.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(a=i,n.appendChild(i))}}while((s=s.parentNode)&&s!==w);return TF(e,n),xF(a),n},g=function(e){var t,n,a=_F(e,r,i);if(Yr(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===o&&d&&!e)return!0;if(e&&Vr(r)&&r===o.firstChild)return!0;if(CF(r,"TABLE")||CF(r,"HR"))return d&&!e||!d&&e;var s=new Lo(r,o);Yr(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());while(t=s.current()){if(Vr(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(Yr(t)&&!Va(t.nodeValue))return!1;e?s.prev():s.next()}return!0},v=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?m(l):m(),yf(e)&&SF(f,u)&&f.isEmpty(o)?a=f.split(u,o):f.insertAfter(a,o),aF(e,a)};sg(f,p).each((function(e){p.setStart(e.startContainer,e.startOffset),p.setEnd(e.endContainer,e.endOffset)})),r=p.startContainer,i=p.startOffset,l=hf(e);var y=!(!t||!t.shiftKey),b=!(!t||!t.ctrlKey);Vr(r)&&r.hasChildNodes()&&(d=i>r.childNodes.length-1,r=r.childNodes[Math.min(i,r.childNodes.length-1)]||r,i=d&&Yr(r)?r.nodeValue.length:0);var w=MF(f,r);if(w){(l&&!y||!l&&y)&&(r=IF(e,l,p,r,i)),o=f.getParent(r,f.isBlock),u=o?f.getParent(o.parentNode,f.isBlock):null,c=o?o.nodeName.toUpperCase():"";var x=u?u.nodeName.toUpperCase():"";"LI"!==x||b||(o=u,u=u.parentNode,c=x),/^(LI|DT|DD)$/.test(c)&&f.isEmpty(o)?vF(e,m,u,o,l):l&&o===e.getBody()||(l=l||"P",da(o)?(a=Ca(o),f.isEmpty(o)&&xF(o),TF(e,a),aF(e,a)):g()?v():g(!0)?(a=o.parentNode.insertBefore(m(),o),aF(e,CF(o,"HR")?a:o)):(n=BF(p).cloneRange(),n.setEndAfter(o),s=n.extractContents(),yF(s),DF(s),a=s.firstChild,f.insertAfter(s,o),kF(f,h,a),OF(f,o),f.isEmpty(o)&&xF(o),a.normalize(),f.isEmpty(a)?(f.remove(a),v()):(TF(e,a),aF(e,a))),f.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},FF=function(e,t,n){var r,i=new Lo(t,n),o=e.getNonEmptyElements();while(r=i.next())if(o[r.nodeName.toLowerCase()]||r.length>0)return!0},PF=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Qg(e,r)},NF=function(e,t){var n,r,i=e.selection,o=e.dom,a=i.getRng();sg(o,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=o.getParent(u,o.isBlock),d=l?o.getParent(l.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",A=!(!t||!t.ctrlKey);"LI"!==f||A||(l=d),u&&3===u.nodeType&&s>=u.nodeValue.length&&(FF(e.schema,u,l)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=o.create("br"),_d(o,a,n),PF(e,n,r),e.undoManager.add()},UF=function(e,t){var n=yn.fromTag("br");mr(yn.fromDom(t),n),e.undoManager.add()},HF=function(e,t){VF(e.getBody(),t)||gr(yn.fromDom(t),yn.fromTag("br"));var n=yn.fromTag("br");gr(yn.fromDom(t),n),PF(e,n.dom,!1),e.undoManager.add()},RF=function(e){return ti(e.getNode())},VF=function(e,t){return!!RF(wd.after(t))||Nh(e,wd.after(t)).map((function(e){return ti(e.getNode())})).getOr(!1)},QF=function(e){return e&&"A"===e.nodeName&&"href"in e},jF=function(e){return e.fold(U,QF,QF,U)},zF=function(e){var t=O(WM,e),n=wd.fromRangeStart(e.selection.getRng());return UT(t,e.getBody(),n).filter(jF)},GF=function(e,t){t.fold(D,O(UF,e),O(HF,e),D)},KF=function(e,t){var n=zF(e);n.isSome()?n.each(O(GF,e)):NF(e,t)},qF=function(e,t){return uF(e).filter((function(e){return t.length>0&&Dn(yn.fromDom(e),t)})).isSome()},WF=function(e){return qF(e,mf(e))},$F=function(e){return qF(e,gf(e))},XF=Ki.generate([{br:[]},{block:[]},{none:[]}]),YF=function(e,t){return $F(e)},JF=function(e){return function(t,n){var r=""===hf(t);return r===e}},ZF=function(e){return function(t,n){return lF(t)===e}},eP=function(e,t){return function(n,r){var i=cF(n)===e.toUpperCase();return i===t}},tP=function(e){return eP("pre",e)},nP=function(){return eP("summary",!0)},rP=function(e){return function(t,n){return Af(t)===e}},iP=function(e,t){return WF(e)},oP=function(e,t){return t},aP=function(e){var t=hf(e),n=sF(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},sP=function(e,t){return function(n,r){var i=ie(e,(function(e,t){return e&&t(n,r)}),!0);return i?z.some(t):z.none()}},uP=function(e,t){return DT([sP([YF],XF.none()),sP([nP()],XF.br()),sP([tP(!0),rP(!1),oP],XF.br()),sP([tP(!0),rP(!1)],XF.block()),sP([tP(!0),rP(!0),oP],XF.block()),sP([tP(!0),rP(!0)],XF.br()),sP([ZF(!0),oP],XF.br()),sP([ZF(!0)],XF.block()),sP([JF(!0),oP,aP],XF.block()),sP([JF(!0)],XF.br()),sP([iP],XF.br()),sP([JF(!1),oP],XF.br()),sP([aP],XF.block())],[e,!(!t||!t.shiftKey)]).getOr(XF.none())},cP=function(e,t){uP(e,t).fold((function(){KF(e,t)}),(function(){LF(e,t)}),D)},lP=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),Gk(e.undoManager),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),cP(e,t)})))},dP=function(e){e.on("keydown",(function(t){t.keyCode===Vm.ENTER&&lP(e,t)}))},fP=function(e,t,n){wL([{keyCode:Vm.END,action:bL(aL,e,!0)},{keyCode:Vm.HOME,action:bL(aL,e,!1)},{keyCode:Vm.END,action:bL(SL,e,!0)},{keyCode:Vm.HOME,action:bL(SL,e,!1)},{keyCode:Vm.END,action:bL(rO,e,!0,t)},{keyCode:Vm.HOME,action:bL(rO,e,!1,t)}],n).each((function(e){n.preventDefault()}))},AP=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&fP(e,t,n)}))},hP=zt().browser,pP=function(e){var t=tl((function(){e.composing||Xb(e)}),0);hP.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))},mP=function(e){pP(e),e.on("input",(function(t){!1===t.isComposing&&Xb(e)}))},gP=zt(),vP=function(e,t,n){wL([{keyCode:Vm.PAGE_UP,action:bL(rO,e,!1,t)},{keyCode:Vm.PAGE_DOWN,action:bL(rO,e,!0,t)}],n)},yP=function(e){return e.stopImmediatePropagation()},bP=function(e){return e.keyCode===Vm.PAGE_UP||e.keyCode===Vm.PAGE_DOWN},wP=function(e,t,n){n&&!e.get()?t.on("NodeChange",yP,!0):!n&&e.get()&&t.off("NodeChange",yP),e.set(n)},xP=function(e,t){if(!gP.os.isOSX()){var n=Rc(!1);e.on("keydown",(function(t){bP(t)&&wP(n,e,!0)})),e.on("keyup",(function(r){!1===r.isDefaultPrevented()&&vP(e,t,r),bP(r)&&n.get()&&(wP(n,e,!1),e.nodeChanged())}))}},CP=function(e,t){var n=t.container(),r=t.offset();return Yr(n)?(n.insertData(r,e),z.some(wd(n,r+e.length))):ch(t).map((function(n){var r=yn.fromText(e);return t.isAtEnd()?gr(n,r):mr(n,r),wd(r.dom,e.length)}))},SP=O(CP,ra),kP=O(CP," "),_P=function(e){return function(t){return t.fold((function(t){return Uh(e.dom,wd.before(t))}),(function(e){return Hh(e)}),(function(e){return Rh(e)}),(function(t){return Nh(e.dom,wd.after(t))}))}},BP=function(e,t){return function(n){return Ub(e,n)?SP(t):kP(t)}},DP=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},MP=function(e){var t=wd.fromRangeStart(e.selection.getRng()),n=yn.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=O(WM,e),i=wd.fromRangeStart(e.selection.getRng());return UT(r,e.getBody(),i).bind(_P(n)).bind(BP(n,t)).exists(DP(e))}return!1},EP=function(e,t){wL([{keyCode:Vm.SPACEBAR,action:bL(MP,e)}],t).each((function(e){t.preventDefault()}))},TP=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&EP(e,t)}))},IP=function(e){var t=eO(e);return XO(e),tF(e,t),iF(e,t),dP(e),TP(e),mP(e),AP(e,t),xP(e,t),t},OP=function(e){return s_(e)?Rc(null):IP(e)},LP=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&$m(i,t)||e.fire("SelectionChange"),t=i})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Zt.range&&e.selection.isCollapsed()||Am(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&Am(e)&&("IMG"===e.selection.getNode().nodeName?Eo.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,i=this.editor.selection;this.editor.initialized&&i&&!cA(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=i.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--)if(n[t]!==this.lastPath[t])break;if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),FP=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))},PP=function(e){e.parser.addNodeFilter("details",(function(e){Z(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){Z(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",g(t)?t:null),e.attr("data-mce-open",null)}))}))},NP=function(e){FP(e),PP(e)},UP=function(e){return Vr(e)&&$o(yn.fromDom(e))},HP=function(e){var t=e.selection.getRng(),n=wd.fromRangeStart(t),r=wd.fromRangeEnd(t);if(wd.isElementPosition(n)){var i=n.container();UP(i)&&Hh(i).each((function(e){return t.setStart(e.container(),e.offset())}))}if(wd.isElementPosition(r)){i=n.container();UP(i)&&Rh(i).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(fx(t))},RP=function(e){e.on("click",(function(t){t.detail>=3&&HP(e)}))},VP=function(){var e=Rc(z.none()),t=function(){return e.set(z.none())},n=function(t){return e.set(z.some(t))},r=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:i}},QP=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,i=n.defaultView;return{top:t.top+i.pageYOffset-r.clientTop,left:t.left+i.pageXOffset-r.clientLeft}},jP=function(e){return e.inline?QP(e.getBody()):{left:0,top:0}},zP=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},GP=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},KP=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=QP(e.getContentAreaContainer()),r=GP(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},qP=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},WP=function(e,t){return qP(jP(e),zP(e),KP(e,t))},$P=ii,XP=ri,YP=function(e,t){return $P(t)&&t!==e},JP=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!$P(t)},ZP=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},eN=function(e,t,n,r){var i=e.dom,o=t.cloneNode(!0);i.setStyles(o,{width:n,height:r}),i.setAttrib(o,"data-mce-selected",null);var a=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(o,{margin:0,boxSizing:"border-box"}),a.appendChild(o),a},tN=function(e,t){e.parentNode!==t&&t.appendChild(e)},nN=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},rN=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},iN=function(e){return 0===e.button},oN=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},aN=function(e,t){return function(n){if(iN(n)){var r=ae(t.dom.getParents(n.target),Zl($P,XP)).getOr(null);if(YP(t.getBody(),r)){var i=t.dom.getPos(r),o=t.getBody(),a=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?o.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:a.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:eN(t,r,r.offsetWidth,r.offsetHeight)})}}}},sN=function(e,t){var n=Eo.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&i>10){var o=t.fire("dragstart",{target:e.element});if(o.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=oN(e,WP(t,r));tN(e.ghost,t.getBody()),nN(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}))}},uN=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},cN=function(e,t){return function(n){e.on((function(e){if(e.dragging&&JP(t,uN(t.selection),e.element)){var r=ZP(e.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact((function(){rN(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}})),dN(e)}},lN=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")})),dN(e)}},dN=function(e){e.on((function(e){rN(e.ghost)})),e.clear()},fN=function(e){var t=VP(),n=Tc.DOM,r=document,i=aN(t,e),o=sN(t,e),a=cN(t,e),s=lN(t,e);e.on("mousedown",i),e.on("mousemove",o),e.on("mouseup",a),n.bind(r,"mousemove",o),n.bind(r,"mouseup",s),e.on("remove",(function(){n.unbind(r,"mousemove",o),n.unbind(r,"mouseup",s)}))},AN=function(e){e.on("drop",(function(t){var n="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;($P(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()}))},hN=function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;n&&(X(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&eM(e,"Dropped file type is not supported"))}},n=function(n){Uv(e,n.target)&&t(n)},r=function(){var r=Tc.DOM,i=e.dom,o=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Z(s,(function(e){r.bind(o,e,n),i.bind(a,e,t)})),e.on("remove",(function(){Z(s,(function(e){r.unbind(o,e,n),i.unbind(a,e,t)}))}))};e.on("init",(function(){Eo.setEditorTimeout(e,r,0)}))},pN=function(e){fN(e),AN(e),hA(e)&&hN(e)},mN=function(e){var t=tl((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=QE(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))},gN=function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(ai(n)){var r=Bm(e.getBody(),n),i=ii(r)?r:n;e.selection.getNode()!==i&&RE(e,i).each((function(t){return e.selection.setRng(t)}))}}))}))},vN=ri,yN=ii,bN=function(e,t){return Bm(e.getBody(),t)},wN=function(e){var t,n=e.selection,r=e.dom,i=r.isBlock,o=e.getBody(),a=NA(e,o,i,(function(){return Jv(e)})),s="sel-"+r.uniqueId(),u="data-mce-selected",c=function(e){return r.hasClass(e,"mce-offscreen-selection")},l=function(e){return e!==o&&(yN(e)||ai(e))&&r.isChildOf(e,o)},d=function(e){return ob(e)||ab(e)||tb(e)||nb(e)},f=function(){var e=r.get(s);return e?e.getElementsByTagName("*")[0]:e},A=function(e){e&&n.setRng(e)},h=n.getRng,p=function(t,r,i,o){void 0===o&&(o=!0);var s=e.fire("ShowCaret",{target:r,direction:t,before:i});return s.isDefaultPrevented()?null:(o&&n.scrollIntoView(r,-1===t),a.show(i,r))},m=function(e){e.hasAttribute("data-mce-caret")&&(Ca(e),A(h()),n.scrollIntoView(e))},g=function(){e.on("mouseup",(function(t){var n=h();n.collapsed&&jD(e,t.clientX,t.clientY)&&VE(e,n,!1).each(A)})),e.on("click",(function(t){var i=bN(e,t.target);i&&(yN(i)&&(t.preventDefault(),e.focus()),vN(i)&&r.isChildOf(i,n.getNode())&&S())})),e.on("blur NewBlock",S),e.on("ResizeWindow FullscreenStateChanged",a.reposition);var s=function(e){var t=kh(e);if(!e.firstChild)return!1;var n=wd.before(e.firstChild),r=t.next(n);return r&&!d(r)},u=function(e,t){var n=r.getParent(e,i),o=r.getParent(t,i);return n===o},m=function(t,n){var o=r.getParent(t,i),a=r.getParent(n,i);return!(!o||t===a||!r.isChildOf(o,a)||!1!==yN(bN(e,o)))||o&&!u(o,a)&&s(o)};e.on("tap",(function(t){var n=t.target,r=bN(e,n);yN(r)?(t.preventDefault(),RE(e,r).each(C)):l(n)&&RE(e,n).each(C)}),!0),e.on("mousedown",(function(t){var i=t.target;if((i===o||"HTML"===i.nodeName||r.isChildOf(i,o))&&!1!==jD(e,t.clientX,t.clientY)){var a=bN(e,i);if(a)yN(a)?(t.preventDefault(),RE(e,a).each(C)):(S(),vN(a)&&t.shiftKey||Dm(t.clientX,t.clientY,n.getRng())||(_(),n.placeCaretAt(t.clientX,t.clientY)));else if(l(i))RE(e,i).each(C);else if(!1===RA(i)){S(),_();var s=UI(o,t.clientX,t.clientY);if(s&&!m(i,s.node)){t.preventDefault();var u=p(1,s.node,s.before,!1);e.getBody().focus(),A(u)}}}})),e.on("keypress",(function(e){Vm.modifierPressed(e)||yN(n.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=b(e.range);var t=C(e.range,e.forward);t&&(e.range=t)}));var g=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",(function(e){var t=e.range,n=t.startContainer.parentNode;y(t)||g(n)||_(),c(n)||S()})),e.on("copy",(function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Zt.ie){var n=f();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText||n.innerText))}})),pN(e),mN(e),gN(e)},v=function(e){return Aa(e)||ba(e)||wa(e)},y=function(e){return v(e.startContainer)||v(e.endContainer)},b=function(t){var n=e.schema.getShortEndedElements(),i=r.createRng(),o=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset;return Ie(n,o.nodeName.toLowerCase())?0===a?i.setStartBefore(o):i.setStartAfter(o):i.setStart(o,a),Ie(n,s.nodeName.toLowerCase())?0===u?i.setEndBefore(s):i.setEndAfter(s):i.setEnd(s,u),i},w=function(t,i,o){var a=e.$,u=bo(yn.fromDom(e.getBody()),"#"+s).fold((function(){return a([])}),(function(e){return a([e.dom])}));0===u.length&&(u=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s),u.appendTo(e.getBody()));var c=r.createRng();i===o&&Zt.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(i),c.setStartAfter(u[0].firstChild.firstChild),c.setEndAfter(i)):(u.empty().append(ra).append(i).append(ra),c.setStart(u[0].firstChild,1),c.setEnd(u[0].lastChild,0)),u.css({top:r.getPos(t,e.getBody()).y}),u[0].focus();var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c},x=function(n){var i=n.cloneNode(!0),o=e.fire("ObjectSelected",{target:n,targetClone:i});if(o.isDefaultPrevented())return null;var a=w(n,o.targetClone,i),s=yn.fromDom(n);return Z(pl(yn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){In(s,e)||hi(e,u)})),r.getAttrib(n,u)||n.setAttribute(u,"1"),t=n,_(),a},C=function(e,t){if(!e)return null;if(e.collapsed){if(!y(e)){var n=t?1:-1,i=uh(n,o,e),a=i.getNode(!t);if(RA(a))return p(n,a,!!t&&!i.isAtEnd(),!1);var s=i.getNode(t);if(RA(s))return p(n,s,!t&&!i.isAtEnd(),!1)}return null}var u=e.startContainer,c=e.startOffset,d=e.endOffset;if(3===u.nodeType&&0===c&&yN(u.parentNode)&&(u=u.parentNode,c=r.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(d===c+1&&u===e.endContainer){var f=u.childNodes[c];if(l(f))return x(f)}return null},S=function(){t&&t.removeAttribute(u),bo(yn.fromDom(e.getBody()),"#"+s).each(Sr),t=null},k=function(){a.destroy(),t=null},_=function(){a.hide()};return Zt.ceFalse&&!s_(e)&&g(),{showCaret:p,showBlockCaretContainer:m,hideFakeCaret:_,destroy:k}},xN=function(e){var t=An.each,n=Vm.BACKSPACE,r=Vm.DELETE,i=e.dom,o=e.selection,a=e.parser,s=Zt.gecko,u=Zt.ie,c=Zt.webkit,l="data:text/mce-internal,",d=u?"Text":"URL",f=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},A=function(e){return e.isDefaultPrevented()},h=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&o.select(t.target),n=e.selection.getContent(),n.length>0&&(r=l+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},p=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d),t&&t.indexOf(l)>=0)?(t=t.substr(l.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},m=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},g=function(){var t=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),o.serializer.serialize(t,{format:"html"})},a=function(n){var r=t(n),o=i.createRng();o.selectNode(e.getBody());var a=t(o);return r===a};e.on("keydown",(function(t){var o,s,u=t.keyCode;if(!A(t)&&(u===r||u===n)){if(o=e.selection.isCollapsed(),s=e.getBody(),o&&!i.isEmpty(s))return;if(!o&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&i.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}}))},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},y=function(){e.inline||i.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=o.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Aa(n.startContainer))return;o.placeCaretAt(t.clientX,t.clientY)}else o.setRng(n)}))},b=function(){e.on("keydown",(function(t){if(!A(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){var r=o.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return i.remove(r),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(i.remove(a),t.preventDefault())}}}))},w=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!A(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Eo.setEditorTimeout(e,(function(){n.focus()}))}}))},x=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),o.select(n))}))},C=function(){var n=function(){var n=i.getAttribs(o.getStart().cloneNode(!1));return function(){var r=o.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,(function(e){r.setAttributeNode(e.cloneNode(!0))})))}},r=function(){return!o.isCollapsed()&&i.getParent(o.getStart(),i.isBlock)!==i.getParent(o.getEnd(),i.isBlock)};e.on("keypress",(function(t){var i;if(!A(t)&&(8===t.keyCode||46===t.keyCode)&&r())return i=n(),e.getDoc().execCommand("delete",!1,null),i(),t.preventDefault(),!1})),i.bind(e.getDoc(),"cut",(function(t){var i;!A(t)&&r()&&(i=n(),Eo.setEditorTimeout(e,(function(){i()})))}))},S=function(){e.on("keydown",(function(e){if(!A(e)&&e.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){var t=o.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},k=function(){e.on("keydown",(function(t){var n,r;if(!A(t)&&t.keyCode===Vm.BACKSPACE){n=o.getRng();var a=n.startContainer,s=n.startOffset,u=i.getRoot();if(r=a,n.collapsed&&0===s){while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==u)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=i.createRng(),n.setStart(a,0),n.setEnd(a,0),o.setRng(n))}}}))},_=function(){var t=function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),Qf(e)||f("enableObjectResizing",!1)};lA(e)||e.on("BeforeExecCommand mousedown",t)},B=function(){var n=function(){t(i.select("a"),(function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){while(t&&!i.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},M=function(){hf(e)&&e.on("init",(function(){f("DefaultParagraphSeparator",hf(e))}))},E=function(){e.on("keyup focusin mouseup",(function(e){Vm.modifierPressed(e)||o.normalize()}),!0)},T=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},I=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))},O=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Zt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},L=function(){Zt.mac&&e.on("keydown",(function(t){if(Vm.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();var n=e.selection.getSel();n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},F=function(){f("AutoUrlDetect",!1)},P=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},N=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},U=function(){a.addNodeFilter("br",(function(e){var t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},H=function(){e.on("dragstart",(function(e){h(e)})),e.on("drop",(function(t){if(!A(t)){var n=p(t);if(n&&n.id!==e.id){t.preventDefault();var r=Wm(t.x,t.y,e.getDoc());o.setRng(r),m(n.html,!0)}}}))},R=D,V=function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount},Q=function(){c&&(x(),N(),v(),Zt.iOS&&(I(),O(),P())),s&&(w(),_(),T(),L())},j=function(){k(),g(),Zt.windowsPhone||E(),c&&(y(),x(),M(),N(),S(),U(),Zt.iOS?(I(),O(),P()):v()),Zt.ie>=11&&(O(),S()),Zt.ie&&(v(),F(),H()),s&&(b(),w(),C(),_(),B(),T(),L(),S())};return s_(e)?Q():j(),{refreshContentEditable:R,isHidden:V}},CN=Tc.DOM,SN=function(e,t){var n=yn.fromDom(e.getBody()),r=dr(lr(n)),i=yn.fromTag("style");ci(i,"type","text/css"),yr(i,yn.fromText(t)),yr(r,i),e.on("remove",(function(){Sr(i)}))},kN=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},_N=function(e){return De(e,(function(e){return!1===x(e)}))},BN=function(e){var t=e.settings,n=e.editorUpload.blobCache;return _N({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:kN(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},DN=function(e){var t=e.settings;return ze(ze({},BN(e)),_N({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},MN=function(e){var t=EB(BN(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){var r,i,o=t.length,a=e.dom,s="data-mce-"+n;while(o--)if(r=t[o],i=r.attr(n),i&&!r.attr(s)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===n?(i=a.serializeStyle(a.parseStyle(i),r.name),i.length||(i=null),r.attr(s,i),r.attr(n,i)):"tabindex"===n?(r.attr(s,i),r.attr(n,null)):r.attr(s,e.convertURL(i,n,r.name))}})),t.addNodeFilter("script",(function(e){var t=e.length;while(t--){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var n=t.length;while(n--){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var n=t.length,r=e.schema.getNonEmptyElements();while(n--){var i=t[n];i.isEmpty(r)&&0===i.getAll("br").length&&(i.append(new py("br",1)).shortEnded=!0)}})),t},EN=function(e){e.settings.auto_focus&&Eo.setEditorTimeout(e,(function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()}),100)},TN=function(e){var t=e.dom.getRoot();e.inline||Am(e)&&e.selection.getStart(!0)!==t||Hh(t).each((function(t){var n=t.getNode(),r=Wr(n)?Hh(n).getOr(t):t;Zt.browser.isIE()?Sv(e,r.toRange()):e.selection.setRng(r.toRange())}))},IN=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Um(e),e.focus(!0),TN(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),EN(e)},ON=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},LN=function(e,t,n){var r=[new Co((function(n,r){return ON(e).loadAll(t,n,r)}))];return e.inline?r:r.concat([new Co((function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)}))])},FN=function(e,t){var n=ON(e),r=Hf(e),i=function(){n.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(r)},o=function(){e.removed?i():(e.on("remove",i),IN(e))};Co.all(LN(e,t,r)).then(o).catch(o)},PN=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();t.browser_spellcheck||t.gecko_spellcheck||(n.body.spellcheck=!1,CN.setAttrib(r,"spellcheck","false")),e.quirks=xN(e),Nm(e);var i=Rf(e);if(void 0!==i&&(r.dir=i),t.protect&&e.on("BeforeSetContent",(function(e){An.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),s_(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0){var o="";An.each(e.contentStyles,(function(e){o+=e+"\r\n"})),e.dom.addStyle(o)}FN(e,e.contentCSS),t.content_style&&SN(e,t.content_style)},NN=function(e,t){var n=e.settings,r=e.getElement(),i=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(CN.addClass(r,"mce-content-body"),e.contentDocument=i=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var o=e.getBody();o.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===CN.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable=e.getParam("content_editable_state",!0)),o.disabled=!1,e.editorUpload=SM(e),e.schema=Os(n),e.dom=Tc(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:If(e),referrerPolicy:Of(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=MN(e),e.serializer=jB(DN(e),e),e.selection=J_(e.dom,e.getWin(),e.serializer,e),e.annotator=km(e),e.formatter=LM(e),e.undoManager=NM(e),e._nodeChangeDispatcher=new LP(e),e._selectionOverrides=wN(e),HO(e),NP(e),s_(e)||RP(e);var a=OP(e);LO(e,a),GO(e),GM(e),Pm(e),c_(e).fold((function(){PN(e)}),(function(t){e.setProgressState(!0),t.then((function(t){e.setProgressState(!1),PN(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),PN(e)}))}))},UN=Tc.DOM,HN=function(e,t){if(document.domain!==window.location.hostname&&Zt.browser.isIE()){var n=gM("mce");e[n]=function(){NN(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return UN.setAttrib(t,"src",r),!0}return!1},RN=function(e,t,n,r){var i=yn.fromTag("iframe");return li(i,r),li(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ll(i,"tox-edit-area__iframe"),i},VN=function(e){var t=uf(e)+"<html><head>";cf(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=lf(e),r=df(e);return ff(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+ff(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>',t},QN=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=RN(e.id,n,t.height,sf(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var i=HN(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=VN(e),UN.add(t.iframeContainer,r),i},jN=function(e,t){var n=QN(e,t);t.editorContainer&&(UN.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=UN.isHidden(t.editorContainer)),e.getElement().style.display="none",UN.setAttrib(e.id,"aria-hidden","true"),n||NN(e)},zN=Tc.DOM,GN=function(e,t,n){var r=WD.get(n),i=WD.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=An.trim(n),r&&-1===An.inArray(t,n)){if(An.each(WD.dependencies(n),(function(n){GN(e,t,n)})),e.plugins[n])return;try{var o=new r(e,i,e.$);e.plugins[n]=o,o.init&&(o.init(e,i),t.push(n))}catch(LR){sM(e,n,LR)}}},KN=function(e){return e.replace(/^\-/,"")},qN=function(e){var t=[];An.each(fA(e).split(/[ ,]/),(function(n){GN(e,t,KN(n))}))},WN=function(e){var t=An.trim(_f(e)),n=e.ui.registry.getAll().icons,r=ze(ze({},OD.get("default").icons),OD.get(t).icons);xe(r,(function(t,r){Ie(n,r)||e.ui.registry.addIcon(r,t)}))},$N=function(e){var t=qf(e);if(g(t)){e.settings.theme=KN(t);var n=$D.get(t);e.theme=new n(e,$D.urls[t]),e.theme.init&&e.theme.init(e,$D.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},XN=function(e){return e.theme.renderUI()},YN=function(e){var t=e.getElement(),n=qf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},JN=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},ZN=function(e){var t=zN.create("div");return zN.insertAfter(t,e),JN(t)},eU=function(e){var t=e.getElement();return e.inline?JN(null):ZN(t)},tU=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,g(qf(e))?XN(e):k(qf(e))?YN(e):eU(e)},nU=function(e,t){var n={show:z.from(t.show).getOr(D),hide:z.from(t.hide).getOr(D),disable:z.from(t.disable).getOr(D),isDisabled:z.from(t.isDisabled).getOr(U),enable:function(){e.mode.isReadOnly()||z.from(t.enable).map(N)}};e.ui=ze(ze({},e.ui),n)},rU=function(e){e.fire("ScriptsLoaded"),WN(e),$N(e),qN(e);var t=tU(e);nU(e,z.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,AM(e),e.inline?NN(e):jN(e,n)},iU=Tc.DOM,oU=function(e){return"-"===e.charAt(0)},aU=function(e,t){var n=Lf(t),r=Ff(t);if(!1===Zc.hasCode(n)&&"en"!==n){var i=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(i,D,void 0,(function(){aM(t,i,n)}))}},sU=function(e,t,n,r){var i=qf(t);if(g(i)){if(!oU(i)&&!$D.urls.hasOwnProperty(i)){var o=eA(t);o?$D.load(i,t.documentBaseURI.toAbsolute(o)):$D.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue((function(){$D.waitFor(i,r)}))}else r()},uU=function(e){return z.from(Bf(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:z.none()}}))},cU=function(e,t,n){return z.from(t).filter((function(e){return e.length>0&&!OD.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:z.some(t)}}))},lU=function(e,t,n){var r=cU(t,"default",n),i=uU(t).orThunk((function(){return cU(t,_f(t),"")}));Z(Nl([r,i]),(function(n){e.add(n.url,D,void 0,(function(){oM(t,n.url,n.name.getOrUndefined())}))}))},dU=function(e,t){An.each(AA(e),(function(t,n){WD.load(n,t,D,void 0,(function(){iM(e,t,n)})),e.settings.plugins+=" "+n})),An.each(fA(e).split(/[ ,]/),(function(n){if(n=An.trim(n),n&&!WD.urls[n])if(oU(n)){n=n.substr(1,n.length);var r=WD.dependencies(n);An.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},i=WD.createUrl(r,n);WD.load(i.resource,i,D,void 0,(function(){iM(e,i.prefix+i.resource+i.suffix,i.resource)}))}))}else{var i={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};WD.load(n,i,D,void 0,(function(){iM(e,i.prefix+i.resource+i.suffix,n)}))}}))},fU=function(e,t){var n=Hc.ScriptLoader;sU(n,e,t,(function(){aU(n,e),lU(n,e,t),dU(e,t),n.loadQueue((function(){e.removed||rU(e)}),e,(function(){e.removed||rU(e)}))}))},AU=function(e,t){return Oo.forElement(e,{contentCssCors:dA(t),referrerPolicy:Of(t)})},hU=function(e){var t=e.id;Zc.setCode(Lf(e));var n=function(){iU.unbind(window,"ready",n),e.render()};if(qs.Event.domLoaded){if(e.getElement()&&Zt.contentEditable){var r=yn.fromDom(e.getElement()),i=pi(r);e.on("remove",(function(){ee(r.dom.attributes,(function(e){return hi(r,e.name)})),li(r,i)})),e.ui.styleSheetLoader=AU(r,e),tA(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||iU.getParent(t,"form");o&&(e.formElement=o,nA(e)&&!Xr(e.getElement())&&(iU.insertAfter(iU.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},iU.bind(o,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!rA(e)||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=JD(e),e.notificationManager=qD(e),iA(e)&&e.on("GetContent",(function(e){e.save&&(e.content=iU.encode(e.content))})),oA(e)&&e.on("submit",(function(){e.initialized&&e.save()})),aA(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),fU(e,e.suffix)}}else iU.bind(window,"ready",n)},pU=function(e,t){return P_(e,t)},mU={"font-size":"size","font-family":"face"},gU=function(e,t,n){var r=function(t){return bi(t,e).orThunk((function(){return"font"===Pn(t)?Te(mU,e).bind((function(e){return fi(t,e)})):z.none()}))},i=function(e){return In(yn.fromDom(t),e)};return aC(yn.fromDom(n),(function(e){return r(e)}),i)},vU=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},yU=function(e,t){return z.from(Tc.DOM.getStyle(t,e,!0))},bU=function(e){return function(t,n){return z.from(n).map(yn.fromDom).filter(Rn).bind((function(n){return gU(e,t,n.dom).or(yU(e,n.dom))})).getOr("")}},wU=bU("font-size"),xU=M(vU,bU("font-family")),CU=function(e){return Hh(e.getBody()).map((function(e){var t=e.container();return Yr(t)?t.parentNode:t}))},SU=function(e){return z.from(e.selection.getRng()).bind((function(t){var n=e.getBody(),r=t.startContainer===n&&0===t.startOffset;return r?z.none():z.from(e.selection.getStart(!0))}))},kU=function(e,t){return SU(e).orThunk(O(CU,e)).map(yn.fromDom).filter(Rn).map(t)},_U=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=bf(e),i=wf(e);return i?i[n-1]||t:r[n-1]||t}return t}return t},BU=function(e){var t=e.split(/\s*,\s*/);return J(t,(function(e){return-1===e.indexOf(" ")||ct(e,'"')||ct(e,"'")?e:"'"+e+"'"})).join(",")},DU=function(e,t){var n=_U(e,t);e.formatter.toggle("fontname",{value:BU(n)}),e.nodeChanged()},MU=function(e){return kU(e,(function(t){return xU(e.getBody(),t.dom)})).getOr("")},EU=function(e,t){e.formatter.toggle("fontsize",{value:_U(e,t)}),e.nodeChanged()},TU=function(e){return kU(e,(function(t){return wU(e.getBody(),t.dom)})).getOr("")},IU=function(e){return kU(e,(function(t){var n=yn.fromDom(e.getBody()),r=aC(t,(function(e){return bi(e,"line-height")}),O(In,n)),i=function(){var e=parseFloat(vi(t,"line-height")),n=parseFloat(vi(t,"font-size"));return String(e/n)};return r.getOrThunk(i)})).getOr("")},OU=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},LU=function(e){var t;return"string"!==typeof e?(t=An.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},FU=function(e,t){var n=LU(t);L_(e,n.content,n.details)},PU=An.each,NU=An.map,UU=An.inArray,HU=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var i,o=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?_v(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var s=e.toLowerCase();if(i=a.commands.exec[s])return i(s,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(PU(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),o=!0,!1})),o)return o;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{o=a.editor.getDoc().execCommand(e,t,n)}catch(u){}return!!o&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},e.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;PU(e,(function(e,r){PU(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,i,o,a){return t.call(n||r.editor,i,o,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":D,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,i=e.getDoc();try{t.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||i.queryCommandEnabled(n)||(r=!0),r||!i.queryCommandSupported(n)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Zt.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),PU("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var i=e.dom.getParent(e.selection.getNode(),"ol,ul");i&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,i),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){DU(e,r)},FontSize:function(t,n,r){EU(e,r)},LineHeight:function(t,n,r){OU(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,i){var o=i||e.selection.getNode();o!==e.getBody()&&(t.storeSelection(),e.dom.remove(o,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var i=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&i++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){FU(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var i=e.getContent();e.setContent(i.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){cP(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){MO(e,t)},mceRepaint:D,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"===typeof r&&(r={href:r});var i=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ri);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return KF(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),i=NU(r,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==UU(i,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return kO(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return MU(e)}),this),t.addQueryValueHandler("FontSize",(function(){return TU(e)}),this),t.addQueryValueHandler("LineHeight",(function(){return IU(e)}),this)},e}(),RU="data-mce-contenteditable",VU=function(e,t,n){Al(e,t)&&!1===n?fl(e,t):n&&ll(e,t)},QU=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},jU=function(e,t){e.dom.contentEditable=t?"true":"false"},zU=function(e){Z(pl(e,'*[contenteditable="true"]'),(function(e){ci(e,RU,"true"),jU(e,!1)}))},GU=function(e){Z(pl(e,"*["+RU+'="true"]'),(function(e){hi(e,RU),jU(e,!0)}))},KU=function(e){z.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))},qU=function(e){e.selection.setRng(e.selection.getRng())},WU=function(e,t){var n=yn.fromDom(e.getBody());VU(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),KU(e),e.readonly=!0,jU(n,!1),zU(n)):(e.readonly=!1,jU(n,!0),GU(n),QU(e,"StyleWithCSS",!1),QU(e,"enableInlineTableEditing",!1),QU(e,"enableObjectResizing",!1),Zv(e)&&e.focus(),qU(e),e.nodeChanged())},$U=function(e){return e.readonly},XU=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){$U(e)&&Z(t,(function(e){e.attr(RU,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(RU,(function(t){$U(e)&&Z(t,(function(e){e.attr("contenteditable",e.attr(RU))}))})),e.serializer.addTempAttr(RU)},YU=function(e){e.serializer?XU(e):e.on("PreInit",(function(){XU(e)}))},JU=function(e){return"click"===e.type},ZU=function(e,t){var n=function(t){return In(t,yn.fromDom(e.getBody()))};return wo(t,"a",n).bind((function(e){return fi(e,"href")}))},eH=function(e,t){if(JU(t)&&!Vm.metaKeyPressed(t)){var n=yn.fromDom(t.target);ZU(e,n).each((function(n){if(t.preventDefault(),/^#/.test(n)){var r=e.dom.select(n+',[name="'+st(n,"#")+'"]');r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}},tH=function(e){e.on("ShowCaret",(function(t){$U(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){$U(e)&&t.preventDefault()}))},nH=An.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),rH=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||U}return e.isNative=function(e){return!!nH[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=H},r.stopPropagation=function(){r.isPropagationStopped=H},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=H},r.isDefaultPrevented=U,r.isPropagationStopped=U,r.isImmediatePropagationStopped=U),this.settings.beforeFire&&this.settings.beforeFire(r);var i=this.bindings[n];if(i)for(var o=0,a=i.length;o<a;o++){var s=i[o];if(s.once&&this.off(n,s.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===s.func.call(this.scope,r))return r.preventDefault(),r}return r},e.prototype.on=function(e,t,n,r){if(!1===t&&(t=U),t){var i={func:t};r&&An.extend(i,r);var o=e.toLowerCase().split(" "),a=o.length;while(a--){var s=o[a],u=this.bindings[s];u||(u=this.bindings[s]=[],this.toggleEvent(s,!0)),n?u.unshift(i):u.push(i)}}return this},e.prototype.off=function(e,t){var n=this;if(e){var r=e.toLowerCase().split(" "),i=r.length;while(i--){var o=r[i],a=this.bindings[o];if(!o)return xe(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t){var s=a.length;while(s--)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),this.bindings[o]=a)}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else xe(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),iH=function(e){return e._eventDispatcher||(e._eventDispatcher=new rH({scope:e,toggleEvent:function(t,n){rH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},oH={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var i=iH(r).fire(e,t);if(!1!==n&&r.parent){var o=r.parent();while(o&&!i.isPropagationStopped())o.fire(e,i,!1),o=o.parent()}return i},on:function(e,t,n){return iH(this).on(e,t,n)},off:function(e,t){return iH(this).off(e,t)},once:function(e,t){return iH(this).once(e,t)},hasEventListeners:function(e){return iH(this).has(e)}},aH=Tc.DOM,sH=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Gf(e);return n?(e.eventRoot||(e.eventRoot=aH.select(n)[0]),e.eventRoot):e.getBody()},uH=function(e){return!e.hidden&&!$U(e)},cH=function(e,t,n){uH(e)?e.fire(t,n):$U(e)&&eH(e,n)},lH=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=sH(e,t);if(Gf(e)){if(mI||(mI={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||mI&&(xe(mI,(function(t,n){e.dom.unbind(sH(e,n))})),mI=null)}))),mI[t])return;n=function(n){var r=n.target,i=e.editorManager.get(),o=i.length;while(o--){var a=i[o].getBody();(a===r||aH.isChildOf(r,a))&&cH(i[o],t,n)}},mI[t]=n,aH.bind(r,t,n)}else n=function(n){cH(e,t,n)},aH.bind(r,t,n),e.delegates[t]=n}},dH=ze(ze({},oH),{bindPendingEventDelegates:function(){var e=this;An.each(e._pendingNativeEvents,(function(t){lH(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?lH(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(sH(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(xe(e.delegates,(function(t,n){e.dom.unbind(sH(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),fH=["design","readonly"],AH=function(e,t,n,r){var i=n[t.get()],o=n[r];try{o.activate()}catch(LR){return void console.error("problem while activating editor mode "+r+":",LR)}i.deactivate(),i.editorReadOnly!==o.editorReadOnly&&WU(e,o.editorReadOnly),t.set(r),Om(e,r)},hH=function(e,t,n,r){if(r!==n.get()){if(!Ie(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?AH(e,n,t,r):e.on("init",(function(){return AH(e,n,t,r)}))}},pH=function(e,t,n){var r;if(X(fH,t))throw new Error("Cannot override default mode "+t);return ze(ze({},e),(r={},r[t]=ze(ze({},n),{deactivate:function(){try{n.deactivate()}catch(LR){console.error("problem while deactivating editor mode "+t+":",LR)}}}),r))},mH=function(e){var t=Rc("design"),n=Rc({design:{activate:D,deactivate:D,editorReadOnly:!1},readonly:{activate:D,deactivate:D,editorReadOnly:!0}});return YU(e),tH(e),{isReadOnly:function(){return $U(e)},set:function(r){return hH(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(pH(n.get(),e,t))}}},gH=An.each,vH=An.explode,yH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bH=An.makeMap("alt,ctrl,shift,meta,access"),wH=function(e){var t,n={};gH(vH(e.toLowerCase(),"+"),(function(e){e in bH?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=yH[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in bH)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Zt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Zt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},xH=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(gH(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var i=this,o=i.normalizeCommandFunc(n);return gH(vH(An.trim(e)),(function(e){var n=i.createShortcut(e,t,o,r);i.shortcuts[n.id]=n})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"===typeof n?function(){t.editor.execCommand(n,!1,null)}:An.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(e,t,n,r){var i=An.map(vH(e,">"),wH);return i[i.length-1]=An.extend(i[i.length-1],{func:n,scope:r||this.editor}),An.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),CH=function(){var e={},t={},n={},r={},i={},o={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=ze(ze({},r),{type:t})}},u=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(i,"contextmenu"),addContextToolbar:s(o,"contexttoolbar"),addContextForm:s(o,"contextform"),addSidebar:s(a,"sidebar"),addIcon:u,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:o,sidebars:a}}}},SH=function(){var e=CH();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},kH=An.each,_H=An.trim,BH="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),DH={ftp:21,http:80,https:443,mailto:25},MH=function(){function e(t,n){t=_H(t),this.settings=n||{};var r=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))i.source=t;else{var o=0===t.indexOf("//");if(0!==t.indexOf("/")||o||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(a,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(a,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);kH(BH,(function(e,t){var n=u[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n})),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),i.port||"mce_host"!==i.host||(i.port=r.port),i.host&&"mce_host"!==i.host||(i.host=r.host),i.source=""),o&&(i.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var i=this.getURI(),o=r.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=DH[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,i=0,o="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){i=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){i=n+1;break}if(1===i)return t;for(n=0,r=a.length-(i-1);n<r;n++)o+="../";for(n=i-1,r=s.length;n<r;n++)o+=n!==i-1?"/"+s[n]:s[n];return o},e.prototype.toAbsPath=function(e,t){var n,r,i=0,o=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),u=t.split("/");for(kH(s,(function(e){e&&o.push(e)})),s=o,n=u.length-1,o=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?i>0?i--:o.push(u[n]):i++);return n=s.length-i,r=n<=0?de(o).join("/"):s.slice(0,n).join("/")+"/"+de(o).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),EH=Tc.DOM,TH=An.extend,IH=An.each,OH=An.resolve,LH=Zt.ie,FH=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,TH(this,dH),this.settings=BD(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Hc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Tc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),el.languageLoad=this.settings.language_load,el.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new MH(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new xH(this),this.editorCommands=new HU(this),this.settings.cache_suffix&&(Zt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:SH(),styleSheetLoader:void 0,show:D,hide:D,enable:D,disable:D,isDisabled:U};var i=this,o=mH(i);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Cc.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){hU(this)},e.prototype.focus=function(e){ny(this,e)},e.prototype.hasFocus=function(){return Jv(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=this,o=i.settings[e];if(o)return i.callbackLookup&&(r=i.callbackLookup[e])&&(o=r.func,r=r.scope),"string"===typeof o&&(r=o.replace(/\.\w+$/,""),r=r?OH(r):0,o=OH(o),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[e]={func:o,scope:r}),o.apply(r||i,t)},e.prototype.translate=function(e){return Zc.translate(e)},e.prototype.getParam=function(e,t,n){return TD(this,e,t,n)},e.prototype.hasPlugin=function(e,t){var n=X(fA(this).split(/[ ,]/),e);return!!n&&(!t||void 0!==WD.get(e))},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(EH.show(e.getContainer()),EH.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(LH&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(EH.hide(e.getContainer()),EH.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var i=Xr(r)?r.value:r.innerHTML;return t=n.setContent(i,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=i,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Xr(i)?i.value=t:(!e.is_removing&&r.inline||(i.innerHTML=t),(n=EH.getParent(r.id,"form"))&&IH(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return KB(this,e,t)},e.prototype.getContent=function(e){return GB(this,e)},e.prototype.insertContent=function(e,t){t&&(e=TH({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?KB(this,this.startContent,{format:"raw"}):KB(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=EH.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=EH.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,i.remove_script_host),e)},e.prototype.addVisual=function(e){pU(this,e)},e.prototype.remove=function(){JB(this)},e.prototype.destroy=function(e){ZB(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),PH=Tc.DOM,NH=An.explode,UH=An.each,HH=An.extend,RH=0,VH=!1,QH=[],jH=[],zH=function(e){return"length"!==e},GH=function(e){var t=e.type;UH(XH.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}}))},KH=function(e){e!==VH&&(e?Cc(window).on("resize scroll",GH):Cc(window).off("resize scroll",GH),VH=e)},qH=function(e){var t=jH;delete QH[e.id];for(var n=0;n<QH.length;n++)if(QH[n]===e){QH.splice(n,1);break}return jH=ne(jH,(function(t){return e!==t})),XH.activeEditor===e&&(XH.activeEditor=jH.length>0?jH[0]:null),XH.focusedEditor===e&&(XH.focusedEditor=null),t.length!==jH.length},WH=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(qH(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},$H="CSS1Compat"!==document.compatMode,XH=ze(ze({},oH),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Cc,majorVersion:"5",minorVersion:"8.1",releaseDate:"2021-05-20",editors:QH,i18n:Zc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n=this,r="";t=MH.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,r=i.suffix;else{for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var s=o[a].src||"";if(""!==s){var u=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==u.indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&document.currentScript){s=document.currentScript.src;-1!==s.indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"))}}n.baseURL=new MH(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new MH(n.baseURL),n.suffix=r,Qv(n)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&xe(r,(function(e,t){el.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,r=An.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},o=function(e){var t=e.id;return t||(t=Te(e,"name").filter((function(e){return!PH.get(e)})).getOrThunk(PH.uniqueId),e.setAttribute("id",t)),t},a=function(t){var r=e[t];if(r)return r.apply(n,[])},s=function(e,t){return t.constructor===RegExp?t.test(e.className):PH.hasClass(e,t)},u=function(e){var t=[];if(Zt.browser.isIE()&&Zt.browser.version.major<11)return uM("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if($H)return uM("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return UH(e.types,(function(e){t=t.concat(PH.select(e.selector))})),t;if(e.selector)return PH.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";n.length>0&&UH(NH(n),(function(e){var n=PH.get(e);n?t.push(n):UH(document.forms,(function(n){UH(n.elements,(function(n){n.name===e&&(e="mce_editor_"+RH++,PH.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":UH(PH.select("textarea"),(function(n){e.editor_deselector&&s(n,e.editor_deselector)||e.editor_selector&&!s(n,e.editor_selector)||t.push(n)}));break}return t},c=function(e){t=e},l=function(){var t,r=0,s=[],d=function(e,i,o){var a=new FH(e,i,n);s.push(a),a.on("init",(function(){++r===t.length&&c(s)})),a.targetElm=a.targetElm||o,a.render()};PH.unbind(window,"ready",l),a("onpageload"),t=Cc.unique(u(e)),e.types?UH(e.types,(function(n){An.each(t,(function(t){return!PH.is(t,n.selector)||(d(o(t),HH({},e,n),t),!1)}))})):(An.each(t,(function(e){WH(n.get(e.id))})),t=An.grep(t,(function(e){return!n.get(e.id)})),0===t.length?c([]):UH(t,(function(t){i(e,t)?uM("Could not initialize inline editor on invalid inline target element",t):d(o(t),e,t)})))};return n.settings=e,PH.bind(window,"ready",l),new Co((function(e){t?e(t):c=function(t){e(t)}}))},get:function(e){return 0===arguments.length?jH.slice(0):g(e)?ae(jH,(function(t){return t.id===e})).getOr(null):B(e)&&jH[e]?jH[e]:null},add:function(e){var t=this,n=QH[e.id];return n===e||(null===t.get(e.id)&&(zH(e.id)&&(QH[e.id]=e),QH.push(e),jH.push(e)),KH(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),gI||(gI=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",gI))),e},createEditor:function(e,t){return this.add(new FH(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!g(e))return n=e,b(r.get(n.id))?null:(qH(n)&&r.fire("RemoveEditor",{editor:n}),0===jH.length&&window.removeEventListener("beforeunload",gI),n.remove(),KH(jH.length>0),n);UH(PH.select(e),(function(e){n=r.get(e.id),n&&r.remove(n)}))}else for(t=jH.length-1;t>=0;t--)r.remove(jH[t])},execCommand:function(e,t,n){var r=this,i=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new FH(n,r.settings,r).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){UH(jH,(function(e){e.save()}))},addI18n:function(e,t){Zc.add(e,t)},translate:function(e){return Zc.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new MH(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new MH(this.baseURL)}});XH.setup();var YH,JH,ZH=Math.min,eR=Math.max,tR=Math.round,nR=function(e,t,n){var r=t.x,i=t.y,o=e.w,a=e.h,s=t.w,u=t.h,c=(n||"").split("");return"b"===c[0]&&(i+=u),"r"===c[1]&&(r+=s),"c"===c[0]&&(i+=tR(u/2)),"c"===c[1]&&(r+=tR(s/2)),"b"===c[3]&&(i-=a),"r"===c[4]&&(r-=o),"c"===c[3]&&(i-=tR(a/2)),"c"===c[4]&&(r-=tR(o/2)),sR(r,i,o,a)},rR=function(e,t,n,r){var i,o;for(o=0;o<r.length;o++)if(i=nR(e,t,r[o]),i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},iR=function(e,t,n){return sR(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},oR=function(e,t){var n=eR(e.x,t.x),r=eR(e.y,t.y),i=ZH(e.x+e.w,t.x+t.w),o=ZH(e.y+e.h,t.y+t.h);return i-n<0||o-r<0?null:sR(n,r,i-n,o-r)},aR=function(e,t,n){var r=e.x,i=e.y,o=e.x+e.w,a=e.y+e.h,s=t.x+t.w,u=t.y+t.h,c=eR(0,t.x-r),l=eR(0,t.y-i),d=eR(0,o-s),f=eR(0,a-u);return r+=c,i+=l,n&&(o+=c,a+=l,r-=d,i-=f),o-=d,a-=f,sR(r,i,o-r,a-i)},sR=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},uR=function(e){return sR(e.left,e.top,e.width,e.height)},cR={inflate:iR,relativePosition:nR,findBestRelativePosition:rR,intersect:oR,clamp:aR,create:sR,fromClientRect:uR},lR=function(e,t,n){void 0===n&&(n=1e3);var r=!1,i=null,o=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==i&&(clearTimeout(i),i=null),e.apply(null,t))}},a=o(e),s=o(t),u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==i||(i=setTimeout((function(){return s.apply(null,e)}),n))};return{start:u,resolve:a,reject:s}},dR=function(){var e={},t={},n=function(n,r){var i='Script at URL "'+r+'" failed to load',o='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new Co((function(e,a){var s=lR(e,a);t[n]=s.resolve,Hc.ScriptLoader.loadScript(r,(function(){return s.start(o)}),(function(){return s.reject(i)}))}));return e[n]=a,a},r=function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Co.resolve(r)};return{load:n,add:r}},fR=dR(),AR=An.each,hR=An.extend,pR=function(){};pR.extend=YH=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!JH&&(r.init&&r.init.apply(r,arguments),t=r.Mixins,t)){e=t.length;while(e--)n=t[e],n.init&&n.init.apply(r,arguments)}},i=function(){return this},o=function(e,t){return function(){var r=this,i=r._super;r._super=n[e];var o=t.apply(r,arguments);return r._super=i,o}};JH=!0;var a=new t;return JH=!1,e.Mixins&&(AR(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&AR(e.Methods.split(","),(function(t){e[t]=i})),e.Properties&&AR(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&AR(e.Statics,(function(e,t){r[t]=e})),e.Defaults&&n.Defaults&&(e.Defaults=hR({},n.Defaults,e.Defaults)),xe(e,(function(e,t){"function"===typeof e&&n[t]?a[t]=o(t,e):a[t]=e})),r.prototype=a,r.constructor=r,r.extend=YH,r};var mR,gR=Math.min,vR=Math.max,yR=Math.round,bR=function(e){var t={},n=0,r=0,i=0,o=function(e,t,n){var r,i,o;r=0,i=0,o=0,e/=255,t/=255,n/=255;var a=gR(e,gR(t,n)),s=vR(e,vR(t,n));if(a===s)return o=a,{h:0,s:0,v:100*o};var u=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-u/(s-a)),i=(s-a)/s,o=s,{h:yR(r),s:yR(100*i),v:yR(100*o)}},a=function(e,t,o){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=vR(0,gR(t,1)),o=vR(0,gR(o,1)),0!==t){var a=e/60,s=o*t,u=s*(1-Math.abs(a%2-1)),c=o-s;switch(Math.floor(a)){case 0:n=s,r=u,i=0;break;case 1:n=u,r=s,i=0;break;case 2:n=0,r=s,i=u;break;case 3:n=0,r=u,i=s;break;case 4:n=u,r=0,i=s;break;case 5:n=s,r=0,i=u;break;default:n=r=i=0}n=yR(255*(n+c)),r=yR(255*(r+c)),i=yR(255*(i+c))}else n=r=i=yR(255*o)},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(i)},u=function(){return{r:n,g:r,b:i}},c=function(){return o(n,r,i)},l=function(e){var o;return"object"===typeof e?"r"in e?(n=e.r,r=e.g,i=e.b):"v"in e&&a(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),r=parseInt(o[2],16),i=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),r=parseInt(o[2]+o[2],16),i=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,i=i<0?0:i>255?255:i,t};return e&&l(e),t.toRgb=u,t.toHsv=c,t.toHex=s,t.parse=l,t},wR=function(e){var t=JSON.stringify(e);return g(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},xR={serialize:wR,parse:function(e){try{return JSON.parse(e)}catch(t){}}},CR={callbacks:{},count:0,send:function(e){var t=this,n=Tc.DOM,r=void 0!==e.count?e.count:t.count,i="tinymce_jsonp_"+r;t.callbacks[r]=function(o){n.remove(i),delete t.callbacks[r],e.callback(o)},n.add(n.doc.body,"script",{id:i,src:e.url,type:"text/javascript"}),t.count++}},SR=ze(ze({},oH),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Eo.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",SR.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&An.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=SR.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();Eo.setTimeout(r,10)}}),kR=An.extend,_R=function(){function e(e){this.settings=kR({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=kR(this.settings,e);r.success=function(e,i){e=xR.parse(e),"undefined"===typeof e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,i):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=xR.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",SR.send(r)},e}(),BR=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{var DR="__storage_test__";mR=window.localStorage,mR.setItem(DR,DR),mR.removeItem(DR)}catch(LR){mR=BR()}var MR=mR,ER={geom:{Rect:cR},util:{Promise:Co,Delay:Eo,Tools:An,VK:Vm,URI:MH,Class:pR,EventDispatcher:rH,Observable:oH,I18n:Zc,XHR:SR,JSON:xR,JSONRequest:_R,JSONP:CR,LocalStorage:MR,Color:bR,ImageUploader:xM},dom:{EventUtils:qs,Sizzle:Tu,DomQuery:Cc,TreeWalker:Lo,TextSeeker:Pl,DOMUtils:Tc,ScriptLoader:Hc,RangeUtils:lg,Serializer:jB,StyleSheetLoader:To,ControlSelection:jm,BookmarkManager:_m,Selection:J_,Event:qs.Event},html:{Styles:Fs,Entities:xs,Node:py,Schema:Os,SaxParser:By,DomParser:EB,Writer:Ny,Serializer:Uy},Env:Zt,AddOnManager:el,Annotator:km,Formatter:LM,UndoManager:NM,EditorCommands:HU,WindowManager:JD,NotificationManager:qD,EditorObservable:dH,Shortcuts:xH,Editor:FH,FocusManager:Dv,EditorManager:XH,DOM:Tc.DOM,ScriptLoader:Hc.ScriptLoader,PluginManager:WD,ThemeManager:$D,IconManager:OD,Resource:fR,trim:An.trim,isArray:An.isArray,is:An.is,toArray:An.toArray,makeMap:An.makeMap,each:An.each,map:An.map,grep:An.grep,inArray:An.inArray,extend:An.extend,create:An.create,walk:An.walk,createNS:An.createNS,resolve:An.resolve,explode:An.explode,_addCacheSuffix:An._addCacheSuffix,isOpera:Zt.opera,isWebKit:Zt.webkit,isIE:Zt.ie,isGecko:Zt.gecko,isMac:Zt.mac},TR=An.extend(XH,ER),IR=function(t){try{e.exports=t}catch(_){}},OR=function(e){window.tinymce=e,window.tinyMCE=e};OR(TR),IR(TR)})()}).call(this,n("c8ba"))},e5c7:function(e,t,n){"use strict";n("879b")},ef11:function(e,t,n){"use strict";n("548e")},f034:function(e,t){(function(){"use strict";var e=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{isFullscreen:function(){return null!==e.get()}}},r=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return function(t){return r(t)===e}},o=function(e){return function(t){return typeof t===e}},a=i("string"),s=i("array"),u=o("boolean"),c=function(e){return null===e||void 0===e},l=function(e){return!c(e)},d=o("function"),f=o("number"),A=function(){},h=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},p=function(e,t){return function(n){return e(t(n))}},m=function(e){return function(){return e}};function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var v=m(!1),y=m(!0),b=function(){return w},w=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:v,isSome:v,isNone:y,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:m(null),getOrUndefined:m(void 0),or:n,orThunk:t,map:b,each:A,bind:b,exists:v,forall:y,filter:b,equals:e,equals_:e,toArray:function(){return[]},toString:m("none()")};return r}(),x=function(e){var t=m(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:y,isNone:v,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return x(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:w},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(v,(function(t){return n(e,t)}))}};return i},C=function(e){return null===e||void 0===e?w:x(e)},S={some:x,none:b,from:C},k=function(t){var n=e(S.none()),r=function(){return n.get().each(t)},i=function(){r(),n.set(S.none())},o=function(){return n.get().isSome()},a=function(e){r(),n.set(S.some(e))};return{clear:i,isSet:o,set:a}},_=function(){return k((function(e){return e.unbind()}))},B=function(){var t=e(S.none()),n=function(){return t.set(S.none())},r=function(e){return t.set(S.some(e))},i=function(){return t.get().isSome()},o=function(e){return t.get().each(e)};return{clear:n,set:r,isSet:i,on:o}},D=Array.prototype.push,M=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},E=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},T=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},I=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);D.apply(t,e[n])}return t},O=function(e,t){return I(M(e,t))},L=function(e,t){return t>=0&&t<e.length?S.some(e[t]):S.none()},F=function(e){return L(e,0)},P=Object.keys,N=function(e,t){for(var n=P(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},U=function(e){return void 0!==e.style&&d(e.style.getPropertyValue)},H=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Q(r.childNodes[0])},R=function(e,t){var n=t||document,r=n.createElement(e);return Q(r)},V=function(e,t){var n=t||document,r=n.createTextNode(e);return Q(r)},Q=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},j=function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(Q)},z={fromHtml:H,fromTag:R,fromText:V,fromDom:Q,fromPoint:j},G=("undefined"!==typeof window?window:Function("return this;")(),9),K=11,q=1,W=3,$=function(e){return e.dom.nodeType},X=function(e){return function(t){return $(t)===e}},Y=X(q),J=X(W),Z=X(G),ee=X(K),te=function(e,t){var n=e.dom;if(n.nodeType!==q)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ne=function(e){return e.nodeType!==q&&e.nodeType!==G&&e.nodeType!==K||0===e.childElementCount},re=function(e,t){var n=void 0===t?document:t.dom;return ne(n)?[]:M(n.querySelectorAll(e),z.fromDom)},ie=function(e,t){return e.dom===t.dom},oe=function(e){return z.fromDom(e.dom.ownerDocument)},ae=function(e){return Z(e)?e:oe(e)},se=function(e){return S.from(e.dom.parentNode).map(z.fromDom)},ue=function(e,t){var n=d(t)?t:v,r=e.dom,i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=z.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},ce=function(e){var t=function(t){return T(t,(function(t){return!ie(e,t)}))};return se(e).map(le).map(t).getOr([])},le=function(e){return M(e.dom.childNodes,z.fromDom)},de=function(e){return ee(e)&&l(e.dom.host)},fe=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),Ae=m(fe),he=fe?function(e){return z.fromDom(e.dom.getRootNode())}:ae,pe=function(e){var t=he(e);return de(t)?S.some(t):S.none()},me=function(e){return z.fromDom(e.dom.host)},ge=function(e){if(Ae()&&l(e.target)){var t=z.fromDom(e.target);if(Y(t)&&ve(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return F(n)}}return S.from(e.target)},ve=function(e){return l(e.dom.shadowRoot)},ye=function(e){var t=J(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return pe(z.fromDom(t)).fold((function(){return n.body.contains(t)}),p(ye,me))},be=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return z.fromDom(t)},we=function(e,t,n){if(!(a(n)||u(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xe=function(e,t,n){we(e.dom,t,n)},Ce=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Se=function(e,t){e.dom.removeAttribute(t)},ke=function(e,t,n){if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);U(e)&&e.style.setProperty(t,n)},_e=function(e,t){var n=e.dom;N(t,(function(e,t){ke(n,t,e)}))},Be=function(e,t){var n=e.dom,r=window.getComputedStyle(n),i=r.getPropertyValue(t);return""!==i||ye(e)?i:De(n,t)},De=function(e,t){return U(e)?e.style.getPropertyValue(t):""},Me=function(e,t,n,r,i,o,a){return{target:e,x:t,y:n,stop:r,prevent:i,kill:o,raw:a}},Ee=function(e){var t=z.fromDom(ge(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},i=h(r,n);return Me(t,e.clientX,e.clientY,n,r,i,e)},Te=function(e,t){return function(n){e(n)&&t(Ee(n))}},Ie=function(e,t,n,r,i){var o=Te(n,r);return e.dom.addEventListener(t,o,i),{unbind:g(Le,e,t,o,i)}},Oe=function(e,t,n,r){return Ie(e,t,n,r,!1)},Le=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Fe=y,Pe=function(e,t,n){return Oe(e,t,Fe,n)},Ne=function(e,t){var n=function(n,r){return Ne(e+n,t+r)};return{left:e,top:t,translate:n}},Ue=Ne,He=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Ue(n,r)},Re=function(e){var t=void 0===e?window:e;return S.from(t["visualViewport"])},Ve=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Qe=function(e){var t=void 0===e?window:e,n=t.document,r=He(z.fromDom(n));return Re(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Ve(r.left,r.top,n,i)}),(function(e){return Ve(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},je=function(e,t,n){return Re(n).map((function(n){var r=function(e){return t(Ee(e))};return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:A}}))},ze=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ge=tinymce.util.Tools.resolve("tinymce.Env"),Ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),qe=function(e,t){e.fire("FullscreenStateChanged",{state:t})},We=function(e){return e.getParam("fullscreen_native",!1,"boolean")},$e=function(e){var t=z.fromDom(e.getElement());return pe(t).map(me).getOrThunk((function(){return be(oe(t))}))},Xe=function(e){return void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null},Ye=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"},Je=function(e){var t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},Ze=function(e){var t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},et=function(e){return e.dom===Xe(oe(e).dom)},tt=function(e,t,n){return T(ue(e,n),t)},nt=function(e,t){return T(ce(e),t)},rt=function(e){return re(e)},it=function(e,t,n){return tt(e,(function(e){return te(e,t)}),n)},ot=function(e,t){return nt(e,(function(e){return te(e,t)}))},at="data-ephox-mobile-fullscreen-style",st="display:none!important;",ut="position:absolute!important;",ct="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",lt="background-color:rgb(255,255,255)!important;",dt=Ge.os.isAndroid(),ft=function(e){var t=Be(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":lt},At=function(e,t,n){var r=function(e){return ot(e,"*:not(.tox-silver-sink)")},i=function(t){return function(n){var r=Ce(n,"style"),i=void 0===r?"no-styles":r.trim();i!==t&&(xe(n,at,i),_e(n,e.parseStyle(t)))}},o=it(t,"*"),a=O(o,r),s=ft(n);E(a,i(st)),E(o,i(ut+ct+s));var u=!0===dt?"":ut;i(u+ct+s)(t)},ht=function(e){var t=rt("["+at+"]");E(t,(function(t){var n=Ce(t,at);"no-styles"!==n?_e(t,e.parseStyle(n)):Se(t,"style"),Se(t,at)}))},pt=ze.DOM,mt=function(){var e=Qe(window);return{x:e.x,y:e.y}},gt=function(e){window.scrollTo(e.x,e.y)},vt=Re().fold((function(){return{bind:A,unbind:A}}),(function(e){var t=B(),n=_(),r=_(),i=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},o=function(){window.requestAnimationFrame((function(){t.on((function(t){return _e(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))},a=Ke.throttle((function(){i(),o()}),50),s=function(e){t.set(e),a(),n.set(je("resize",a)),r.set(je("scroll",a))},u=function(){t.on((function(){n.clear(),r.clear()})),t.clear()};return{bind:s,unbind:u}})),yt=function(e,t){var n=document.body,r=document.documentElement,i=e.getContainer(),o=z.fromDom(i),a=$e(e),s=t.get(),u=z.fromDom(e.getBody()),c=Ge.deviceType.isTouch(),l=i.style,d=e.iframeElement,f=d.style,A=function(e){e(n,"tox-fullscreen"),e(r,"tox-fullscreen"),e(i,"tox-fullscreen"),pe(o).map((function(e){return me(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},h=function(){c&&ht(e.dom),A(pt.removeClass),vt.unbind(),S.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(s)s.fullscreenChangeHandler.unbind(),We(e)&&et(a)&&Ze(oe(a)),f.width=s.iframeWidth,f.height=s.iframeHeight,l.width=s.containerWidth,l.height=s.containerHeight,l.top=s.containerTop,l.left=s.containerLeft,gt(s.scrollPos),t.set(null),qe(e,!1),h(),e.off("remove",h);else{var p=Pe(oe(a),Ye(),(function(n){We(e)&&(et(a)||null===t.get()||yt(e,t))})),m={scrollPos:mt(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:p};c&&At(e.dom,o,u),f.width=f.height="100%",l.width=l.height="",A(pt.addClass),vt.bind(o),e.on("remove",h),t.set(m),We(e)&&Je(a),qe(e,!0)}},bt=function(e,t){e.addCommand("mceFullScreen",(function(){yt(e,t)}))},wt=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},xt=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:wt(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:wt(e,t)})};function Ct(){t.add("fullscreen",(function(t){var r=e(null);return t.inline||(bt(t,r),xt(t,r),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(r)}))}Ct()})()},f313:function(e,t,n){"use strict";(function(t,r){var i=n("6b58").default,o=n("3c96").default,a=n("a34a"),s=n("c973").default,u=n("6374").default,c=n("8962").default,l=n("36c6").default,d=n("ed6d").default,f=n("2d0d").default,A=n("5bc3").default,h=n("448a").default,p=n("9523").default,m=n("7037").default,g=n("278c").default,v=n("970b").default;function y(e,t){return t.forEach((function(t){t&&"string"!==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}n("159b"),n("b64b"),n("e439"),n("dca8"),n("d3b7"),n("25f0"),n("a434"),n("99af"),n("a9e3"),n("b680"),n("c35a"),n("caad"),n("2532"),n("4d63"),n("ac1f"),n("4fad"),n("f4dd"),n("25eb"),n("1276"),n("5319"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ace4"),n("2b3d"),n("3ca3"),n("ddb0"),n("466d"),n("2ca0"),n("a630"),n("b0c0"),n("a15b"),n("d81d"),n("07ac"),n("4de4"),n("35b3"),n("fb6a"),n("cb29"),n("498a"),n("13d5"),n("c740"),n("a4d3"),n("e01a"),n("d28b"),n("84c3"),n("fb2c"),n("c19f"),n("aff5"),n("5377"),n("7db0"),n("7039"),n("8ba4"),n("8a59"),n("fd87"),n("8b09"),n("143c"),n("cfc3"),n("4a9b"),n("9911"),n("eee7"),n("6c57"),n("131a"),n("18a5"),n("f6d6"),n("38cf"),n("10d1"),n("4ec9"),n("e21d"),n("3410"),n("af93"),n("a6fd"),n("4ae1"),n("b65f"),n("8a79"),n("ac16"),n("dbb4"),n("7f78"),function(){"undefined"!==typeof window&&("SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,n){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,t,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicRel(void 0,e,t,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcAbs(void 0,e,t,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcRel(void 0,e,t,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(void 0===e||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var n=t.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(t.pathSegList.removeItem(n),e>t.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window&&"appendItem"in window.SVGPathSegList.prototype||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach((function(e){"d"==e.attributeName&&(t=!0)})),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(e){e._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",n=!0;return e.forEach((function(e){n?(n=!1,t+=e._asPathString()):t+=" "+e._asPathString()})),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(e){this.pathSegList.push(e)};var r=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},r.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace())this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},r.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var e=0,t=0,n=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){var s=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")this._currentIndex++;if(this._currentIndex!=s){var u=this._currentIndex-1,c=1;while(u>=s)t+=c*(this._string.charAt(u--)-"0"),c*=10}if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var l=t+r;if(l*=i,e&&(l*=Math.pow(10,o*e)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),l}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},r.prototype.parseSegment=function(){var e=this._string[this._currentIndex],n=this._pathSegTypeFromChar(e);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if(n=this._nextCommandHelper(e,this._previousCommand),n==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(t);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new n,o=new r(e);if(!o.initialCommandIsMoveTo())return[];while(o.hasMoreData()){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList}))}();var b,w=function e(t){v(this,e);var n=t||{};if(this.alpha=isNaN(n.alpha)?100:n.alpha,n.copy)switch(this.type=n.copy.type,this.alpha=n.copy.alpha,this.solidColor=null,this.linearGradient=null,this.radialGradient=null,this.type){case"none":break;case"solidColor":this.solidColor=n.copy.solidColor;break;case"linearGradient":this.linearGradient=n.copy.linearGradient.cloneNode(!0);break;case"radialGradient":this.radialGradient=n.copy.radialGradient.cloneNode(!0);break}else if(n.linearGradient)if(this.type="linearGradient",this.solidColor=null,this.radialGradient=null,n.linearGradient.hasAttribute("xlink:href")){var r=document.getElementById(n.linearGradient.getAttribute("xlink:href").substr(1));this.linearGradient=r.cloneNode(!0)}else this.linearGradient=n.linearGradient.cloneNode(!0);else if(n.radialGradient)if(this.type="radialGradient",this.solidColor=null,this.linearGradient=null,n.radialGradient.hasAttribute("xlink:href")){var i=document.getElementById(n.radialGradient.getAttribute("xlink:href").substr(1));this.radialGradient=i.cloneNode(!0)}else this.radialGradient=n.radialGradient.cloneNode(!0);else n.solidColor?(this.type="solidColor",this.solidColor=n.solidColor):(this.type="none",this.solidColor=null,this.linearGradient=null,this.radialGradient=null)},x="http://www.w3.org/2000/svg",C=["x","x1","cx","rx","width"],S=["y","y1","cy","ry","height"],k=["r","radius"].concat(C,S),_={},B=function(e){b=e;var t=document.createElementNS(x,"svg");document.body.append(t);var n=document.createElementNS(x,"rect");n.setAttribute("width","1em"),n.setAttribute("height","1ex"),n.setAttribute("x","1in"),t.append(n);var r=n.getBBox();t.remove();var i=r.x;_={em:r.width,ex:r.height,in:i,cm:i/2.54,mm:i/25.4,pt:i/72,pc:i/6,px:1,"%":0}},D=function(){return _},M=function e(t){var n=b.getRoundDigits();return isNaN(t)?Array.isArray(t)?e(t[0])+","+e(t[1]):Number.parseFloat(t).toFixed(n)-0:Number(Number(t).toFixed(n))},E=function(e,t){return t=t||b.getBaseUnit(),M(e/_[t])},T=function(e,t,n){e.setAttribute(t,n)},I=function(e,t){if(!isNaN(t))return t-0;if("%"===t.substr(-1)){var n=t.substr(0,t.length-1)/100,r=b.getWidth(),i=b.getHeight();return C.includes(e)?n*r:S.includes(e)?n*i:n*Math.sqrt(r*r+i*i)/Math.sqrt(2)}var o=t.substr(-2),a=t.substr(0,t.length-2);return a*_[o]},O=function(e,t,n){if(k.includes(e))return!isNaN(t)||(t=t.toLowerCase(),Object.keys(_).some((function(e){var n=new RegExp("^-?[\\d\\.]+"+e+"$");return n.test(t)})));if("id"===e){var r=!1;try{var i=b.getElement(t);r=!i||i===n}catch(KE){console.error(KE)}return r}return!0},L={HTML:"http://www.w3.org/1999/xhtml",MATH:"http://www.w3.org/1998/Math/MathML",SE:"http://svg-edit.googlecode.com",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",OI:"http://www.optimistik.fr/namespace/svg/OIdata",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"},F=function(){var e={};return Object.entries(L).forEach((function(t){var n=g(t,2),r=n[0],i=n[1];e[i]=r.toLowerCase()})),e},P=1e-14,N=document.createElementNS(L.SVG,"svg"),U=function(e,t,n){return{x:n.a*e+n.c*t+n.e,y:n.b*e+n.d*t+n.f}},H=function(e){return 1===e.a&&0===e.b&&0===e.c&&1===e.d&&0===e.e&&0===e.f},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduceRight((function(e,t){return t.multiply(e)}));return Math.abs(r.a)<P&&(r.a=0),Math.abs(r.b)<P&&(r.b=0),Math.abs(r.c)<P&&(r.c=0),Math.abs(r.d)<P&&(r.d=0),Math.abs(r.e)<P&&(r.e=0),Math.abs(r.f)<P&&(r.f=0),r},V=function(e){if(!e)return!1;var t=e.numberOfItems;while(t--){var n=e.getItem(t);if(1===n.type&&!H(n.matrix))return!0}return!1},Q=function(e,t,n,r,i){var o=U(e,t,i),a=U(e+n,t,i),s=U(e,t+r,i),u=U(e+n,t+r,i),c=Math.min(o.x,a.x,s.x,u.x),l=Math.max(o.x,a.x,s.x,u.x),d=Math.min(o.y,a.y,s.y,u.y),f=Math.max(o.y,a.y,s.y,u.y);return{tl:o,tr:a,bl:s,br:u,aabox:{x:c,y:d,width:l-c,height:f-d}}},j=function(e,t,n){if(!e)return N.createSVGTransformFromMatrix(N.createSVGMatrix());if(t=t||0,n=n||e.numberOfItems-1,t=Number.parseInt(t),n=Number.parseInt(n),t>n){var r=n;n=t,t=r}for(var i=N.createSVGMatrix(),o=t;o<=n;++o){var a=o>=0&&o<e.numberOfItems?e.getItem(o).matrix:N.createSVGMatrix();i=R(i,a)}return N.createSVGTransformFromMatrix(i)},z=function(e){var t=e.transform.baseVal;return j(t).matrix},G=function(e,t,n,r){var i=Math.PI/4,o=n-e,a=r-t,s=Math.atan2(a,o),u=Math.sqrt(o*o+a*a),c=Math.round(s/i)*i;return{x:e+u*Math.cos(c),y:t+u*Math.sin(c),a:c}},K=function(e,t){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y};
/**
 * Tools for working with units.
 * @module units
 * @license MIT
 *
 * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller
 */function q(e){var t=0,n=0;if(e.offsetParent){do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return{left:t,top:n}}return{left:t,top:n}}function W(e){return e&&"object"===m(e)&&!Array.isArray(e)}function $(e,t){var n=Object.assign({},e);return W(e)&&W(t)&&Object.keys(t).forEach((function(r){W(t[r])&&r in e?n[r]=$(e[r],t[r]):Object.assign(n,p({},r,t[r]))})),n}function X(e,t){var n,r,i=t.charAt(0),o="classList"in document.documentElement;for("["===i&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(r=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document&&1===e.nodeType;e=e.parentNode){if("."===i)if(o){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===i&&e.id===t.substr(1))return e;if("["===i&&e.hasAttribute(n[0])){if(!r)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null}function Y(e,t){for(var n=[],r=null===t||void 0===t?void 0:t.charAt(0);e&&e!==document;e=e.parentNode)t?("."===r&&e.classList.contains(t.substr(1))&&n.push(e),"#"===r&&e.id===t.substr(1)&&n.push(e),"["===r&&e.hasAttribute(t.substr(1,t.length-1))&&n.push(e),e.tagName.toLowerCase()===t&&n.push(e)):n.push(e);return n.length?n:null}function J(e,t,n){for(var r=[],i=null===t||void 0===t?void 0:t.charAt(0),o=null===n||void 0===n?void 0:n.selector.charAt(0);e&&e!==document;e=e.parentNode){if(t){if("."===i&&e.classList.contains(t.substr(1)))break;if("#"===i&&e.id===t.substr(1))break;if("["===i&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}n?("."===o&&e.classList.contains(n.substr(1))&&r.push(e),"#"===o&&e.id===n.substr(1)&&r.push(e),"["===o&&e.hasAttribute(n.substr(1,n.length-1))&&r.push(e),e.tagName.toLowerCase()===n&&r.push(e)):r.push(e)}return r.length?r:null}
/**
 * Miscellaneous utilities.
 * @module utilities
 * @license MIT
 *
 * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller
 */var Z="a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use,clipPath",ee=Z.split(","),te=null,ne=null,re=function(e){te=e,ne=e.getSvgRoot()},ie=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")};function oe(e){return e=ce(e),window.btoa(e)}function ae(e){return ue(window.atob(e))}function se(e){var t,n=0;if(0===e.length)return n;for(var r=0;r<e.length;r++)t=e.charCodeAt(r),n=(n<<5)-n+t,n|=0;return n}function ue(e){return decodeURIComponent(escape(e))}var ce=function(e){return unescape(encodeURIComponent(e))},le=function(e){if("undefined"===typeof Uint8Array||"undefined"===typeof Blob||"undefined"===typeof URL||!URL.createObjectURL)return"";var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,o=new Uint8Array(i);while(i--)o[i]=r.charCodeAt(i);var a=new Blob([o],{type:n});return URL.createObjectURL(a)},de=function(e){return e&&"undefined"!==typeof URL&&URL.createObjectURL?URL.createObjectURL(e):""},fe=function(){if("undefined"===typeof Blob)return"";var e=new Blob(["<html><head><title>SVG-edit</title></head><body>&nbsp;</body></html>"],{type:"text/html"});return de(e)}(),Ae=function(e){var t,n;e.includes("<svg:svg")&&(e=e.replace(/<(\/?)svg:/g,"<$1").replace("xmlns:svg","xmlns"));try{n=new DOMParser,n.async=!1}catch(KE){throw new Error("XML Parser could not be instantiated")}try{t=n.parseFromString(e,"text/xml")}catch(r){throw new Error("Error parsing XML string")}return t},he=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{x:t,y:n,width:r,height:i}},pe=function e(t,n){if(1===(null===t||void 0===t?void 0:t.nodeType)){n(t);var r=t.childNodes.length;while(r--)e(t.childNodes.item(r),n)}},me=function(e,t){if(1===(null===e||void 0===e?void 0:e.nodeType)){var n=e.childNodes.length;while(n--)pe(e.childNodes.item(n),t);t(e)}},ge=function(e){if(e){if(e.startsWith('url("'))return e.substring(5,e.indexOf('"',6));if(e.startsWith("url('"))return e.substring(5,e.indexOf("'",6));if(e.startsWith("url("))return e.substring(4,e.indexOf(")"))}return null},ve=function(e){return e.getAttributeNS(L.XLINK,"href")},ye=function(e,t){e.setAttributeNS(L.XLINK,"xlink:href",t)},be=function(){var e=te.getSvgContent(),t=e.getElementsByTagNameNS(L.SVG,"defs");return t.length>0?t=t[0]:(t=e.ownerDocument.createElementNS(L.SVG,"defs"),e.firstChild?e.insertBefore(t,e.firstChild.nextSibling):e.append(t)),t},we=function(e){var t=e||te.getSelectedElements()[0];if(1!==e.nodeType)return null;var n=t.nodeName,r=null;switch(n){case"text":""===t.textContent?(t.textContent="a",r=t.getBBox(),t.textContent=""):t.getBBox&&(r=t.getBBox());break;case"path":case"g":case"a":t.getBBox&&(r=t.getBBox());break;default:if("use"===n)r=t.getBBox();else if(ee.includes(n))if(t)try{r=t.getBBox()}catch(s){var i=t.getExtentOfChar(0),o=t.getComputedTextLength();r={x:i.x,y:i.y,width:o,height:i.height}}else{var a=X(t.parentNode,"foreignObject");a.length&&a[0].getBBox&&(r=a[0].getBBox())}}return r&&(r=he(r)),r},xe=function(e){var t="";return e.forEach((function(e,n){var r=g(e,2),i=r[0],o=r[1];t+=i;for(var a=0;a<o.length;a+=2)t+=o[a]+","+o[a+1]+" "})),t},Ce=function(e){var t,n,r,i=1.81;switch(e.tagName){case"ellipse":case"circle":n=Number(e.getAttribute("rx")),r=Number(e.getAttribute("ry"));var o=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy"));"circle"===e.tagName&&e.hasAttribute("r")&&(r=Number(e.getAttribute("r")),n=r),t=xe([["M",[o-n,a]],["C",[o-n,a-r/i,o-n/i,a-r,o,a-r]],["C",[o+n/i,a-r,o+n,a-r/i,o+n,a]],["C",[o+n,a+r/i,o+n/i,a+r,o,a+r]],["C",[o-n/i,a+r,o-n,a+r/i,o-n,a]],["Z",[]]]);break;case"path":t=e.getAttribute("d");break;case"line":var s=e.getAttribute("x1"),u=e.getAttribute("y1"),c=e.getAttribute("x2"),l=e.getAttribute("y2");t="M"+s+","+u+"L"+c+","+l;break;case"polyline":t="M"+e.getAttribute("points");break;case"polygon":t="M"+e.getAttribute("points")+" Z";break;case"rect":n=Number(e.getAttribute("rx")),r=Number(e.getAttribute("ry"));var d=e.getBBox(),f=d.x,A=d.y,h=d.width,p=d.height;i=4-i,t=xe(n||r?[["M",[f,A+r]],["C",[f,A+r/i,f+n/i,A,f+n,A]],["L",[f+h-n,A]],["C",[f+h-n/i,A,f+h,A+r/i,f+h,A+r]],["L",[f+h,A+p-r]],["C",[f+h,A+p-r/i,f+h-n/i,A+p,f+h-n,A+p]],["L",[f+n,A+p]],["C",[f+n/i,A+p,f,A+p-r/i,f,A+p-r]],["L",[f,A+r]],["Z",[]]]:[["M",[f,A]],["L",[f+h,A]],["L",[f+h,A+p]],["L",[f,A+p]],["L",[f,A]],["Z",[]]]);break}return t},Se=function(e){var t={};return["marker-start","marker-end","marker-mid","filter","clip-path"].forEach((function(n){var r=e.getAttribute(n);r&&(t[n]=r)})),t},ke=function(e,t,n){var r=t({element:"path",attr:Se(e)}),i=e.getAttribute("transform");i&&r.setAttribute("transform",i);var o=e.parentNode;e.nextSibling?e.before(r):o.append(r);var a=Ce(e);a?r.setAttribute("d",a):r.remove(),n.resetOrientation(r);var s=!1;try{s=r.getBBox()}catch(KE){}return r.remove(),s},_e=function(e,t,n){var r=new n.history.BatchCommand("Convert element to Path");t=$(t,Se(e));var i=n.addSVGElementsFromJson({element:"path",attr:t}),o=e.getAttribute("transform");o&&i.setAttribute("transform",o);var a=e.id,s=e.parentNode;e.nextSibling?e.before(i):s.append(i);var u=Ce(e);if(u){if(i.setAttribute("d",u),o){var c=i.transform.baseVal;V(c)&&n.pathActions.resetOrientation(i)}var l=e.nextSibling;return r.addSubCommand(new n.history.RemoveElementCommand(e,l,e.parentNode)),n.clearSelection(),e.remove(),r.addSubCommand(new n.history.InsertElementCommand(i)),i.setAttribute("id",a),i.removeAttribute("visibility"),n.addToSelection([i],!0),n.addCommandToHistory(r),i}return i.remove(),null};function Be(e,t){var n=e%90,r=n<-89.99||n>89.99,i=n>-.001&&n<.001;return t||!(i||r)}var De=function(e,t,n){var r=we(e);if(!r)return null;var i=e.transform.baseVal,o=Oe(i),a=V(i);if(o||a){var s=!1;if(Be(o,a)){var u=["ellipse","path","line","polyline","polygon"];if(u.includes(e.tagName))s=ke(e,t,n),r=s;else if("rect"===e.tagName){var c=Number(e.getAttribute("rx")),l=Number(e.getAttribute("ry"));(c||l)&&(s=ke(e,t,n),r=s)}}if(!s){var d=j(i),f=d.matrix;r=Q(r.x,r.y,r.width,r.height,f).aabox}}return r},Me=function(e){var t=e.getAttribute("stroke-width");return isNaN(t)||"none"===e.getAttribute("stroke")?0:t/2},Ee=function(e,t,n){if(!e||!e.length)return!1;var r;if(e.forEach((function(e){r||e.parentNode&&(r=De(e,t,n))})),!r)return null;var i=r.x+r.width,o=r.y+r.height,a=r.x,s=r.y;if(1===e.length){var u=Me(e[0]);a-=u,s-=u,i+=u,o+=u}else e.forEach((function(e){var r=De(e,t,n);if(r){var u=Me(e);a=Math.min(a,r.x-u),s=Math.min(s,r.y-u),1===e.nodeType&&(i=Math.max(i,r.x+r.width+u),o=Math.max(o,r.y+r.height+u))}}));return r.x=a,r.y=s,r.width=i-a,r.height=o-s,r},Te=function(e){if(!e)for(var t=te.getSvgContent(),n=0;n<t.children.length;n++)if(t.children[n].getBBox){var r=t.children[n].getBBox();if(0!==r.width&&0!==r.height&&0!==r.width&&0!==r.height){e=t.children[n];break}}var i=[];if(e){var o=e.children;Array.from(o,(function(e){e.getBBox&&i.push(e)}))}return i.reverse()},Ie=function(e){return e||(e=Te()),Ee(e,te.addSVGElementsFromJson,te.pathActions)},Oe=function(e,t){if(!e)return 0;for(var n=0;n<e.numberOfItems;++n){var r=e.getItem(n);if(4===r.type)return t?r.angle*Math.PI/180:r.angle}return 0},Le=function(e,t){var n,r=e||te.getSelectedElements()[0],i=null===(n=r.transform)||void 0===n?void 0:n.baseVal;return Oe(i,t)},Fe=function(e){return Ne(ge(e).substr(1))},Pe=function(e){var t;if("feGaussianBlur"===(null===e||void 0===e||null===(t=e.firstChild)||void 0===t?void 0:t.tagName))return e.firstChild;for(var n=e.children,r=0,i=Object.entries(n);r<i.length;r++){var o=g(i[r],2),a=(o[0],o[1]);if("feGaussianBlur"===a.tagName)return a}return null},Ne=function(e){return ne.querySelector("#"+e)},Ue=function(e,t,n,r){for(var i=0,o=Object.entries(t);i<o.length;i++){var a=g(o[i],2),s=a[0],u=a[1],c="xml:"===s.substr(0,4)?L.XML:"xlink:"===s.substr(0,6)?L.XLINK:null;void 0!==u?c?e.setAttributeNS(c,s,u):r?T(e,s,u):e.setAttribute(s,u):c?e.removeAttributeNS(c,s):e.removeAttribute(s)}},He=function(e){var t={"fill-opacity":1,"stop-opacity":1,opacity:1,stroke:"none","stroke-dasharray":"none","stroke-linejoin":"miter","stroke-linecap":"butt","stroke-opacity":1,"stroke-width":1,rx:0,ry:0};"ellipse"===e.nodeName&&(delete t.rx,delete t.ry),Object.entries(t).forEach((function(t){var n=g(t,2),r=n[0],i=n[1];e.getAttribute(r)===String(i)&&e.removeAttribute(r)}))},Re=function(e){var t=te.getBaseUnit(),n=te.getSnappingStep();return"px"!==t&&(n*=D()[t]),e=Math.round(e/n)*n,e},Ve=function(e){qe(e,(function(e){e.preventDefault()}))},Qe=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html");return n.body.firstChild},je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Qe(t);n>=e.children.length?e.appendChild(r):e.insertBefore(r,e.children[n])},ze=function(e){return document.getElementById(e)},Ge=function(e){return document.querySelector(e)},Ke=function(e){return h(document.querySelectorAll(e))},qe=function(e,t){e.addEventListener("click",t),e.addEventListener("touchend",t)},We={BEFORE_APPLY:"before_apply",AFTER_APPLY:"after_apply",BEFORE_UNAPPLY:"before_unapply",AFTER_UNAPPLY:"after_unapply"},$e=function(){function e(){v(this,e)}return A(e,[{key:"getText",value:function(){return this.text}},{key:"apply",value:function(e,t){e&&e.handleHistoryEvent(We.BEFORE_APPLY,this),t(e),e&&e.handleHistoryEvent(We.AFTER_APPLY,this)}},{key:"unapply",value:function(e,t){e&&e.handleHistoryEvent(We.BEFORE_UNAPPLY,this),t(),e&&e.handleHistoryEvent(We.AFTER_UNAPPLY,this)}},{key:"elements",value:function(){return[this.elem]}},{key:"type",value:function(){return this.constructor.name}}]),e}(),Xe=function(e){d(n,e);var t=f(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this),a.elem=e,a.text=o?"Move "+e.tagName+" to "+o:"Move "+e.tagName,a.oldNextSibling=r,a.oldParent=i,a.newNextSibling=e.nextSibling,a.newParent=e.parentNode,a}return A(n,[{key:"apply",value:function(e){var t=this;c(l(n.prototype),"apply",this).call(this,e,(function(){t.elem=t.newParent.insertBefore(t.elem,t.newNextSibling)}))}},{key:"unapply",value:function(e){var t=this;c(l(n.prototype),"unapply",this).call(this,e,(function(){t.elem=t.oldParent.insertBefore(t.elem,t.oldNextSibling)}))}}]),n}($e),Ye=function(e){d(n,e);var t=f(n);function n(e,r){var i;return v(this,n),i=t.call(this),i.elem=e,i.text=r||"Create "+e.tagName,i.parent=e.parentNode,i.nextSibling=i.elem.nextSibling,i}return A(n,[{key:"apply",value:function(e){var t=this;c(l(n.prototype),"apply",this).call(this,e,(function(){t.elem=t.parent.insertBefore(t.elem,t.nextSibling)}))}},{key:"unapply",value:function(e){var t=this;c(l(n.prototype),"unapply",this).call(this,e,(function(){t.parent=t.elem.parentNode,t.elem.remove()}))}}]),n}($e),Je=function(e){d(n,e);var t=f(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this),a.elem=e,a.text=o||"Delete "+e.tagName,a.nextSibling=r,a.parent=i,a}return A(n,[{key:"apply",value:function(e){var t=this;c(l(n.prototype),"apply",this).call(this,e,(function(){t.parent=t.elem.parentNode,t.elem.remove()}))}},{key:"unapply",value:function(e){var t=this;c(l(n.prototype),"unapply",this).call(this,e,(function(){t.nextSibling||console.error("Reference element was lost"),t.parent.insertBefore(t.elem,t.nextSibling)}))}}]),n}($e),Ze=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;for(var a in v(this,n),o=t.call(this),o.elem=e,o.text=i?"Change "+e.tagName+" "+i:"Change "+e.tagName,o.newValues={},o.oldValues=r,r)o.newValues[a]="#text"===a?e?e.textContent:"":"#href"===a?ve(e):e.getAttribute(a);return o}return A(n,[{key:"apply",value:function(e){var t=this;c(l(n.prototype),"apply",this).call(this,e,(function(){var e=!1;if(Object.entries(t.newValues).forEach((function(n){var r=g(n,2),i=r[0],o=r[1];o?"#text"===i?t.elem.textContent=o:"#href"===i?ye(t.elem,o):t.elem.setAttribute(i,o):"#text"===i?t.elem.textContent="":(t.elem.setAttribute(i,""),t.elem.removeAttribute(i)),"transform"===i&&(e=!0)})),!e){var n=Le(t.elem);if(n){var r=we(t.elem),i=r.x+r.width/2,o=r.y+r.height/2,a=["rotate(",n," ",i,",",o,")"].join("");a!==t.elem.getAttribute("transform")&&t.elem.setAttribute("transform",a)}}}))}},{key:"unapply",value:function(e){var t=this;c(l(n.prototype),"unapply",this).call(this,e,(function(){var e=!1;if(Object.entries(t.oldValues).forEach((function(n){var r=g(n,2),i=r[0],o=r[1];o?"#text"===i?t.elem.textContent=o:"#href"===i?ye(t.elem,o):t.elem.setAttribute(i,o):"#text"===i?t.elem.textContent="":t.elem.removeAttribute(i),"transform"===i&&(e=!0)})),!e){var n=Le(t.elem);if(n){var r=we(t.elem),i=r.x+r.width/2,o=r.y+r.height/2,a=["rotate(",n," ",i,",",o,")"].join("");a!==t.elem.getAttribute("transform")&&t.elem.setAttribute("transform",a)}}}))}}]),n}($e),et=function(e){d(n,e);var t=f(n);function n(e){var r;return v(this,n),r=t.call(this),r.text=e||"Batch Command",r.stack=[],r}return A(n,[{key:"apply",value:function(e){var t=this;c(l(n.prototype),"apply",this).call(this,e,(function(){t.stack.forEach((function(t){console.assert(t,"stack item should not be null"),t&&t.apply(e)}))}))}},{key:"unapply",value:function(e){var t=this;c(l(n.prototype),"unapply",this).call(this,e,(function(){t.stack.reverse().forEach((function(t){console.assert(t,"stack item should not be null"),t&&t.unapply(e)}))}))}},{key:"elements",value:function(){var e=[],t=this.stack.length;while(t--)if(this.stack[t]){var n=this.stack[t].elements(),r=n.length;while(r--)e.includes(n[r])||e.push(n[r])}return e}},{key:"addSubCommand",value:function(e){console.assert(null!==e,"cmd should not be null"),this.stack.push(e)}},{key:"isEmpty",value:function(){return!this.stack.length}}]),n}($e),tt=function(){function e(t){v(this,e),this.handler_=t||null,this.undoStackPointer=0,this.undoStack=[],this.undoChangeStackPointer=-1,this.undoableChangeStack=[]}return A(e,[{key:"resetUndoStack",value:function(){this.undoStack=[],this.undoStackPointer=0}},{key:"getUndoStackSize",value:function(){return this.undoStackPointer}},{key:"getRedoStackSize",value:function(){return this.undoStack.length-this.undoStackPointer}},{key:"getNextUndoCommandText",value:function(){return this.undoStackPointer>0?this.undoStack[this.undoStackPointer-1].getText():""}},{key:"getNextRedoCommandText",value:function(){return this.undoStackPointer<this.undoStack.length?this.undoStack[this.undoStackPointer].getText():""}},{key:"undo",value:function(){if(this.undoStackPointer>0){var e=this.undoStack[--this.undoStackPointer];e.unapply(this.handler_)}}},{key:"redo",value:function(){if(this.undoStackPointer<this.undoStack.length&&this.undoStack.length>0){var e=this.undoStack[this.undoStackPointer++];e.apply(this.handler_)}}},{key:"addCommandToHistory",value:function(e){this.undoStackPointer<this.undoStack.length&&this.undoStack.length>0&&(this.undoStack=this.undoStack.splice(0,this.undoStackPointer)),this.undoStack.push(e),this.undoStackPointer=this.undoStack.length}},{key:"beginUndoableChange",value:function(e,t){var n=++this.undoChangeStackPointer,r=t.length,i=new Array(r),o=new Array(r);while(r--){var a=t[r];a&&(o[r]=a,i[r]=a.getAttribute(e))}this.undoableChangeStack[n]={attrName:e,oldValues:i,elements:o}}},{key:"finishUndoableChange",value:function(){var e=this.undoChangeStackPointer--,t=this.undoableChangeStack[e],n=t.attrName,r=new et("Change "+n),i=t.elements.length;while(i--){var o=t.elements[i];if(o){var a={};a[n]=t.oldValues[i],a[n]!==o.getAttribute(n)&&r.addSubCommand(new Ze(o,a,n))}}return this.undoableChangeStack[e]=null,r}}]),e}(),nt=Object.freeze({__proto__:null,HistoryEventTypes:We,Command:$e,MoveElementCommand:Xe,InsertElementCommand:Ye,RemoveElementCommand:Je,ChangeElementCommand:Ze,BatchCommand:et,UndoManager:tt}),rt=null,it=function(e){rt=e},ot=function(e,t){var n=rt.getSegData(),r=n[e];return r.map((function(e){return t[e]}))},at=function(e,t){var n=e.path,r={x:t?t.x:e.item.x,y:t?t.y:e.item.y};if(n.matrix){var i=U(r.x,r.y,n.matrix);r=i}var o=rt.getZoom();return r.x*=o,r.y*=o,r},st=function(e,t){var n={x:e.x,y:e.y};t.matrix&&(e=U(n.x,n.y,t.imatrix),n.x=e.x,n.y=e.y);var r=rt.getZoom();return n.x/=r,n.y/=r,n},ut=function(){var e=Ne("pathpointgrip_container");if(!e){var t=Ne("selectorParentGroup");e=document.createElementNS(L.SVG,"g"),t.append(e),e.id="pathpointgrip_container"}return e},ct=function(e,t,n){var r=ut(),i=Ne("pathpointgrip_"+e);if(!i){i=document.createElementNS(L.SVG,"circle");var o={id:"pathpointgrip_"+e,display:"none",r:4,fill:"#0FF",stroke:"#00F","stroke-width":2,cursor:"move",style:"pointer-events:all"},a=rt.getUIStrings();"pathNodeTooltip"in a&&(o["xlink:title"]=a.pathNodeTooltip),Ue(i,o),r.append(i);var s=document.getElementById("pathpointgrip_"+e);null===s||void 0===s||s.addEventListener("dblclick",(function(){var e=rt.getPathObj();e&&e.setSegType()}))}return t&&n&&Ue(i,{cx:t,cy:n,display:"inline"}),i},lt=function(e){var t=Ne("ctrlpointgrip_"+e);if(t)return t;t=document.createElementNS(L.SVG,"circle");var n={id:"ctrlpointgrip_"+e,display:"none",r:4,fill:"#0FF",stroke:"#55F","stroke-width":1,cursor:"move",style:"pointer-events:all"},r=rt.getUIStrings();return"pathCtrlPtTooltip"in r&&(n["xlink:title"]=r.pathCtrlPtTooltip),Ue(t,n),ut().append(t),t},dt=function(e){var t=Ne("ctrlLine_"+e);return t||(t=document.createElementNS(L.SVG,"line"),Ue(t,{id:"ctrlLine_"+e,stroke:"#555","stroke-width":1,style:"pointer-events:none"}),ut().append(t),t)},ft=function(e,t){var n=e.index,r=ct(n);if(t){var i=at(e);Ue(r,{cx:i.x,cy:i.y,display:"inline"})}return r},At=function(e){var t=e.item,n=e.index;if(!("x1"in t)||!("x2"in t))return null;var r={};ut();for(var i=rt.getPathObj(),o=i.segs[n-1].item,a=[o,t],s=1;s<3;s++){var u=n+"c"+s,c=r["c"+s+"_line"]=dt(u),l=at(e,{x:t["x"+s],y:t["y"+s]}),d=at(e,{x:a[s-1].x,y:a[s-1].y});Ue(c,{x1:l.x,y1:l.y,x2:d.x,y2:d.y,display:"inline"}),r["c"+s+"_line"]=c;var f=r["c"+s]=lt(u);Ue(f,{cx:l.x,cy:l.y,display:"inline"}),r["c"+s]=f}return r},ht=function(e,t,n,r){var i=rt.getPathObj(),o=r||i.elem,a=rt.getPathFuncs(),s="createSVGPathSeg"+a[e],u=o[s].apply(o,h(n));o.pathSegList.replaceItem(u,t)},pt=function(e,t){var n=e.index,r=Ne("segline_"+n);if(!r){var i=ut();r=document.createElementNS(L.SVG,"path"),Ue(r,{id:"segline_"+n,display:"none",fill:"none",stroke:"#0FF","stroke-width":2,style:"pointer-events:none",d:"M0,0 0,0"}),i.append(r)}if(t){var o=e.prev;if(!o)return r.setAttribute("display","none"),r;var a=at(o);ht(2,0,[a.x,a.y],r);for(var s=ot(e.type,e.item),u=0;u<s.length;u+=2){var c=at(e,{x:s[u],y:s[u+1]});s[u]=c.x,s[u+1]=c.y}ht(e.type,1,s,r)}return r},mt=function(){function e(t,n){v(this,e),this.selected=!1,this.index=t,this.item=n,this.type=n.pathSegType,this.ctrlpts=[],this.ptgrip=null,this.segsel=null}return A(e,[{key:"showCtrlPts",value:function(e){for(var t in this.ctrlpts)({}).hasOwnProperty.call(this.ctrlpts,t)&&this.ctrlpts[t].setAttribute("display",e?"inline":"none")}},{key:"selectCtrls",value:function(e){document.getElementById("ctrlpointgrip_"+this.index+"c1").setAttribute("fill",e?"#0FF":"#EEE"),document.getElementById("ctrlpointgrip_"+this.index+"c2").setAttribute("fill",e?"#0FF":"#EEE")}},{key:"show",value:function(e){this.ptgrip&&(this.ptgrip.setAttribute("display",e?"inline":"none"),this.segsel.setAttribute("display",e?"inline":"none"),this.showCtrlPts(e))}},{key:"select",value:function(e){this.ptgrip&&(this.ptgrip.setAttribute("stroke",e?"#0FF":"#00F"),this.segsel.setAttribute("display",e?"inline":"none"),this.ctrlpts&&this.selectCtrls(e),this.selected=e)}},{key:"addGrip",value:function(){this.ptgrip=ft(this,!0),this.ctrlpts=At(this),this.segsel=pt(this,!0)}},{key:"update",value:function(e){if(this.ptgrip){var t=at(this);if(Ue(this.ptgrip,{cx:t.x,cy:t.y}),pt(this,!0),this.ctrlpts){if(e){var n=rt.getPathObj();this.item=n.elem.pathSegList.getItem(this.index),this.type=this.item.pathSegType}At(this)}}}},{key:"move",value:function(e,t){var n,r=this.item,i=this.ctrlpts?[r.x+=e,r.y+=t,r.x1,r.y1,r.x2+=e,r.y2+=t]:[r.x+=e,r.y+=t];if(ht(this.type,this.index,10===this.type?ot(this.type,r):i),null!==(n=this.next)&&void 0!==n&&n.ctrlpts){var o=this.next.item,a=[o.x,o.y,o.x1+=e,o.y1+=t,o.x2,o.y2];ht(this.next.type,this.next.index,a)}if(this.mate){var s=this.mate.item,u=[s.x+=e,s.y+=t];ht(this.mate.type,this.mate.index,u)}this.update(!0),this.next&&this.next.update(!0)}},{key:"setLinked",value:function(e){var t,n,r;if(2===e){if(n=1,t=this.next,!t)return;r=this.item}else{if(n=2,t=this.prev,!t)return;r=t.item}var i=t,o=i.item;o["x"+n]=r.x+(r.x-this.item["x"+e]),o["y"+n]=r.y+(r.y-this.item["y"+e]);var a=[o.x,o.y,o.x1,o.y1,o.x2,o.y2];ht(t.type,t.index,a),t.update(!0)}},{key:"moveCtrl",value:function(e,t,n){var r=this.item;r["x"+e]+=t,r["y"+e]+=n;var i=[r.x,r.y,r.x1,r.y1,r.x2,r.y2];ht(this.type,this.index,i),this.update(!0)}},{key:"setType",value:function(e,t){ht(e,this.index,t),this.type=e;var n=rt.getPathObj();this.item=n.elem.pathSegList.getItem(this.index),this.showCtrlPts(6===e),this.ctrlpts=At(this),this.update(!0)}}]),e}(),gt=function(){function e(t){if(v(this,e),!t||"path"!==t.tagName)throw new Error("svgedit.path.Path constructed without a <path> element");this.elem=t,this.segs=[],this.selected_pts=[],rt.setPathObj(this),this.init()}return A(e,[{key:"setPathContext",value:function(){rt.setPathObj(this)}},{key:"init",value:function(){var e=ut(),t=e.querySelectorAll("*");Array.prototype.forEach.call(t,(function(e){e.setAttribute("display","none")}));var n=this.elem.pathSegList,r=n.numberOfItems;this.segs=[],this.selected_pts=[],this.first_seg=null;for(var i=0;i<r;i++){var o=n.getItem(i),a=new mt(i,o);a.path=this,this.segs.push(a)}for(var s=this.segs,u=null,c=0;c<r;c++){var l=s[c],d=c+1>=r?null:s[c+1],f=c-1<0?null:s[c-1];if(2===l.type){if(f&&1!==f.type){var A=s[u];A.next=s[u+1],A.next.prev=A,A.addGrip()}u=c}else if(1===(null===d||void 0===d?void 0:d.type))l.next=s[u+1],l.next.prev=l,l.mate=s[u],l.addGrip(),this.first_seg||(this.first_seg=l);else if(d)1!==l.type&&(l.addGrip(),d&&2!==d.type&&(l.next=d,l.next.prev=l));else if(1!==l.type){var h=s[u];h.next=s[u+1],h.next.prev=h,h.addGrip(),l.addGrip(),this.first_seg||(this.first_seg=s[u])}}return this}},{key:"eachSeg",value:function(e){for(var t=this.segs.length,n=0;n<t;n++){var r=e.call(this.segs[n],n);if(!1===r)break}}},{key:"addSeg",value:function(e){var t=this.segs[e];if(t.prev){var n,r,i,o=t.prev;switch(t.item.pathSegType){case 4:r=(t.item.x+o.item.x)/2,i=(t.item.y+o.item.y)/2,n=this.elem.createSVGPathSegLinetoAbs(r,i);break;case 6:var a=(o.item.x+t.item.x1)/2,s=(t.item.x1+t.item.x2)/2,u=(t.item.x2+t.item.x)/2,c=(a+s)/2,l=(s+u)/2;r=(c+l)/2;var d=(o.item.y+t.item.y1)/2,f=(t.item.y1+t.item.y2)/2,A=(t.item.y2+t.item.y)/2,h=(d+f)/2,p=(f+A)/2;i=(h+p)/2,n=this.elem.createSVGPathSegCurvetoCubicAbs(r,i,a,d,c,h);var m=[t.item.x,t.item.y,l,p,u,A];ht(t.type,e,m);break}var g=this.elem.pathSegList;g.insertItemBefore(n,e)}}},{key:"deleteSeg",value:function(e){var t=this.segs[e],n=this.elem.pathSegList;t.show(!1);var r=t.next;if(t.mate){var i=[r.item.x,r.item.y];ht(2,r.index,i),ht(4,t.index,i),n.removeItem(t.mate.index)}else if(t.prev)n.removeItem(e);else{var o=[r.item.x,r.item.y];ht(2,t.next.index,o),n.removeItem(e)}}},{key:"removePtFromSelection",value:function(e){var t=this.selected_pts.indexOf(e);-1!==t&&(this.segs[e].select(!1),this.selected_pts.splice(t,1))}},{key:"clearSelection",value:function(){this.eachSeg((function(){this.select(!1)})),this.selected_pts=[]}},{key:"storeD",value:function(){this.last_d=this.elem.getAttribute("d")}},{key:"show",value:function(e){return this.eachSeg((function(){this.show(e)})),e&&this.selectPt(this.first_seg.index),this}},{key:"movePts",value:function(e,t){var n=this.selected_pts.length;while(n--){var r=this.segs[this.selected_pts[n]];r.move(e,t)}}},{key:"moveCtrl",value:function(e,t){var n=this.segs[this.selected_pts[0]];n.moveCtrl(this.dragctrl,e,t),rt.getLinkControlPts()&&n.setLinked(this.dragctrl)}},{key:"setSegType",value:function(e){this.storeD();var t,n=this.selected_pts.length;while(n--){var r=this.selected_pts[n],i=this.segs[r],o=i.prev;if(o){if(!e){t="Toggle Path Segment Type";var a=i.type;e=6===a?4:6}e=Number(e);var s=i.item.x,u=i.item.y,c=o.item.x,l=o.item.y,d=void 0;switch(e){case 6:if(i.olditem){var f=i.olditem;d=[s,u,f.x1,f.y1,f.x2,f.y2]}else{var A=s-c,h=u-l,p=c+A/3,m=l+h/3,g=s-A/3,v=u-h/3;d=[s,u,p,m,g,v]}break;case 4:d=[s,u],i.olditem=i.item;break}i.setType(e,d)}}var y=rt.getPathObj();y.endChanges(t)}},{key:"selectPt",value:function(e,t){this.clearSelection(),e||this.eachSeg((function(t){this.prev&&(e=t)})),this.addPtsToSelection(e),t&&(this.dragctrl=t,rt.getLinkControlPts()&&this.segs[e].setLinked(t))}},{key:"update",value:function(){var e=this.elem;return Le(e)?(this.matrix=z(e),this.imatrix=this.matrix.inverse()):(this.matrix=null,this.imatrix=null),this.eachSeg((function(t){this.item=e.pathSegList.getItem(t),this.update()})),this}},{key:"endChanges",value:function(e){var t=new Ze(this.elem,{d:this.last_d},e);rt.endChanges({cmd:t,elem:this.elem})}},{key:"addPtsToSelection",value:function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=t.segs[e];n.ptgrip&&!t.selected_pts.includes(e)&&e>=0&&t.selected_pts.push(e)})),this.selected_pts.sort();var n=this.selected_pts.length,r=[];r.length=n;while(n--){var i=this.selected_pts[n],o=this.segs[i];o.select(!0),r[n]=o.ptgrip}var a=gt.subpathIsClosed(this.selected_pts[0]);rt.addPtsToSelection({grips:r,closedSubpath:a})}}],[{key:"subpathIsClosed",value:function(e){var t=!1,n=rt.getPathObj();return n.eachSeg((function(n){return n<=e||2!==this.type&&(1!==this.type||(t=!0,!1))})),t}}]),e}(),vt=null,yt=null,bt=function(e){vt=e},wt=function(e,t){for(var n=e.pathSegList,r=n.numberOfItems,i=0,o=0,a="",s=null,u=0;u<r;++u){var c=n.getItem(u),l=c.x||0,d=c.y||0,f=c.x1||0,A=c.y1||0,h=c.x2||0,p=c.y2||0,m=c.pathSegTypeAsLetter;switch(m){case"z":case"Z":a+="z",s&&!t&&(i=s[0],o=s[1]);break;case"H":l-=i;case"h":t?(d=0,i+=l,m="l"):(d=o,l+=i,i=l,m="L"),a+=xt(m,[[l,d]]);break;case"V":d-=o;case"v":t?(l=0,o+=d,m="l"):(l=i,d+=o,o=d,m="L"),a+=xt(m,[[l,d]]);break;case"M":case"L":case"T":l-=i,d-=o;case"l":case"m":case"t":t?(i+=l,o+=d,m=m.toLowerCase()):(l+=i,d+=o,i=l,o=d,m=m.toUpperCase()),"m"!==m&&"M"!==m||(s=[i,o]),a+=xt(m,[[l,d]]);break;case"C":l-=i,f-=i,h-=i,d-=o,A-=o,p-=o;case"c":t?(i+=l,o+=d,m="c"):(l+=i,f+=i,h+=i,d+=o,A+=o,p+=o,i=l,o=d,m="C"),a+=xt(m,[[f,A],[h,p],[l,d]]);break;case"Q":l-=i,f-=i,d-=o,A-=o;case"q":t?(i+=l,o+=d,m="q"):(l+=i,f+=i,d+=o,A+=o,i=l,o=d,m="Q"),a+=xt(m,[[f,A],[l,d]]);break;case"A":l-=i,d-=o;case"a":t?(i+=l,o+=d,m="a"):(l+=i,d+=o,i=l,o=d,m="A"),a+=xt(m,[[c.r1,c.r2]],[c.angle,c.largeArcFlag?1:0,c.sweepFlag?1:0],[l,d]);break;case"S":l-=i,h-=i,d-=o,p-=o;case"s":t?(i+=l,o+=d,m="s"):(l+=i,h+=i,d+=o,p+=o,i=l,o=d,m="S"),a+=xt(m,[[h,p],[l,d]]);break}}return a};function xt(e,t,n,r){t.forEach((function(e,n){t[n]=M(e)}));var i=e+t.join(" ");return n&&(i+=" "+n.join(" ")),r&&(i+=" "+M(r)),i}var Ct,St,kt,_t,Bt,Dt,Mt=function(){var e,t,n=!1,r=null,i=!1,o=function(e){var t,n=e,r=n.points,i=r.numberOfItems;if(i>=4){var o=r.getItem(0),a=null,s=[];for(s.push(["M",o.x,",",o.y," C"].join("")),t=1;t<=i-4;t+=3){var u=r.getItem(t),c=r.getItem(t+1),l=r.getItem(t+2);if(a){var d=vt.smoothControlPoints(a,u,o);if(2===(null===d||void 0===d?void 0:d.length)){var f=s[s.length-1].split(",");f[2]=d[0].x,f[3]=d[0].y,s[s.length-1]=f.join(","),u=d[1]}}s.push([u.x,u.y,c.x,c.y,l.x,l.y].join(",")),o=l,a=c}s.push("L");while(t<i){var A=r.getItem(t);s.push([A.x,A.y].join(",")),t++}s=s.join(" "),e=vt.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{id:vt.getId(),d:s,fill:"none"}})}return e};return{mouseDown:function(t,r,i,o){var a;if("path"!==vt.getCurrentMode()){if(yt){var s;if(yt.storeD(),a=t.target.id,"pathpointgrip_"===a.substr(0,14)){s=yt.cur_pt=Number.parseInt(a.substr(14)),yt.dragging=[i,o];var u=yt.segs[s];t.shiftKey?u.selected?yt.removePtFromSelection(s):yt.addPtsToSelection(s):((yt.selected_pts.length<=1||!u.selected)&&yt.clearSelection(),yt.addPtsToSelection(s))}else if(a.startsWith("ctrlpointgrip_")){yt.dragging=[i,o];var c=a.split("_")[1].split("c");s=Number(c[0]);var l=Number(c[1]);yt.selectPt(s,l)}if(!yt.dragging){var d=vt.getRubberBox();d||(d=vt.setRubberBox(vt.selectorManager.getRubberBandBox()));h=vt.getZoom();Ue(d,{x:i*h,y:o*h,width:0,height:0,display:"inline"})}}}else{var f=i,A=o,h=vt.getZoom(),p=f/h,m=A/h,g=Ne("path_stretch_line");e=[p,m],vt.getGridSnapping()&&(p=Re(p),m=Re(m),f=Re(f),A=Re(A)),g||(g=document.createElementNS(L.SVG,"path"),Ue(g,{id:"path_stretch_line",stroke:"#22C","stroke-width":"0.5",fill:"none"}),Ne("selectorParentGroup").append(g)),g.setAttribute("display","inline");var v,y=null,b=vt.getDrawnPath();if(b){var w=b.pathSegList,x=w.numberOfItems,C=6/h,S=!1;while(x){x--;var k=w.getItem(x),_=k.x,B=k.y;if(p>=_-C&&p<=_+C&&m>=B-C&&m<=B+C){S=!0;break}}a=vt.getId(),vt.removePath_(a);var D,M,E=Ne(a),T=w.numberOfItems;if(S){if(x<=1&&T>=2){var I=w.getItem(0).x,O=w.getItem(0).y;M=g.pathSegList.getItem(1),D=4===M.pathSegType?b.createSVGPathSegLinetoAbs(I,O):b.createSVGPathSegCurvetoCubicAbs(I,O,M.x1/h,M.y1/h,I,O);var F=b.createSVGPathSegClosePath();w.appendItem(D),w.appendItem(F)}else if(T<3)return y=!1,y;if(g.remove(),vt.setDrawnPath(null),vt.setStarted(!1),n){yt.matrix&&vt.remapElement(E,{},yt.matrix.inverse());var P=E.getAttribute("d"),N=yt.elem.getAttribute("d");return yt.elem.setAttribute("d",N+P),E.parentNode.removeChild(E),yt.matrix&&vt.recalcRotatedPath(),Mt.toEditMode(yt.elem),yt.selectPt(),!1}}else{if(vt.getContainer()===vt.getMouseTarget(t)||!vt.getContainer().contains(vt.getMouseTarget(t)))return!1;var U=b.pathSegList.numberOfItems,H=b.pathSegList.getItem(U-1),R=H.x,V=H.y;if(t.shiftKey){var Q=G(R,V,p,m);p=Q.x,m=Q.y}M=g.pathSegList.getItem(1),D=4===M.pathSegType?b.createSVGPathSegLinetoAbs(vt.round(p),vt.round(m)):b.createSVGPathSegCurvetoCubicAbs(vt.round(p),vt.round(m),M.x1/h,M.y1/h,M.x2/h,M.y2/h),b.pathSegList.appendItem(D),p*=h,m*=h,g.setAttribute("d",["M",p,m,p,m].join(" ")),v=U,n&&(v+=yt.segs.length),vt.addPointGrip(v,p,m)}}else{var j="M"+p+","+m+" ";vt.setDrawnPath(vt.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{d:j,id:vt.getNextId(),opacity:vt.getOpacity()/2}})),g.setAttribute("d",["M",f,A,f,A].join(" ")),v=n?yt.segs.length:0,vt.addPointGrip(v,f,A)}}},mouseMove:function(n,r){var o=vt.getZoom();i=!0;var a=vt.getDrawnPath();if("path"!==vt.getCurrentMode())if(yt.dragging){var s=vt.getPointFromGrip({x:yt.dragging[0],y:yt.dragging[1]},yt),u=vt.getPointFromGrip({x:n,y:r},yt),c=u.x-s.x,l=u.y-s.y;yt.dragging=[n,r],yt.dragctrl?yt.moveCtrl(c,l):yt.movePts(c,l)}else yt.selected_pts=[],yt.eachSeg((function(e){var t=this;if(t.next||t.prev){var n=vt.getRubberBox(),r=we(n),i=vt.getGripPt(t),o={x:i.x,y:i.y,width:0,height:0},a=K(r,o);this.select(a),a&&yt.selected_pts.push(t.index)}}));else{if(!a)return;var d=a.pathSegList,f=d.numberOfItems-1;if(e){var A=vt.addCtrlGrip("1c1"),h=vt.addCtrlGrip("0c2");A.setAttribute("cx",n),A.setAttribute("cy",r),A.setAttribute("display","inline");var p=e[0],m=e[1],g=n/o,v=r/o,y=p+(p-g),b=m+(m-v);h.setAttribute("cx",y*o),h.setAttribute("cy",b*o),h.setAttribute("display","inline");var w=vt.getCtrlLine(1);if(Ue(w,{x1:n,y1:r,x2:y*o,y2:b*o,display:"inline"}),0===f)t=[n,r];else{var x=d.getItem(f-1),C=x.x,S=x.y;6===x.pathSegType?(C+=C-x.x2,S+=S-x.y2):t&&(C=t[0]/o,S=t[1]/o),vt.replacePathSeg(6,f,[p,m,C,S,y,b],a)}}else{var k=Ne("path_stretch_line");if(k){var _=d.getItem(f);if(6===_.pathSegType){var B=_.x+(_.x-_.x2),D=_.y+(_.y-_.y2);vt.replacePathSeg(6,1,[n,r,B*o,D*o,n,r],k)}else t?vt.replacePathSeg(6,1,[n,r,t[0],t[1],n,r],k):vt.replacePathSeg(4,1,[n,r],k)}}}},mouseUp:function(n,r,o,a){var s=vt.getDrawnPath();if("path"===vt.getCurrentMode())return e=null,s||(r=Ne(vt.getId()),vt.setStarted(!1),t=null),{keep:!0,element:r};var u=vt.getRubberBox();if(yt.dragging){var c=yt.cur_pt;yt.dragging=!1,yt.dragctrl=!1,yt.update(),i&&yt.endChanges("Move path point(s)"),n.shiftKey||i||yt.selectPt(c)}else"none"!==(null===u||void 0===u?void 0:u.getAttribute("display"))?(u.setAttribute("display","none"),u.getAttribute("width")<=2&&u.getAttribute("height")<=2&&Mt.toSelectMode(n.target)):Mt.toSelectMode(n.target);i=!1},toEditMode:function(e){yt=vt.getPath_(e),vt.setCurrentMode("pathedit"),vt.clearSelection(),yt.setPathContext(),yt.show(!0).update(),yt.oldbbox=we(yt.elem),n=!1},toSelectMode:function(e){var t=e===yt.elem;vt.setCurrentMode("select"),yt.setPathContext(),yt.show(!1),r=!1,vt.clearSelection(),yt.matrix&&vt.recalcRotatedPath(),t&&(vt.call("selected",[e]),vt.addToSelection([e],!0))},addSubPath:function(e){e?(vt.setCurrentMode("path"),n=!0):(Mt.clear(!0),Mt.toEditMode(yt.elem))},select:function(e){r===e?(Mt.toEditMode(e),vt.setCurrentMode("pathedit")):r=e},reorient:function(){var e=vt.getSelectedElements()[0];if(e){var t=Le(e);if(0!==t){var n=new et("Reorient path"),r={d:e.getAttribute("d"),transform:e.getAttribute("transform")};n.addSubCommand(new Ze(e,r)),vt.clearSelection(),this.resetOrientation(e),vt.addCommandToHistory(n),vt.getPath_(e).show(!1).matrix=null,this.clear(),vt.addToSelection([e],!0),vt.call("changed",vt.getSelectedElements())}}},clear:function(){var e=vt.getDrawnPath();if(r=null,e){var n=Ne(vt.getId()),i=Ne("path_stretch_line");i.parentNode.removeChild(i),n.parentNode.removeChild(n);var o=Ne("pathpointgrip_container"),a=o.querySelectorAll("*");Array.prototype.forEach.call(a,(function(e){e.setAttribute("display","none")})),t=null,vt.setDrawnPath(null),vt.setStarted(!1)}else"pathedit"===vt.getCurrentMode()&&this.toSelectMode();yt&&yt.init().show(!1)},resetOrientation:function(e){if("path"!==(null===e||void 0===e?void 0:e.nodeName))return!1;var t=e.transform.baseVal,n=j(t).matrix;t.clear(),e.removeAttribute("transform");for(var r=e.pathSegList,i=r.numberOfItems,o=function(t){var i=r.getItem(t),o=i.pathSegType;if(1===o)return"continue";var a=[];["",1,2].forEach((function(e){var t=i["x"+e],r=i["y"+e];if(void 0!==t&&void 0!==r){var o=U(t,r,n);a.splice(a.length,0,o.x,o.y)}})),vt.replacePathSeg(o,t,a,e)},a=0;a<i;++a)o(a);vt.reorientGrads(e,n)},zoomChange:function(){"pathedit"===vt.getCurrentMode()&&yt.update()},getNodePoint:function(){var e=yt.selected_pts.length?yt.selected_pts[0]:1,t=yt.segs[e];return{x:t.item.x,y:t.item.y,type:t.type}},linkControlPoints:function(e){vt.setLinkControlPoints(e)},clonePathNode:function(){yt.storeD();var e=yt.selected_pts,t=e.length,n=[];while(t--){var r=e[t];yt.addSeg(r),n.push(r+t),n.push(r+t+1)}yt.init().addPtsToSelection(n),yt.endChanges("Clone path node(s)")},opencloseSubPath:function(){var e=yt.selected_pts;if(1===e.length){var t=yt,n=t.elem,r=n.pathSegList,i=e[0],o=null,a=null;if(yt.eachSeg((function(e){return 2===this.type&&e<=i&&(a=this.item),e<=i||(2===this.type?(o=e,!1):1!==this.type||(o=!1,!1))})),o||(o=yt.segs.length-1),!1!==o){var s=n.createSVGPathSegLinetoAbs(a.x,a.y),u=n.createSVGPathSegClosePath();return o===yt.segs.length-1?(r.appendItem(s),r.appendItem(u)):(r.insertItemBefore(u,o),r.insertItemBefore(s,o)),void yt.init().selectPt(o+1)}var c,l,d=yt.segs[i];if(d.mate)return r.removeItem(i),r.removeItem(i),void yt.init().selectPt(i-1);for(var f=0;f<r.numberOfItems;f++){var A=r.getItem(f);if(2===A.pathSegType)c=f;else if(f===i)r.removeItem(c);else if(1===A.pathSegType&&i<f){l=f-1,r.removeItem(f);break}}var h=i-c-1;while(h--)r.insertItemBefore(r.getItem(c),l);var p=r.getItem(c);vt.replacePathSeg(2,c,[p.x,p.y]),yt.init().selectPt(0)}},deletePathNode:function(){if(Mt.canDeleteNodes){yt.storeD();var e=yt.selected_pts,t=e.length;while(t--){var n=e[t];yt.deleteSeg(n)}var r=function e(){var t=yt.elem.pathSegList,n=t.numberOfItems,r=function(e,n){while(n--)t.removeItem(e)};if(n<=1)return!0;while(n--){var i=t.getItem(n);if(1===i.pathSegType){var o=t.getItem(n-1),a=t.getItem(n-2);if(2===o.pathSegType){r(n-1,2),e();break}if(2===a.pathSegType){r(n-2,3),e();break}}else if(2===i.pathSegType&&n>0){var s=t.getItem(n-1).pathSegType;if(2===s){r(n-1,1),e();break}if(1===s&&t.numberOfItems-1===n){r(n,1),e();break}}}return!1};if(r(),yt.elem.pathSegList.numberOfItems<=1)return Mt.toSelectMode(yt.elem),void vt.canvas.deleteSelectedElements();yt.init(),yt.clearSelection(),window.opera&&yt.elem.setAttribute("d",yt.elem.getAttribute("d")),yt.endChanges("Delete path node(s)")}},smoothPolylineIntoPath:o,setSegType:function(e){var t;null===(t=yt)||void 0===t||t.setSegType(e)},moveNode:function(e,t){var n=yt.selected_pts;if(n.length){yt.storeD();var r=yt.segs[n[0]],i={x:0,y:0};i[e]=t-r.item[e],r.move(i.x,i.y),yt.endChanges("Move path point")}},fixEnd:function(e){for(var t,n=e.pathSegList,r=n.numberOfItems,i=0;i<r;++i){var o=n.getItem(i);if(2===o.pathSegType&&(t=o),1===o.pathSegType){var a=n.getItem(i-1);if(a.x!==t.x||a.y!==t.y){var s=e.createSVGPathSegLinetoAbs(t.x,t.y);n.insertItemBefore(s,i),Mt.fixEnd(e);break}}}},convertPath:wt}}(),Et={2:["x","y"],4:["x","y"],6:["x","y","x1","y1","x2","y2"],8:["x","y","x1","y1"],10:["x","y","r1","r2","angle","largeArcFlag","sweepFlag"],12:["x"],14:["y"],16:["x","y","x2","y2"],18:["x","y"]},Tt={},It=function(e){Object.assign(Tt,e.ui)},Ot=[],Lt=!0,Ft={},Pt=function(e){Lt=e},Nt=null,Ut=function(e){Ct=e,Ct.replacePathSeg=ht,Ct.addPointGrip=ct,Ct.removePath_=Jt,Ct.getPath_=Yt,Ct.addCtrlGrip=lt,Ct.getCtrlLine=dt,Ct.getGripPt=Rt,Ct.getPointFromGrip=st,Ct.setLinkControlPoints=Pt,Ct.reorientGrads=nn,Ct.getSegData=function(){return Et},Ct.getUIStrings=function(){return Tt},Ct.getPathObj=function(){return Nt},Ct.setPathObj=function(e){Nt=e},Ct.getPathFuncs=function(){return Ot},Ct.getLinkControlPts=function(){return Lt},Ot=[0,"ClosePath"];var t=["Moveto","Lineto","CurvetoCubic","CurvetoQuadratic","Arc","LinetoHorizontal","LinetoVertical","CurvetoCubicSmooth","CurvetoQuadraticSmooth"];t.forEach((function(e){Ot.push(e+"Abs"),Ot.push(e+"Rel")})),bt(Ct),it(Ct)},Ht=ot,Rt=at,Vt=st,Qt=ct,jt=ut,zt=lt,Gt=dt,Kt=ft,qt=At,Wt=ht,$t=pt,Xt=function(e,t,n){var r=e.x-n.x,i=e.y-n.y,o=t.x-n.x,a=t.y-n.y;if((0!==r||0!==i)&&(0!==o||0!==a)){var s=Math.sqrt(r*r+i*i),u=Math.sqrt(o*o+a*a),c=Ct.getSvgRoot().createSVGPoint(),l=Ct.getSvgRoot().createSVGPoint(),d=Math.atan2(i,r),f=Math.atan2(a,o);d<0&&(d+=2*Math.PI),f<0&&(f+=2*Math.PI);var A,h,p=Math.abs(d-f),m=Math.abs(Math.PI-p)/2;return d-f>0?(A=p<Math.PI?d+m:d-m,h=p<Math.PI?f-m:f+m):(A=p<Math.PI?d-m:d+m,h=p<Math.PI?f+m:f-m),c.x=s*Math.cos(A)+n.x,c.y=s*Math.sin(A)+n.y,l.x=u*Math.cos(h)+n.x,l.y=u*Math.sin(h)+n.y,[c,l]}},Yt=function(e){var t=Ft[e.id];return t||(t=Ft[e.id]=new gt(e)),t},Jt=function(e){e in Ft&&delete Ft[e]},Zt=function(e,t){var n=e-_t,r=t-Bt,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n)+Dt;return n=i*Math.cos(o)+_t,r=i*Math.sin(o)+Bt,n-=St,r-=kt,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n)-Dt,{x:i*Math.cos(o)+St,y:i*Math.sin(o)+kt}},en=function(){var e=Nt.elem;if(Dt=Le(e,!0),Dt){var t=Nt.oldbbox;_t=t.x+t.width/2,Bt=t.y+t.height/2;var n=we(e);St=n.x+n.width/2,kt=n.y+n.height/2;var r=St-_t,i=kt-Bt,o=Math.sqrt(r*r+i*i),a=Math.atan2(i,r)+Dt;St=o*Math.cos(a)+_t,kt=o*Math.sin(a)+Bt;var s=e.pathSegList,u=s.numberOfItems;while(u){u-=1;var c=s.getItem(u),l=c.pathSegType;if(1!==l){var d=Zt(c.x,c.y),f=[d.x,d.y];if(c.x1&&c.x2){var A=Zt(c.x1,c.y1),h=Zt(c.x2,c.y2);f.splice(f.length,0,A.x,A.y,h.x,h.y)}Wt(l,u,f)}}we(e);var p=Ct.getSvgRoot().createSVGTransform(),m=e.transform.baseVal;p.setRotate(180*Dt/Math.PI,St,kt),m.replaceItem(p,0)}},tn=function(){Ft={}},nn=function(e,t){for(var n=we(e),r=0;r<2;r++){var i=0===r?"fill":"stroke",o=e.getAttribute(i);if(o&&o.startsWith("url(")){var a=Fe(o);if("linearGradient"===a.tagName){var s=a.getAttribute("x1")||0,u=a.getAttribute("y1")||0,c=a.getAttribute("x2")||1,l=a.getAttribute("y2")||0;s=n.width*s+n.x,u=n.height*u+n.y,c=n.width*c+n.x,l=n.height*l+n.y;for(var d=U(s,u,t),f=U(c,l,t),A={x1:(d.x-n.x)/n.width,y1:(d.y-n.y)/n.height,x2:(f.x-n.x)/n.width,y2:(f.y-n.y)/n.height},h=a.cloneNode(!0),p=0,m=Object.entries(A);p<m.length;p++){var v=g(m[p],2),y=v[0],b=v[1];h.setAttribute(y,b)}h.id=Ct.getNextId(),be().append(h),e.setAttribute(i,"url(#"+h.id+")")}}}},rn=[0,"z","M","m","L","l","C","c","Q","q","A","a","H","h","V","v","S","s","T","t"],on=function(e,t){for(var n=e.pathSegList,r=n.numberOfItems,i=0,o=0,a="",s=null,u=0;u<r;++u){var c=n.getItem(u),l=c.x||0,d=c.y||0,f=c.x1||0,A=c.y1||0,h=c.x2||0,p=c.y2||0,m=c.pathSegType,g=rn[m][t?"toLowerCase":"toUpperCase"]();switch(m){case 1:a+="z",s&&!t&&(i=s[0],o=s[1]);break;case 12:l-=i;case 13:t?(d=0,i+=l,g="l"):(d=o,l+=i,i=l,g="L"),a+=an(g,[[l,d]]);break;case 14:d-=o;case 15:t?(l=0,o+=d,g="l"):(l=i,d+=o,o=d,g="L"),a+=an(g,[[l,d]]);break;case 2:case 4:case 18:case 10:l-=i,d-=o;case 5:case 3:case 19:t?(i+=l,o+=d):(l+=i,d+=o,i=l,o=d),2!==m&&3!==m||(s=[i,o]),a+=an(g,[[l,d]]);break;case 6:l-=i,f-=i,h-=i,d-=o,A-=o,p-=o;case 7:t?(i+=l,o+=d):(l+=i,f+=i,h+=i,d+=o,A+=o,p+=o,i=l,o=d),a+=an(g,[[f,A],[h,p],[l,d]]);break;case 8:l-=i,f-=i,d-=o,A-=o;case 9:t?(i+=l,o+=d):(l+=i,f+=i,d+=o,A+=o,i=l,o=d),a+=an(g,[[f,A],[l,d]]);break;case 11:t?(i+=l,o+=d):(l+=i,d+=o,i=l,o=d),a+=an(g,[[c.r1,c.r2]],[c.angle,c.largeArcFlag?1:0,c.sweepFlag?1:0],[l,d]);break;case 16:l-=i,h-=i,d-=o,p-=o;case 17:t?(i+=l,o+=d):(l+=i,h+=i,d+=o,p+=o,i=l,o=d),a+=an(g,[[h,p],[l,d]]);break}}return a},an=function(e,t,n,r){t.forEach((function(e,n){t[n]=M(e)}));var i=e+t.join(" ");return n&&(i+=" "+n.join(" ")),r&&(i+=" "+M(r)),i},sn=Mt,un=Object.freeze({__proto__:null,setUiStrings:It,setLinkControlPoints:Pt,get path(){return Nt},init:Ut,ptObjToArr:Ht,getGripPt:Rt,getPointFromGrip:Vt,addPointGrip:Qt,getGripContainer:jt,addCtrlGrip:zt,getCtrlLine:Gt,getPointGrip:Kt,getControlPoints:qt,replacePathSeg:Wt,getSegSelector:$t,smoothControlPoints:Xt,getPath_:Yt,removePath_:Jt,recalcRotatedPath:en,clearData:tn,reorientGrads:nn,convertPath:on,pathActions:sn}),cn=function(){function e(t,n,r){if(v(this,e),this.name_=t,this.group_=r?null:n,r){var i=r.ownerDocument;this.group_=i.createElementNS(L.SVG,"g");var o=i.createElementNS(L.SVG,"title");o.textContent=t,this.group_.append(o),n?n.insertAdjacentElement("afterend",this.group_):r.append(this.group_)}ln(this.group_),pe(this.group_,(function(e){e.setAttribute("style","pointer-events:inherit")})),this.group_.setAttribute("style",r?"pointer-events:all":"pointer-events:none")}return A(e,[{key:"getName",value:function(){return this.name_}},{key:"getGroup",value:function(){return this.group_}},{key:"activate",value:function(){this.group_.setAttribute("style","pointer-events:all")}},{key:"deactivate",value:function(){this.group_.setAttribute("style","pointer-events:none")}},{key:"setVisible",value:function(e){var t=void 0===e||e?"inline":"none",n=this.group_.getAttribute("display");n!==t&&this.group_.setAttribute("display",t)}},{key:"isVisible",value:function(){return"none"!==this.group_.getAttribute("display")}},{key:"getOpacity",value:function(){var e=this.group_.getAttribute("opacity");return e?Number.parseFloat(e):1}},{key:"setOpacity",value:function(e){"number"===typeof e&&e>=0&&e<=1&&this.group_.setAttribute("opacity",e)}},{key:"appendChildren",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.group_.append(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getTitleElement",value:function(){for(var e=this.group_.childNodes.length,t=0;t<e;++t){var n=this.group_.childNodes.item(t);if("title"===(null===n||void 0===n?void 0:n.tagName))return n}return null}},{key:"setName",value:function(e,t){var n=this.name_;e=ie(e);var r=this.getTitleElement();if(r){while(r.firstChild)r.removeChild(r.firstChild);return r.textContent=e,this.name_=e,t&&t.changeElement(r,{"#text":n}),this.name_}return null}},{key:"removeGroup",value:function(){var e=this.group_;return this.group_.remove(),this.group_=void 0,e}}],[{key:"isLayer",value:function(t){return t&&"g"===t.tagName&&e.CLASS_REGEX.test(t.getAttribute("class"))}}]),e}();
/**
 * Path functionality.
 * @module path
 * @license MIT
 *
 * @copyright 2011 Alexis Deveria, 2011 Jeff Schiller
 */function ln(e){var t=e.getAttribute("class");t&&t.length?cn.CLASS_REGEX.test(t)||e.setAttribute("class",t+" "+cn.CLASS_NAME):e.setAttribute("class",cn.CLASS_NAME)}
/**
 * HistoryRecordingService component of history.
 * @module history
 * @license MIT
 * @copyright 2016 Flint O'Brien
 */cn.CLASS_NAME="layer",cn.CLASS_REGEX=new RegExp("(\\s|^)"+cn.CLASS_NAME+"(\\s|$)");var dn=function(){function e(t){v(this,e),this.undoManager_=t,this.currentBatchCommand_=null,this.batchCommandStack_=[]}return A(e,[{key:"startBatchCommand",value:function(e){return this.undoManager_?(this.currentBatchCommand_=new et(e),this.batchCommandStack_.push(this.currentBatchCommand_),this):this}},{key:"endBatchCommand",value:function(){if(!this.undoManager_)return this;if(this.currentBatchCommand_){var e=this.currentBatchCommand_;this.batchCommandStack_.pop();var t=this.batchCommandStack_.length;this.currentBatchCommand_=t?this.batchCommandStack_[t-1]:null,this.addCommand_(e)}return this}},{key:"moveElement",value:function(e,t,n,r){return this.undoManager_?(this.addCommand_(new Xe(e,t,n,r)),this):this}},{key:"insertElement",value:function(e,t){return this.undoManager_?(this.addCommand_(new Ye(e,t)),this):this}},{key:"removeElement",value:function(e,t,n,r){return this.undoManager_?(this.addCommand_(new Je(e,t,n,r)),this):this}},{key:"changeElement",value:function(e,t,n){return this.undoManager_?(this.addCommand_(new Ze(e,t,n)),this):this}},{key:"addCommand_",value:function(e){if(!this.undoManager_)return this;this.currentBatchCommand_?this.currentBatchCommand_.addSubCommand(e):this.undoManager_.addCommandToHistory(e)}}]),e}();dn.NO_HISTORY=new dn;var fn=function(e,t){var n=document.createElementNS(e.namespaceURI,e.nodeName);if(Object.values(e.attributes).forEach((function(e){n.setAttributeNS(e.namespaceURI,e.nodeName,e.value)})),n.removeAttribute("id"),n.id=t(),e.childNodes.forEach((function(e){switch(e.nodeType){case 1:n.append(fn(e,t));break;case 3:n.textContent=e.nodeValue;break}})),e.dataset.gsvg)n.dataset.gsvg=n.firstChild;else if(e.dataset.symbol){var r=e.dataset.symbol;n.dataset.ref=r,n.dataset.symbol=r}else"image"===n.tagName&&Ve(n);return n},An="a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use".split(","),hn={LET_DOCUMENT_DECIDE:0,ALWAYS_RANDOMIZE:1,NEVER_RANDOMIZE:2},pn=hn.LET_DOCUMENT_DECIDE,mn=[];
/**
 * Tools for drawing.
 * @module draw
 * @license MIT
 * @copyright 2011 Jeff Schiller
 */function gn(e){return e||new dn(bn.undoMgr)}function vn(e){var t=e.querySelector("title");return t?t.textContent:""}function yn(e){var t=1;while(e.includes("Layer "+t))t++;return"Layer "+t}var bn,wn=function(){function e(t,n){if(v(this,e),!t||!t.tagName||!t.namespaceURI||"svg"!==t.tagName||t.namespaceURI!==L.SVG)throw new Error("Error: svgedit.draw.Drawing instance initialized without a <svg> element");this.svgElem_=t,this.obj_num=0,this.idPrefix=n||"svg_",this.releasedNums=[],this.all_layers=[],this.layer_map={},this.current_layer=null,this.nonce_="";var r=this.svgElem_.getAttributeNS(L.SE,"nonce");r&&pn!==hn.NEVER_RANDOMIZE?this.nonce_=r:pn===hn.ALWAYS_RANDOMIZE&&this.setNonce(Math.floor(100001*Math.random()))}return A(e,[{key:"getElem_",value:function(e){return this.svgElem_.querySelector?this.svgElem_.querySelector("#"+e):this.svgElem_.querySelector("[id="+e+"]")}},{key:"getSvgElem",value:function(){return this.svgElem_}},{key:"getNonce",value:function(){return this.nonce_}},{key:"setNonce",value:function(e){this.svgElem_.setAttributeNS(L.XMLNS,"xmlns:se",L.SE),this.svgElem_.setAttributeNS(L.SE,"se:nonce",e),this.nonce_=e}},{key:"clearNonce",value:function(){this.nonce_=""}},{key:"getId",value:function(){return this.nonce_?this.idPrefix+this.nonce_+"_"+this.obj_num:this.idPrefix+this.obj_num}},{key:"getNextId",value:function(){var e=this.obj_num,t=!1;this.releasedNums.length>0?(this.obj_num=this.releasedNums.pop(),t=!0):this.obj_num++;var n=this.getId();while(this.getElem_(n))t&&(this.obj_num=e,t=!1),this.obj_num++,n=this.getId();return t&&(this.obj_num=e),n}},{key:"releaseId",value:function(e){var t=this.idPrefix+(this.nonce_?this.nonce_+"_":"");if("string"!==typeof e||!e.startsWith(t))return!1;var n=Number.parseInt(e.substr(t.length));return!("number"!==typeof n||n<=0||this.releasedNums.includes(n))&&(this.releasedNums.push(n),!0)}},{key:"getNumLayers",value:function(){return this.all_layers.length}},{key:"hasLayer",value:function(e){return void 0!==this.layer_map[e]}},{key:"getLayerName",value:function(e){return e>=0&&e<this.getNumLayers()?this.all_layers[e].getName():""}},{key:"getCurrentLayer",value:function(){return this.current_layer?this.current_layer.getGroup():null}},{key:"getLayerByName",value:function(e){var t=this.layer_map[e];return t?t.getGroup():null}},{key:"getCurrentLayerName",value:function(){return this.current_layer?this.current_layer.getName():""}},{key:"setCurrentLayerName",value:function(e,t){var n=null;if(this.current_layer){var r=this.current_layer.getName();n=this.current_layer.setName(e,t),n&&(delete this.layer_map[r],this.layer_map[n]=this.current_layer)}return n}},{key:"setCurrentLayerPosition",value:function(e){var t=this.getNumLayers();if(!this.current_layer||e<0||e>=t)return null;var n=this.indexCurrentLayer();if(-1===n||n===e)return null;var r=this.current_layer.getGroup(),i=r.nextSibling,o=null;return e>n?e<t-1&&(o=this.all_layers[e+1].getGroup()):o=this.all_layers[e].getGroup(),this.svgElem_.insertBefore(r,o),this.identifyLayers(),this.setCurrentLayer(this.getLayerName(e)),{currentGroup:r,oldNextSibling:i}}},{key:"mergeLayer",value:function(e){var t=this.current_layer.getGroup(),n=t.previousElementSibling;if(n){e.startBatchCommand("Merge Layer");var r=t.nextSibling;e.removeElement(t,r,this.svgElem_);while(t.firstChild){var i=t.firstChild;if("title"!==i.localName){var o=i.nextSibling;n.append(i),e.moveElement(i,o,t)}else e.removeElement(i,i.nextSibling,t),i.remove()}this.current_layer.removeGroup();var a=this.indexCurrentLayer();if(a>0){var s=this.current_layer.getName();this.current_layer=this.all_layers[a-1],this.all_layers.splice(a,1),delete this.layer_map[s]}e.endBatchCommand()}}},{key:"mergeAllLayers",value:function(e){this.current_layer=this.all_layers[this.all_layers.length-1],e.startBatchCommand("Merge all Layers");while(this.all_layers.length>1)this.mergeLayer(e);e.endBatchCommand()}},{key:"setCurrentLayer",value:function(e){var t=this.layer_map[e];return!!t&&(this.current_layer&&this.current_layer.deactivate(),this.current_layer=t,this.current_layer.activate(),!0)}},{key:"indexCurrentLayer",value:function(){return this.all_layers.indexOf(this.current_layer)}},{key:"deleteCurrentLayer",value:function(){if(this.current_layer&&this.getNumLayers()>1){var e=this.current_layer.removeGroup();return this.identifyLayers(),e}return null}},{key:"identifyLayers",value:function(){this.all_layers=[],this.layer_map={};for(var e=this.svgElem_.childNodes.length,t=[],n=[],r=null,i=!1,o=0;o<e;++o){var a=this.svgElem_.childNodes.item(o);if(1===(null===a||void 0===a?void 0:a.nodeType))if("g"===a.tagName){i=!0;var s=vn(a);s?(n.push(s),r=new cn(s,a),this.all_layers.push(r),this.layer_map[s]=r):t.push(a)}else An.includes(a.nodeName)&&t.push(a)}t.length>0||!i?(r=new cn(yn(n),null,this.svgElem_),r.appendChildren(t),this.all_layers.push(r),this.layer_map[name]=r):r.activate(),this.current_layer=r}},{key:"createLayer",value:function(e,t){this.current_layer&&this.current_layer.deactivate(),(void 0===e||null===e||""===e||this.layer_map[e])&&(e=yn(Object.keys(this.layer_map)));var n=new cn(e,null,this.svgElem_);return t&&(t.startBatchCommand("Create Layer"),t.insertElement(n.getGroup()),t.endBatchCommand()),this.all_layers.push(n),this.layer_map[e]=n,this.current_layer=n,n.getGroup()}},{key:"cloneLayer",value:function(e,t){var n=this;if(!this.current_layer)return null;this.current_layer.deactivate(),(void 0===e||null===e||""===e||this.layer_map[e])&&(e=yn(Object.keys(this.layer_map)));var r=this.current_layer.getGroup(),i=new cn(e,r,this.svgElem_),o=i.getGroup(),a=h(r.childNodes);a.forEach((function(e){"title"!==e.localName&&o.append(n.copyElem(e))})),t&&(t.startBatchCommand("Duplicate Layer"),t.insertElement(o),t.endBatchCommand());var s=this.indexCurrentLayer();return s>=0?this.all_layers.splice(s+1,0,i):this.all_layers.push(i),this.layer_map[e]=i,this.current_layer=i,o}},{key:"getLayerVisibility",value:function(e){var t=this.layer_map[e];return!!t&&t.isVisible()}},{key:"setLayerVisibility",value:function(e,t){if("boolean"!==typeof t)return null;var n=this.layer_map[e];return n?(n.setVisible(t),n.getGroup()):null}},{key:"getLayerOpacity",value:function(e){var t=this.layer_map[e];return t?t.getOpacity():null}},{key:"setLayerOpacity",value:function(e,t){if(!("number"!==typeof t||t<0||t>1)){var n=this.layer_map[e];n&&n.setOpacity(t)}}},{key:"copyElem",value:function(e){var t=this,n=function(){return t.getNextId()};return fn(e,n)}}]),e}(),xn=function(e,t){pn=!1===e?hn.NEVER_RANDOMIZE:hn.ALWAYS_RANDOMIZE,pn!==hn.ALWAYS_RANDOMIZE||t.getNonce()?pn===hn.NEVER_RANDOMIZE&&t.getNonce()&&t.clearNonce():t.setNonce(Math.floor(100001*Math.random()))},Cn=function(e){bn=e},Sn=function(){Pn(),bn.getCurrentDrawing().identifyLayers()},kn=function(){return bn.getCurrentDrawing().indexCurrentLayer()},_n=function(e,t){var n=bn.getCurrentDrawing().createLayer(e,gn(t));bn.clearSelection(),bn.call("changed",[n])},Bn=function(e,t){var n=bn.getCurrentDrawing().cloneLayer(e,gn(t));bn.clearSelection(),Pn(),bn.call("changed",[n])},Dn=function(){var e=bn.history,t=e.BatchCommand,n=e.RemoveElementCommand,r=bn.getCurrentDrawing().getCurrentLayer(),i=r,o=i.nextSibling,a=r.parentNode;if(r=bn.getCurrentDrawing().deleteCurrentLayer(),r){var s=new t("Delete Layer");return s.addSubCommand(new n(r,o,a)),bn.addCommandToHistory(s),bn.clearSelection(),bn.call("changed",[a]),!0}return!1},Mn=function(e){var t=bn.getCurrentDrawing().setCurrentLayer(ie(e));return t&&bn.clearSelection(),t},En=function(e){var t=bn.getCurrentDrawing(),n=t.getCurrentLayer();if(n){var r=t.setCurrentLayerName(e,gn());if(r)return bn.call("changed",[n]),!0}return!1},Tn=function(e){var t=bn.history.MoveElementCommand,n=bn.getCurrentDrawing(),r=n.setCurrentLayerPosition(e);return!!r&&(bn.addCommandToHistory(new t(r.currentGroup,r.oldNextSibling,bn.getSvgContent())),!0)},In=function(e,t){var n=bn.history.ChangeElementCommand,r=bn.getCurrentDrawing(),i=r.getLayerVisibility(e),o=r.setLayerVisibility(e,t);if(!o)return!1;var a=i?"inline":"none";return bn.addCommandToHistory(new n(o,{display:a},"Layer Visibility")),o===r.getCurrentLayer()&&(bn.clearSelection(),bn.pathActions.clear()),!0},On=function(e){var t=bn.history,n=t.BatchCommand,r=t.MoveElementCommand,i=bn.getCurrentDrawing(),o=i.getLayerByName(e);if(!o)return!1;var a=new n("Move Elements to Layer"),s=bn.getSelectedElements(),u=s.length;while(u--){var c=s[u];if(c){var l=c.nextSibling,d=c.parentNode;o.append(c),a.addSubCommand(new r(c,l,d))}}return bn.addCommandToHistory(a),!0},Ln=function(e){bn.getCurrentDrawing().mergeLayer(gn(e)),bn.clearSelection(),Pn(),bn.changeSvgContent()},Fn=function(e){bn.getCurrentDrawing().mergeAllLayers(gn(e)),bn.clearSelection(),Pn(),bn.changeSvgContent()},Pn=function(){var e=mn.length,t=bn.getDataStorage();if(e){for(var n=0;n<e;n++){var r=mn[n],i=t.get(r,"orig_opac");1!==i?r.setAttribute("opacity",i):r.removeAttribute("opacity"),r.setAttribute("style","pointer-events: inherit")}mn=[],bn.clearSelection(!0),bn.call("contextset",null)}bn.setCurrentGroup(null)},Nn=function(e){var t=bn.getDataStorage();Pn(),"string"===typeof e&&(e=Ne(e)),bn.setCurrentGroup(e);var n=J(e,"#svgcontent"),r=[];n.forEach((function(e){var t=Array.prototype.filter.call(e.parentNode.children,(function(t){return t!==e}));t.forEach((function(e){r.push(e)}))})),r.forEach((function(e){var n=e.getAttribute("opacity")||1;t.put(e,"orig_opac",n),e.setAttribute("opacity",.33*n),e.setAttribute("style","pointer-events: none"),mn.push(e)})),bn.clearSelection(),bn.call("contextset",bn.getCurrentGroup())},Un=nt.InsertElementCommand,Hn=nt.BatchCommand,Rn=null,Vn=function(e){Rn=e},Qn=function(e,t,n){var r=JSON.parse(sessionStorage.getItem(Rn.getClipboardID()));if(r){var i=r.length;if(i){var o=[],a=new Hn("Paste elements"),s={};r.forEach((function(e){return v(e)})),Rn.runExtensions("IDsUpdated",{elems:r,changes:s},!0).forEach((function(e){e&&"remove"in e&&e.remove.forEach((function(e){r=r.filter((function(t){return t.attr.id!==e}))}))}));while(i--){var u=r[i];if(u){var c=Rn.addSVGElementsFromJson(u);o.push(c),a.addSubCommand(new Un(c)),Rn.restoreRefElements(c)}}if(Rn.selectOnly(o),"in_place"!==e){var l,d;e?"point"===e&&(l=t,d=n):(l=Rn.getLastClickPoint("x"),d=Rn.getLastClickPoint("y"));var f=Ie(o),A=l-(f.x+f.width/2),h=d-(f.y+f.height/2),p=[],m=[];o.forEach((function(e){p.push(A),m.push(h)}));var g=Rn.moveSelectedElements(p,m,!1);g&&a.addSubCommand(g)}Rn.addCommandToHistory(a),Rn.call("changed",o)}}function v(e){var t;null!==(t=e.attr)&&void 0!==t&&t.id&&(s[e.attr.id]=Rn.getNextId(),e.attr.id=s[e.attr.id]),e.children&&e.children.forEach((function(e){return v(e)}))}},jn=function(e){e.preventDefault();var t=e.changedTouches,n=t[0],r="";switch(e.type){case"touchstart":r="mousedown";break;case"touchmove":r="mousemove";break;case"touchend":r="mouseup";break;default:return}var i=n.screenX,o=n.screenY,a=n.clientX,s=n.clientY,u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,detail:1,screenX:i,screenY:o,clientX:a,clientY:s,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});t.length<2&&n.target.dispatchEvent(u)},zn=function(e){e.svgroot.addEventListener("touchstart",jn),e.svgroot.addEventListener("touchmove",jn),e.svgroot.addEventListener("touchend",jn),e.svgroot.addEventListener("touchcancel",jn)},Gn=function(e,t){return e.importNode(Ae('<svg id="svgroot" xmlns="'.concat(L.SVG,'" xlinkns="').concat(L.XLINK,'" width="').concat(t[0],'" \n        height="').concat(t[1],'" x="').concat(t[0],'" y="').concat(t[1],'" overflow="visible">\n        <defs>\n          <filter id="canvashadow" filterUnits="objectBoundingBox">\n            <feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/>\n            <feOffset in="blur" dx="5" dy="5" result="offsetBlur"/>\n            <feMerge>\n              <feMergeNode in="offsetBlur"/>\n              <feMergeNode in="SourceGraphic"/>\n            </feMerge>\n          </filter>\n        </defs>\n      </svg>')).documentElement,!0)},Kn="http://www.w3.org/2000/svg",qn=navigator,Wn=qn.userAgent,$n=Wn.includes("AppleWebKit"),Xn=Wn.includes("Gecko/"),Yn=Wn.includes("Chrome/");Wn.includes("Macintosh");var Jn,Zn=function(){var e=document.createElementNS(Kn,"svg"),t=document.createElementNS(Kn,"svg");document.documentElement.append(e),t.setAttribute("x",5),e.append(t);var n=document.createElementNS(Kn,"text");n.textContent="a",t.append(n);try{var r=n.getStartPositionOfChar(0).x;return 0===r}catch(i){return!1}finally{e.remove()}}(),er=function(){return $n},tr=function(){return Xn},nr=function(){return Yn},rr=function(){return Zn},ir=nt.UndoManager,or=nt.HistoryEventTypes,ar=null,sr=function(e){ar=e,e.undoMgr=ur()},ur=function(){return new ir({handleHistoryEvent:function(e,t){var n=or;if(e===n.BEFORE_UNAPPLY||e===n.BEFORE_APPLY)ar.clearSelection();else if(e===n.AFTER_APPLY||e===n.AFTER_UNAPPLY){var r=t.elements();ar.pathActions.clear(),ar.call("changed",r);var i=t.type(),o=e===n.AFTER_APPLY;if("MoveElementCommand"===i){var a=o?t.newParent:t.oldParent;a===ar.getSvgContent()&&Sn()}else if("InsertElementCommand"===i||"RemoveElementCommand"===i){var s;t.parent===ar.getSvgContent()&&Sn(),"InsertElementCommand"===i?o&&ar.restoreRefElements(t.elem):o||ar.restoreRefElements(t.elem),"use"===(null===(s=t.elem)||void 0===s?void 0:s.tagName)&&ar.setUseData(t.elem)}else if("ChangeElementCommand"===i){"title"===t.elem.tagName&&t.elem.parentNode.parentNode===ar.getSvgContent()&&Sn();var u=o?t.newValues:t.oldValues;if(u.stdDeviation&&ar.setBlurOffsets(t.elem.parentNode,u.stdDeviation),"text"===t.elem.tagName)for(var c=t.newValues.x-t.oldValues.x,l=t.newValues.y-t.oldValues.y,d=t.elem.children,f=0;f<d.length;f++){var A=Number(d[f].getAttribute("x")),h=Number(d[f].getAttribute("y")),p=e===n.AFTER_UNAPPLY;A=p?A-c:A+c,h=p?h-l:h+l,d[f].setAttribute("x",A),d[f].setAttribute("y",h)}}}}})},cr=function(e){if(!tr())return e;var t=e.cloneNode(!0);return e.before(t),e.remove(),ar.selectorManager.releaseSelector(e),ar.setSelectedElements(0,t),ar.selectorManager.requestSelector(t).showGrips(!0),t},lr=function(e,t,n){var r;if("id"!==e){var i=ar.getSelectedElements(),o=ar.getZoom();"pathedit"===ar.getCurrentMode()&&ar.pathActions.moveNode(e,t),n=null!==(r=n)&&void 0!==r?r:i;var a=n.length,s=["g","polyline","path"],u=function(){var r=n[a];if(!r)return"continue";if(("x"===e||"y"===e)&&s.includes(r.tagName)){var u=Ie([r]),c="x"===e?t-u.x:0,l="y"===e?t-u.y:0;return ar.moveSelectedElements(c*o,l*o,!0),"continue"}var d="#text"===e?r.textContent:r.getAttribute(e);if(d||(d=""),d!==String(t)){"#text"===e?(r.textContent=t,/rotate/.test(r.getAttribute("transform"))&&(r=cr(r))):"#href"===e?ye(r,t):t||"number"===typeof t?r.setAttribute(e,t):r.removeAttribute(e),"textedit"===ar.getCurrentMode()&&"#text"!==e&&r.textContent.length&&ar.textActions.toSelectMode(r),tr()&&"text"===r.nodeName&&/rotate/.test(r.getAttribute("transform"))&&(String(t).startsWith("url")||["font-size","font-family","x","y"].includes(e)&&r.textContent)&&(r=cr(r)),i.includes(r)&&setTimeout((function(){r.parentNode&&ar.selectorManager.requestSelector(r).resize()}),0);var f=Le(r);if(0!==f&&"transform"!==e){var A,h=null===(A=r.transform)||void 0===A?void 0:A.baseVal,p=h.numberOfItems;while(p--){var m=h.getItem(p);if(4===m.type){h.removeItem(p);var g=we(r),v=U(g.x+g.width/2,g.y+g.height/2,j(h).matrix),y=v.x,b=v.y,w=ar.getSvgRoot().createSVGTransform();w.setRotate(f,y,b),h.insertItemBefore(w,p);break}}}}};while(a--)u()}else{var c=n[0],l=c.id;l!==t&&(ar.clearSelection(),c.id=t,ar.addToSelection([c],!0),ar.call("elementRenamed",{elem:c,oldId:l,newId:t}))}},dr=function(e,t,n){var r=ar.getSelectedElements();n=n||r,ar.undoMgr.beginUndoableChange(e,n),lr(e,t,n);var i=ar.undoMgr.finishUndoableChange();i.isEmpty()||ar.undoMgr.addCommandToHistory(i)},fr=nt.BatchCommand,Ar=null,hr=function(e){Ar=e,Ar.getMouseTarget=gr,Ar.clearSelection=pr,Ar.addToSelection=mr,Ar.getIntersectionList=br,Ar.runExtensions=vr,Ar.groupSvgElem=wr,Ar.prepareSvg=xr,Ar.recalculateAllSelectedDimensions=Sr,Ar.setRotationAngle=Cr},pr=function(e){var t,n=Ar.getSelectedElements();n.forEach((function(e){e&&Ar.selectorManager.releaseSelector(e)})),null===(t=Ar)||void 0===t||t.setEmptySelectedElements(),e||Ar.call("selected",Ar.getSelectedElements())},mr=function(e,t){var n=Ar.getSelectedElements();if(e.length){var r=0;while(r<n.length){if(null===n[r])break;++r}var i=e.length;while(i--){var o=e[i];if(o&&o.getBBox&&("a"===o.tagName&&1===o.childNodes.length&&(o=o.firstChild),!n.includes(o))){n[r]=o,r++;var a=Ar.selectorManager.requestSelector(o);n.length>1&&a.showGrips(!1)}}if(n.length){Ar.call("selected",n),1===n.length&&Ar.selectorManager.requestSelector(n[0]).showGrips(t),n.sort((function(e,t){return e&&t&&e.compareDocumentPosition?3-(6&t.compareDocumentPosition(e)):e?0:1}));while(!n[0])n.shift(0)}}},gr=function(e){if(!e)return null;var t=e.target;if(t.correspondingUseElement&&(t=t.correspondingUseElement),[L.MATH,L.HTML].includes(t.namespaceURI)&&"svgcanvas"!==t.id)while("foreignObject"!==t.nodeName)if(t=t.parentNode,!t)return Ar.getSvgRoot();var n=Ar.getCurrentDrawing().getCurrentLayer(),r=Ar.getSvgRoot(),i=Ar.getDOMContainer(),o=Ar.getSvgContent();if([r,i,o,n].includes(t))return Ar.getSvgRoot();if(X(t.parentNode,"#selectorParentGroup"))return Ar.selectorManager.selectorParentGroup;while(null===(a=t)||void 0===a||null===(s=a.parentNode)||void 0===s||!s.isSameNode(Ar.getCurrentGroup()||n)){var a,s;t=t.parentNode}return t},vr=function(e,t,n){for(var r=!!n&&[],i=0,o=Object.entries(Ar.getExtensions());i<o.length;i++){var a=g(o[i],2),s=a[0],u=a[1];if("function"===typeof t&&(t=t(s)),u.eventBased){var c=new CustomEvent("svgedit",{detail:{action:e,vars:t}});document.dispatchEvent(c)}else u[e]&&(n?r.push(u[e](t)):r=u[e](t))}return r},yr=function(e){if(!e){var t=Ar.getSvgContent();e=t.children}var n=[],r=e.children;return Array.from(r).forEach((function(e){e.getBBox&&n.push({elem:e,bbox:Ie([e])})})),n.reverse()},br=function(e){var t=Ar.getZoom();if(!Ar.getRubberBox())return null;var n,r=Ar.getCurrentGroup()||Ar.getCurrentDrawing().getCurrentLayer();if(e)n=Ar.getSvgContent().createSVGRect(),n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height;else{n=we(Ar.getRubberBox());var i=Ar.getSvgContent().createSVGRect();["x","y","width","height","top","right","bottom","left"].forEach((function(e){i[e]=n[e]/t})),n=i}var o=[];0===Ar.getCurBBoxes().length&&Ar.setCurBBoxes(yr(r));var a=Ar.getCurBBoxes().length;while(a--){var s=Ar.getCurBBoxes();n.width&&(s[a].bbox&&K(n,s[a].bbox)&&o.push(s[a].elem))}return o},wr=function(e){var t=Ar.getDataStorage(),n=document.createElementNS(L.SVG,"g");e.replaceWith(n),n.appendChild(e),t.put(n,"gsvg",e),n.id=Ar.getNextId()},xr=function(e){Ar.sanitizeSvg(e.documentElement);var t=h(e.getElementsByTagNameNS(L.SVG,"path"));t.forEach((function(e){var t=Ar.pathActions.convertPath(e);e.setAttribute("d",t),Ar.pathActions.fixEnd(e)}))},Cr=function(e,t){var n=Ar.getSelectedElements();e=Number.parseFloat(e);var r=n[0],i=r.getAttribute("transform"),o=we(r),a=o.x+o.width/2,s=o.y+o.height/2,u=r.transform.baseVal;if(u.numberOfItems>0){var c=u.getItem(0);4===c.type&&u.removeItem(0)}if(0!==e){var l=U(a,s,j(u).matrix),d=Ar.getSvgRoot().createSVGTransform();d.setRotate(e,l.x,l.y),u.numberOfItems?u.insertItemBefore(d,0):u.appendItem(d)}else 0===u.numberOfItems&&r.removeAttribute("transform");if(!t){var f=r.getAttribute("transform");if(f){var A=f.split(" "),h=function(e){return Math.round(Number(e)+Number.EPSILON)},p=h(A[1]);f="".concat(A[0]," ").concat(p," ").concat(A[2])}i?r.setAttribute("transform",i):r.removeAttribute("transform"),Ar.changeSelectedAttribute("transform",f,n),Ar.call("changed",n)}var m=Ar.selectorManager.requestSelector(n[0]);m.resize(),Ar.getSelector().updateGripCursors(e)},Sr=function(){var e="none"===Ar.getCurrentResizeMode()?"position":"size",t=new fr(e),n=Ar.getSelectedElements();n.forEach((function(e){var n=Ar.recalculateDimensions(e);n&&t.addSubCommand(n)})),t.isEmpty()||(Ar.addCommandToHistory(t),Ar.call("changed",n))},kr=null,_r=function(e){kr=e},Br=function(){var e,t,n,r,i,o,a,s,u,c,l=[];function d(e){var a=""===t.value;if(t.focus(),!arguments.length)if(a)e=0;else{if(t.selectionEnd!==t.selectionStart)return;e=t.selectionEnd}var s=l[e];a||t.setSelectionRange(e,e),n=Ne("text_cursor"),n||(n=document.createElementNS(L.SVG,"line"),Ue(n,{id:"text_cursor",stroke:"#333","stroke-width":1}),Ne("selectorParentGroup").append(n)),i||(i=setInterval((function(){var e="none"===n.getAttribute("display");n.setAttribute("display",e?"inline":"none")}),600));var u=g(s.x,o.y),c=g(s.x,o.y+o.height);Ue(n,{x1:u.x,y1:u.y,x2:c.x,y2:c.y,visibility:"visible",display:"inline"}),r&&r.setAttribute("d","")}function f(e,i,a){if(e!==i){a||t.setSelectionRange(e,i),r=Ne("text_selectblock"),r||(r=document.createElementNS(L.SVG,"path"),Ue(r,{id:"text_selectblock",fill:"green",opacity:.5,style:"pointer-events:none"}),Ne("selectorParentGroup").append(r));var s=l[e],u=l[i];n.setAttribute("visibility","hidden");var c=g(s.x,o.y),f=g(s.x+(u.x-s.x),o.y),A=g(s.x,o.y+o.height),h=g(s.x+(u.x-s.x),o.y+o.height),p="M"+c.x+","+c.y+" L"+f.x+","+f.y+" "+h.x+","+h.y+" "+A.x+","+A.y+"z";Ue(r,{d:p,display:"inline"})}else d(i)}function A(t,n){var r=kr.getSvgRoot().createSVGPoint();if(r.x=t,r.y=n,1===l.length)return 0;var i=e.getCharNumAtPosition(r);i<0?(i=l.length-2,t<=l[0].x&&(i=0)):i>=l.length-2&&(i=l.length-2);var o=l[i],a=o.x+o.width/2;return t>a&&i++,i}function h(e,t){d(A(e,t))}function p(e,n,r){var i=t.selectionStart,o=A(e,n),a=Math.min(i,o),s=Math.max(i,o);f(a,s,!r)}function m(e,t){var n={x:e,y:t},r=kr.getZoom();if(n.x/=r,n.y/=r,a){var i=U(n.x,n.y,a.inverse());n.x=i.x,n.y=i.y}return n}function g(e,t){var n={x:e,y:t};if(a){var r=U(n.x,n.y,a);n.x=r.x,n.y=r.y}var i=kr.getZoom();return n.x*=i,n.y*=i,n}function v(t){f(0,e.textContent.length),t.target.removeEventListener("click",v)}function y(t){if(c&&e){var n=kr.getZoom(),r=U(t.pageX,t.pageY,kr.getrootSctm()),i=r.x*n,o=r.y*n,a=m(i,o),s=A(a.x,a.y),u=e.textContent,l=u.substr(0,s).replace(/[a-z\d]+$/i,"").length,d=u.substr(s).match(/^[a-z\d]+/i),h=(d?d[0].length:0)+s;f(l,h),kr.$click(t.target,v),setTimeout((function(){t.target.removeEventListener("click",v)}),300)}}return{select:function(t,n,r){e=t,kr.textActions.toEditMode(n,r)},start:function(t){e=t,kr.textActions.toEditMode()},mouseDown:function(e,n,r,i){var o=m(r,i);t.focus(),h(o.x,o.y),s=r,u=i},mouseMove:function(e,t){var n=m(e,t);p(n.x,n.y)},mouseUp:function(t,n,r){var i=m(n,r);p(i.x,i.y,!0),t.target!==e&&n<s+2&&n>s-2&&r<u+2&&r>u-2&&kr.textActions.toSelectMode(!0)},setCursor:d,toEditMode:function(t,n){if(c=!1,kr.setCurrentMode("textedit"),kr.selectorManager.requestSelector(e).showGrips(!1),kr.selectorManager.requestSelector(e),kr.textActions.init(),e.style.cursor="text",arguments.length){var r=m(t,n);h(r.x,r.y)}else d();setTimeout((function(){c=!0}),300)},toSelectMode:function(o){var a;kr.setCurrentMode("select"),clearInterval(i),i=null,r&&r.setAttribute("display","none"),n&&n.setAttribute("visibility","hidden"),e.style.cursor="move",o&&(kr.clearSelection(),e.style.cursor="move",kr.call("selected",[e]),kr.addToSelection([e],!0)),null!==(a=e)&&void 0!==a&&a.textContent.length||kr.deleteSelectedElements(),t.blur(),e=!1},setInputElem:function(e){t=e},clear:function(){"textedit"===kr.getCurrentMode()&&kr.textActions.toSelectMode()},init:function(n){if(e){var r,i;if(!e.parentNode){var s=kr.getSelectedElements();e=s[0],kr.selectorManager.requestSelector(e).showGrips(!1)}var u=e.textContent,c=u.length,d=e.getAttribute("transform");for(o=we(e),a=d?z(e):null,l=[],l.length=c,t.focus(),e.removeEventListener("dblclick",y),e.addEventListener("dblclick",y),c||(i={x:o.x+o.width/2,width:0}),r=0;r<c;r++){var A=e.getStartPositionOfChar(r);if(i=e.getEndPositionOfChar(r),!rr()){var h=kr.getZoom(),p=kr.contentW*h;A.x-=p,i.x-=p,A.x/=h,i.x/=h}l[r]={x:A.x,y:o.y,width:i.x-A.x,height:o.height}}l.push({x:i.x,width:0}),f(t.selectionStart,t.selectionEnd,!0)}}}}(),Dr=nt.InsertElementCommand,Mr=null,Er=!1,Tr=function(e){Mr=e,Mr.mouseDownEvent=Ur,Mr.mouseMoveEvent=Lr,Mr.dblClickEvent=Nr,Mr.mouseUpEvent=Pr,Mr.mouseOutEvent=Fr,Mr.DOMMouseScrollEvent=Hr},Ir=function(e){var t={x:0,y:0},n={x:Mr.getControllPoint2("x"),y:Mr.getControllPoint2("y")},r={x:Mr.getControllPoint1("x"),y:Mr.getControllPoint1("y")},i={x:Mr.getStart("x"),y:Mr.getStart("y")},o={x:Mr.getEnd("x"),y:Mr.getEnd("y")},a=1/6,s=e*e,u=s*e,c=[[-1,3,-3,1],[3,-6,3,0],[-3,0,3,0],[1,4,1,0]];return t.x=a*((n.x*c[0][0]+r.x*c[0][1]+i.x*c[0][2]+o.x*c[0][3])*u+(n.x*c[1][0]+r.x*c[1][1]+i.x*c[1][2]+o.x*c[1][3])*s+(n.x*c[2][0]+r.x*c[2][1]+i.x*c[2][2]+o.x*c[2][3])*e+(n.x*c[3][0]+r.x*c[3][1]+i.x*c[3][2]+o.x*c[3][3])),t.y=a*((n.y*c[0][0]+r.y*c[0][1]+i.y*c[0][2]+o.y*c[0][3])*u+(n.y*c[1][0]+r.y*c[1][1]+i.y*c[1][2]+o.y*c[1][3])*s+(n.y*c[2][0]+r.y*c[2][1]+i.y*c[2][2]+o.y*c[2][3])*e+(n.y*c[3][0]+r.y*c[3][1]+i.y*c[3][2]+o.y*c[3][3])),{x:t.x,y:t.y}},Or=function(e,t,n,r){var i,o=e.createSVGTransform();o.setTranslate(n,r);var a=null===(i=t.transform)||void 0===i?void 0:i.baseVal;if(a.numberOfItems){var s=a.getItem(0);2===s.type?a.replaceItem(o,0):a.insertItemBefore(o,0)}else a.appendItem(o)},Lr=function(e){if(Mr.getStarted()&&1!==e.button&&!Mr.spaceKey){Mr.textActions.init(),e.preventDefault();var t,n,r,i,o,a,s,u,c,l,d=Mr.getSelectedElements(),f=Mr.getZoom(),A=Mr.getSvgRoot(),h=d[0],p=U(e.clientX,e.clientY,Mr.getrootSctm()),m=p.x*f,g=p.y*f,v=Ne(Mr.getId()),y=m/f,b=y,w=g/f,x=w;switch(Mr.getCurConfig().gridSnapping&&(b=Re(b),x=Re(x)),Mr.getCurrentMode()){case"select":if(h){o=b-Mr.getStartX(),a=x-Mr.getStartY(),Mr.getCurConfig().gridSnapping&&(o=Re(o),a=Re(a));var C=4,S=Math.abs(o)>C||Math.abs(a)>C;Er=Er||S,Er&&(d.forEach((function(e){e&&(Or(A,e,o,a),Mr.selectorManager.requestSelector(e).resize())})),Mr.call("transition",d))}break;case"multiselect":y*=f,w*=f,Ue(Mr.getRubberBox(),{x:Math.min(Mr.getRStartX(),y),y:Math.min(Mr.getRStartY(),w),width:Math.abs(y-Mr.getRStartX()),height:Math.abs(w-Mr.getRStartY())});var k=d.slice(),_=[],B=Mr.getIntersectionList();for(s=B.length,t=0;t<s;++t){var D=B[t];d.includes(D)||_.push(D);var M=k.indexOf(D);-1!==M&&k.splice(M,1)}k.length>0&&Mr.removeFromSelection(k),_.length>0&&Mr.addToSelection(_);break;case"resize":l=h.transform.baseVal;var E=V(l);c=E?Mr.getInitBbox():we(h);var T=c.x,I=c.y,O=c,L=O.width,F=O.height;if(o=b-Mr.getStartX(),a=x-Mr.getStartY(),Mr.getCurConfig().gridSnapping&&(o=Re(o),a=Re(a),F=Re(F),L=Re(L)),u=Le(h),u){var P=Math.sqrt(o*o+a*a),N=Math.atan2(a,o)-u*Math.PI/180;o=P*Math.cos(N),a=P*Math.sin(N)}Mr.getCurrentResizeMode().includes("n")||Mr.getCurrentResizeMode().includes("s")||(a=0),Mr.getCurrentResizeMode().includes("e")||Mr.getCurrentResizeMode().includes("w")||(o=0);var H=0,R=0,Q=F?(F+a)/F:1,j=L?(L+o)/L:1;Mr.getCurrentResizeMode().includes("n")&&(Q=F?(F-a)/F:1,R=F),Mr.getCurrentResizeMode().includes("w")&&(j=L?(L-o)/L:1,H=L);var K=A.createSVGTransform(),q=A.createSVGTransform(),W=A.createSVGTransform();Mr.getCurConfig().gridSnapping&&(T=Re(T),H=Re(H),I=Re(I),R=Re(R)),K.setTranslate(-(T+H),-(I+R));var $="image"!==h.tagName&&e.shiftKey||"image"===h.tagName&&!e.shiftKey;if($&&(1===j?j=Q:Q=j),q.setScale(j,Q),W.setTranslate(T+H,I+R),E){var X=u?1:0;l.replaceItem(K,2+X),l.replaceItem(q,1+X),l.replaceItem(W,Number(X))}else{var Y=l.numberOfItems;l.replaceItem(W,Y-3),l.replaceItem(q,Y-2),l.replaceItem(K,Y-1)}Mr.selectorManager.requestSelector(h).resize(),Mr.call("transition",d);break;case"zoom":y*=f,w*=f,Ue(Mr.getRubberBox(),{x:Math.min(Mr.getRStartX()*f,y),y:Math.min(Mr.getRStartY()*f,w),width:Math.abs(y-Mr.getRStartX()*f),height:Math.abs(w-Mr.getRStartY()*f)});break;case"text":Ue(v,{x:b,y:x});break;case"line":Mr.getCurConfig().gridSnapping&&(b=Re(b),x=Re(x));var J=b,Z=x;e.shiftKey&&(n=G(Mr.getStartX(),Mr.getStartY(),J,Z),J=n.x,Z=n.y),v.setAttribute("x2",J),v.setAttribute("y2",Z);break;case"foreignObject":case"square":case"rect":case"image":var ee,te,ne="square"===Mr.getCurrentMode()||"image"===Mr.getCurrentMode()&&!e.shiftKey||"image"!==Mr.getCurrentMode()&&e.shiftKey,re=Math.abs(b-Mr.getStartX()),ie=Math.abs(x-Mr.getStartY());ne?(re=ie=Math.max(re,ie),ee=Mr.getStartX()<b?Mr.getStartX():Mr.getStartX()-re,te=Mr.getStartY()<x?Mr.getStartY():Mr.getStartY()-ie):(ee=Math.min(Mr.getStartX(),b),te=Math.min(Mr.getStartY(),x)),Mr.getCurConfig().gridSnapping&&(re=Re(re),ie=Re(ie),ee=Re(ee),te=Re(te)),Ue(v,{width:re,height:ie,x:ee,y:te});break;case"circle":r=Number(v.getAttribute("cx")),i=Number(v.getAttribute("cy"));var oe=Math.sqrt((b-r)*(b-r)+(x-i)*(x-i));Mr.getCurConfig().gridSnapping&&(oe=Re(oe)),v.setAttribute("r",oe);break;case"ellipse":r=Number(v.getAttribute("cx")),i=Number(v.getAttribute("cy")),Mr.getCurConfig().gridSnapping&&(b=Re(b),r=Re(r),x=Re(x),i=Re(i)),v.setAttribute("rx",Math.abs(b-r));var ae=Math.abs(e.shiftKey?b-r:x-i);v.setAttribute("ry",ae);break;case"fhellipse":case"fhrect":Mr.setFreehand("minx",Math.min(y,Mr.getFreehand("minx"))),Mr.setFreehand("maxx",Math.max(y,Mr.getFreehand("maxx"))),Mr.setFreehand("miny",Math.min(w,Mr.getFreehand("miny"))),Mr.setFreehand("maxy",Math.max(w,Mr.getFreehand("maxy")));case"fhpath":if(Mr.setEnd("x",y),Mr.setEnd("y",w),Mr.getControllPoint2("x")&&Mr.getControllPoint2("y"))for(t=0;t<Mr.getStepCount()-1;t++)if(Mr.setParameter(t/Mr.getStepCount()),Mr.setNextParameter((t+1)/Mr.getStepCount()),Mr.setbSpline(Ir(Mr.getNextParameter())),Mr.setNextPos({x:Mr.getbSpline("x"),y:Mr.getbSpline("y")}),Mr.setbSpline(Ir(Mr.getParameter())),Mr.setSumDistance(Mr.getSumDistance()+Math.sqrt((Mr.getNextPos("x")-Mr.getbSpline("x"))*(Mr.getNextPos("x")-Mr.getbSpline("x"))+(Mr.getNextPos("y")-Mr.getbSpline("y"))*(Mr.getNextPos("y")-Mr.getbSpline("y")))),Mr.getSumDistance()>Mr.getThreSholdDist()){Mr.setSumDistance(Mr.getSumDistance()-Mr.getThreSholdDist());var se=Mr.getSvgContent().createSVGPoint();se.x=Mr.getbSpline("x"),se.y=Mr.getbSpline("y"),v.points.appendItem(se)}Mr.setControllPoint2("x",Mr.getControllPoint1("x")),Mr.setControllPoint2("y",Mr.getControllPoint1("y")),Mr.setControllPoint1("x",Mr.getStart("x")),Mr.setControllPoint1("y",Mr.getStart("y")),Mr.setStart({x:Mr.getEnd("x"),y:Mr.getEnd("y")});break;case"path":case"pathedit":var ue;if(b*=f,x*=f,Mr.getCurConfig().gridSnapping&&(b=Re(b),x=Re(x),Mr.setStartX(Re(Mr.getStartX())),Mr.setStartY(Re(Mr.getStartY()))),e.shiftKey){var ce,le,de=un.path;de?(ce=de.dragging?de.dragging[0]:Mr.getStartX(),le=de.dragging?de.dragging[1]:Mr.getStartY()):(ce=Mr.getStartX(),le=Mr.getStartY()),n=G(ce,le,b,x);var fe=n;b=fe.x,x=fe.y}"none"!==(null===(ue=Mr.getRubberBox())||void 0===ue?void 0:ue.getAttribute("display"))&&(y*=f,w*=f,Ue(Mr.getRubberBox(),{x:Math.min(Mr.getRStartX()*f,y),y:Math.min(Mr.getRStartY()*f,w),width:Math.abs(y-Mr.getRStartX()*f),height:Math.abs(w-Mr.getRStartY()*f)})),Mr.pathActions.mouseMove(b,x);break;case"textedit":b*=f,x*=f,Mr.textActions.mouseMove(m,g);break;case"rotate":c=we(h),r=c.x+c.width/2,i=c.y+c.height/2;var Ae=z(h),he=U(r,i,Ae);if(r=he.x,i=he.y,u=(Math.atan2(i-x,r-b)*(180/Math.PI)-90)%360,Mr.getCurConfig().gridSnapping&&(u=Re(u)),e.shiftKey){var pe=45;u=Math.round(u/pe)*pe}Mr.setRotationAngle(u<-180?360+u:u,!0),Mr.call("transition",d);break}Mr.runExtensions("mouseMove",{event:e,mouse_x:m,mouse_y:g,selected:h})}},Fr=function(){var e=Mr,t=e.$id;if("select"!==Mr.getCurrentMode()&&Mr.getStarted()){var n=new Event("mouseup");t("svgcanvas").dispatchEvent(n)}},Pr=function(e){if(Er=!1,2!==e.button&&Mr.getStarted()){Mr.textActions.init();var t=Mr.getSelectedElements(),n=Mr.getZoom(),r=Mr.getJustSelected();Mr.setJustSelected(null);var i,o=U(e.clientX,e.clientY,Mr.getrootSctm()),a=o.x*n,s=o.y*n,u=a/n,c=s/n,l=Ne(Mr.getId()),d=!1,f=u,A=c;switch(Mr.setStarted(!1),Mr.getCurrentMode()){case"resize":case"multiselect":Mr.getRubberBox()&&(Mr.getRubberBox().setAttribute("display","none"),Mr.setCurBBoxes([])),Mr.setCurrentMode("select");case"select":if(t[0]){if(!t[1]){var h=t[0];switch(h.tagName){case"g":case"use":case"image":case"foreignObject":break;case"text":Mr.setCurText("font_size",h.getAttribute("font-size")),Mr.setCurText("font_family",h.getAttribute("font-family"));default:Mr.setCurProperties("fill",h.getAttribute("fill")),Mr.setCurProperties("fill_opacity",h.getAttribute("fill-opacity")),Mr.setCurProperties("stroke",h.getAttribute("stroke")),Mr.setCurProperties("stroke_opacity",h.getAttribute("stroke-opacity")),Mr.setCurProperties("stroke_width",h.getAttribute("stroke-width")),Mr.setCurProperties("stroke_dasharray",h.getAttribute("stroke-dasharray")),Mr.setCurProperties("stroke_linejoin",h.getAttribute("stroke-linejoin")),Mr.setCurProperties("stroke_linecap",h.getAttribute("stroke-linecap"))}Mr.selectorManager.requestSelector(h).showGrips(!0)}if(Mr.recalculateAllSelectedDimensions(),f!==Mr.getRStartX()||A!==Mr.getRStartY())for(var p=t.length,m=0;m<p;++m){if(!t[m])break;Mr.selectorManager.requestSelector(t[m]).resize()}else i=e.target,"path"!==t[0].nodeName||t[1]?e.shiftKey&&r!==i&&Mr.removeFromSelection([i]):Mr.pathActions.select(t[0]);var g=t[0];g&&(g.removeAttribute("style"),pe(g,(function(e){e.removeAttribute("style")})))}return;case"zoom":var v;null===(v=Mr.getRubberBox())||void 0===v||v.setAttribute("display","none");var y=e.shiftKey?.5:2;return void Mr.call("zoomed",{x:Math.min(Mr.getRStartX(),f),y:Math.min(Mr.getRStartY(),A),width:Math.abs(f-Mr.getRStartX()),height:Math.abs(A-Mr.getRStartY()),factor:y});case"fhpath":Mr.setSumDistance(0),Mr.setControllPoint2("x",0),Mr.setControllPoint2("y",0),Mr.setControllPoint1("x",0),Mr.setControllPoint1("y",0),Mr.setStart({x:0,y:0}),Mr.setEnd("x",0),Mr.setEnd("y",0);var b=l.getAttribute("points"),w=b.indexOf(",");d=w>=0?b.includes(",",w+1):b.includes(" ",b.indexOf(" ")+1),d&&(l=Mr.pathActions.smoothPolylineIntoPath(l));break;case"line":var x=l.getAttribute("x1"),C=l.getAttribute("y1"),S=l.getAttribute("x2"),k=l.getAttribute("y2");d=x!==S||C!==k;break;case"foreignObject":case"square":case"rect":case"image":var _=l.getAttribute("width"),B=l.getAttribute("height");d=_||B||"image"===Mr.getCurrentMode();break;case"circle":d="0"!==l.getAttribute("r");break;case"ellipse":var D=Number(l.getAttribute("rx")),M=Number(l.getAttribute("ry"));d=D||M;break;case"fhellipse":Mr.getFreehand("maxx")-Mr.getFreehand("minx")>0&&Mr.getFreehand("maxy")-Mr.getFreehand("miny")>0&&(l=Mr.addSVGElementsFromJson({element:"ellipse",curStyles:!0,attr:{cx:(Mr.getFreehand("minx")+Mr.getFreehand("maxx"))/2,cy:(Mr.getFreehand("miny")+Mr.getFreehand("maxy"))/2,rx:(Mr.getFreehand("maxx")-Mr.getFreehand("minx"))/2,ry:(Mr.getFreehand("maxy")-Mr.getFreehand("miny"))/2,id:Mr.getId()}}),Mr.call("changed",[l]),d=!0);break;case"fhrect":Mr.getFreehand("maxx")-Mr.getFreehand("minx")>0&&Mr.getFreehand("maxy")-Mr.getFreehand("miny")>0&&(l=Mr.addSVGElementsFromJson({element:"rect",curStyles:!0,attr:{x:Mr.getFreehand("minx"),y:Mr.getFreehand("miny"),width:Mr.getFreehand("maxx")-Mr.getFreehand("minx"),height:Mr.getFreehand("maxy")-Mr.getFreehand("miny"),id:Mr.getId()}}),Mr.call("changed",[l]),d=!0);break;case"text":d=!0,Mr.selectOnly([l]),Mr.textActions.start(l);break;case"path":l=null,Mr.setStarted(!0);var E=Mr.pathActions.mouseUp(e,l,a,s);l=E.element,d=E.keep;break;case"pathedit":d=!0,l=null,Mr.pathActions.mouseUp(e);break;case"textedit":d=!1,l=null,Mr.textActions.mouseUp(e,a,s);break;case"rotate":d=!0,l=null,Mr.setCurrentMode("select");var T=Mr.undoMgr.finishUndoableChange();T.isEmpty()||Mr.addCommandToHistory(T),Mr.recalculateAllSelectedDimensions(),Mr.call("changed",t);break}var I=Mr.runExtensions("mouseUp",{event:e,mouse_x:a,mouse_y:s},!0);if(I.forEach((function(e){e&&(d=e.keep||d,l=e.element,Mr.setStarted(e.started||Mr.getStarted()))})),!d&&l){var O;Mr.getCurrentDrawing().releaseId(Mr.getId()),l.remove(),l=null,i=e.target;while("g"===(null===(L=i)||void 0===L||null===(F=L.parentNode)||void 0===F||null===(P=F.parentNode)||void 0===P?void 0:P.tagName)){var L,F,P;i=i.parentNode}"path"===Mr.getCurrentMode()&&Mr.getDrawnPath()||!i||"selectorParentGroup"===(null===(O=i.parentNode)||void 0===O?void 0:O.id)||"svgcanvas"===i.id||"svgroot"===i.id||(Mr.setMode("select"),Mr.selectOnly([i],!0))}else if(l){Mr.addedNew=!0;var N,H=.2,R=Mr.getStyle(),V=Mr.getOpacAni();if(V.beginElement&&Number.parseFloat(l.getAttribute("opacity"))!==R.opacity){N=V.cloneNode(!0),N.setAttribute("to",R.opacity),N.setAttribute("dur",H),l.appendChild(N);try{N.beginElement()}catch(KE){}}else H=0;setTimeout((function(){if(N&&N.remove(),l.setAttribute("opacity",R.opacity),l.setAttribute("style","pointer-events:inherit"),He(l),"path"===Mr.getCurrentMode())Mr.pathActions.toEditMode(l);else if(Mr.getCurConfig().selectNew){var e=["circle","ellipse","square","rect","fhpath","line","fhellipse","fhrect","star","polygon"];-1!==e.indexOf(Mr.getCurrentMode())&&Mr.setMode("select"),Mr.selectOnly([l],!0)}Mr.addCommandToHistory(new Dr(l)),Mr.call("changed",[l])}),1e3*H)}Mr.setStartTransform(null)}},Nr=function(e){var t=Mr.getSelectedElements(),n=e.target,r=n.parentNode,i=Mr.getMouseTarget(e),o=i,a=o.tagName;if("text"===a&&"textedit"!==Mr.getCurrentMode()){var s=U(e.clientX,e.clientY,Mr.getrootSctm());Mr.textActions.select(i,s.x,s.y)}r!==Mr.getCurrentGroup()&&("g"!==a&&"a"!==a||!Le(i)||(Mr.pushGroupProperties(i),i=t[0],Mr.clearSelection(!0)),Mr.getCurrentGroup()&&Pn(),"g"!==r.tagName&&"a"!==r.tagName||r===Mr.getCurrentDrawing().getCurrentLayer()||i===Mr.selectorManager.selectorParentGroup||Nn(i))},Ur=function(e){var t=Mr.getDataStorage(),n=Mr.getSelectedElements(),r=Mr.getZoom(),i=Mr.getStyle(),o=Mr.getSvgRoot(),a=Mr,s=a.$id;if(!Mr.spaceKey&&1!==e.button){var c=2===e.button;e.altKey&&Mr.cloneSelectedElements(0,0),Mr.setRootSctm(s("svgcontent").querySelector("g").getScreenCTM().inverse());var l=U(e.clientX,e.clientY,Mr.getrootSctm()),d=l.x*r,f=l.y*r;if(e.preventDefault(),c){if("path"===Mr.getCurrentMode())return;Mr.setCurrentMode("select"),Mr.setLastClickPoint(l)}var A=d/r,h=f/r,p=Mr.getMouseTarget(e);"a"===p.tagName&&1===p.childNodes.length&&(p=p.firstChild);var m=A;Mr.setStartX(A),Mr.setRStartX(A);var v=h;if(Mr.setStartY(h),Mr.setRStartY(h),Mr.getCurConfig().gridSnapping&&(A=Re(A),h=Re(h),Mr.setStartX(Re(Mr.getStartX())),Mr.setStartY(Re(Mr.getStartY()))),p===Mr.selectorManager.selectorParentGroup&&n[0]){var y=e.target,b=t.get(y,"type");"rotate"===b?Mr.setCurrentMode("rotate"):"resize"===b&&(Mr.setCurrentMode("resize"),Mr.setCurrentResizeMode(t.get(y,"dir"))),p=n[0]}Mr.setStartTransform(p.getAttribute("transform"));var w=p.transform.baseVal;if(w.numberOfItems>1){var x=w.getItem(0);w.removeItem(0),w.consolidate(),w.insertItemBefore(x,0)}switch(Mr.getCurrentMode()){case"select":if(Mr.setStarted(!0),Mr.setCurrentResizeMode("none"),c&&Mr.setStarted(!1),p!==o){if(n.includes(p)||(e.shiftKey||Mr.clearSelection(!0),Mr.addToSelection([p]),Mr.setJustSelected(p),Mr.pathActions.clear()),!c){var C,S=u(n);try{for(S.s();!(C=S.n()).done;){var k,_=C.value;if(_){var B=null===(k=_.transform)||void 0===k?void 0:k.baseVal;B.numberOfItems?B.insertItemBefore(o.createSVGTransform(),0):B.appendItem(o.createSVGTransform())}}}catch(H){S.e(H)}finally{S.f()}}}else c||(Mr.clearSelection(),Mr.setCurrentMode("multiselect"),Mr.getRubberBox()||Mr.setRubberBox(Mr.selectorManager.getRubberBandBox()),Mr.setRStartX(Mr.getRStartX()*r),Mr.setRStartY(Mr.getRStartY()*r),Ue(Mr.getRubberBox(),{x:Mr.getRStartX(),y:Mr.getRStartY(),width:0,height:0,display:"inline"}));break;case"zoom":Mr.setStarted(!0),Mr.getRubberBox()||Mr.setRubberBox(Mr.selectorManager.getRubberBandBox()),Ue(Mr.getRubberBox(),{x:m*r,y:m*r,width:0,height:0,display:"inline"});break;case"resize":Mr.setStarted(!0),Mr.setStartX(A),Mr.setStartY(h),Mr.setInitBbox(we(s("selectedBox0")));for(var D={},M=0,E=Object.entries(Mr.getInitBbox());M<E.length;M++){var T=g(E[M],2),I=T[0],O=T[1];D[I]=O/r}Mr.setInitBbox(D);var L=Le(p)?1:0;V(w)?(w.insertItemBefore(o.createSVGTransform(),L),w.insertItemBefore(o.createSVGTransform(),L),w.insertItemBefore(o.createSVGTransform(),L)):(w.appendItem(o.createSVGTransform()),w.appendItem(o.createSVGTransform()),w.appendItem(o.createSVGTransform()));break;case"fhellipse":case"fhrect":case"fhpath":Mr.setStart({x:m,y:v}),Mr.setControllPoint1("x",0),Mr.setControllPoint1("y",0),Mr.setControllPoint2("x",0),Mr.setControllPoint2("y",0),Mr.setStarted(!0),Mr.setDAttr(m+","+v+" "),Mr.addSVGElementsFromJson({element:"polyline",curStyles:!0,attr:{points:Mr.getDAttr(),id:Mr.getNextId(),fill:"none",opacity:i.opacity/2,"stroke-linecap":"round",style:"pointer-events:none"}}),Mr.setFreehand("minx",m),Mr.setFreehand("maxx",m),Mr.setFreehand("miny",v),Mr.setFreehand("maxy",v);break;case"image":Mr.setStarted(!0);var F=Mr.addSVGElementsFromJson({element:"image",attr:{x:A,y:h,width:0,height:0,id:Mr.getNextId(),opacity:i.opacity/2,style:"pointer-events:inherit"}});ye(F,Mr.getLastGoodImgUrl()),Ve(F);break;case"square":case"rect":Mr.setStarted(!0),Mr.setStartX(A),Mr.setStartY(h),Mr.addSVGElementsFromJson({element:"rect",curStyles:!0,attr:{x:A,y:h,width:0,height:0,id:Mr.getNextId(),opacity:i.opacity/2}});break;case"line":Mr.setStarted(!0);var P=0===Number(i.stroke_width)?1:i.stroke_width;Mr.addSVGElementsFromJson({element:"line",curStyles:!0,attr:{x1:A,y1:h,x2:A,y2:h,id:Mr.getNextId(),stroke:i.stroke,"stroke-width":P,"stroke-dasharray":i.stroke_dasharray,"stroke-linejoin":i.stroke_linejoin,"stroke-linecap":i.stroke_linecap,"stroke-opacity":i.stroke_opacity,fill:"none",opacity:i.opacity/2,style:"pointer-events:none"}});break;case"circle":Mr.setStarted(!0),Mr.addSVGElementsFromJson({element:"circle",curStyles:!0,attr:{cx:A,cy:h,r:0,id:Mr.getNextId(),opacity:i.opacity/2}});break;case"ellipse":Mr.setStarted(!0),Mr.addSVGElementsFromJson({element:"ellipse",curStyles:!0,attr:{cx:A,cy:h,rx:0,ry:0,id:Mr.getNextId(),opacity:i.opacity/2}});break;case"text":Mr.setStarted(!0),Mr.addSVGElementsFromJson({element:"text",curStyles:!0,attr:{x:A,y:h,id:Mr.getNextId(),fill:Mr.getCurText("fill"),"stroke-width":Mr.getCurText("stroke_width"),"font-size":Mr.getCurText("font_size"),"font-family":Mr.getCurText("font_family"),"text-anchor":"middle","xml:space":"preserve",opacity:i.opacity}});break;case"path":case"pathedit":Mr.setStartX(Mr.getStartX()*r),Mr.setStartY(Mr.getStartY()*r),Mr.pathActions.mouseDown(e,p,Mr.getStartX(),Mr.getStartY()),Mr.setStarted(!0);break;case"textedit":Mr.setStartX(Mr.getStartX()*r),Mr.setStartY(Mr.getStartY()*r),Mr.textActions.mouseDown(e,p,Mr.getStartX(),Mr.getStartY()),Mr.setStarted(!0);break;case"rotate":Mr.setStarted(!0),Mr.undoMgr.beginUndoableChange("transform",n);break}var N=Mr.runExtensions("mouseDown",{event:e,start_x:Mr.getStartX(),start_y:Mr.getStartY(),selectedElements:n},!0);N.forEach((function(e){null!==e&&void 0!==e&&e.started&&Mr.setStarted(!0)}))}},Hr=function(e){var t=Mr.getZoom(),n=Mr,r=n.$id;if(e.shiftKey){e.preventDefault(),Mr.setRootSctm(r("svgcontent").querySelector("g").getScreenCTM().inverse());var i=document.getElementById("workarea"),o=15,a=Mr.getCurConfig().showRulers?16:0,s=U(e.clientX,e.clientY,Mr.getrootSctm()),u=parseFloat(getComputedStyle(i,null).width.replace("px","")),c=parseFloat(getComputedStyle(i,null).height.replace("px","")),l=u-o-a,d=c-o-a,f=l*Mr.getrootSctm().a,A=d*Mr.getrootSctm().d,h=q(i),p=h.left+a,m=h.top+a,g=e.wheelDelta?e.wheelDelta:e.detail?-e.detail:0;if(g){var v,y,b=Math.max(3/4,Math.min(4/3,g));b>1?(v=Math.ceil(l/f*b*100)/100,y=Math.ceil(d/A*b*100)/100):(v=Math.floor(l/f*b*100)/100,y=Math.floor(d/A*b*100)/100);var w=Math.min(v,y);if(w=Math.min(10,Math.max(.01,w)),w!==t){b=w/t;var x=U(p,m,Mr.getrootSctm()),C={x:s.x-(s.x-x.x)/b,y:s.y-(s.y-x.y)/b},S={x:C.x*w,y:C.y*w},k={x:S.x-a+u/2,y:S.y-a+c/2};Mr.setZoom(w),document.getElementById("zoom").value=(100*w).toFixed(1),Mr.call("updateCanvas",{center:!1,newCtr:k}),Mr.call("zoomDone")}}}},Rr=null,Vr=null,Qr=function(e){Rr=e,Vr=e.getDOMDocument()},jr=function e(t){if(3===t.nodeType)return t.nodeValue;for(var n,r={element:t.tagName,attr:{},children:[]},i=0;n=t.attributes[i];i++)r.attr[n.name]=n.value;for(var o,a=0;o=t.childNodes[a];a++)r.children[a]=e(o);return r},zr=function e(t){if("string"===typeof t)return Vr.createTextNode(t);var n=Ne(t.attr.id),r=Rr.getDrawing().getCurrentLayer();if(n&&t.element!==n.tagName&&(n.remove(),n=null),!n){var i=t.namespace||L.SVG;n=Vr.createElementNS(i,t.element),r&&(Rr.getCurrentGroup()||r).append(n)}var o=Rr.getCurShape();return t.curStyles&&Ue(n,{fill:o.fill,stroke:o.stroke,"stroke-width":o.strokeWidth,"stroke-dasharray":o.stroke_dasharray,"stroke-linejoin":o.stroke_linejoin,"stroke-linecap":o.stroke_linecap,"stroke-opacity":o.stroke_opacity,"fill-opacity":o.fill_opacity,opacity:o.opacity/2,style:"pointer-events:inherit"}),Ue(n,t.attr),He(n),t.children&&t.children.forEach((function(t){n.append(e(t))})),n},Gr=null,Kr=function(e){Gr=e,Gr.getBold=si,Gr.setBold=ui,Gr.getItalic=fi,Gr.setItalic=Ai,Gr.hasTextDecoration=ci,Gr.addTextDecoration=li,Gr.removeTextDecoration=di,Gr.setTextAnchor=hi,Gr.setLetterSpacing=pi,Gr.setWordSpacing=mi,Gr.setTextLength=gi,Gr.setLengthAdjust=vi,Gr.getFontFamily=yi,Gr.setFontFamily=bi,Gr.setFontColor=wi,Gr.getFontColor=xi,Gr.getFontSize=Ci,Gr.setFontSize=Si,Gr.getText=ki,Gr.setTextContent=_i,Gr.setImageURL=Bi,Gr.setLinkURL=Di,Gr.setRectRadius=Mi,Gr.makeHyperlink=Ei,Gr.removeHyperlink=Ti,Gr.setSegType=Ii,Gr.setStrokeWidth=oi,Gr.getResolution=qr,Gr.getTitle=Wr,Gr.setGroupTitle=$r,Gr.setStrokeAttr=ai,Gr.setBackground=Oi,Gr.setDocumentTitle=Xr,Gr.getEditorNS=Jr,Gr.setResolution=Yr,Gr.setBBoxZoom=Zr,Gr.setCurrentZoom=ei,Gr.setColor=ti,Gr.setGradient=ni,Gr.setPaint=ii},qr=function(){var e=Gr.getZoom(),t=Gr.getSvgContent().getAttribute("width")/e,n=Gr.getSvgContent().getAttribute("height")/e;return{w:t,h:n,zoom:e}},Wr=function(e){var t=Gr.getSelectedElements(),n=Gr.getDataStorage();if(e=e||t[0],e){n.has(e,"gsvg")?e=n.get(e,"gsvg"):n.has(e,"symbol")&&(e=n.get(e,"symbol"));var r,i=e.childNodes,o=u(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("title"===a.nodeName)return a.textContent}}catch(s){o.e(s)}finally{o.f()}return""}},$r=function(e){var t=Gr.history,n=t.InsertElementCommand,r=t.RemoveElementCommand,i=t.ChangeElementCommand,o=t.BatchCommand,a=Gr.getSelectedElements(),s=Gr.getDataStorage(),u=a[0];s.has(u,"gsvg")&&(u=s.get(u,"gsvg"));var c,l=u.querySelectorAll("title"),d=new o("Set Label");if(0===e.length){var f=l.nextSibling;d.addSubCommand(new r(l[0],f,u)),l.remove()}else l.length?(c=l[0],d.addSubCommand(new i(c,{"#text":c.textContent})),c.textContent=e):(c=Gr.getDOMDocument().createElementNS(L.SVG,"title"),c.textContent=e,u.insertBefore(c,u.firstChild),d.addSubCommand(new n(c)));Gr.addCommandToHistory(d)},Xr=function(e){var t,n=Gr.history,r=n.ChangeElementCommand,i=n.BatchCommand,o=Gr.getSvgContent().childNodes,a=!1,s="",c=new i("Change Image Title"),l=u(o);try{for(l.s();!(t=l.n()).done;){var d=t.value;if("title"===d.nodeName){a=d,s=a.textContent;break}}}catch(f){l.e(f)}finally{l.f()}a||(a=Gr.getDOMDocument().createElementNS(L.SVG,"title"),Gr.getSvgContent().insertBefore(a,Gr.getSvgContent().firstChild)),e.length?a.textContent=e:a.remove(),c.addSubCommand(new r(a,{"#text":s})),Gr.addCommandToHistory(c)},Yr=function(e,t){var n,r=Gr.history,i=r.ChangeElementCommand,o=r.BatchCommand,a=Gr.getZoom(),s=Gr.getResolution(),u=s.w,c=s.h;if("fit"===e){var l=Ie();if(!l)return!1;n=new o("Fit Canvas to Content");var d=Te();Gr.addToSelection(d);var f=[],A=[];d.forEach((function(e,t){f.push(-1*l.x),A.push(-1*l.y)}));var h=Gr.moveSelectedElements(f,A,!0);n.addSubCommand(h),Gr.clearSelection(),e=Math.round(l.width),t=Math.round(l.height)}return e===u&&t===c||(n||(n=new o("Change Image Dimensions")),e=I("width",e),t=I("height",t),Gr.getSvgContent().setAttribute("width",e),Gr.getSvgContent().setAttribute("height",t),Gr.contentW=e,Gr.contentH=t,n.addSubCommand(new i(Gr.getSvgContent(),{width:u,height:c})),Gr.getSvgContent().setAttribute("viewBox",[0,0,e/a,t/a].join(" ")),n.addSubCommand(new i(Gr.getSvgContent(),{viewBox:["0 0",u,c].join(" ")})),Gr.addCommandToHistory(n),Gr.call("changed",[Gr.getSvgContent()])),!0},Jr=function(e){return e&&Gr.getSvgContent().setAttribute("xmlns:se",L.SE),L.SE},Zr=function(e,t,n){var r,i=Gr.getZoom(),o=Gr.getSelectedElements(),a=.85,s=function(e){if(!e)return!1;var r=Math.round(t/e.width*100*a)/100,i=Math.round(n/e.height*100*a)/100,o=Math.min(r,i);return Gr.setZoom(o),{zoom:o,bbox:e}};if("object"===m(e)){if(r=e,0===r.width||0===r.height){var u=r.zoom?r.zoom:i*r.factor;return Gr.setZoom(u),{zoom:i,bbox:r}}return s(r)}switch(e){case"selection":if(!o[0])return;var c=o.map((function(e,t){if(e)return e}));r=Ie(c);break;case"canvas":var l=Gr.getResolution();a=.95,r={width:l.w,height:l.h,x:0,y:0};break;case"content":r=Ie();break;case"layer":r=Ie(Te(Gr.getCurrentDrawing().getCurrentLayer()));break;default:return}return s(r)},ei=function(e){var t=Gr.getSelectedElements(),n=Gr.getResolution();Gr.getSvgContent().setAttribute("viewBox","0 0 "+n.w/e+" "+n.h/e),Gr.setZoom(e),t.forEach((function(e){e&&Gr.selectorManager.requestSelector(e).resize()})),Gr.pathActions.zoomChange(),Gr.runExtensions("zoomChanged",e)},ti=function(e,t,n){var r=Gr.getSelectedElements();Gr.setCurShape(e,t),Gr.setCurProperties(e+"_paint",{type:"solidColor"});var i=[],o=function(e){"g"!==e.nodeName&&i.push(e)},a=r.length;while(a--){var s=r[a];s&&("g"===s.tagName?pe(s,o):"fill"===e?"polyline"!==s.tagName&&"line"!==s.tagName&&i.push(s):i.push(s))}i.length>0&&(n?Gr.changeSelectedAttributeNoUndo(e,t,i):(Gr.changeSelectedAttribute(e,t,i),Gr.call("changed",i)))},ni=function(e){if(Gr.getCurProperties(e+"_paint")&&"solidColor"!==Gr.getCurProperties(e+"_paint").type){var t=Gr,n=t[e+"Grad"],r=ri(n),i=be();r?n=r:(n=Gr.getDOMDocument().importNode(n,!0),i.append(n),n.id=Gr.getNextId()),Gr.setColor(e,"url(#"+n.id+")")}},ri=function(e){var t=be(),n=t.querySelectorAll("linearGradient, radialGradient"),r=n.length,i=["r","cx","cy","fx","fy"];while(r--){var o=n[r];if("linearGradient"===e.tagName){if(e.getAttribute("x1")!==o.getAttribute("x1")||e.getAttribute("y1")!==o.getAttribute("y1")||e.getAttribute("x2")!==o.getAttribute("x2")||e.getAttribute("y2")!==o.getAttribute("y2"))continue}else{var a=function(){var t={r:Number(e.getAttribute("r")),cx:Number(e.getAttribute("cx")),cy:Number(e.getAttribute("cy")),fx:Number(e.getAttribute("fx")),fy:Number(e.getAttribute("fy"))},n={r:Number(o.getAttribute("r")),cx:Number(o.getAttribute("cx")),cy:Number(o.getAttribute("cy")),fx:Number(o.getAttribute("fx")),fy:Number(o.getAttribute("fy"))},r=!1;if(i.forEach((function(e){t[e]!==n[e]&&(r=!0)})),r)return"continue"}();if("continue"===a)continue}var s=e.getElementsByTagNameNS(L.SVG,"stop"),u=o.getElementsByTagNameNS(L.SVG,"stop");if(s.length===u.length){var c=s.length;while(c--){var l=s[c],d=u[c];if(l.getAttribute("offset")!==d.getAttribute("offset")||l.getAttribute("stop-opacity")!==d.getAttribute("stop-opacity")||l.getAttribute("stop-color")!==d.getAttribute("stop-color"))break}if(-1===c)return o}}return null},ii=function(e,t){var n=new w(t);switch(Gr.setPaintOpacity(e,n.alpha/100,!0),Gr.setCurProperties(e+"_paint",n),n.type){case"solidColor":Gr.setColor(e,"none"!==n.solidColor?"#"+n.solidColor:"none");break;case"linearGradient":case"radialGradient":Gr.setCanvas(e+"Grad",n[n.type]),Gr.setGradient(e);break}},oi=function(e){var t=Gr.getSelectedElements();if(0===e&&["line","path"].includes(Gr.getMode()))Gr.setStrokeWidth(1);else{Gr.setCurProperties("stroke_width",e);var n=[],r=function(e){"g"!==e.nodeName&&n.push(e)},i=t.length;while(i--){var o=t[i];o&&("g"===o.tagName?pe(o,r):n.push(o))}n.length>0&&(Gr.changeSelectedAttribute("stroke-width",e,n),Gr.call("changed",t))}},ai=function(e,t){var n=Gr.getSelectedElements();Gr.setCurShape(e.replace("-","_"),t);var r=[],i=n.length;while(i--){var o=n[i];o&&("g"===o.tagName?pe(o,(function(e){"g"!==e.nodeName&&r.push(e)})):r.push(o))}r.length>0&&(Gr.changeSelectedAttribute(e,t,r),Gr.call("changed",n))},si=function(){var e=Gr.getSelectedElements(),t=e[0];return"text"===(null===t||void 0===t?void 0:t.tagName)&&!e[1]&&"bold"===t.getAttribute("font-weight")},ui=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("font-weight",e?"bold":"normal"),t[0].textContent||Gr.textActions.setCursor()},ci=function(e){var t=Gr.getSelectedElements(),n=t[0];if("text"===(null===n||void 0===n?void 0:n.tagName)&&!t[1]){var r=n.getAttribute("text-decoration")||"";return r.includes(e)}return!1},li=function(e){var t=Gr.getSelectedElements(),n=t[0];if("text"===(null===n||void 0===n?void 0:n.tagName)&&!t[1]){var r=n.getAttribute("text-decoration")||"";Gr.changeSelectedAttribute("text-decoration",(r+" "+e).trim())}t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},di=function(e){var t=Gr.getSelectedElements(),n=t[0];if("text"===(null===n||void 0===n?void 0:n.tagName)&&!t[1]){var r=n.getAttribute("text-decoration")||"";Gr.changeSelectedAttribute("text-decoration",r.replace(e,"").trim())}t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},fi=function(){var e=Gr.getSelectedElements(),t=e[0];return"text"===(null===t||void 0===t?void 0:t.tagName)&&!e[1]&&"italic"===t.getAttribute("font-style")},Ai=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("font-style",e?"italic":"normal"),t[0].textContent||Gr.textActions.setCursor()},hi=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("text-anchor",e),t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},pi=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("letter-spacing",e),t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},mi=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("word-spacing",e),t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},gi=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("textLength",e),t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},vi=function(e){var t=Gr.getSelectedElements(),n=t[0];"text"!==(null===n||void 0===n?void 0:n.tagName)||t[1]||Gr.changeSelectedAttribute("lengthAdjust",e),t.length>0&&!t[0].textContent&&Gr.textActions.setCursor()},yi=function(){return Gr.getCurText("font_family")},bi=function(e){var t,n=Gr.getSelectedElements();Gr.setCurText("font_family",e),Gr.changeSelectedAttribute("font-family",e),null!==(t=n[0])&&void 0!==t&&t.textContent||Gr.textActions.setCursor()},wi=function(e){Gr.setCurText("fill",e),Gr.changeSelectedAttribute("fill",e)},xi=function(){return Gr.getCurText("fill")},Ci=function(){return Gr.getCurText("font_size")},Si=function(e){var t,n=Gr.getSelectedElements();Gr.setCurText("font_size",e),Gr.changeSelectedAttribute("font-size",e),null!==(t=n[0])&&void 0!==t&&t.textContent||Gr.textActions.setCursor()},ki=function(){var e=Gr.getSelectedElements(),t=e[0];return t?t.textContent:""},_i=function(e){Gr.changeSelectedAttribute("#text",e),Gr.textActions.init(e),Gr.textActions.setCursor()},Bi=function(e){var t=Gr.history,n=t.ChangeElementCommand,r=t.BatchCommand,i=Gr.getSelectedElements(),o=i[0];if(o){var a={width:o.getAttribute("width"),height:o.getAttribute("height")},s=!a.width||!a.height,u=ve(o);if(u!==e||s){var c=new r("Change Image URL");ye(o,e),c.addSubCommand(new n(o,{"#href":u}));var l=new Image;l.onload=function(){var e={width:o.getAttribute("width"),height:o.getAttribute("height")};o.setAttribute("width",this.width),o.setAttribute("height",this.height),Gr.selectorManager.requestSelector(o).resize(),c.addSubCommand(new n(o,e)),Gr.addCommandToHistory(c),Gr.call("changed",[o])},l.src=e}}},Di=function(e){var t=Gr.history,n=t.ChangeElementCommand,r=t.BatchCommand,i=Gr.getSelectedElements(),o=i[0];if(o){if("a"!==o.tagName){var a=Y(o.parentNode,"a");if(null===a||void 0===a||!a.length)return;o=a[0]}var s=ve(o);if(s!==e){var u=new r("Change Link URL");ye(o,e),u.addSubCommand(new n(o,{"#href":s})),Gr.addCommandToHistory(u)}}},Mi=function(e){var t=Gr.history.ChangeElementCommand,n=Gr.getSelectedElements(),r=n[0];if("rect"===(null===r||void 0===r?void 0:r.tagName)){var i=Number(r.getAttribute("rx"));i!==e&&(r.setAttribute("rx",e),r.setAttribute("ry",e),Gr.addCommandToHistory(new t(r,{rx:i,ry:i},"Radius")),Gr.call("changed",[r]))}},Ei=function(e){Gr.groupSelectedElements("a",e)},Ti=function(){Gr.ungroupSelectedElement()},Ii=function(e){Gr.pathActions.setSegType(e)},Oi=function(e,t){var n=Ne("canvasBackground"),r=n.querySelector("rect"),i=Ne("background_image"),o=Ne("background_pattern");if(r.setAttribute("fill","chessboard"===e?"#fff":e),"chessboard"===e){if(!o){o=Gr.getDOMDocument().createElementNS(L.SVG,"foreignObject"),Gr.assignAttributes(o,{id:"background_pattern",width:"100%",height:"100%",preserveAspectRatio:"xMinYMin",style:"pointer-events:none"});var a=document.createElement("div");Gr.assignAttributes(a,{style:"pointer-events:none;width:100%;height:100%;background-image:url(data:image/gif;base64,R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);"}),o.append(a),n.append(o)}}else o&&o.remove();t?(i||(i=Gr.getDOMDocument().createElementNS(L.SVG,"image"),Gr.assignAttributes(i,{id:"background_image",width:"100%",height:"100%",preserveAspectRatio:"xMinYMin",style:"pointer-events:none"})),ye(i,t),n.append(i)):i&&i.remove()},Li=[0,"z","M","m","L","l","C","c","Q","q","A","a","H","h","V","v","S","s","T","t"],Fi=null,Pi=function(e){Fi=e},Ni=function(e,t,n){var r=function(e,t){return U(e,t,n)},i=function(e){return n.a*e},o=function(e){return n.d*e},a=Fi.getGridSnapping()&&"svg"===e.parentNode.parentNode.localName,s=function(){a&&Object.entries(t).forEach((function(e){var n=g(e,2),r=n[0],i=n[1];t[r]=Re(i)})),Ue(e,t,1e3,!0)},u=we(e);["fill","stroke"].forEach((function(t){var r=e.getAttribute(t);if(null!==r&&void 0!==r&&r.startsWith("url(")&&(n.a<0||n.d<0)){var i=Fe(r),o=i.cloneNode(!0);if(n.a<0){var a=o.getAttribute("x1"),s=o.getAttribute("x2");o.setAttribute("x1",-(a-1)),o.setAttribute("x2",-(s-1))}if(n.d<0){var u=o.getAttribute("y1"),c=o.getAttribute("y2");o.setAttribute("y1",-(u-1)),o.setAttribute("y2",-(c-1))}o.id=Fi.getCurrentDrawing().getNextId(),be().append(o),e.setAttribute(t,"url(#"+o.id+")")}}));var c=e.tagName;if("g"===c||"text"===c||"tspan"===c||"use"===c)if(1!==n.a||0!==n.b||0!==n.c||1!==n.d||0===n.e&&0===n.f){var l=e.transform.baseVal,d=Fi.getSvgRoot().createSVGTransform();d.setMatrix(R(j(l).matrix,n)),l.clear(),l.appendItem(d)}else{var f=j(e).matrix,A=R(f.inverse(),n,f);t.x=Number.parseFloat(t.x)+A.e,t.y=Number.parseFloat(t.y)+A.f}switch(c){case"foreignObject":case"rect":case"image":if("image"===c&&(n.a<0||n.d<0)){var h=e.transform.baseVal,p=Fi.getSvgRoot().createSVGTransform();p.setMatrix(R(j(h).matrix,n)),h.clear(),h.appendItem(p)}else{var m=r(t.x,t.y);t.width=i(t.width),t.height=o(t.height),t.x=m.x+Math.min(0,t.width),t.y=m.y+Math.min(0,t.height),t.width=Math.abs(t.width),t.height=Math.abs(t.height)}s();break;case"ellipse":var v=r(t.cx,t.cy);t.cx=v.x,t.cy=v.y,t.rx=i(t.rx),t.ry=o(t.ry),t.rx=Math.abs(t.rx),t.ry=Math.abs(t.ry),s();break;case"circle":var y=r(t.cx,t.cy);t.cx=y.x,t.cy=y.y;var b=Q(u.x,u.y,u.width,u.height,n),w=b.tr.x-b.tl.x,x=b.bl.y-b.tl.y;t.r=Math.min(w/2,x/2),t.r&&(t.r=Math.abs(t.r)),s();break;case"line":var C=r(t.x1,t.y1),S=r(t.x2,t.y2);t.x1=C.x,t.y1=C.y,t.x2=S.x,t.y2=S.y;case"text":case"tspan":case"use":s();break;case"g":var k=Fi.getDataStorage(),_=k.get(e,"gsvg");_&&Ue(_,t,1e3,!0);break;case"polyline":case"polygon":t.points.forEach((function(e){var t=r(e.x,e.y),n=t.x,i=t.y;e.x=n,e.y=i}));var B="";t.points.forEach((function(e){B+=e.x+","+e.y+" "})),e.setAttribute("points",B);break;case"path":var D=e.pathSegList,M=D.numberOfItems;t.d=[];for(var E=0;E<M;++E){var T=D.getItem(E);t.d[E]={type:T.pathSegType,x:T.x,y:T.y,x1:T.x1,y1:T.y1,x2:T.x2,y2:T.y2,r1:T.r1,r2:T.r2,angle:T.angle,largeArcFlag:T.largeArcFlag,sweepFlag:T.sweepFlag}}M=t.d.length;var I,O=t.d[0];M>0&&(I=r(O.x,O.y),t.d[0].x=I.x,t.d[0].y=I.y);for(var L=1;L<M;++L){var F=t.d[L],P=F.type;if(P%2===0){var N=void 0!==F.x?F.x:I.x,H=void 0!==F.y?F.y:I.y,V=r(N,H),z=r(F.x1,F.y1),G=r(F.x2,F.y2);F.x=V.x,F.y=V.y,F.x1=z.x,F.y1=z.y,F.x2=G.x,F.y2=G.y,F.r1=i(F.r1),F.r2=o(F.r2)}else F.x=i(F.x),F.y=o(F.y),F.x1=i(F.x1),F.y1=o(F.y1),F.x2=i(F.x2),F.y2=o(F.y2),F.r1=i(F.r1),F.r2=o(F.r2)}var K="";t.d.forEach((function(e){var t=e.type;switch(K+=Li[t],t){case 13:case 12:K+=e.x+" ";break;case 15:case 14:K+=e.y+" ";break;case 3:case 5:case 19:case 2:case 4:case 18:K+=e.x+","+e.y+" ";break;case 7:case 6:K+=e.x1+","+e.y1+" "+e.x2+","+e.y2+" "+e.x+","+e.y+" ";break;case 9:case 8:K+=e.x1+","+e.y1+" "+e.x+","+e.y+" ";break;case 11:case 10:K+=e.r1+","+e.r2+" "+e.angle+" "+Number(e.largeArcFlag)+" "+Number(e.sweepFlag)+" "+e.x+","+e.y+" ";break;case 17:case 16:K+=e.x2+","+e.y2+" "+e.x+","+e.y+" ";break}})),e.setAttribute("d",K);break}},Ui=function(e){Jn=e},Hi=function(e,t,n){var r=Fe(e).firstChild,i=r.transform.baseVal,o=Jn.getSvgRoot().createSVGTransform();o.setTranslate(t,n),i.appendItem(o),Ri(r)},Ri=function e(t){var n;if(!t)return null;var r=Jn.getSvgRoot(),i=Jn.getDataStorage(),o=null===(n=t.transform)||void 0===n?void 0:n.baseVal;if((null===o||void 0===o?void 0:o.numberOfItems)>0){var a=o.numberOfItems,s=a;while(a--){var u=o.getItem(a);if(0===u.type)o.removeItem(a);else if(1===u.type){if(H(u.matrix)){if(1===s)return t.removeAttribute("transform"),null;o.removeItem(a)}}else 4===u.type&&0===u.angle&&o.removeItem(a)}if(1===o.numberOfItems&&Le(t))return null}if(!o||0===o.numberOfItems)return t.setAttribute("transform",""),t.removeAttribute("transform"),null;if(o){var c=[],l=o.numberOfItems;while(l--){var d=o.getItem(l);1===d.type?c.push([d.matrix,l]):c.length&&(c=[])}if(2===c.length){var f=r.createSVGTransformFromMatrix(R(c[1][0],c[0][0]));o.removeItem(c[0][1]),o.removeItem(c[1][1]),o.insertItemBefore(f,c[1][1])}if(l=o.numberOfItems,l>=2&&1===o.getItem(l-2).type&&2===o.getItem(l-1).type){var A=r.createSVGTransform(),h=R(o.getItem(l-2).matrix,o.getItem(l-1).matrix);A.setMatrix(h),o.removeItem(l-2),o.removeItem(l-2),o.appendItem(A)}}switch(t.tagName){case"line":case"polyline":case"polygon":case"path":break;default:if(1===o.numberOfItems&&1===o.getItem(0).type||2===o.numberOfItems&&1===o.getItem(0).type&&4===o.getItem(0).type)return null}var p,m,v=i.has(t,"gsvg")?i.get(t,"gsvg"):void 0,y=new et("Transform"),b={},w=null,x=[];switch(t.tagName){case"line":x=["x1","y1","x2","y2"];break;case"circle":x=["cx","cy","r"];break;case"ellipse":x=["cx","cy","rx","ry"];break;case"foreignObject":case"rect":case"image":x=["width","height","x","y"];break;case"use":case"text":case"tspan":x=["x","y"];break;case"polygon":case"polyline":w={},w.points=t.getAttribute("points");var C=t.points,S=C.numberOfItems;b.points=new Array(S);for(var k=0;k<S;++k){var _=C.getItem(k);b.points[k]={x:_.x,y:_.y}}break;case"path":w={},w.d=t.getAttribute("d"),b.d=t.getAttribute("d");break}if(x.length?x.forEach((function(e){b[e]=I(e,t.getAttribute(e))})):v&&(b={x:Number(v.getAttribute("x"))||0,y:Number(v.getAttribute("y"))||0}),!w){w=$({},b);for(var B=0,D=Object.entries(w);B<D.length;B++){var M=g(D[B],2),E=M[0],T=M[1];w[E]=I(E,T)}}if(w.transform=Jn.getStartTransform()||"","g"===t.tagName&&!v||"a"===t.tagName){var O=we(t);p={x:O.x+O.width/2,y:O.y+O.height/2},m=U(O.x+O.width/2,O.y+O.height/2,j(o).matrix);var F=Le(t);if(F)for(var P=F*Math.PI/180,N=Math.abs(P)>1e-10?Math.sin(P)/(1-Math.cos(P)):2/P,Q=0;Q<o.numberOfItems;++Q){var z=o.getItem(Q);if(4===z.type){var G=z.matrix;p.y=(N*G.e+G.f)/2,p.x=(G.e-N*G.f)/2,o.removeItem(Q);break}}var K,q,W=o.numberOfItems,X=0,Y=0,J=0;if(W&&(K=o.getItem(0).matrix),W>=3&&3===o.getItem(W-2).type&&2===o.getItem(W-3).type&&2===o.getItem(W-1).type){J=3;var Z=o.getItem(W-3).matrix,ee=o.getItem(W-2).matrix,te=o.getItem(W-1).matrix,ne=t.childNodes,re=ne.length;while(re--){var ie=ne.item(re);if(X=0,Y=0,1===ie.nodeType){var oe=ie.transform.baseVal;if(!oe)continue;var ae=j(oe).matrix,se=Le(ie);if(q=Jn.getStartTransform(),Jn.setStartTransform(ie.getAttribute("transform")),se||V(oe)){var ue=r.createSVGTransform();ue.setMatrix(R(Z,ee,te,ae)),oe.clear(),oe.appendItem(ue)}else{var ce=R(ae.inverse(),te,ae),le=r.createSVGMatrix();le.e=-ce.e,le.f=-ce.f;var de=R(le.inverse(),ae.inverse(),Z,ee,te,ae,ce.inverse()),fe=r.createSVGTransform(),Ae=r.createSVGTransform(),he=r.createSVGTransform();fe.setTranslate(ce.e,ce.f),Ae.setScale(de.a,de.d),he.setTranslate(le.e,le.f),oe.appendItem(he),oe.appendItem(Ae),oe.appendItem(fe)}var pe=e(ie);pe&&y.addSubCommand(pe),Jn.setStartTransform(q)}}o.removeItem(W-1),o.removeItem(W-2),o.removeItem(W-3)}else if(W>=3&&1===o.getItem(W-1).type){J=3;var me=j(o).matrix,ge=r.createSVGTransform();ge.setMatrix(me),o.clear(),o.appendItem(ge)}else if((1===W||W>1&&3!==o.getItem(1).type)&&2===o.getItem(0).type){J=2;var ye=j(o).matrix;o.removeItem(0);var be=j(o).matrix.inverse(),xe=R(be,ye);if(X=xe.e,Y=xe.f,0!==X||0!==Y){var Ce=t.childNodes,Se=Ce.length,ke=[];while(Se--){var _e=Ce.item(Se);if(1===_e.nodeType){var Be;if(_e.getAttribute("clip-path")){var De=_e.getAttribute("clip-path");ke.includes(De)||(Hi(De,X,Y),ke.push(De))}q=Jn.getStartTransform(),Jn.setStartTransform(_e.getAttribute("transform"));var Me=null===(Be=_e.transform)||void 0===Be?void 0:Be.baseVal;if(Me){var Ee=r.createSVGTransform();Ee.setTranslate(X,Y),Me.numberOfItems?Me.insertItemBefore(Ee,0):Me.appendItem(Ee);var Te=e(_e);Te&&y.addSubCommand(Te);var Ie=t.getElementsByTagNameNS(L.SVG,"use"),Oe="#"+_e.id,Pe=Ie.length;while(Pe--){var Ne=Ie.item(Pe);if(Oe===ve(Ne)){var Ue=r.createSVGTransform();Ue.setTranslate(-X,-Y),Ne.transform.baseVal.insertItemBefore(Ue,0),y.addSubCommand(e(Ne))}}Jn.setStartTransform(q)}}}Jn.setStartTransform(q)}}else{if(1!==W||1!==o.getItem(0).type||F){if(F){var He=r.createSVGTransform();He.setRotate(F,m.x,m.y),o.numberOfItems?o.insertItemBefore(He,0):o.appendItem(He)}return 0===o.numberOfItems&&t.removeAttribute("transform"),null}J=1;var Re=o.getItem(0).matrix,Ve=t.childNodes,Qe=Ve.length;while(Qe--){var je=Ve.item(Qe);if(1===je.nodeType){var ze;q=Jn.getStartTransform(),Jn.setStartTransform(je.getAttribute("transform"));var Ge=null===(ze=je.transform)||void 0===ze?void 0:ze.baseVal;if(!Ge)continue;var Ke=R(Re,j(Ge).matrix),qe=r.createSVGTransform();qe.setMatrix(Ke),Ge.clear(),Ge.appendItem(qe,0);var We=e(je);We&&y.addSubCommand(We),Jn.setStartTransform(q);var $e=je.getAttribute("stroke-width");if("none"!==je.getAttribute("stroke")&&!isNaN($e)){var Xe=(Math.abs(Ke.a)+Math.abs(Ke.d))/2;je.setAttribute("stroke-width",$e*Xe)}}}o.clear()}if(2===J){if(F){m={x:p.x+K.e,y:p.y+K.f};var Ye=r.createSVGTransform();Ye.setRotate(F,m.x,m.y),o.numberOfItems?o.insertItemBefore(Ye,0):o.appendItem(Ye)}}else if(3===J){var Je=j(o).matrix,tt=r.createSVGTransform();tt.setRotate(F,p.x,p.y);var nt=tt.matrix,rt=r.createSVGTransform();rt.setRotate(F,m.x,m.y);var it=rt.matrix.inverse(),ot=Je.inverse(),at=R(ot,it,nt,Je);if(X=at.e,Y=at.f,0!==X||0!==Y){var st=t.childNodes,ut=st.length;while(ut--){var ct=st.item(ut);if(1===ct.nodeType){var lt;q=Jn.getStartTransform(),Jn.setStartTransform(ct.getAttribute("transform"));var dt=null===(lt=ct.transform)||void 0===lt?void 0:lt.baseVal,ft=r.createSVGTransform();ft.setTranslate(X,Y),dt.numberOfItems?dt.insertItemBefore(ft,0):dt.appendItem(ft);var At=e(ct);At&&y.addSubCommand(At),Jn.setStartTransform(q)}}}F&&(o.numberOfItems?o.insertItemBefore(rt,0):o.appendItem(rt))}}else{var ht,pt=we(t);if(!pt&&"path"!==t.tagName)return null;var mt=Le(t);if(mt){p={x:pt.x+pt.width/2,y:pt.y+pt.height/2},m=U(pt.x+pt.width/2,pt.y+pt.height/2,j(o).matrix);for(var gt=mt*Math.PI/180,vt=Math.abs(gt)>1e-10?Math.sin(gt)/(1-Math.cos(gt)):2/gt,yt=0;yt<o.numberOfItems;++yt){var bt=o.getItem(yt);if(4===bt.type){var wt=bt.matrix;p.y=(vt*wt.e+wt.f)/2,p.x=(wt.e-vt*wt.f)/2,o.removeItem(yt);break}}}var xt=0,Ct=o.numberOfItems,St=t.getAttribute("fill");if(null!==St&&void 0!==St&&St.startsWith("url(")){var kt=Fe(St);if(kt){var _t="pattern";(null===kt||void 0===kt?void 0:kt.tagName)!==_t&&(_t="gradient");var Bt=kt.getAttribute(_t+"Units");if("userSpaceOnUse"===Bt){ht=j(o).matrix;var Dt=kt.transform.baseVal,Mt=j(Dt).matrix;ht=R(ht,Mt);var Et="matrix("+[ht.a,ht.b,ht.c,ht.d,ht.e,ht.f].join(",")+")";kt.setAttribute(_t+"Transform",Et)}}}if(Ct>=3&&3===o.getItem(Ct-2).type&&2===o.getItem(Ct-3).type&&2===o.getItem(Ct-1).type)xt=3,ht=j(o,Ct-3,Ct-1).matrix,o.removeItem(Ct-1),o.removeItem(Ct-2),o.removeItem(Ct-3);else if(4===Ct&&1===o.getItem(Ct-1).type){xt=3,ht=j(o).matrix;var Tt=r.createSVGTransform();Tt.setMatrix(ht),o.clear(),o.appendItem(Tt),ht=r.createSVGMatrix()}else if((1===Ct||Ct>1&&3!==o.getItem(1).type)&&2===o.getItem(0).type){xt=2;var It=o.getItem(0).matrix,Ot=j(o,1).matrix,Lt=Ot.inverse();ht=R(Lt,It,Ot),o.removeItem(0)}else{if(1!==Ct||1!==o.getItem(0).type||mt){if(mt){var Ft=r.createSVGTransform();Ft.setRotate(mt,m.x,m.y),o.numberOfItems?o.insertItemBefore(Ft,0):o.appendItem(Ft)}return 0===o.numberOfItems&&t.removeAttribute("transform"),null}switch(ht=j(o).matrix,t.tagName){case"line":b={x1:t.getAttribute("x1"),y1:t.getAttribute("y1"),x2:t.getAttribute("x2"),y2:t.getAttribute("y2")};case"polyline":case"polygon":if(b.points=t.getAttribute("points"),b.points){var Pt=t.points,Nt=Pt.numberOfItems;b.points=new Array(Nt);for(var Ut=0;Ut<Nt;++Ut){var Ht=Pt.getItem(Ut);b.points[Ut]={x:Ht.x,y:Ht.y}}}case"path":b.d=t.getAttribute("d"),xt=1,o.clear();break}}if(1!==xt&&2!==xt&&3!==xt||Ni(t,b,ht),2===xt){if(mt){V(o)||(m={x:p.x+ht.e,y:p.y+ht.f});var Rt=r.createSVGTransform();Rt.setRotate(mt,m.x,m.y),o.numberOfItems?o.insertItemBefore(Rt,0):o.appendItem(Rt)}if("text"===t.tagName){var Vt=t.childNodes,Qt=Vt.length;while(Qt--){var jt=Vt.item(Qt);if("tspan"===jt.tagName){var zt={x:Number(jt.getAttribute("x"))||0,y:Number(jt.getAttribute("y"))||0};Ni(jt,zt,ht)}}}}else if(3===xt&&mt){var Gt=j(o),Kt=Gt.matrix,qt=r.createSVGTransform();qt.setRotate(mt,p.x,p.y);var Wt=qt.matrix,$t=r.createSVGTransform();$t.setRotate(mt,m.x,m.y);var Xt=$t.matrix.inverse(),Yt=Kt.inverse(),Jt=R(Yt,Xt,Wt,Kt);Ni(t,b,Jt),mt&&(o.numberOfItems?o.insertItemBefore($t,0):o.appendItem($t))}}return 0===o.numberOfItems&&t.removeAttribute("transform"),y.addSubCommand(new Ze(t,w)),y},Vi=nt.MoveElementCommand,Qi=nt.BatchCommand,ji=nt.InsertElementCommand,zi=nt.RemoveElementCommand,Gi=nt.ChangeElementCommand,Ki=null,qi=function(e){Ki=e,Ki.copySelectedElements=io,Ki.groupSelectedElements=oo,Ki.pushGroupProperties=ao,Ki.ungroupSelectedElement=uo,Ki.moveToTopSelectedElement=Wi,Ki.moveToBottomSelectedElement=$i,Ki.moveUpDownSelected=Xi,Ki.moveSelectedElements=Yi,Ki.cloneSelectedElements=Ji,Ki.alignSelectedElements=Zi,Ki.updateCanvas=co,Ki.cycleElement=lo,Ki.deleteSelectedElements=ro},Wi=function(){var e=Ki.getSelectedElements(),t=g(e,1),n=t[0];if(n){var r=n,i=r.parentNode,o=r.nextSibling;r.parentNode.append(r),o!==r.nextSibling&&(Ki.addCommandToHistory(new Vi(r,o,i,"top")),Ki.call("changed",[r]))}},$i=function(){var e=Ki.getSelectedElements(),t=g(e,1),n=t[0];if(n){var r=n,i=r.parentNode,o=r.nextSibling,a=r.parentNode.firstChild;"title"===a.tagName&&(a=a.nextSibling),"defs"===a.tagName&&(a=a.nextSibling),r=r.parentNode.insertBefore(r,a),o!==r.nextSibling&&(Ki.addCommandToHistory(new Vi(r,o,i,"bottom")),Ki.call("changed",[r]))}},Xi=function(e){var t=Ki.getSelectedElements(),n=t[0];if(n){var r,i;Ki.setCurBBoxes([]);var o=Ki.getIntersectionList(Ie([n]));if("Down"===e&&o.reverse(),Array.prototype.forEach.call(o,(function(e){return i?(void 0===r&&(r=e),!1):(e===n&&(i=!0),!0)})),r){var a=n,s=a.parentNode,u=a.nextSibling;"Down"===e?r.insertAdjacentElement("beforebegin",a):r.insertAdjacentElement("afterend",a),u!==a.nextSibling&&(Ki.addCommandToHistory(new Vi(a,u,s,"Move "+e)),Ki.call("changed",[a]))}}},Yi=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Ki.getSelectedElements(),i=Ki.getZoom();Array.isArray(e)||(e/=i,t/=i);var o=new Qi("position");if(r.forEach((function(n,r){if(n){var i,a=Ki.getSvgRoot().createSVGTransform(),s=null===(i=n.transform)||void 0===i?void 0:i.baseVal;Array.isArray(e)?a.setTranslate(e[r],t[r]):a.setTranslate(e,t),s.numberOfItems?s.insertItemBefore(a,0):s.appendItem(a);var u=Ri(n);u&&o.addSubCommand(u),Ki.gettingSelectorManager().requestSelector(n).resize()}})),!o.isEmpty())return n&&Ki.addCommandToHistory(o),Ki.call("changed",r),o},Ji=function(e,t){var n,r,i=Ki.getSelectedElements(),o=Ki.getCurrentGroup(),a=new Qi("Clone Elements"),s=i.length,u=function(e){if(!e)return-1;var t=0;do{t++}while(e===e.previousElementSibling);return t},c=function(e,t){return u(t)-u(e)};for(i.sort(c),n=0;n<s;++n)if(r=i[n],!r)break;var l=i.slice(0,n);Ki.clearSelection(!0);var d=Ki.getDrawing();n=l.length;while(n--)r=l[n]=d.copyElem(l[n]),(o||d.getCurrentLayer()).append(r),a.addSubCommand(new ji(r));a.isEmpty()||(Ki.addToSelection(l.reverse()),Yi(e,t,!1),Ki.addCommandToHistory(a))},Zi=function(e,t){var n=Ki.getSelectedElements(),r=[],i=n.length;if(i){for(var o=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MAX_VALUE,u=Number.MIN_VALUE,c=function(e){return["l","c","r","left","center","right"].includes(e)},l=function(e){return["t","m","b","top","middle","bottom"].includes(e)},d=0;d<i;++d){if(!n[d])break;var f=n[d];r[d]=Ie([f])}switch(["smallest","largest"].includes(t)&&["dh","distrib_horiz","dv","distrib_verti"].includes(e)&&(t="selected"),t){case"smallest":if(c(e)||l(e)){var A=r.slice().sort((function(e,t){return e.width-t.width})),p=A[0];o=p.x,s=p.y,a=p.x+p.width,u=p.y+p.height}break;case"largest":if(c(e)||l(e)){var m=r.slice().sort((function(e,t){return e.width-t.width})),v=m[r.length-1];o=v.x,s=v.y,a=v.x+v.width,u=v.y+v.height}break;case"page":o=0,s=0,a=Ki.getContentW(),u=Ki.getContentH();break;default:o=Math.min.apply(Math,h(r.map((function(e){return e.x})))),s=Math.min.apply(Math,h(r.map((function(e){return e.y})))),a=Math.max.apply(Math,h(r.map((function(e){return e.x+e.width})))),u=Math.max.apply(Math,h(r.map((function(e){return e.y+e.height}))));break}var y=[],b=[];if(["dh","distrib_horiz"].includes(e)){var w=eo(t,n,r,o,a,s,u),x=g(w,2);y=x[0],b=x[1]}else if(["dv","distrib_verti"].includes(e)){var C=to(t,n,r,o,a,s,u),S=g(C,2);y=S[0],b=S[1]}else{var k=no(e,n,r,o,a,s,u),_=g(k,2);y=_[0],b=_[1]}Yi(y,b)}},eo=function(e,t,n,r,i,o,a){for(var s=[],u=[],c=0;c<t.length;c++)u[c]=0;var l=n.slice().sort((function(e,t){var n=e.x+e.width,r=t.x+t.width;return n===r?0:n>r?1:-1}));"page"===e&&(l.unshift({x:0,y:0,width:0,height:a}),l.push({x:i,y:0,width:0,height:a}));for(var d=i-r,f=l.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),A=(d-f)/(l.length-1),h=[],p=0;p<l.length;++p)if(h[p]=0,0!==p){var m=l[p].x;l[p].x=l[p-1].x+l[p-1].width+A,h[p]=l[p].x-m}return l.forEach((function(e,t){var r=n.findIndex((function(t){return t===e}));-1!==r&&(s[r]=h[t])})),[s,u]},to=function(e,t,n,r,i,o,a){for(var s=[],u=[],c=0;c<t.length;c++)s[c]=0;var l=n.slice().sort((function(e,t){var n=e.y+e.height,r=t.y+t.height;return n===r?0:n>r?1:-1}));"page"===e&&(l.unshift({x:0,y:0,width:i,height:0}),l.push({x:0,y:a,width:i,height:0}));for(var d=a-o,f=l.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0),A=(d-f)/(l.length-1),h=[],p=0;p<l.length;++p)if(h[p]=0,0!==p){var m=l[p].y;l[p].y=l[p-1].y+l[p-1].height+A,h[p]=l[p].y-m}return l.forEach((function(e,t){var r=n.findIndex((function(t){return t===e}));-1!==r&&(u[r]=h[t])})),[s,u]},no=function(e,t,n,r,i,o,a){for(var s=t.length,u=new Array(s),c=new Array(s),l=0;l<s;++l){if(!t[l])break;var d=n[l];switch(u[l]=0,c[l]=0,e){case"l":case"left":u[l]=r-d.x;break;case"c":case"center":u[l]=(r+i)/2-(d.x+d.width/2);break;case"r":case"right":u[l]=i-(d.x+d.width);break;case"t":case"top":c[l]=o-d.y;break;case"m":case"middle":c[l]=(o+a)/2-(d.y+d.height/2);break;case"b":case"bottom":c[l]=a-(d.y+d.height);break}}return[u,c]},ro=function(){var e=Ki.getSelectedElements(),t=new Qi("Delete Elements"),n=[];e.forEach((function(e){if(e){var r=e.parentNode,i=e;Ki.gettingSelectorManager().releaseSelector(i),Jt(i.id),"a"===r.tagName&&1===r.childNodes.length&&(i=r,r=r.parentNode);var o=i,a=o.nextSibling;i.remove();var s=i;n.push(e),t.addSubCommand(new zi(s,a,r))}})),Ki.setEmptySelectedElements(),t.isEmpty()||Ki.addCommandToHistory(t),Ki.call("changed",n),Ki.clearSelection()},io=function(){var e=Ki.getSelectedElements(),t=JSON.stringify(e.map((function(e){return Ki.getJsonFromSvgElements(e)})));sessionStorage.setItem(Ki.getClipboardID(),t),Ki.flashStorage();var n=document.getElementById("se-cmenu_canvas");n.setAttribute("enablemenuitems","#paste,#paste_in_place")},oo=function(e,t){var n=Ki.getSelectedElements();e||(e="g");var r,i="";switch(e){case"a":i="Make hyperlink",r=t||"";break;default:e="g",i="Group Elements";break}var o=new Qi(i),a=Ki.addSVGElementsFromJson({element:e,attr:{id:Ki.getNextId()}});"a"===e&&ye(a,r),o.addSubCommand(new ji(a));var s=n.length;while(s--){var u=n[s];if(u){"a"===u.parentNode.tagName&&1===u.parentNode.childNodes.length&&(u=u.parentNode);var c=u.nextSibling,l=u.parentNode;a.append(u),o.addSubCommand(new Vi(u,c,l))}}o.isEmpty()||Ki.addCommandToHistory(o),Ki.selectOnly([a],!0)},ao=function(e,t){for(var n,r,i,o=e.childNodes,a=o.length,s=e.getAttribute("transform"),u=e.transform.baseVal,c=j(u).matrix,l=new Qi("Push group properties"),d=Le(e),f={filter:e.getAttribute("filter"),opacity:e.getAttribute("opacity")},A=Ki.getDrawing(),h=0;h<a;h++){var p,m=o[h];if(1===m.nodeType){if(null!==f.opacity&&1!==f.opacity){var g=Math.round((m.getAttribute("opacity")||1)*f.opacity*100)/100;Ki.changeSelectedAttribute("opacity",g,[m])}if(f.filter){var v=Ki.getBlur(m),y=v;if(r||(r=Ki.getBlur(e)),v?v=Number(r)+Number(v):0===v&&(v=r),y)n=Fe(m.getAttribute("filter"));else if(n){n=A.copyElem(n),be().append(n);var b=Pe(n),w="feGaussianBlur"===(null===b||void 0===b?void 0:b.tagName)?"blur":"filter";n.id=m.id+"_"+w,Ki.changeSelectedAttribute("filter","url(#"+n.id+")",[m])}else n=Fe(f.filter);var x=Pe(n);v&&(Ki.changeSelectedAttribute("stdDeviation",v,[x]),Ki.setBlurOffsets(n,v))}var C=null===(p=m.transform)||void 0===p?void 0:p.baseVal;if(m.tagName.includes("Gradient")&&(C=null),C&&"defs"!==m.tagName&&u.numberOfItems){if(d&&1===u.numberOfItems){var S=u.getItem(0).matrix,k=Ki.getSvgRoot().createSVGMatrix(),_=Le(m);_&&(k=C.getItem(0).matrix);var B=we(m),D=j(C).matrix,M=U(B.x+B.width/2,B.y+B.height/2,D),E=d+_,T=Ki.getSvgRoot().createSVGTransform();T.setRotate(E,M.x,M.y);var I=R(S,k,T.matrix.inverse());if(_&&C.removeItem(0),E&&(C.numberOfItems?C.insertItemBefore(T,0):C.appendItem(T)),I.e||I.f){var O=Ki.getSvgRoot().createSVGTransform();O.setTranslate(I.e,I.f),C.numberOfItems?C.insertItemBefore(O,0):C.appendItem(O)}}else{var L=m.getAttribute("transform");i={},i.transform=L||"";var F=Ki.getSvgRoot().createSVGTransform(),P=j(C).matrix,N=P.inverse(),H=R(N,c,P);F.setMatrix(H),C.appendItem(F)}var V=Ri(m);V&&l.addSubCommand(V)}}}if(s&&(i={},i.transform=s,e.setAttribute("transform",""),e.removeAttribute("transform"),l.addSubCommand(new Gi(e,i))),t&&!l.isEmpty())return l},so=function(e){var t=Ki.getSelectedElements();e||(e=t[0]);var n,r=e,i=new Qi,o=Ki.getDataStorage();if(o.has(r,"gsvg")){var a=e.firstChild,s={x:Number(a.getAttribute("x")),y:Number(a.getAttribute("y"))},u=e.firstChild.firstChild;u&&(u.outerHTML=u.innerHTML),o.remove(e,"gsvg");var c=e.transform.baseVal,l=Ki.getSvgRoot().createSVGTransform();l.setTranslate(s.x,s.y),c.appendItem(l),Ri(e),Ki.call("selected",[e])}else if(o.has(r,"symbol")){e=o.get(r,"symbol"),n=r.getAttribute("transform")||"";var d={x:Number(r.getAttribute("x")),y:Number(r.getAttribute("y"))},f=e.getAttribute("viewBox");if(f){var A=f.split(" ");d.x-=Number(A[0]),d.y-=Number(A[1])}n+=" translate("+(d.x||0)+","+(d.y||0)+")";var h=r.previousElementSibling;i.addSubCommand(new zi(r,r.nextElementSibling,r.parentNode)),r.remove();var p,m=Ki.getSvgContent(),g=m.querySelectorAll("use").length,v=Ki.getDOMDocument().createElementNS(L.SVG,"g"),y=e.childNodes;for(p=0;p<y.length;p++)v.append(y[p].cloneNode(!0));if(tr())for(var b=be(),w=b.querySelectorAll("linearGradient,radialGradient,pattern"),x=0,C=w.length;C>x;x++)v.appendChild(w[x].cloneNode(!0));n&&v.setAttribute("transform",n);var S=e.parentNode;if(Ki.uniquifyElems(v),tr())for(var k=be(),_=v.querySelectorAll("linearGradient,radialGradient,pattern"),B=0,D=_.length;D>B;B++)k.appendChild(_[B]);if(v.id=Ki.getNextId(),h.after(v),S){if(!g){var M=e,E=M.nextSibling;e.remove(),i.addSubCommand(new zi(e,E,S))}i.addSubCommand(new ji(v))}Ki.setUseData(v),tr()?Ki.convertGradients(be()):Ki.convertGradients(v),me(v,(function(e){try{Ri(e)}catch(KE){console.error(KE)}}));var T=v.querySelectorAll(Ki.getVisElems());Array.prototype.forEach.call(T,(function(e){e.id||(e.id=Ki.getNextId())})),Ki.selectOnly([v]);var I=ao(v,!0);I&&i.addSubCommand(I),Ki.addCommandToHistory(i)}else console.warn("Unexpected element to ungroup:",e)},uo=function(){var e=Ki.getSelectedElements(),t=Ki.getDataStorage(),n=e[0];if(n)if(t.has(n,"gsvg")||t.has(n,"symbol"))so(n);else{if("use"===n.tagName){var r=Ne(ve(n).substr(1));return t.put(n,"symbol",r),t.put(n,"ref",r),void so(n)}var i=Y(n.parentNode,"a");if(null!==i&&void 0!==i&&i.length&&(n=i[0]),"g"===n.tagName||"a"===n.tagName){var o=new Qi("Ungroup Elements"),a=ao(n,!0);a&&o.addSubCommand(a);var s=n.parentNode,u=n.nextSibling,c=new Array(n.childNodes.length),l=0;while(n.firstChild){var d=n.firstChild,f=d.nextSibling,A=d.parentNode;if("title"!==d.tagName)c[l++]=s.insertBefore(d,u),o.addSubCommand(new Vi(d,f,A));else{var h=d.nextSibling;o.addSubCommand(new zi(d,h,A)),d.remove()}}Ki.clearSelection();var p=n.nextSibling;n.remove(),o.addSubCommand(new zi(n,p,s)),o.isEmpty()||Ki.addCommandToHistory(o),Ki.addToSelection(c)}}},co=function(e,t){Ki.getSvgRoot().setAttribute("width",e),Ki.getSvgRoot().setAttribute("height",t);var n=Ki.getZoom(),r=document.getElementById("canvasBackground"),i=Number(Ki.getSvgContent().getAttribute("x")),o=Number(Ki.getSvgContent().getAttribute("y")),a=(e-Ki.contentW*n)/2,s=(t-Ki.contentH*n)/2;Ue(Ki.getSvgContent(),{width:Ki.contentW*n,height:Ki.contentH*n,x:a,y:s,viewBox:"0 0 "+Ki.contentW+" "+Ki.contentH}),Ue(r,{width:Ki.getSvgContent().getAttribute("width"),height:Ki.getSvgContent().getAttribute("height"),x:a,y:s});var u=Ne("background_image");return u&&Ue(u,{width:"100%",height:"100%"}),Ki.selectorManager.selectorParentGroup.setAttribute("transform","translate("+a+","+s+")"),Ki.runExtensions("canvasUpdated",{new_x:a,new_y:s,old_x:i,old_y:o,d_x:a-i,d_y:s-o}),{x:a,y:s,old_x:i,old_y:o,d_x:a-i,d_y:s-o}},lo=function(e){var t,n=Ki.getSelectedElements(),r=Ki.getCurrentGroup(),i=n[0],o=!1,a=Te(r||Ki.getCurrentDrawing().getCurrentLayer());if(a.length){if(i){var s=a.length;while(s--)if(a[s]===i){t=e?s-1:s+1,t>=a.length?t=0:t<0&&(t=a.length-1),o=a[t];break}}else t=e?a.length-1:0,o=a[t];Ki.selectOnly([o],!0),Ki.call("selected",n)}},fo=null,Ao=function(e){fo=e},ho=function(e){var t=fo.getSelectedElements();if(fo.getFilter())if(0===e)fo.changeSelectedAttributeNoUndo("filter",""),fo.setFilterHidden(!0);else{var n=t[0];fo.getFilterHidden()&&fo.changeSelectedAttributeNoUndo("filter","url(#"+n.id+"_blur)");var r=fo.getFilter();fo.changeSelectedAttributeNoUndo("stdDeviation",e,[r.firstChild]),fo.setBlurOffsets(r,e)}else fo.setBlur(e)};function po(){var e=fo.undoMgr.finishUndoableChange();fo.getCurCommand().addSubCommand(e),fo.addCommandToHistory(fo.getCurCommand()),fo.setCurCommand(null),fo.setFilter(null)}var mo=function(e,t){t>3?fo.assignAttributes(e,{x:"-50%",y:"-50%",width:"200%",height:"200%"},100):(e.removeAttribute("x"),e.removeAttribute("y"),e.removeAttribute("width"),e.removeAttribute("height"))},go=function(e,t){var n=fo.history,r=n.InsertElementCommand,i=n.ChangeElementCommand,o=n.BatchCommand,a=fo.getSelectedElements();if(fo.getCurCommand())po();else{var s=a[0],u=s.id;fo.setFilter(fo.getElement(u+"_blur")),e-=0;var c=new o;if(fo.getFilter())0===e&&fo.setFilter(null);else{var l=fo.addSVGElementsFromJson({element:"feGaussianBlur",attr:{in:"SourceGraphic",stdDeviation:e}});fo.setFilter(fo.addSVGElementsFromJson({element:"filter",attr:{id:u+"_blur"}})),fo.getFilter().append(l),fo.findDefs().append(fo.getFilter()),c.addSubCommand(new r(fo.getFilter()))}var d={filter:s.getAttribute("filter")};if(0===e)return s.removeAttribute("filter"),void c.addSubCommand(new i(s,d));fo.changeSelectedAttribute("filter","url(#"+u+"_blur)"),c.addSubCommand(new i(s,d)),fo.setBlurOffsets(fo.getFilter(),e);var f=fo.getFilter();fo.setCurCommand(c),fo.undoMgr.beginUndoableChange("stdDeviation",[f?f.firstChild:null]),t&&(fo.setBlurNoUndo(e),po())}},vo=F(),yo=["class","id","display","transform","style"],bo={a:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","mask","opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","xlink:href","xlink:title"],circle:["clip-path","clip-rule","cx","cy","enable-background","fill","fill-opacity","fill-rule","filter","mask","opacity","r","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],clipPath:["clipPathUnits"],defs:[],desc:[],ellipse:["clip-path","clip-rule","cx","cy","fill","fill-opacity","fill-rule","filter","mask","opacity","requiredFeatures","rx","ry","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],feBlend:["in","in2"],feColorMatrix:["in","type","value","result","values"],feComposite:["in","operator","result","in2"],feFlood:["flood-color","in","result","flood-opacity"],feGaussianBlur:["color-interpolation-filters","in","requiredFeatures","stdDeviation","result"],feMerge:[],feMergeNode:["in"],feMorphology:["in","operator","radius"],feOffset:["dx","in","dy","result"],filter:["color-interpolation-filters","filterRes","filterUnits","height","primitiveUnits","requiredFeatures","width","x","xlink:href","y"],foreignObject:["font-size","height","opacity","requiredFeatures","width","x","y"],g:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","font-family","font-size","font-style","font-weight","text-anchor"],image:["clip-path","clip-rule","filter","height","mask","opacity","requiredFeatures","systemLanguage","width","x","xlink:href","xlink:title","y"],line:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","x1","x2","y1","y2"],linearGradient:["gradientTransform","gradientUnits","requiredFeatures","spreadMethod","systemLanguage","x1","x2","xlink:href","y1","y2"],marker:["markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","se_type","systemLanguage","viewBox"],mask:["height","maskContentUnits","maskUnits","width","x","y"],metadata:[],path:["clip-path","clip-rule","d","enable-background","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],pattern:["height","patternContentUnits","patternTransform","patternUnits","requiredFeatures","systemLanguage","viewBox","width","x","xlink:href","y"],polygon:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","points","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","sides","shape","edge","point","starRadiusMultiplier","r","radialshift","r2","orient","cx","cy"],polyline:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","points","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","se:connector"],radialGradient:["cx","cy","fx","fy","gradientTransform","gradientUnits","r","requiredFeatures","spreadMethod","systemLanguage","xlink:href"],rect:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","height","mask","opacity","requiredFeatures","rx","ry","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","width","x","y"],stop:["offset","requiredFeatures","stop-opacity","systemLanguage","stop-color","gradientUnits","gradientTransform"],style:["type"],svg:["clip-path","clip-rule","enable-background","filter","height","mask","preserveAspectRatio","requiredFeatures","systemLanguage","version","viewBox","width","x","xmlns","xmlns:se","xmlns:xlink","xmlns:oi","oi:animations","y","stroke-linejoin","fill-rule","aria-label","stroke-width","fill-rule","xml:space"],switch:["requiredFeatures","systemLanguage"],symbol:["fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","opacity","overflow","preserveAspectRatio","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","viewBox","width","height"],text:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","text-anchor","letter-spacing","word-spacing","text-decoration","textLength","lengthAdjust","x","xml:space","y"],textPath:["method","requiredFeatures","spacing","startOffset","systemLanguage","xlink:href"],title:[],tspan:["clip-path","clip-rule","dx","dy","fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","mask","opacity","requiredFeatures","rotate","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","text-anchor","textLength","x","xml:space","y"],use:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","height","mask","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","width","x","xlink:href","y","overflow"],annotation:["encoding"],"annotation-xml":["encoding"],maction:["actiontype","other","selection"],math:["xmlns"],menclose:["notation"],merror:[],mfrac:["linethickness"],mi:["mathvariant"],mmultiscripts:[],mn:[],mo:["fence","lspace","maxsize","minsize","rspace","stretchy"],mover:[],mpadded:["lspace","width","height","depth","voffset"],mphantom:[],mprescripts:[],mroot:[],mrow:["xlink:href","xlink:type","xmlns:xlink"],mspace:["depth","height","width"],msqrt:[],mstyle:["displaystyle","mathbackground","mathcolor","mathvariant","scriptlevel"],msub:[],msubsup:[],msup:[],mtable:["align","columnalign","columnlines","columnspacing","displaystyle","equalcolumns","equalrows","frame","rowalign","rowlines","rowspacing","width"],mtd:["columnalign","columnspan","rowalign","rowspan"],mtext:[],mtr:["columnalign","rowalign"],munder:[],munderover:[],none:[],semantics:[]};Object.keys(bo).forEach((function(e){bo[e]=[].concat(h(bo[e]),yo)}));var wo={};Object.entries(bo).forEach((function(e){var t=g(e,2),n=t[0],r=t[1],i={};Object.entries(r).forEach((function(e){var t=g(e,2),n=(t[0],t[1]);if(n.includes(":")){var r=n.split(":");i[r[1]]=L[r[0].toUpperCase()]}else i[n]="xmlns"===n?L.XMLNS:null})),wo[n]=i}));var xo=function e(t){if(3===t.nodeType&&(t.nodeValue=t.nodeValue.trim(),t.nodeValue.length||t.remove()),1===t.nodeType){var n=t.ownerDocument,r=t.parentNode;if(n&&r){var i=bo[t.nodeName],o=wo[t.nodeName];if("undefined"!==typeof i){var a=[],s=t.attributes.length;while(s--){var u=t.attributes.item(s),c=u.nodeName,l=u.localName,d=u.namespaceURI;if(d!==o[l]&&d!==L.XMLNS&&(d!==L.XMLNS||!vo[u.value]))if(c.startsWith("se:")||c.startsWith("oi:")||c.startsWith("data-")){var f=c.startsWith("se:")?L.SE:c.startsWith("oi:")?L.OI:null;a.push([c,u.value,f])}else console.warn("sanitizeSvg: attribute ".concat(c," in element ").concat(t.nodeName," not in whitelist is removed")),t.removeAttributeNS(d,l);if("style"===c){var A=u.value.split(";"),h=A.length;while(h--){var p=A[h].split(":"),m=g(p,2),v=m[0],y=m[1],b=(v||"").trim(),w=(y||"").trim();i.includes(b)&&t.setAttribute(b,w)}t.removeAttribute("style")}}Object.values(a).forEach((function(e){var n=g(e,3),r=n[0],i=n[1],o=n[2];t.setAttributeNS(o,r,i)}));var x=ve(t);if(x&&["filter","linearGradient","pattern","radialGradient","textPath","use"].includes(t.nodeName)&&"#"!==x[0]&&(ye(t,""),console.warn("sanitizeSvg: attribute href in element ".concat(t.nodeName," pointing to a non-local reference (").concat(x,") is removed")),t.removeAttributeNS(L.XLINK,"href")),"use"===t.nodeName&&!ve(t))return console.warn("sanitizeSvg: element ".concat(t.nodeName," without a xlink:href is removed")),void t.remove();Object.values(["clip-path","fill","filter","marker-end","marker-mid","marker-start","mask","stroke"],(function(e){var n=t.getAttribute(e);n&&(n=ge(n),n&&"#"!==n[0]&&(t.setAttribute(e,""),console.warn("sanitizeSvg: attribute ".concat(e," in element ").concat(t.nodeName," pointing to a non-local reference (").concat(n,") is removed")),t.removeAttribute(e)))})),s=t.childNodes.length;while(s--)e(t.childNodes.item(s))}else{console.warn("sanitizeSvg: element ".concat(t.nodeName," not supported is removed"));var C=[];while(t.hasChildNodes())C.push(r.insertBefore(t.firstChild,t));t.remove();var S=C.length;while(S--)e(C[S])}}}};function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}var So=Uint8Array,ko=Uint16Array,_o=Uint32Array,Bo=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Do=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mo=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Eo=function(e,t){for(var n=new ko(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new _o(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},To=Eo(Bo,2),Io=To[0],Oo=To[1];Io[28]=258,Oo[258]=28;for(var Lo=Eo(Do,0),Fo=Lo[0],Po=Lo[1],No=new ko(32768),Uo=0;Uo<32768;++Uo){var Ho=(43690&Uo)>>>1|(21845&Uo)<<1;Ho=(52428&Ho)>>>2|(13107&Ho)<<2,Ho=(61680&Ho)>>>4|(3855&Ho)<<4,No[Uo]=((65280&Ho)>>>8|(255&Ho)<<8)>>>1}var Ro=function(e,t,n){for(var r=e.length,i=0,o=new ko(t);i<r;++i)++o[e[i]-1];var a,s=new ko(t);for(i=0;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new ko(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],d=s[e[i]-1]++<<l,f=d|(1<<l)-1;d<=f;++d)a[No[d]>>>u]=c}else for(a=new ko(r),i=0;i<r;++i)a[i]=No[s[e[i]-1]++]>>>15-e[i];return a},Vo=new So(288);for(Uo=0;Uo<144;++Uo)Vo[Uo]=8;for(Uo=144;Uo<256;++Uo)Vo[Uo]=9;for(Uo=256;Uo<280;++Uo)Vo[Uo]=7;for(Uo=280;Uo<288;++Uo)Vo[Uo]=8;var Qo=new So(32);for(Uo=0;Uo<32;++Uo)Qo[Uo]=5;var jo=Ro(Vo,9,0),zo=Ro(Vo,9,1),Go=Ro(Qo,5,0),Ko=Ro(Qo,5,1),qo=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Wo=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},$o=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},Xo=function(e){return(e/8>>0)+(7&e&&1)},Yo=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof ko?ko:e instanceof _o?_o:So)(n-t);return r.set(e.subarray(t,n)),r},Jo=function(e,t,n){var r=e.length,i=!t||n,o=!n||n.i;n||(n={}),t||(t=new So(3*r));var a=function(e){var n=t.length;if(e>n){var r=new So(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,u=n.p||0,c=n.b||0,l=n.l,d=n.d,f=n.m,A=n.n,h=8*r;do{if(!l){n.f=s=Wo(e,u,1);var p=Wo(e,u+1,3);if(u+=3,!p){var m=Xo(u)+4,g=e[m-4]|e[m-3]<<8,v=m+g;if(v>r){if(o)throw"unexpected EOF";break}i&&a(c+g),t.set(e.subarray(m,v),c),n.b=c+=g,n.p=u=8*v;continue}if(1==p)l=zo,d=Ko,f=9,A=5;else{if(2!=p)throw"invalid block type";var y=Wo(e,u,31)+257,b=Wo(e,u+10,15)+4,w=y+Wo(e,u+5,31)+1;u+=14;for(var x=new So(w),C=new So(19),S=0;S<b;++S)C[Mo[S]]=Wo(e,u+3*S,7);u+=3*b;var k=qo(C),_=(1<<k)-1;if(!o&&u+w*(k+7)>h)break;var B=Ro(C,k,1);for(S=0;S<w;){var D=B[Wo(e,u,_)];u+=15&D;m=D>>>4;if(m<16)x[S++]=m;else{var M=0,E=0;16==m?(E=3+Wo(e,u,3),u+=2,M=x[S-1]):17==m?(E=3+Wo(e,u,7),u+=3):18==m&&(E=11+Wo(e,u,127),u+=7);while(E--)x[S++]=M}}var T=x.subarray(0,y),I=x.subarray(y);f=qo(T),A=qo(I),l=Ro(T,f,1),d=Ro(I,A,1)}if(u>h)throw"unexpected EOF"}i&&a(c+131072);var O=(1<<f)-1,L=(1<<A)-1,F=f+A+18;while(o||u+F<h){M=l[$o(e,u)&O];var P=M>>>4;if(u+=15&M,u>h)throw"unexpected EOF";if(!M)throw"invalid length/literal";if(P<256)t[c++]=P;else{if(256==P){l=null;break}var N=P-254;if(P>264){S=P-257;var U=Bo[S];N=Wo(e,u,(1<<U)-1)+Io[S],u+=U}var H=d[$o(e,u)&L],R=H>>>4;if(!H)throw"invalid distance";u+=15&H;I=Fo[R];if(R>3){U=Do[R];I+=$o(e,u)&(1<<U)-1,u+=U}if(u>h)throw"unexpected EOF";i&&a(c+131072);for(var V=c+N;c<V;c+=4)t[c]=t[c-I],t[c+1]=t[c+1-I],t[c+2]=t[c+2-I],t[c+3]=t[c+3-I];c=V}}n.l=l,n.p=u,n.b=c,l&&(s=1,n.m=f,n.d=d,n.n=A)}while(!s);return c==t.length?t:Yo(t,0,c)},Zo=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},ea=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},ta=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new So(0),0];if(1==i){var a=new So(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],u=n[1],c=0,l=1,d=2;n[0]={s:-1,f:s.f+u.f,l:s,r:u};while(l!=i-1)s=n[n[c].f<n[d].f?c++:d++],u=n[c!=l&&n[c].f<n[d].f?c++:d++],n[l++]={s:-1,f:s.f+u.f,l:s,r:u};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var A=new ko(f+1),h=na(n[l-1],A,0);if(h>t){r=0;var p=0,m=h-t,g=1<<m;for(o.sort((function(e,t){return A[t.s]-A[e.s]||e.f-t.f}));r<i;++r){var v=o[r].s;if(!(A[v]>t))break;p+=g-(1<<h-A[v]),A[v]=t}p>>>=m;while(p>0){var y=o[r].s;A[y]<t?p-=1<<t-A[y]++-1:++r}for(;r>=0&&p;--r){var b=o[r].s;A[b]==t&&(--A[b],++p)}h=t}return[new So(A),h]},na=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},ra=function(e){var t=e.length;while(t&&!e[--t]);for(var n=new ko(++t),r=0,i=e[0],o=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}while(o--)a(i);o=1,i=e[s]}return[n.subarray(0,r),t]},ia=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},oa=function(e,t,n){var r=n.length,i=Xo(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},aa=function(e,t,n,r,i,o,a,s,u,c,l){Zo(t,l++,n),++i[256];for(var d=ta(i,15),f=d[0],A=d[1],h=ta(o,15),p=h[0],m=h[1],g=ra(f),v=g[0],y=g[1],b=ra(p),w=b[0],x=b[1],C=new ko(19),S=0;S<v.length;++S)C[31&v[S]]++;for(S=0;S<w.length;++S)C[31&w[S]]++;for(var k=ta(C,7),_=k[0],B=k[1],D=19;D>4&&!_[Mo[D-1]];--D);var M,E,T,I,O=c+5<<3,L=ia(i,Vo)+ia(o,Qo)+a,F=ia(i,f)+ia(o,p)+a+14+3*D+ia(C,_)+(2*C[16]+3*C[17]+7*C[18]);if(O<=L&&O<=F)return oa(t,l,e.subarray(u,u+c));if(Zo(t,l,1+(F<L)),l+=2,F<L){M=Ro(f,A,0),E=f,T=Ro(p,m,0),I=p;var P=Ro(_,B,0);Zo(t,l,y-257),Zo(t,l+5,x-1),Zo(t,l+10,D-4),l+=14;for(S=0;S<D;++S)Zo(t,l+3*S,_[Mo[S]]);l+=3*D;for(var N=[v,w],U=0;U<2;++U){var H=N[U];for(S=0;S<H.length;++S){var R=31&H[S];Zo(t,l,P[R]),l+=_[R],R>15&&(Zo(t,l,H[S]>>>5&127),l+=H[S]>>>12)}}}else M=jo,E=Vo,T=Go,I=Qo;for(S=0;S<s;++S)if(r[S]>255){R=r[S]>>>18&31;ea(t,l,M[R+257]),l+=E[R+257],R>7&&(Zo(t,l,r[S]>>>23&31),l+=Bo[R]);var V=31&r[S];ea(t,l,T[V]),l+=I[V],V>3&&(ea(t,l,r[S]>>>5&8191),l+=Do[V])}else ea(t,l,M[r[S]]),l+=E[r[S]];return ea(t,l,M[256]),l+E[256]},sa=new _o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ua=new So(0),ca=function(e,t,n,r,i,o){var a=e.length,s=new So(r+a+5*(1+Math.floor(a/7e3))+i),u=s.subarray(r,s.length-i),c=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var d=l+65535;d<a?c=oa(u,c,e.subarray(l,d)):(u[l]=o,c=oa(u,c,e.subarray(l,a)))}else{for(var f=sa[t-1],A=f>>>13,h=8191&f,p=(1<<n)-1,m=new ko(32768),g=new ko(p+1),v=Math.ceil(n/3),y=2*v,b=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&p},w=new _o(25e3),x=new ko(288),C=new ko(32),S=0,k=0,_=(l=0,0),B=0,D=0;l<a;++l){var M=b(l),E=32767&l,T=g[M];if(m[E]=T,g[M]=E,B<=l){var I=a-l;if((S>7e3||_>24576)&&I>423){c=aa(e,u,0,w,x,C,k,_,D,l-D,c),_=S=k=0,D=l;for(var O=0;O<286;++O)x[O]=0;for(O=0;O<30;++O)C[O]=0}var L=2,F=0,P=h,N=E-T&32767;if(I>2&&M==b(l-N)){var U=Math.min(A,I)-1,H=Math.min(32767,l),R=Math.min(258,I);while(N<=H&&--P&&E!=T){if(e[l+L]==e[l+L-N]){for(var V=0;V<R&&e[l+V]==e[l+V-N];++V);if(V>L){if(L=V,F=N,V>U)break;var Q=Math.min(N,V-2),j=0;for(O=0;O<Q;++O){var z=l-N+O+32768&32767,G=m[z],K=z-G+32768&32767;K>j&&(j=K,T=z)}}}E=T,T=m[E],N+=E-T+32768&32767}}if(F){w[_++]=268435456|Oo[L]<<18|Po[F];var q=31&Oo[L],W=31&Po[F];k+=Bo[q]+Do[W],++x[257+q],++C[W],B=l+L,++S}else w[_++]=e[l],++x[e[l]]}}c=aa(e,u,o,w,x,C,k,_,D,l-D,c),o||(c=oa(u,c,ua))}return Yo(s,0,r+Xo(c)+i)},la=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,a=0;a!=o;){for(var s=Math.min(a+5552,o);a<s;++a)r+=n[a],i+=r;r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},da=function(e,t,n,r,i){return ca(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},fa=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Aa=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},ha=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function pa(e,t){void 0===t&&(t={});var n=la();n.p(e);var r=da(e,t,2,4);return Aa(r,t),fa(r,r.length-4,n.d()),r}function ma(e,t){return Jo((ha(e),e.subarray(2,-4)),t)}
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ga=function(){return"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this}();function va(){ga.console&&"function"==typeof ga.console.log&&ga.console.log.apply(ga.console,arguments)}var ya={log:va,warn:function(e){ga.console&&("function"==typeof ga.console.warn?ga.console.warn.apply(ga.console,arguments):va.call(null,arguments))},error:function(e){ga.console&&("function"==typeof ga.console.error?ga.console.error.apply(ga.console,arguments):va(e))}};function ba(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ka(r.response,t,n)},r.onerror=function(){ya.error("could not download file")},r.send()}function wa(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function xa(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(GE){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ca,Sa,ka=ga.saveAs||("object"!==("undefined"==typeof window?"undefined":Co(window))||window!==ga?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ga.URL||ga.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?wa(i.href)?ba(e,t,n):xa(i,i.target="_blank"):xa(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){xa(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(wa(e))ba(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){xa(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==Co(t)&&(ya.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return ba(e,t,n);var i="application/octet-stream"===e.type,o=/constructor/i.test(ga.HTMLElement)||ga.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&"object"===("undefined"==typeof FileReader?"undefined":Co(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var u=ga.URL||ga.webkitURL,c=u.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout((function(){u.revokeObjectURL(c)}),4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _a(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ba(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=Ma(n,r,i,o,t[0],7,-680876936),o=Ma(o,n,r,i,t[1],12,-389564586),i=Ma(i,o,n,r,t[2],17,606105819),r=Ma(r,i,o,n,t[3],22,-1044525330),n=Ma(n,r,i,o,t[4],7,-176418897),o=Ma(o,n,r,i,t[5],12,1200080426),i=Ma(i,o,n,r,t[6],17,-1473231341),r=Ma(r,i,o,n,t[7],22,-45705983),n=Ma(n,r,i,o,t[8],7,1770035416),o=Ma(o,n,r,i,t[9],12,-1958414417),i=Ma(i,o,n,r,t[10],17,-42063),r=Ma(r,i,o,n,t[11],22,-1990404162),n=Ma(n,r,i,o,t[12],7,1804603682),o=Ma(o,n,r,i,t[13],12,-40341101),i=Ma(i,o,n,r,t[14],17,-1502002290),n=Ea(n,r=Ma(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Ea(o,n,r,i,t[6],9,-1069501632),i=Ea(i,o,n,r,t[11],14,643717713),r=Ea(r,i,o,n,t[0],20,-373897302),n=Ea(n,r,i,o,t[5],5,-701558691),o=Ea(o,n,r,i,t[10],9,38016083),i=Ea(i,o,n,r,t[15],14,-660478335),r=Ea(r,i,o,n,t[4],20,-405537848),n=Ea(n,r,i,o,t[9],5,568446438),o=Ea(o,n,r,i,t[14],9,-1019803690),i=Ea(i,o,n,r,t[3],14,-187363961),r=Ea(r,i,o,n,t[8],20,1163531501),n=Ea(n,r,i,o,t[13],5,-1444681467),o=Ea(o,n,r,i,t[2],9,-51403784),i=Ea(i,o,n,r,t[7],14,1735328473),n=Ta(n,r=Ea(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Ta(o,n,r,i,t[8],11,-2022574463),i=Ta(i,o,n,r,t[11],16,1839030562),r=Ta(r,i,o,n,t[14],23,-35309556),n=Ta(n,r,i,o,t[1],4,-1530992060),o=Ta(o,n,r,i,t[4],11,1272893353),i=Ta(i,o,n,r,t[7],16,-155497632),r=Ta(r,i,o,n,t[10],23,-1094730640),n=Ta(n,r,i,o,t[13],4,681279174),o=Ta(o,n,r,i,t[0],11,-358537222),i=Ta(i,o,n,r,t[3],16,-722521979),r=Ta(r,i,o,n,t[6],23,76029189),n=Ta(n,r,i,o,t[9],4,-640364487),o=Ta(o,n,r,i,t[12],11,-421815835),i=Ta(i,o,n,r,t[15],16,530742520),n=Ia(n,r=Ta(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=Ia(o,n,r,i,t[7],10,1126891415),i=Ia(i,o,n,r,t[14],15,-1416354905),r=Ia(r,i,o,n,t[5],21,-57434055),n=Ia(n,r,i,o,t[12],6,1700485571),o=Ia(o,n,r,i,t[3],10,-1894986606),i=Ia(i,o,n,r,t[10],15,-1051523),r=Ia(r,i,o,n,t[1],21,-2054922799),n=Ia(n,r,i,o,t[8],6,1873313359),o=Ia(o,n,r,i,t[15],10,-30611744),i=Ia(i,o,n,r,t[6],15,-1560198380),r=Ia(r,i,o,n,t[13],21,1309151649),n=Ia(n,r,i,o,t[4],6,-145523070),o=Ia(o,n,r,i,t[11],10,-1120210379),i=Ia(i,o,n,r,t[2],15,718787259),r=Ia(r,i,o,n,t[9],21,-343485551),e[0]=Ra(n,e[0]),e[1]=Ra(r,e[1]),e[2]=Ra(i,e[2]),e[3]=Ra(o,e[3])}function Da(e,t,n,r,i,o){return t=Ra(Ra(t,e),Ra(r,o)),Ra(t<<i|t>>>32-i,n)}function Ma(e,t,n,r,i,o,a){return Da(t&n|~t&r,e,t,i,o,a)}function Ea(e,t,n,r,i,o,a){return Da(t&r|n&~r,e,t,i,o,a)}function Ta(e,t,n,r,i,o,a){return Da(t^n^r,e,t,i,o,a)}function Ia(e,t,n,r,i,o,a){return Da(n^(t|~r),e,t,i,o,a)}function Oa(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ba(r,La(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ba(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Ba(r,i),r}function La(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ca=ga.atob.bind(ga),Sa=ga.btoa.bind(ga);var Fa="0123456789abcdef".split("");function Pa(e){for(var t="",n=0;n<4;n++)t+=Fa[e>>8*n+4&15]+Fa[e>>8*n&15];return t}function Na(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ua(e){return Oa(e).map(Na).join("")}var Ha="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Pa(e[t]);return e.join("")}(Oa("hello"));function Ra(e,t){if(Ha){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Va(e,t){var n,r,i,o;if(e!==n){for(var a=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),s=[],u=0;u<256;u++)s[u]=u;var c=0;for(u=0;u<256;u++){var l=s[u];c=(c+l+a.charCodeAt(u))%256,s[u]=s[c],s[c]=l}n=e,r=s}else s=r;var d=t.length,f=0,A=0,h="";for(u=0;u<d;u++)A=(A+(l=s[f=(f+1)%256]))%256,s[f]=s[A],s[A]=l,a=s[(s[f]+s[A])%256],h+=String.fromCharCode(t.charCodeAt(u)^a);return h}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Qa={print:4,modify:8,copy:16,"annot-forms":32};function ja(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==Qa.perm)throw new Error("Invalid permission: "+e);i+=Qa[e]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=Ua(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Va(this.encryptionKey,this.padding)}function za(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function Ga(e){if("object"!==Co(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var a=t[n][o];try{a[0].apply(e,r)}catch(n){ga.console&&ya.error("jsPDF PubSub Error",n.message,n)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ka(e){if(!(this instanceof Ka))return new Ka(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function qa(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Wa(e,t,n,r,i){if(!(this instanceof Wa))return new Wa(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,qa.call(this,r,i)}function $a(e,t,n,r,i){if(!(this instanceof $a))return new $a(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,qa.call(this,r,i)}function Xa(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,u=16,c="S",l=null;"object"===Co(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,null!==(l=e.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(u=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===o?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,f={},A={internal:{},__private__:{}};A.__private__.PubSub=Ga;var h="1.3",p=A.__private__.getPdfVersion=function(){return h};A.__private__.setPdfVersion=function(e){h=e};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return m};var g=A.__private__.getPageFormat=function(e){return m[e]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},y=v.COMPAT;function b(){this.saveGraphicsState(),J(new Ie(Ae,0,0,-Ae,0,Bn()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),c="n",y=v.ADVANCED}function w(){this.restoreGraphicsState(),c="S",y=v.COMPAT}var x=A.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};A.advancedAPI=function(e){var t=y===v.COMPAT;return t&&b.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},A.compatAPI=function(e){var t=y===v.ADVANCED;return t&&w.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},A.isAdvancedAPI=function(){return y===v.ADVANCED};var C,S=function(e){if(y!==v.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=A.roundToPrecision=A.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};C=A.hpf=A.__private__.hpf="number"==typeof u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,u)}:"smart"===u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var _=A.f2=A.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return k(e,2)},B=A.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return k(e,3)},D=A.scale=A.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return y===v.COMPAT?e*Ae:y===v.ADVANCED?e:void 0},M=function(e){return y===v.COMPAT?Bn()-e:y===v.ADVANCED?e:void 0},E=function(e){return D(M(e))};A.__private__.setPrecision=A.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,I="00000000000000000000000000000000",O=A.__private__.getFileId=function(){return I},L=A.__private__.setFileId=function(e){return I=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():I.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==l&&(Lt=new ja(l.userPermissions,l.userPassword,l.ownerPassword,I)),I};A.setFileId=function(e){return L(e),this},A.getFileId=function(){return O()};var F=A.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,R(r),"'",R(i),"'"].join("");return["D:",e.getFullYear(),R(e.getMonth()+1),R(e.getDate()),R(e.getHours()),R(e.getMinutes()),R(e.getSeconds()),o].join("")},P=A.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,a,0)},N=A.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=F(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},U=A.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=P(T)),t};A.setCreationDate=function(e){return N(e),this},A.getCreationDate=function(e){return U(e)};var H,R=A.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},V=A.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},Q=0,j=[],z=[],G=0,K=[],q=[],W=!1,$=z,X=function(){Q=0,G=0,z=[],j=[],K=[],Re=Ne(),Ve=Ne()};A.__private__.setCustomOutputDestination=function(e){W=!0,$=e};var Y=function(e){W||($=e)};A.__private__.resetCustomOutputDestination=function(){W=!1,$=z};var J=A.__private__.out=function(e){return e=e.toString(),G+=e.length+1,$.push(e),$},Z=A.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=A.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return te};var ne=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(e){return ne=y===v.ADVANCED?e/Ae:e,this};var re,ie=A.__private__.getFontSize=A.getFontSize=function(){return y===v.COMPAT?ne:ne*Ae},oe=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(e){return oe=e,this},A.__private__.getR2L=A.getR2L=function(){return oe};var ae,se=A.__private__.setZoomMode=function(e){var t=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===t.indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};A.__private__.getZoomMode=function(){return re};var ue,ce=A.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};A.__private__.getPageMode=function(){return ae};var le=A.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ue=e};A.__private__.getLayoutMode=function(){return ue},A.__private__.setDisplayMode=A.setDisplayMode=function(e,t,n){return se(e),le(t),ce(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},A.__private__.getDocumentProperties=function(){return de},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},A.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var fe,Ae,he,pe,me,ge={},ve={},ye=[],be={},we={},xe={},Ce={},Se=null,ke=0,_e=[],Be=new Ga(A),De=e.hotfixes||[],Me={},Ee={},Te=[],Ie=function e(t,n,r,i,o,a){if(!(this instanceof e))return new e(t,n,r,i,o,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,o,a]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,i,o,a)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var u=Math.sqrt(n*n+r*r);return s/=u,e*(r/=u)<t*(n/=u)&&(e=-e,t=-t,s=-s,a=-a),{scale:new Ie(a,0,0,u,0,0),translate:new Ie(1,0,0,1,i,o),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,s,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=1/(e*r-t*n),s=r*a,u=-t*a,c=-n*a,l=e*a;return new Ie(s,u,c,l,-s*i-c*o,-u*i-l*o)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new yn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new yn(e.x+e.w,e.y+e.h));return new bn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new Ie(e,t,n,r,i,o)},A.Matrix=Ie;var Oe=A.matrixMult=function(e,t){return t.multiply(e)},Le=new Ie(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Le;var Fe=function(e,t){if(!we[e]){var n=(t instanceof Wa?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,we[e]=n,be[n]=t,Be.publish("addPattern",t)}};A.ShadingPattern=Wa,A.TilingPattern=$a,A.addShadingPattern=function(e,t){return S("addShadingPattern()"),Fe(e,t),this},A.beginTilingPattern=function(e){S("beginTilingPattern()"),xn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},A.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=q[H].join("\n"),Fe(e,t),Be.publish("endTilingPattern",t),Te.pop().restore()};var Pe=A.__private__.newObject=function(){var e=Ne();return Ue(e,!0),e},Ne=A.__private__.newObjectDeferred=function(){return Q++,j[Q]=function(){return G},Q},Ue=function(e,t){return t="boolean"==typeof t&&t,j[e]=G,t&&J(e+" 0 obj"),e},He=A.__private__.newAdditionalObject=function(){var e={objId:Ne(),content:""};return K.push(e),e},Re=Ne(),Ve=Ne(),Qe=A.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},je=A.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,o=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new _a(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var u=parseInt(n.substr(1),16);n=u>>16&255,r=u>>8&255,i=255&u}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)t=n+" "+a[0];else switch(e.precision){case 2:t=_(n/255)+" "+a[0];break;case 3:default:t=B(n/255)+" "+a[0]}else if(void 0===o||"object"===Co(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,r,i,a[1]].join(" ");else switch(e.precision){case 2:t=[_(n/255),_(r/255),_(i/255),a[1]].join(" ");break;default:case 3:t=[B(n/255),B(r/255),B(i/255),a[1]].join(" ")}}else if("string"==typeof n)t=[n,r,i,o,a[2]].join(" ");else switch(e.precision){case 2:t=[_(n),_(r),_(i),_(o),a[2]].join(" ");break;case 3:default:t=[B(n),B(r),B(i),B(o),a[2]].join(" ")}return t},ze=A.__private__.getFilters=function(){return a},Ge=A.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||ze(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,a=e.objectId,s=function(e){return e};if(null!==l&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(s=Lt.encryptor(a,0));var u={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(u=void 0!==Xa.API.processDataByFilters?Xa.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==u.data.length&&(c.push({key:"Length",value:u.data.length}),!0===i&&c.push({key:"Length1",value:o})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var f=0;f<c.length;f+=1)if("DecodeParms"===c[f].key){for(var A=[],h=0;h<u.reverseChain.split("/").length-1;h+=1)A.push("null");A.push(c[f].value),c[f].value="["+A.join(" ")+"]"}}J("<<");for(var p=0;p<c.length;p++)J("/"+c[p].key+" "+c[p].value);J(">>"),0!==u.data.length&&(J("stream"),J(s(u.data)),J("endstream"))},Ke=A.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Ue(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),Be.publish("putPage",{objId:r,pageContext:_e[t],pageNumber:t,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var o=n.join("\n");return y===v.ADVANCED&&(o+="\nQ"),Ue(i,!0),Ge({data:o,filters:ze(),objectId:i}),J("endobj"),r},qe=A.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)_e[e].objId=Ne(),_e[e].contentsObjId=Ne();for(e=1;e<=ke;e++)n.push(Ke({number:e,data:q[e],objId:_e[e].objId,contentsObjId:_e[e].contentsObjId,mediaBox:_e[e].mediaBox,cropBox:_e[e].cropBox,bleedBox:_e[e].bleedBox,trimBox:_e[e].trimBox,artBox:_e[e].artBox,userUnit:_e[e].userUnit,rootDictionaryObjId:Re,resourceDictionaryObjId:Ve}));Ue(Re,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";J(r+"]"),J("/Count "+ke),J(">>"),J("endobj"),Be.publish("postPutPages")},We=function(e){Be.publish("putFont",{font:e,out:J,newObject:Pe,putStream:Ge}),!0!==e.isAlreadyPutted&&(e.objectNumber=Pe(),J("<<"),J("/Type /Font"),J("/BaseFont /"+za(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},$e=function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&We(ge[e])},Xe=function(e){e.objectNumber=Pe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ge({data:n,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Ye=function(){for(var e in Me)Me.hasOwnProperty(e)&&Xe(Me[e])},Je=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",u=0,c=0;c<r.length;c++){for(n=r[c];n>e[u+1].offset;)u++;var l=e[u].offset,d=(n-l)/(e[u+1].offset-l),f=e[u].color,A=e[u+1].color;s+=V(Math.round((1-d)*f[0]+d*A[0]).toString(16))+V(Math.round((1-d)*f[1]+d*A[1]).toString(16))+V(Math.round((1-d)*f[2]+d*A[2]).toString(16))}return s.trim()},Ze=function(e,t){t||(t=21);var n=Pe(),r=Je(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),e.objectNumber=Pe(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var o="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?o+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):o+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),J(o+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},et=function(e,t){var n=Ne(),r=Pe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(e.xStep)}),i.push({key:"YStep",value:C(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ge({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),J("endobj")},tt=function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Wa?Ze(be[t]):be[t]instanceof $a&&et(be[t],e))},nt=function(e){for(var t in e.objectNumber=Pe(),J("<<"),e)switch(t){case"opacity":J("/ca "+_(e[t]));break;case"stroke-opacity":J("/CA "+_(e[t]))}J(">>"),J("endobj")},rt=function(){var e;for(e in xe)xe.hasOwnProperty(e)&&nt(xe[e])},it=function(){for(var e in J("/XObject <<"),Me)Me.hasOwnProperty(e)&&Me[e].objectNumber>=0&&J("/"+e+" "+Me[e].objectNumber+" 0 R");Be.publish("putXobjectDict"),J(">>")},ot=function(){Lt.oid=Pe(),J("<<"),J("/Filter /Standard"),J("/V "+Lt.v),J("/R "+Lt.r),J("/U <"+Lt.toHexString(Lt.U)+">"),J("/O <"+Lt.toHexString(Lt.O)+">"),J("/P "+Lt.P),J(">>"),J("endobj")},at=function(){for(var e in J("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&J("/"+e+" "+ge[e].objectNumber+" 0 R");J(">>")},st=function(){if(Object.keys(be).length>0){for(var e in J("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Wa&&be[e].objectNumber>=0&&J("/"+e+" "+be[e].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),J(">>")}},ut=function(e){if(Object.keys(be).length>0){for(var t in J("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof A.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&J("/"+t+" "+be[t].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),J(">>")}},ct=function(){if(Object.keys(xe).length>0){var e;for(e in J("/ExtGState <<"),xe)xe.hasOwnProperty(e)&&xe[e].objectNumber>=0&&J("/"+e+" "+xe[e].objectNumber+" 0 R");Be.publish("putGStateDict"),J(">>")}},lt=function(e){Ue(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),at(),st(),ut(e.objectOid),ct(),it(),J(">>"),J("endobj")},dt=function(){var e=[];$e(),rt(),Ye(),tt(e),Be.publish("putResources"),e.forEach(lt),lt({resourcesOid:Ve,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources")},ft=function(){Be.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];Ue(t.objId,!0),J(t.content),J("endobj")}Be.publish("postPutAdditionalObjects")},At=function(e){ve[e.fontName]=ve[e.fontName]||{},ve[e.fontName][e.fontStyle]=e.id},ht=function(e,t,n,r,i){var o={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Be.publish("addFont",{font:o,instance:this}),ge[o.id]=o,At(o),o.id},pt=function(e){for(var t=0,n=te.length;t<n;t++){var r=ht.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===d&&(f[r]=!0);var i=e[t][0].split("-");At({id:r,fontName:i[0],fontStyle:i[1]||""})}Be.publish("addFonts",{fonts:ge,dictionary:ve})},mt=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!ga.console)throw new Error(n);ga.console.error(n,e),ga.alert&&alert(n)}},e.foo.bar=e,e.foo},gt=function(e,t){var n,r,i,o,a,s,u,c,l;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ge[fe].metadata&&ge[fe].metadata[i]&&ge[fe].metadata[i].encoding&&(o=ge[fe].metadata[i].encoding,!a&&ge[fe].encoding&&(a=ge[fe].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(u=!1,s=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(u=!0);e=s.join("")}for(n=e.length;void 0===u&&0!==n;)e.charCodeAt(n-1)>>8&&(u=!0),n--;if(!u)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((l=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(c-(l<<8))}return String.fromCharCode.apply(void 0,s)},vt=A.__private__.pdfEscape=A.pdfEscape=function(e,t){return gt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yt=A.__private__.beginPage=function(e){q[++ke]=[],_e[ke]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},xt(ke),Y(q[H])},bt=function(e,t){var r,o,a;switch(n=t||n,"string"==typeof e&&(r=g(e.toLowerCase()),Array.isArray(r)&&(o=r[0],a=r[1])),Array.isArray(e)&&(o=e[0]*Ae,a=e[1]*Ae),isNaN(o)&&(o=i[0],a=i[1]),(o>14400||a>14400)&&(ya.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),a=Math.min(14400,a)),i=[o,a],n.substr(0,1)){case"l":a>o&&(i=[a,o]);break;case"p":o>a&&(i=[a,o])}yt(i),tn(Zt),J(ln),0!==mn&&J(mn+" J"),0!==gn&&J(gn+" j"),Be.publish("addPage",{pageNumber:ke})},wt=function(e){e>0&&e<=ke&&(q.splice(e,1),_e.splice(e,1),ke--,H>ke&&(H=ke),this.setPage(H))},xt=function(e){e>0&&e<=ke&&(H=e)},Ct=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return q.length-1},St=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[fe].fontName,t=void 0!==t?t:ge[fe].fontStyle,r=e.toLowerCase(),void 0!==ve[r]&&void 0!==ve[r][t]?i=ve[r][t]:void 0!==ve[e]&&void 0!==ve[e][t]?i=ve[e][t]:!1===n.disableWarning&&ya.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=ve.times[t])&&(i=ve.times.normal),i},kt=A.__private__.putInfo=function(){var e=Pe(),t=function(e){return e};for(var n in null!==l&&(t=Lt.encryptor(e,0)),J("<<"),J("/Producer ("+vt(t("jsPDF "+Xa.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+vt(t(de[n]))+")");J("/CreationDate ("+vt(t(T))+")"),J(">>"),J("endobj")},_t=A.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Re;switch(Pe(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+re;"%"===n.substr(n.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&J("/OpenAction [3 0 R /XYZ null null "+_(re)+"]")}switch(ue||(ue="continuous"),ue){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ae&&J("/PageMode /"+ae),Be.publish("putCatalog"),J(">>"),J("endobj")},Bt=A.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Q+1)),J("/Root "+Q+" 0 R"),J("/Info "+(Q-1)+" 0 R"),null!==l&&J("/Encrypt "+Lt.oid+" 0 R"),J("/ID [ <"+I+"> <"+I+"> ]"),J(">>")},Dt=A.__private__.putHeader=function(){J("%PDF-"+h),J("%ºß¬à")},Mt=A.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(Q+1)),J("0000000000 65535 f ");for(var t=1;t<=Q;t++)"function"==typeof j[t]?J((e+j[t]()).slice(-10)+" 00000 n "):void 0!==j[t]?J((e+j[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Et=A.__private__.buildDocument=function(){X(),Y(z),Be.publish("buildDocument"),Dt(),qe(),ft(),dt(),null!==l&&ot(),kt(),_t();var e=G;return Mt(),Bt(),J("startxref"),J(""+e),J("%%EOF"),Y(q[H]),z.join("\n")},Tt=A.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},It=A.output=A.__private__.output=mt((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Et();case"save":A.save(t.filename);break;case"arraybuffer":return ee(Et());case"blob":return Tt(Et());case"bloburi":case"bloburl":if(void 0!==ga.URL&&"function"==typeof ga.URL.createObjectURL)return ga.URL&&ga.URL.createObjectURL(Tt(Et()))||void 0;ya.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Et();try{n=Sa(r)}catch(e){n=Sa(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ga)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=ga.open();return null!==s&&s.document.write(a),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ga)){var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ga.open();if(null!==c){c.document.write(u);var l=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ga))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=ga.open();if(null!==f&&(f.document.write(d),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return ga.document.location.href=this.output("datauristring",t);default:return null}})),Ot=function(e){return!0===Array.isArray(De)&&De.indexOf(e)>-1};switch(r){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=1==Ot("px_scaling")?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Ae=r}var Lt=null;N(),L();var Ft=function(e){return null!==l?Lt.encryptor(e,0):function(e){return e}},Pt=A.__private__.getPageInfo=A.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[e].objId,pageNumber:e,pageContext:_e[e]}},Nt=A.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in _e)if(_e[t].objId===e)break;return Pt(t)},Ut=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:_e[H].objId,pageNumber:H,pageContext:_e[H]}};A.addPage=function(){return bt.apply(this,arguments),this},A.setPage=function(){return xt.apply(this,arguments),Y.call(this,q[H]),this},A.insertPage=function(e){return this.addPage(),this.movePage(H,e),this},A.movePage=function(e,t){var n,r;if(e>t){n=q[e],r=_e[e];for(var i=e;i>t;i--)q[i]=q[i-1],_e[i]=_e[i-1];q[t]=n,_e[t]=r,this.setPage(t)}else if(e<t){n=q[e],r=_e[e];for(var o=e;o<t;o++)q[o]=q[o+1],_e[o]=_e[o+1];q[t]=n,_e[t]=r,this.setPage(t)}return this},A.deletePage=function(){return wt.apply(this,arguments),this},A.__private__.text=A.text=function(e,t,n,r,i){var o,a,s,u,c,l,d,A,h,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var m=n;n=t,t=e,e=m}if(arguments[3]instanceof Ie==0?(s=arguments[4],u=arguments[5],"object"===Co(d=arguments[3])&&null!==d||("string"==typeof s&&(u=s,s=null),"string"==typeof d&&(u=d,d=null),"number"==typeof d&&(s=d,d=null),r={flags:d,angle:s,align:u})):(S("The transform parameter of text() with a Matrix value"),h=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var g="",b=!1,w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Jt,x=p.internal.scaleFactor;function k(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),vt(e,d)}function _(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function B(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var M=!1,E=!0;if("string"==typeof e)M=!0;else if(Array.isArray(e)){var T=e.concat();a=[];for(var I,O=T.length;O--;)("string"!=typeof(I=T.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(E=!1);M=E}if(!1===M)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=ne/p.internal.scaleFactor,F=L*(w-1);switch(r.baseline){case"bottom":n-=F;break;case"top":n+=L-F;break;case"hanging":n+=L-2*F;break;case"middle":n+=L/2-F}if((l=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,l))}),[]))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:vt,activeFontKey:fe,fonts:ge,activeFontSize:ne}},Be.publish("preProcessText",o),e=o.text,s=(r=o.options).angle,h instanceof Ie==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),y===v.ADVANCED&&(s=-s);var P=Math.cos(s),N=Math.sin(s);h=new Ie(P,N,-N,P,0,0)}else s&&s instanceof Ie&&(h=s);y!==v.ADVANCED||h||(h=Le),void 0!==(c=r.charSpace||hn)&&(g+=C(D(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(A=r.horizontalScale)&&(g+=C(100*A)+" Tz\n"),r.lang;var U=-1,H=void 0!==r.renderingMode?r.renderingMode:r.stroke,R=p.internal.getCurrentPageInfo().pageContext;switch(H){case 0:case!1:case"fill":U=0;break;case 1:case!0:case"stroke":U=1;break;case 2:case"fillThenStroke":U=2;break;case 3:case"invisible":U=3;break;case 4:case"fillAndAddForClipping":U=4;break;case 5:case"strokeAndAddPathForClipping":U=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":U=6;break;case 7:case"addToPathForClipping":U=7}var V=void 0!==R.usedRenderingMode?R.usedRenderingMode:-1;-1!==U?g+=U+" Tr\n":-1!==V&&(g+="0 Tr\n"),-1!==U&&(R.usedRenderingMode=U),u=r.align||"left";var Q,j=ne*w,z=p.internal.pageSize.getWidth(),G=ge[fe];c=r.charSpace||hn,l=r.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},r.flags);var K=[];if("[object Array]"===Object.prototype.toString.call(e)){var q;a=_(e),"left"!==u&&(Q=a.map((function(e){return p.getStringUnitWidth(e,{font:G,charSpace:c,fontSize:ne,doKerning:!1})*ne/x})));var W,$=0;if("right"===u){t-=Q[0],e=[],O=a.length;for(var X=0;X<O;X++)0===X?(W=an(t),q=sn(n)):(W=D($-Q[X]),q=-j),e.push([a[X],W,q]),$=Q[X]}else if("center"===u){t-=Q[0]/2,e=[],O=a.length;for(var Y=0;Y<O;Y++)0===Y?(W=an(t),q=sn(n)):(W=D(($-Q[Y])/2),q=-j),e.push([a[Y],W,q]),$=Q[Y]}else if("left"===u){e=[],O=a.length;for(var Z=0;Z<O;Z++)e.push(a[Z])}else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],O=a.length,l=0!==l?l:z;for(var ee=0;ee<O;ee++)q=0===ee?sn(n):-j,W=0===ee?an(t):0,ee<O-1?K.push(C(D((l-Q[ee])/(a[ee].split(" ").length-1)))):K.push(0),e.push([a[ee],W,q])}}var te="boolean"==typeof r.R2L?r.R2L:oe;!0===te&&(e=B(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:vt,activeFontKey:fe,fonts:ge,activeFontSize:ne}},Be.publish("postProcessText",o),e=o.text,b=o.mutex.isHex||!1;var re=ge[fe].encoding;"WinAnsiEncoding"!==re&&"StandardEncoding"!==re||(e=B(e,(function(e,t,n){return[k(e),t,n]}))),a=_(e),e=[];for(var ie,ae,se,ue=0,ce=1,le=Array.isArray(a[0])?ce:ue,de="",Ae=function(e,t,n){var i="";return n instanceof Ie?(n="number"==typeof r.angle?Oe(n,new Ie(1,0,0,1,e,t)):Oe(new Ie(1,0,0,1,e,t),n),y===v.ADVANCED&&(n=Oe(new Ie(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=C(e)+" "+C(t)+" Td\n",i},he=0;he<a.length;he++){switch(de="",le){case ce:se=(b?"<":"(")+a[he][0]+(b?">":")"),ie=parseFloat(a[he][1]),ae=parseFloat(a[he][2]);break;case ue:se=(b?"<":"(")+a[he]+(b?">":")"),ie=an(t),ae=sn(n)}void 0!==K&&void 0!==K[he]&&(de=K[he]+" Tw\n"),0===he?e.push(de+Ae(ie,ae,h)+se):le===ue?e.push(de+se):le===ce&&e.push(de+Ae(ie,ae,h)+se)}e=le===ue?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var pe="BT\n/";return pe+=fe+" "+ne+" Tf\n",pe+=C(ne*w)+" TL\n",pe+=fn+"\n",pe+=g,pe+=e,J(pe+="ET"),f[fe]=!0,p};var Ht=A.__private__.clip=A.clip=function(e){return J("evenodd"===e?"W*":"W"),this};A.clipEvenOdd=function(){return Ht("evenodd")},A.__private__.discardPath=A.discardPath=function(){return J("n"),this};var Rt=A.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(e){return Rt(e)&&(c=e),this};var Vt=A.__private__.getStyle=A.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Qt=A.close=function(){return J("h"),this};A.stroke=function(){return J("S"),this},A.fill=function(e){return jt("f",e),this},A.fillEvenOdd=function(e){return jt("f*",e),this},A.fillStroke=function(e){return jt("B",e),this},A.fillStrokeEvenOdd=function(e){return jt("B*",e),this};var jt=function(e,t){"object"===Co(t)?Kt(t,e):J(e)},zt=function(e){null===e||y===v.ADVANCED&&void 0===e||(e=Vt(e),J(e))};function Gt(e,t,n,r,i){var o=new $a(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Fe(a,o),o}var Kt=function(e,t){var n=we[e.key],r=be[n];if(r instanceof Wa)J("q"),J(qt(t)),r.gState&&A.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof $a){var i=new Ie(1,0,0,-1,0,Bn());e.matrix&&(i=i.multiply(e.matrix||Le),n=Gt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&A.setGState(r.gState),J(t),J("Q")}},qt=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wt=A.moveTo=function(e,t){return J(C(D(e))+" "+C(E(t))+" m"),this},$t=A.lineTo=function(e,t){return J(C(D(e))+" "+C(E(t))+" l"),this},Xt=A.curveTo=function(e,t,n,r,i,o){return J([C(D(e)),C(E(t)),C(D(n)),C(E(r)),C(D(i)),C(E(o)),"c"].join(" ")),this};A.__private__.line=A.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.line");return y===v.COMPAT?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},A.__private__.lines=A.lines=function(e,t,n,r,i,o){var a,s,u,c,l,d,f,A,h,p,m,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Rt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Wt(t,n),a=r[0],s=r[1],c=e.length,p=t,m=n,u=0;u<c;u++)2===(l=e[u]).length?(p=l[0]*a+p,m=l[1]*s+m,$t(p,m)):(d=l[0]*a+p,f=l[1]*s+m,A=l[2]*a+p,h=l[3]*s+m,p=l[4]*a+p,m=l[5]*s+m,Xt(d,f,A,h,p,m));return o&&Qt(),zt(i),this},A.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Wt(r[0],r[1]);break;case"l":$t(r[0],r[1]);break;case"c":Xt.apply(this,r);break;case"h":Qt()}}return this},A.__private__.rect=A.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v.COMPAT&&(r=-r),J([C(D(e)),C(E(t)),C(D(n)),C(D(r)),"re"].join(" ")),zt(i),this},A.__private__.triangle=A.triangle=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Rt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],a,!0),this},A.__private__.roundedRect=A.roundedRect=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Rt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],e+i,t,[1,1],a,!0),this},A.__private__.ellipse=A.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Wt(e+n,t),Xt(e+n,t-a,e+o,t-r,e,t-r),Xt(e-o,t-r,e-n,t-a,e-n,t),Xt(e-n,t+a,e-o,t+r,e,t+r),Xt(e+o,t+r,e+n,t+a,e+n,t),zt(i),this},A.__private__.circle=A.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Rt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},A.setFont=function(e,t,n){return n&&(t=x(t,n)),fe=St(e,t,{disableWarning:!1}),this};var Yt=A.__private__.getFont=A.getFont=function(){return ge[St.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var e,t,n={};for(e in ve)if(ve.hasOwnProperty(e))for(t in n[e]=[],ve[e])ve[e].hasOwnProperty(t)&&n[e].push(t);return n},A.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=x(n,r)),i=i||"Identity-H",ht.call(this,e,t,n,i)};var Jt,Zt=e.lineWidth||.200025,en=A.__private__.getLineWidth=A.getLineWidth=function(){return Zt},tn=A.__private__.setLineWidth=A.setLineWidth=function(e){return Zt=e,J(C(D(e))+" w"),this};A.__private__.setLineDash=Xa.API.setLineDash=Xa.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return C(D(e))})).join(" "),t=C(D(t)),J("["+e+"] "+t+" d"),this};var nn=A.__private__.getLineHeight=A.getLineHeight=function(){return ne*Jt};A.__private__.getLineHeight=A.getLineHeight=function(){return ne*Jt};var rn=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Jt=e),this},on=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Jt};rn(e.lineHeight);var an=A.__private__.getHorizontalCoordinate=function(e){return D(e)},sn=A.__private__.getVerticalCoordinate=function(e){return y===v.ADVANCED?e:_e[H].mediaBox.topRightY-_e[H].mediaBox.bottomLeftY-D(e)},un=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(e){return C(an(e))},cn=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(e){return C(sn(e))},ln=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Qe(ln)},A.__private__.setStrokeColor=A.setDrawColor=function(e,t,n,r){return ln=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(ln),this};var dn=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Qe(dn)},A.__private__.setFillColor=A.setFillColor=function(e,t,n,r){return dn=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(dn),this};var fn=e.textColor||"0 g",An=A.__private__.getTextColor=A.getTextColor=function(){return Qe(fn)};A.__private__.setTextColor=A.setTextColor=function(e,t,n,r){return fn=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var hn=e.charSpace,pn=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(hn||0)};A.__private__.setCharSpace=A.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hn=e,this};var mn=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(e){var t=A.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mn=t,J(t+" J"),this};var gn=0;A.__private__.setLineJoin=A.setLineJoin=function(e){var t=A.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gn=t,J(t+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(D(e))+" M"),this},A.GState=Ka,A.setGState=function(e){(e="string"==typeof e?xe[Ce[e]]:vn(null,e)).equals(Se)||(J("/"+e.id+" gs"),Se=e)};var vn=function(e,t){if(!e||!Ce[e]){var n=!1;for(var r in xe)if(xe.hasOwnProperty(r)&&xe[r].equals(t)){n=!0;break}if(n)t=xe[r];else{var i="GS"+(Object.keys(xe).length+1).toString(10);xe[i]=t,t.id=i}return e&&(Ce[e]=t.id),Be.publish("addGState",t),t}};A.addGState=function(e,t){return vn(e,t),this},A.saveGraphicsState=function(){return J("q"),ye.push({key:fe,size:ne,color:fn}),this},A.restoreGraphicsState=function(){J("Q");var e=ye.pop();return fe=e.key,ne=e.size,fn=e.color,Se=null,this},A.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},A.comment=function(e){return J("#"+e),this};var yn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},bn=function(e,t,n,r){yn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},wn=function(){this.page=ke,this.currentPage=H,this.pages=q.slice(0),this.pagesContext=_e.slice(0),this.x=he,this.y=pe,this.matrix=me,this.width=kn(H),this.height=Bn(H),this.outputDestination=$,this.id="",this.objectNumber=-1};wn.prototype.restore=function(){ke=this.page,H=this.currentPage,_e=this.pagesContext,q=this.pages,he=this.x,pe=this.y,me=this.matrix,_n(H,this.width),Dn(H,this.height),$=this.outputDestination};var xn=function(e,t,n,r,i){Te.push(new wn),ke=H=0,q=[],he=e,pe=t,me=i,yt([n,r])},Cn=function(e){if(Ee[e])Te.pop().restore();else{var t=new wn,n="Xo"+(Object.keys(Me).length+1).toString(10);t.id=n,Ee[e]=n,Me[n]=t,Be.publish("addFormObject",t),Te.pop().restore()}};for(var Sn in A.beginFormObject=function(e,t,n,r,i){return xn(e,t,n,r,i),this},A.endFormObject=function(e){return Cn(e),this},A.doFormObject=function(e,t){var n=Me[Ee[e]];return J("q"),J(t.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},A.getFormObject=function(e){var t=Me[Ee[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},A.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(ka(Tt(Et()),e),"function"==typeof ka.unload&&ga.setTimeout&&setTimeout(ka.unload,911),this):new Promise((function(t,n){try{var r=ka(Tt(Et()),e);"function"==typeof ka.unload&&ga.setTimeout&&setTimeout(ka.unload,911),t(r)}catch(e){n(e.message)}}))},Xa.API)Xa.API.hasOwnProperty(Sn)&&("events"===Sn&&Xa.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Be,Xa.API.events):A[Sn]=Xa.API[Sn]);var kn=A.getPageWidth=function(e){return(_e[e=e||H].mediaBox.topRightX-_e[e].mediaBox.bottomLeftX)/Ae},_n=A.setPageWidth=function(e,t){_e[e].mediaBox.topRightX=t*Ae+_e[e].mediaBox.bottomLeftX},Bn=A.getPageHeight=function(e){return(_e[e=e||H].mediaBox.topRightY-_e[e].mediaBox.bottomLeftY)/Ae},Dn=A.setPageHeight=function(e,t){_e[e].mediaBox.topRightY=t*Ae+_e[e].mediaBox.bottomLeftY};return A.internal={pdfEscape:vt,getStyle:Vt,getFont:Yt,getFontSize:ie,getCharSpace:pn,getTextColor:An,getLineHeight:nn,getLineHeightFactor:on,getLineWidth:en,write:Z,getHorizontalCoordinate:an,getVerticalCoordinate:sn,getCoordinateString:un,getVerticalCoordinateString:cn,collections:{},newObject:Pe,newAdditionalObject:He,newObjectDeferred:Ne,newObjectDeferredBegin:Ue,getFilters:ze,putStream:Ge,events:Be,scaleFactor:Ae,pageSize:{getWidth:function(){return kn(H)},setWidth:function(e){_n(H,e)},getHeight:function(){return Bn(H)},setHeight:function(e){Dn(H,e)}},encryptionOptions:l,encryption:Lt,getEncryptor:Ft,output:It,getNumberOfPages:Ct,pages:q,out:J,f2:_,f3:B,getPageInfo:Pt,getPageInfoByObjId:Nt,getCurrentPageInfo:Ut,getPDFVersion:p,Point:yn,Rectangle:bn,Matrix:Ie,hasHotfix:Ot},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return kn(H)},set:function(e){_n(H,e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Bn(H)},set:function(e){Dn(H,e)},enumerable:!0,configurable:!0}),pt.call(A,te),fe="F1",bt(i,n),Be.publish("initialized"),A}ja.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ja.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},ja.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ja.prototype.processOwnerPassword=function(e,t){return Va(Ua(t).substr(0,5),e)},ja.prototype.encryptor=function(e,t){var n=Ua(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Va(n,e)}},Ka.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Co(e)!==Co(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},Xa.API={events:[]},Xa.version="2.5.1";var Ya=Xa.API,Ja=1,Za=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},es=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ts=function(e){return e.toFixed(2)},ns=function(e){return e.toFixed(5)};Ya.__acroform__={};var rs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},is=function(e){return e*Ja},os=function(e){var t=new Cs,n=Ns.internal.getHeight(e)||0,r=Ns.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ts(r)),Number(ts(n))],t},as=Ya.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ss=Ya.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},us=Ya.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},cs=Ya.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return us(e,t-1)},ls=Ya.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return as(e,t-1)},ds=Ya.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ss(e,t-1)},fs=Ya.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(o+s)||0,u.upperRight_X=n(i+a)||0,u.upperRight_Y=r(o)||0,[Number(ts(u.lowerLeft_X)),Number(ts(u.lowerLeft_Y)),Number(ts(u.upperRight_X)),Number(ts(u.upperRight_Y))]},As=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=hs(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ts(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=os(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},hs=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=n,a=Ns.internal.getHeight(e)||0;a=a<0?-a:a;var s=Ns.internal.getWidth(e)||0;s=s<0?-s:s;var u=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return ps(o,e,r).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,l,d=ps("3",e,o).height,f=e.multiline?a-o:(a-d)/2,A=f+=2,h=0,p=0,m=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+ps(t,e,o=12).width+", FieldWidth:"+s+"\n";break}for(var g="",v=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(1!==i[y].length&&m!==i[y].length-1){if((d+2)*(v+2)+2>a)continue e;g+=i[y][m],b=!0,p=y,y--}else{g=" "==(g+=i[y][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(y),x=u(w,g,o),C=y>=i.length-1;if(x&&!C){g+=" ",m=0;continue}if(x||C){if(C)p=w;else if(e.multiline&&(d+2)*(v+2)+2>a)continue e}else{if(!e.multiline)continue e;if((d+2)*(v+2)+2>a)continue e;p=w}}for(var S="",k=h;k<=p;k++){var _=i[k];if(e.multiline){if(k===p){S+=_[m]+" ",m=(m+1)%_.length;continue}if(k===h){S+=_[_.length-1]+" ";continue}}S+=_[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,l=ps(S,e,o).width,e.textAlign){case"right":c=s-l-2;break;case"center":c=(s-l)/2;break;case"left":default:c=2}t+=ts(c)+" "+ts(A)+" Td\n",t+="("+Za(S)+") Tj\n",t+=-ts(c)+" 0 Td\n",A=-(o+2),l=0,h=b?p:p+1,v++,g=""}break}return r.text=t,r.fontSize=o,r},ps=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ms={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gs=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},vs=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===Co(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}},ys=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(ks.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ms)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ja=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ss,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&gs(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],o=[],a=i.Rect;if(i.Rect&&(i.Rect=fs(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Ns.createDefaultAppearanceStream(i),"object"===Co(i)&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=As(i);o.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var u="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var l=i.appearanceStreamContent[c];if(u+="/"+c+" ",u+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var r in l)if(l.hasOwnProperty(r)){var d=l[r];"function"==typeof d&&(d=d.call(t,i)),u+="/"+r+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=l)&&(d=d.call(t,i)),u+="/"+r+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);u+=">>"}o.push({key:"AP",value:"<<\n"+u+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}n&&vs(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},bs=Ya.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),Co(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+Za(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ws=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Za(r(e))+")"},xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xs.prototype.toString=function(){return this.objId+" 0 R"},xs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},xs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:bs(i,this.objId,this.scope)}):i instanceof xs?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var Cs=function(){xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};rs(Cs,xs);var Ss=function(){xs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Za(t(e))+")"}},set:function(t){e=t}})};rs(Ss,xs);var ks=function e(){xs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(t,3))},set:function(e){!0===Boolean(e)?this.F=ls(t,3):this.F=ds(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Os)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Za(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Ja:c},set:function(e){c=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Os||this instanceof Fs))return ws(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Es==0?ws(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof Es==0?"("===e.substr(0,1)?es(e.substr(1,e.length-2)):es(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es==1?es(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof Es==1?"/"+e:e}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Es==0?ws(A,this.objId,this.scope):A},set:function(e){e=e.toString(),A=this instanceof Es==0?"("===e.substr(0,1)?es(e.substr(1,e.length-2)):es(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es==1?es(A.substr(1,A.length-1)):A},set:function(e){e=e.toString(),A=this instanceof Es==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(e){h=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,1):this.Ff=ds(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,2):this.Ff=ds(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,3):this.Ff=ds(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');m=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(m){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};rs(ks,xs);var _s=function(){ks.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bs(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,18):this.Ff=ds(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=ls(this.Ff,19):this.Ff=ds(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=ls(this.Ff,20),t.sort()):this.Ff=ds(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,22):this.Ff=ds(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,23):this.Ff=ds(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,27):this.Ff=ds(this.Ff,27)}}),this.hasAppearanceStream=!1};rs(_s,ks);var Bs=function(){_s.call(this),this.fontName="helvetica",this.combo=!1};rs(Bs,_s);var Ds=function(){Bs.call(this),this.combo=!0};rs(Ds,Bs);var Ms=function(){Ds.call(this),this.edit=!0};rs(Ms,Ds);var Es=function(){ks.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,15):this.Ff=ds(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,16):this.Ff=ds(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,17):this.Ff=ds(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,26):this.Ff=ds(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Za(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Co(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};rs(Es,ks);var Ts=function(){Es.call(this),this.pushButton=!0};rs(Ts,Es);var Is=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};rs(Is,Es);var Os=function(){var e,t;ks.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+Za(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===Co(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ns.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rs(Os,ks),Is.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Is.prototype.createOption=function(e){var t=new Os;return t.Parent=this,t.optionName=e,this.Kids.push(t),Us.call(this.scope,t),t};var Ls=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ns.CheckBox.createAppearanceStream()};rs(Ls,Es);var Fs=function(){ks.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,13):this.Ff=ds(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,21):this.Ff=ds(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,23):this.Ff=ds(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,24):this.Ff=ds(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,25):this.Ff=ds(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,26):this.Ff=ds(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rs(Fs,ks);var Ps=function(){Fs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(cs(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=ls(this.Ff,14):this.Ff=ds(this.Ff,14)}}),this.password=!0};rs(Ps,Fs);var Ns={CheckBox:{createAppearanceStream:function(){return{N:{On:Ns.CheckBox.YesNormal},D:{On:Ns.CheckBox.YesPushDown,Off:Ns.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=os(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=hs(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ts(Ns.internal.getWidth(e))+" "+ts(Ns.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ts(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=os(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=Ns.internal.getHeight(e),a=Ns.internal.getWidth(e),s=hs(e,e.caption);return i.push("1 g"),i.push("0 0 "+ts(a)+" "+ts(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ts(a-1)+" "+ts(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ts(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=os(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ts(Ns.internal.getWidth(e))+" "+ts(Ns.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ns.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ns.RadioButton.Circle.YesNormal,t.D[e]=Ns.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=os(e);t.scope=e.scope;var n=[],r=Ns.internal.getWidth(e)<=Ns.internal.getHeight(e)?Ns.internal.getWidth(e)/4:Ns.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ns.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ns(Ns.internal.getWidth(e)/2)+" "+ns(Ns.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=os(e);t.scope=e.scope;var n=[],r=Ns.internal.getWidth(e)<=Ns.internal.getHeight(e)?Ns.internal.getWidth(e)/4:Ns.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ns.internal.Bezier_C).toFixed(5)),a=Number((r*Ns.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ns(Ns.internal.getWidth(e)/2)+" "+ns(Ns.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ns(Ns.internal.getWidth(e)/2)+" "+ns(Ns.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=os(e);t.scope=e.scope;var n=[],r=Ns.internal.getWidth(e)<=Ns.internal.getHeight(e)?Ns.internal.getWidth(e)/4:Ns.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ns.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ns(Ns.internal.getWidth(e)/2)+" "+ns(Ns.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ns.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ns.RadioButton.Cross.YesNormal,t.D[e]=Ns.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=os(e);t.scope=e.scope;var n=[],r=Ns.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ts(Ns.internal.getWidth(e)-2)+" "+ts(Ns.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ts(r.x1.x)+" "+ts(r.x1.y)+" m"),n.push(ts(r.x2.x)+" "+ts(r.x2.y)+" l"),n.push(ts(r.x4.x)+" "+ts(r.x4.y)+" m"),n.push(ts(r.x3.x)+" "+ts(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=os(e);t.scope=e.scope;var n=Ns.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ts(Ns.internal.getWidth(e))+" "+ts(Ns.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ts(Ns.internal.getWidth(e)-2)+" "+ts(Ns.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ts(n.x1.x)+" "+ts(n.x1.y)+" m"),r.push(ts(n.x2.x)+" "+ts(n.x2.y)+" l"),r.push(ts(n.x4.x)+" "+ts(n.x4.y)+" m"),r.push(ts(n.x3.x)+" "+ts(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=os(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ts(Ns.internal.getWidth(e))+" "+ts(Ns.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ns.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ns.internal.getWidth(e),n=Ns.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ns.internal.getWidth=function(e){var t=0;return"object"===Co(e)&&(t=is(e.Rect[2])),t},Ns.internal.getHeight=function(e){var t=0;return"object"===Co(e)&&(t=is(e.Rect[3])),t};var Us=Ya.addField=function(e){if(ys(this,e),!(e instanceof ks))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function Hs(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}Ya.AcroFormChoiceField=_s,Ya.AcroFormListBox=Bs,Ya.AcroFormComboBox=Ds,Ya.AcroFormEditBox=Ms,Ya.AcroFormButton=Es,Ya.AcroFormPushButton=Ts,Ya.AcroFormRadioButton=Is,Ya.AcroFormCheckBox=Ls,Ya.AcroFormTextField=Fs,Ya.AcroFormPasswordField=Ps,Ya.AcroFormAppearance=Ns,Ya.AcroForm={ChoiceField:_s,ListBox:Bs,ComboBox:Ds,EditBox:Ms,Button:Es,PushButton:Ts,RadioButton:Is,CheckBox:Ls,TextField:Fs,PasswordField:Ps,Appearance:Ns},Xa.AcroForm={ChoiceField:_s,ListBox:Bs,ComboBox:Ds,EditBox:Ms,Button:Es,PushButton:Ts,RadioButton:Is,CheckBox:Ls,TextField:Fs,PasswordField:Ps,Appearance:Ns},Xa.AcroForm,function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,a,s,u,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(u in n)for(a=n[u],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e[o]){s=!1;break}if(!0===s){c=u;break}}else for(u in n)for(a=n[u],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){c=u;break}}return c===t&&r!==t&&(c=r),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===m.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===m.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,u=t.transparency.length;s<u;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";o.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var l="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===m.INDEXED){var f=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:f}),n("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===Co(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Ca(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;case"JPEG":case"JPG":default:o="image/jpeg"}return Ca(t.toDataURL(o,1).split("base64,").pop())}},A=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},h=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,i,o){var a=h.call(this,n,r,i),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=u.call(this);if(n=a[0],r=a[1],l[i.index]=i,o){o*=Math.PI/180;var d=Math.cos(o),f=Math.sin(o),A=function(e){return e.toFixed(4)},p=[A(d),A(f),A(-1*f),A(d),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,s(e),c(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,i,o,a,u,c,l;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],u=arguments[5],c=arguments[6],l=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],u=arguments[6],c=arguments[7],l=arguments[8]),"object"===Co(e=arguments[0])&&!d(e)&&"imageData"in e){var f=e;e=f.imageData,n=f.format||n||t,r=f.x||r||0,i=f.y||i||0,o=f.w||f.width||o,a=f.h||f.height||a,u=f.alias||u,c=f.compression||c,l=f.rotation||f.angle||l}var A=this.internal.getFilters();if(void 0===c&&-1!==A.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var h=k.call(this,e,n,u,c);return p.call(this,r,i,o,a,h,l),this};var k=function(n,i,o,a){var s,u,h;if("string"==typeof n&&r(n)===t){n=unescape(n);var p=_(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(d(n)&&(n=f(n,i)),i=r(n,i),!l(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(h=o)||0===h.length)&&(o=function(e){return"string"==typeof e||x(e)?v(e):x(e.data)?v(e.data):null}(n)),(s=A.call(this,o))||(w()&&(n instanceof Uint8Array||"RGBA"===i||(u=n,n=C(n))),s=this["process"+i.toUpperCase()](n,c.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:g.NONE}(a),u)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},_=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=b(e))?n.data:e;try{i=Ca(r)}catch(e){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var i,o,a="";if(d(n)&&(n=f(n)),"string"==typeof n&&r(n)===t&&(""===(a=_(n,!1))&&(a=e.loadFile(n)||""),n=a),o=r(n),!l(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!w()||n instanceof Uint8Array||(n=C(n)),!(i=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(Xa.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Xa.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,c=!1,l=0;l<u.length&&!c;l++)switch((n=u[l]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(h.objId),g=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+f(m(g))+") >>",h.content=i;var v=h.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(h.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(A(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var w=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var u=this.splitTextToSize(e,o).length;i=Math.ceil(s*u)}else o=a,i=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-s,o,i,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Xa.API),
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&o(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var f=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===o(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&u(t)||s(e)&&s(t)?0:l(e)&&a(t)&&!s(t)&&a(n)&&c(n)?3:s(e)||!a(n)?1:2:-1},A=function(e){var n=0,r=0,i=0,o="",s="",u="",c=(e=e||"").split("\\s+"),l=[];for(n=0;n<c.length;n+=1){for(l.push(""),r=0;r<c[n].length;r+=1)o=c[n][r],s=c[n][r-1],u=c[n][r+1],a(o)?(i=f(o,s,u),l[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):l[n]+=o;l[n]=d(l[n])}return l.join(" ")},h=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([A(t[r][0]),t[r][1],t[r][2]]):n.push([A(t[r])]);e=n}else e=A(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",h])}(Xa.API),Xa.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xa.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,u=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,l))}),[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)a<(u=this.getStringUnitWidth(e[d],{font:i})*n)&&(a=u);return 0!==a&&(s=e.length),{w:a/=o,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,u=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&u&&(this.printHeaderRow(e.lineNumber,!0),e.y+=u[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,u,c,l){if(r.call(this),!u)throw new Error("No data for PDF table.");var d,f,A,h,p=[],m=[],g=[],v={},y={},b=[],w=[],x=(l=l||{}).autoSize||!1,C=!1!==l.printHeaders,S=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,k=l.margins||Object.assign({width:this.getPageWidth()},t),_="number"==typeof l.padding?l.padding:3,B=l.headerBackgroundColor||"#c8c8c8",D=l.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=D,this.setFontSize(S),null==c)m=p=Object.keys(u[0]),g=p.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===Co(c[0]))for(p=c.map((function(e){return e.name})),m=c.map((function(e){return e.prompt||e.name||""})),g=c.map((function(e){return e.align||"left"})),d=0;d<c.length;d+=1)y[c[d].name]=c[d].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(m=p=c,g=p.map((function(){return"left"})));if(x||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<p.length;d+=1){for(v[h=p[d]]=u.map((function(e){return e[h]})),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(m[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=v[h],this.setFont(void 0,"normal"),A=0;A<f.length;A+=1)b.push(this.getTextDimensions(f[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[h]=Math.max.apply(null,b)+_+_,b=[]}if(C){var M={};for(d=0;d<p.length;d+=1)M[p[d]]={},M[p[d]].text=m[d],M[p[d]].align=g[d];var E=s.call(this,M,y);w=p.map((function(t){return new o(e,n,y[t],E,M[t].text,void 0,M[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(d=0;d<u.length;d+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:d,data:u[d]},this);var I=s.call(this,u[d],y);for(A=0;A<p.length;A+=1){var O=u[d][p[A]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:d,col:A,data:O},this),a.call(this,new o(e,n,y[p[A]],I,O,d+2,T[p[A]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var u=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,u.push(i)),i.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(l)}u.length>0&&this.setTableHeaderRow(u),this.setFont(void 0,"normal"),n=!1}}(Xa.API);var Rs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qs=Hs(Vs),js=[100,200,300,400,500,600,700,800,900],zs=Hs(js);function Gs(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Rs[e=e||"normal"]?e:"normal"}(e.style),r=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(e){return"number"==typeof Qs[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Ks(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var qs={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ws={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $s(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Xs(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},qs,n.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=Gs(t[s])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+$s(o)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=Qs[e],r=n<=Qs.normal?-1:1,i=Ks(t,Vs,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=Rs[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=zs[e],r=Ks(t,js,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$s(o)+"'.");return a}function Ys(e){return e.trimLeft()}function Js(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Zs(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var eu,tu,nu,ru=["times"];!function(e){var t,n,r,i,o,a,s,u,c,l=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new u,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,c=new l}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var u=[];Object.defineProperty(this,"pageBreaks",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof l&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var A=null;function h(e,t){if(null===A){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());A=function(e){for(var t={},n=0;n<e.length;++n){var r=Gs(e[n]),i=r.family,o=r.stretch,a=r.style,s=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][a]=t[i][o][a]||{},t[i][o][a][s]=r}return t}(n.concat(t))}return A}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){A=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),i=t[4],o=(t[5],t[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return ru;if(i in Ws)return[Ws[i]];for(;""!==i;){switch(n=null,t=(i=Ys(i)).charAt(0)){case'"':case"'":n=Js(i.substring(1),t);break;default:n=Zs(i)}if(null===n)return ru;if(r.push(n[0]),""!==(i=Ys(n[1]))&&","!==i.charAt(0))return ru;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var u=Xs(h(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(u.ref.name,u.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var l="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<s.length;f++){if(void 0!==this.pdf.internal.getFont(s[f],c,{noFallback:!0,disableWarning:!0})){l=s[f];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[f],"bold",{noFallback:!0,disableWarning:!0}))l=s[f],c="bold";else if(void 0!==this.pdf.internal.getFont(s[f],"normal",{noFallback:!0,disableWarning:!0})){l=s[f],c="normal";break}}if(""===l)for(var A=0;A<s.length;A++)if(d[s[A]]){l=d[s[A]];break}l=""===l?"Times":l,this.pdf.setFont(l,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,N.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,N.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){b.call(this,"fill",!1)},d.prototype.stroke=function(){b.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ya.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},d.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===Co(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ya.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw ya.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},d.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ya.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),u=this.ctx.transform.applyToPoint(new a(e,t)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:u.x,y1:u.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},d.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw ya.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var u=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},d.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ya.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ya.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ya.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ya.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new _a(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},A=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},h=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ya.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!A.call(this)){var i=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;D.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ya.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){r=isNaN(r)?void 0:r;var i=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;D.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw ya.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor,o=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new o({width:i*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ya.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new u(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw ya.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new u(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ya.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new u(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw ya.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new u(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},d.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new u(e,t,n,r,i,o)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,i,o,a,c,l){var d=this.pdf.getImageProperties(e),f=1,A=1,h=1,g=1;void 0!==r&&void 0!==c&&(h=c/r,g=l/i,f=d.width/r*c/r,A=d.height/i*l/i),void 0===o&&(o=t,a=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,l=i),void 0===r&&void 0===c&&(c=d.width,l=d.height);for(var b,x=this.ctx.transform.decompose(),C=L(x.rotate.shx),S=new u,k=(S=(S=(S=S.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new s(o-t*h,a-n*g,r*f,i*A)),_=m.call(this,k),B=[],D=0;D<_.length;D+=1)-1===B.indexOf(_[D])&&B.push(_[D]);if(y(B),this.autoPaging)for(var M=B[0],E=B[B.length-1],T=M;T<E+1;T++){this.pdf.setPage(T);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],O=1===T?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===T?0:F+(T-2)*P;if(0!==this.ctx.clip_path.length){var U=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(b,this.posX+this.margin[3],-N+O+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=U}var H=JSON.parse(JSON.stringify(k));H=v([H],this.posX+this.margin[3],-N+O+this.ctx.prevPageLastElemOffset)[0];var R=(T>M||T<E)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,P,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",H.x,H.y,H.w,H.h,null,null,C),R&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,C)};var m=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var a=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)g.call(this);return r},g=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;case"mt":case"lt":case"arc":default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort((function(e,t){return e-t}))},b=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=this.lineCap,s=this.lineWidth,u=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),f=[],A=0;A<d.length;A++)if(void 0!==d[A].x)for(var h=m.call(this,d[A]),b=0;b<h.length;b+=1)-1===f.indexOf(h[b])&&f.push(h[b]);for(var x=0;x<f.length;x++)for(;this.pdf.internal.getNumberOfPages()<f[x];)g.call(this);if(y(f),this.autoPaging)for(var C=f[0],S=f[f.length-1],k=C;k<S+1;k++){this.pdf.setPage(k),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=u,this.lineJoin=c;var _=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],B=1===k?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===k?0:D+(k-2)*M;if(0!==this.ctx.clip_path.length){var T=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-E+B+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=T}if(r=JSON.parse(JSON.stringify(l)),this.path=v(r,this.posX+this.margin[3],-E+B+this.ctx.prevPageLastElemOffset),!1===t||0===k){var I=(k>C||k<S)&&p.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_,M,null).clip().discardPath()),w.call(this,e,t),I&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=u,w.call(this,e,t),this.lineWidth=s;this.path=l},w=function(e,t){if(("stroke"!==e||t||!h.call(this))&&("stroke"===e||t||!A.call(this))){for(var n,r,i=[],o=this.path,a=0;a<o.length;a++){var s=o[a];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var u=i.length;if(o[a-1]&&!isNaN(o[a-1].x)&&(n=[s.x-o[a-1].x,s.y-o[a-1].y],u>0))for(;u>=0;u--)if(!0!==i[u-1].close&&!0!==i[u-1].begin){i[u-1].deltas.push(n),i[u-1].abs.push(s);break}break;case"bct":n=[s.x1-o[a-1].x,s.y1-o[a-1].y,s.x2-o[a-1].x,s.y2-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=o[a-1].x+2/3*(s.x1-o[a-1].x),l=o[a-1].y+2/3*(s.y1-o[a-1].y),d=s.x+2/3*(s.x1-s.x),f=s.y+2/3*(s.y1-s.y),p=s.x,m=s.y;n=[c-o[a-1].x,l-o[a-1].y,d-o[a-1].x,f-o[a-1].y,p-o[a-1].x,m-o[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,v=0;v<i.length;v++)if(i[v].arc)for(var y=i[v].abs,b=0;b<y.length;b++){var w=y[b];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!g):M.call(this,w.x,w.y),g=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),g=!1;else if(!0!==i[v].begin){var x=i[v].start.x,C=i[v].start.y;E.call(this,i[v].deltas,x,C),g=!0}r&&k.call(this,r),t&&_.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,i,o,a,s,u){for(var c=I.call(this,n,r,i,o),l=0;l<c.length;l++){var d=c[l];0===l&&(u?B.call(this,d.x1+e,d.y1+t):M.call(this,d.x1+e,d.y1+t)),T.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}s?_.call(this):k.call(this,a)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},D=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),i=C.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(e.x,r)),c=this.ctx.transform.decompose(),l=new u;l=(l=(l=l.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var d,f,A,h=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),g=l.applyToRectangle(new s(e.x,i,n.w,n.h)),b=m.call(this,g),S=[],k=0;k<b.length;k+=1)-1===S.indexOf(b[k])&&S.push(b[k]);if(y(S),this.autoPaging)for(var _=S[0],B=S[S.length-1],D=_;D<B+1;D++){this.pdf.setPage(D);var M=1===D?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],I=T-this.margin[0],O=this.pdf.internal.pageSize.width-this.margin[1],L=O-this.margin[3],F=1===D?0:E+(D-2)*I;if(0!==this.ctx.clip_path.length){var P=this.path;d=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(d,this.posX+this.margin[3],-1*F+M),w.call(this,"fill",!0),this.path=P}var N=v([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-F+M+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale);var U="text"!==this.autoPaging;if(U||N.y+N.h<=T){if(U||N.y>=M&&N.x<=O){var H=U?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||O-N.x)[0],R=v([JSON.parse(JSON.stringify(h))],this.posX+this.margin[3],-F+M+this.ctx.prevPageLastElemOffset)[0],V=U&&(D>_||D<B)&&p.call(this);V&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,I,null).clip().discardPath()),this.pdf.text(H,R.x,R.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),V&&this.pdf.restoreGraphicsState()}}else N.y<T&&(this.ctx.prevPageLastElemOffset+=T-N.y);e.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=A)}else e.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=A)},M=function(e,t,i,o){i=i||0,o=o||0,this.pdf.internal.out(n(e+i)+" "+r(t+o)+" l")},E=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},T=function(e,n,r,a,s,u,c,l){this.pdf.internal.out([t(i(r+e)),t(o(a+n)),t(i(s+e)),t(o(u+n)),t(i(c+e)),t(o(l+n)),"c"].join(" "))},I=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var s=[],u=r?-1:1,c=t;a>1e-5;){var l=c+u*Math.min(a,o);s.push(O.call(this,e,c,l)),a-=Math.abs(l-c),c=l}return s},O=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),a=i,s=-o,u=a*a+s*s,c=u+a*i+s*o,l=4/3*(Math.sqrt(2*u*c)-c)/(a*o-s*i),d=a-l*s,f=s+l*a,A=d,h=-f,p=r+t,m=Math.cos(p),g=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*m-f*g,y2:d*g+f*m,x3:A*m-h*g,y3:A*g+h*m,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},F=function(e,t,n,r,i,o){var a=e+.5*(n-e),u=t+.5*(r-t),c=i+.5*(n-i),l=o+.5*(r-o),d=Math.min(e,i,a,c),f=Math.max(e,i,a,c),A=Math.min(t,o,u,l),h=Math.max(t,o,u,l);return new s(d,A,f-d,h-A)},P=function(e,t,n,r,i,o,a,u){var c,l,d,f,A,h,p,m,g,v,y,b,w,x,C=n-e,S=r-t,k=i-n,_=o-r,B=a-i,D=u-o;for(l=0;l<41;l++)g=(p=(d=e+(c=l/40)*C)+c*((A=n+c*k)-d))+c*(A+c*(i+c*B-A)-p),v=(m=(f=t+c*S)+c*((h=r+c*_)-f))+c*(h+c*(o+c*D-h)-m),0==l?(y=g,b=v,w=g,x=v):(y=Math.min(y,g),b=Math.min(b,v),w=Math.max(w,g),x=Math.max(x,v));return new s(Math.round(y),Math.round(b),Math.round(w-y),Math.round(x-b))},N=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Xa.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){var t,n,r,i,o,a,s,u,c,l;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(l=o%85))/85)-(c=o%85))/85)-(u=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,u+33,c+33,l+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,a=String,s="length",u=255,c="charCodeAt",l="slice",d="replace";for(e[l](-2),e=e[l](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[l](e[s]%5||5))[s];o>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(u&n>>24,u&n>>16,u&n>>8,u&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=pa(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var a=0,s=e||"",u=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:s,reverseChain:u.reverse().join(" ")}}}(Xa.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(Xa.API),function(e){function t(){return(ga.html2canvas?Promise.resolve(ga.html2canvas):Promise.resolve().then((function(){return Rd}))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function n(){return(ga.DOMPurify?Promise.resolve(ga.DOMPurify):Promise.resolve().then((function(){return Cf}))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var r=function(e){var t=Co(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then((function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var a=n[o],s=a.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},o.prototype.get=function(e,t){return this.then((function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},o.prototype.setMargin=function(e){return this.then((function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||Xa.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return o.convert(i,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Xa.getPageSize=function(e,t,n){if("object"===Co(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,u=0,c=0;if(a.hasOwnProperty(o))u=a[o][1]/i,c=a[o][0]/i;else try{u=n[1],c=n[0]}catch(l){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>u&&(s=c,c=u,u=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",u>c&&(s=c,c=u,u=s)}return{width:c,height:u,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Gs):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(Xa.API),Xa.API.addJS=function(e){return nu=e,this.internal.events.subscribe("postPutResources",(function(){eu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nu+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==eu&&void 0!==tu&&this.internal.out("/Names <</JavaScript "+eu+" 0 R>>")})),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],a=n.exec(o);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(i=0;i<u;i++){var l=e.internal.newObject();c.push(l);var d=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Xa.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,a){var s,u=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),o={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:u,index:n,alias:r}}return c}}(Xa.API);var iu,ou,au,su,uu,cu=function(){var e,t,n;function r(e){var t,n,r,i,o,a,s,u,c,l,d,f,A,h;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,f=0;0<=t?f<t:f>t;0<=t?++f:--f)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((l=r-this.transparency.indexed.length)>0)for(A=0;0<=l?A<l:A>l;0<=l?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(d=this.read(t)).indexOf(0),u=String.fromCharCode.apply(String,d.slice(0,s)),this.text[u]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(h=this.colorType)||6===h,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,a,s,u){var c,l,d,f,A,h,p,m,g,v,y,b,w,x,C,S,k,_,B,D,M,E=Math.ceil((i.width-o)/s),T=Math.ceil((i.height-a)/u),I=i.width==E&&i.height==T;for(x=t*E,b=I?n:new Uint8Array(x*T),h=e.length,w=0,l=0;w<T&&r<h;){switch(e[r++]){case 0:for(f=k=0;k<x;f=k+=1)b[l++]=e[r++];break;case 1:for(f=_=0;_<x;f=_+=1)c=e[r++],A=f<t?0:b[l-t],b[l++]=(c+A)%256;break;case 2:for(f=B=0;B<x;f=B+=1)c=e[r++],d=(f-f%t)/t,C=w&&b[(w-1)*x+d*t+f%t],b[l++]=(C+c)%256;break;case 3:for(f=D=0;D<x;f=D+=1)c=e[r++],d=(f-f%t)/t,A=f<t?0:b[l-t],C=w&&b[(w-1)*x+d*t+f%t],b[l++]=(c+Math.floor((A+C)/2))%256;break;case 4:for(f=M=0;M<x;f=M+=1)c=e[r++],d=(f-f%t)/t,A=f<t?0:b[l-t],0===w?C=S=0:(C=b[(w-1)*x+d*t+f%t],S=d&&b[(w-1)*x+(d-1)*t+f%t]),p=A+C-S,m=Math.abs(p-A),v=Math.abs(p-C),y=Math.abs(p-S),g=m<=v&&m<=y?A:v<=y?C:S,b[l++]=(c+g)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!I){var O=((a+w*u)*i.width+o)*t,L=w*x;for(f=0;f<E;f+=1){for(var F=0;F<t;F+=1)n[O++]=b[L++];O+=(s-1)*t}}w++}}return e=ma(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,a,s,u;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(u=o[e++])?u:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,a,s,u,c,l,d,f;if(r=this.colors,l=null,n=this.hasAlphaChannel,this.palette.length&&(l=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,a=l||t,o=s=0,1===r)for(;o<c;)u=l?4*t[o/4]:s,d=a[u++],i[o++]=d,i[o++]=d,i[o++]=d,i[o++]=n?a[u++]:255,s=u;else for(;o<c;)u=l?4*t[o/4]:s,i[o++]=a[u++],i[o++]=a[u++],i[o++]=a[u++],i[o++]=n?a[u++]:255,s=u},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(ga)){try{t=ga.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,a,s,u,c;if(this.animation){for(c=[],r=a=0,s=(u=this.animation.frames).length;a<s;r=++a)n=u[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=e(i));return c}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(t=function(){var a,u;if(a=n++%i,u=r[a],s.renderFrame(e,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(t,u.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lu(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<1+(7&i);e[t++],e[t++];var s=null,u=null;o&&(s=t,u=a,t+=3*a);var c=!0,l=[],d=0,f=null,A=0,h=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(0===B)break;t+=B}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];d=e[t++]|e[t++]<<8,f=e[t++],0==(1&p)&&(f=null),A=p>>2&7,t++;break;case 254:for(;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(0===B)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),C=s,S=u,k=!1;b>>7&&(k=!0,C=t,S=x,t+=3*x);var _=t;for(t++;;){var B;if(!((B=e[t++])>=0))throw Error("Invalid block size");if(0===B)break;t+=B}l.push({x:m,y:g,width:v,height:y,has_local_palette:k,palette_offset:C,palette_size:S,data_offset:_,data_length:t-_,transparent_index:f,interlaced:!!w,delay:d,disposal:A});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return h},this.frameInfo=function(e){if(e<0||e>=l.length)throw new Error("Frame index out of range.");return l[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);du(e,i.data_offset,a,o);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=n-c,d=c,f=4*(i.y*n+i.x),A=4*((i.y+i.height)*n+i.x),h=f,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var m=8,g=0,v=a.length;g<v;++g){var y=a[g];if(0===d&&(d=c,(h+=p)>=A&&(p=4*l+4*n*(m-1),h=f+(c+l)*(m<<1),m>>=1)),y===u)h+=4;else{var b=e[s+3*y],w=e[s+3*y+1],x=e[s+3*y+2];r[h++]=x,r[h++]=w,r[h++]=b,r[h++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);du(e,i.data_offset,a,o);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=n-c,d=c,f=4*(i.y*n+i.x),A=4*((i.y+i.height)*n+i.x),h=f,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var m=8,g=0,v=a.length;g<v;++g){var y=a[g];if(0===d&&(d=c,(h+=p)>=A&&(p=4*l+4*n*(m-1),h=f+(c+l)*(m<<1),m>>=1)),y===u)h+=4;else{var b=e[s+3*y],w=e[s+3*y+1],x=e[s+3*y+2];r[h++]=b,r[h++]=w,r[h++]=x,r[h++]=255}--d}}}function du(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,u=i+1,c=(1<<u)-1,l=0,d=0,f=0,A=e[t++],h=new Int32Array(4096),p=null;;){for(;l<16&&0!==A;)d|=e[t++]<<l,l+=8,1===A?A=e[t++]:--A;if(l<u)break;var m=d&c;if(d>>=u,l-=u,m!==o){if(m===a)break;for(var g=m<s?m:p,v=0,y=g;y>o;)y=h[y]>>8,++v;var b=y;if(f+v+(g!==m?1:0)>r)return void ya.log("Warning, gif stream longer than expected.");n[f++]=b;var w=f+=v;for(g!==m&&(n[f++]=b),y=g;v--;)y=h[y],n[--w]=255&y,y>>=8;null!==p&&s<4096&&(h[s++]=p<<8|b,s>=c+1&&u<12&&(++u,c=c<<1|1)),p=m}else s=a+1,c=(1<<(u=i+1))-1,p=null}return f!==r&&ya.log("Warning, gif stream shorter than expected."),n
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function fu(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),u=new Array(64),c=new Array(64),l=new Array(64),d=new Array(65535),f=new Array(65535),A=new Array(64),h=new Array(64),p=[],m=0,g=7,v=new Array(64),y=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function O(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(m|=1<<g),n--,--g<0&&(255==m?(L(255),L(0)):L(m),g=7,m=0)}function L(e){p.push(e)}function F(e){L(e>>8&255),L(255&e)}function P(e,t,n,r,i){for(var o,a=i[0],s=i[240],u=function(e,t){var n,r,i,o,a,s,u,c,l,d,f=0;for(l=0;l<8;++l){n=e[f],r=e[f+1],i=e[f+2],o=e[f+3],a=e[f+4],s=e[f+5],u=e[f+6];var h=n+(c=e[f+7]),p=n-c,m=r+u,g=r-u,v=i+s,y=i-s,b=o+a,w=o-a,x=h+b,C=h-b,S=m+v,k=m-v;e[f]=x+S,e[f+4]=x-S;var _=.707106781*(k+C);e[f+2]=C+_,e[f+6]=C-_;var B=.382683433*((x=w+y)-(k=g+p)),D=.5411961*x+B,M=1.306562965*k+B,E=.707106781*(S=y+g),T=p+E,I=p-E;e[f+5]=I+D,e[f+3]=I-D,e[f+1]=T+M,e[f+7]=T-M,f+=8}for(f=0,l=0;l<8;++l){n=e[f],r=e[f+8],i=e[f+16],o=e[f+24],a=e[f+32],s=e[f+40],u=e[f+48];var O=n+(c=e[f+56]),L=n-c,F=r+u,P=r-u,N=i+s,U=i-s,H=o+a,R=o-a,V=O+H,Q=O-H,j=F+N,z=F-N;e[f]=V+j,e[f+32]=V-j;var G=.707106781*(z+Q);e[f+16]=Q+G,e[f+48]=Q-G;var K=.382683433*((V=R+U)-(z=P+L)),q=.5411961*V+K,W=1.306562965*z+K,$=.707106781*(j=U+P),X=L+$,Y=L-$;e[f+40]=Y+q,e[f+24]=Y-q,e[f+8]=X+W,e[f+56]=X-W,f++}for(l=0;l<64;++l)d=e[l]*t[l],A[l]=d>0?d+.5|0:d-.5|0;return A}(e,t),c=0;c<64;++c)h[C[c]]=u[c];var l=h[0]-n;n=h[0],0==l?O(r[0]):(O(r[f[o=32767+l]]),O(d[o]));for(var p=63;p>0&&0==h[p];)p--;if(0==p)return O(a),n;for(var m,g=1;g<=p;){for(var v=g;0==h[g]&&g<=p;)++g;var y=g-v;if(y>=16){m=y>>4;for(var b=1;b<=m;++b)O(s);y&=15}o=32767+h[g],O(i[(y<<4)+f[o]]),O(d[o]),g++}return 63!=p&&O(a),n}function N(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[C[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var d=a((i[o]*e+50)/100);d=Math.min(Math.max(d,1),255),u[C[o]]=d}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],A=0,h=0;h<8;h++)for(var p=0;p<8;p++)c[A]=1/(s[C[A]]*f[h]*f[p]*8),l[A]=1/(u[C[A]]*f[h]*f[p]*8),A++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&N(o),p=new Array,m=0,g=7,F(65496),F(65504),F(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),F(1),F(1),L(0),L(0),function(){F(65499),F(132),L(0);for(var e=0;e<64;e++)L(s[e]);L(1);for(var t=0;t<64;t++)L(u[t])}(),function(e,t){F(65472),F(17),L(8),F(t),F(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){F(65476),F(418),L(0);for(var e=0;e<16;e++)L(S[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var n=0;n<16;n++)L(_[n+1]);for(var r=0;r<=161;r++)L(B[r]);L(1);for(var i=0;i<16;i++)L(D[i+1]);for(var o=0;o<=11;o++)L(M[o]);L(17);for(var a=0;a<16;a++)L(E[a+1]);for(var s=0;s<=161;s++)L(T[s])}(),F(65498),F(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var a=0,d=0,f=0;m=0,g=7,this.encode.displayName="_encode_";for(var A,h,w,C,I,U,H,R,V,Q=e.data,j=e.width,z=e.height,G=4*j,K=0;K<z;){for(A=0;A<G;){for(I=G*K+A,H=-1,R=0,V=0;V<64;V++)U=I+(R=V>>3)*G+(H=4*(7&V)),K+R>=z&&(U-=G*(K+1+R-z)),A+H>=G&&(U-=A+H-G+4),h=Q[U++],w=Q[U++],C=Q[U++],v[V]=(x[h]+x[w+256>>0]+x[C+512>>0]>>16)-128,y[V]=(x[h+768>>0]+x[w+1024>>0]+x[C+1280>>0]>>16)-128,b[V]=(x[h+1280>>0]+x[w+1536>>0]+x[C+1792>>0]>>16)-128;a=P(v,c,a,t,r),d=P(y,l,d,n,i),f=P(b,l,f,n,i),A+=32}K+=8}if(g>=0){var q=[];q[1]=g+1,q[0]=(1<<g+1)-1,O(q)}return F(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=I(S,k),n=I(D,M),r=I(_,B),i=I(E,T),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)f[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)f[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),N(e)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Au(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hu(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var o=i[r],a=0;a<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var u=function(){var e=this;function u(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function l(e,n,r,i,a){if(t(2328>=a),512>=a)var s=o(512);else if(null==(s=o(a)))return 0;return function(e,n,r,i,a,s){var l,f,A=n,h=1<<r,p=o(16),m=o(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),f=0;f<a;++f){if(15<i[f])return 0;++p[i[f]]}if(p[0]==a)return 0;for(m[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;m[l+1]=m[l]+p[l]}for(f=0;f<a;++f)l=i[f],0<i[f]&&(s[m[l]++]=f);if(1==m[15])return(i=new d).g=0,i.value=s[0],c(e,A,1,h,i),h;var g,v=-1,y=h-1,b=0,w=1,x=1,C=1<<r;for(f=0,l=1,a=2;l<=r;++l,a<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l])(i=new d).g=l,i.value=s[f++],c(e,A+b,a,C,i),b=u(b,l)}for(l=r+1,a=2;15>=l;++l,a<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l]){if(i=new d,(b&y)!=v){for(A+=C,g=1<<(v=l)-r;15>v&&!(0>=(g-=p[v]));)++v,g<<=1;h+=C=1<<(g=v-r),e[n+(v=b&y)].g=g+r,e[n+v].value=A-n-v}i.g=l-r,i.value=s[f++],c(e,A+(b>>r),a,C,i),b=u(b,l)}}return w!=2*m[15]-1?0:h}(e,n,r,i,a,s)}function d(){this.value=this.g=0}function f(){this.value=this.g=0}function A(){this.G=a(5,d),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Hn,f)}function h(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,_(e)}function p(e,t){for(var n=0;0<t--;)n|=D(e,128)<<t;return n}function m(e,t){var n=p(e,t);return B(e)?-n:n}function g(e,n,r,i){var o,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)a+=n[r+o]<<8*o;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Qn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Vn){var r=x(e)&Rn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Qn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Qn}function S(e,t){e.u=t,e.h=C(e)}function k(e){e.u>=jn&&(t(e.u>=jn),v(e))}function _(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function B(e){return p(e,1)}function D(e,t){var n=e.Ca;0>e.b&&_(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+zn[r],e.b-=r,e.Ca=(n<<r)-1,o}function M(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255}function E(e,t){return e[t+0]<<0|e[t+1]<<8}function T(e,t){return E(e,t)|e[t+2]<<16}function I(e,t){return E(e,t)|E(e,t+2)<<16}function O(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function P(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],a=i[0];return 0==o&&(o=(e*a+n/2)/n),0==a&&(a=(n*o+e/2)/e),0>=o||0>=a?0:(r[0]=o,i[0]=a,1)}function N(e,t){return e+(1<<t)-1>>>t}function U(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function H(t,n){e[n]=function(n,r,i,o,a,s,u){var c;for(c=0;c<a;++c){var l=e[t](s[u+c-1],i,o+c);s[u+c]=U(n[r+c],l)}}}function R(){this.ud=this.hd=this.jd=0}function V(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function Q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function j(e,t){return Q(e+(e-t+.5>>1))}function z(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function G(e,t,n,r,i,o,a){for(r=o[a-1],n=0;n<i;++n)o[a+n]=r=U(e[t+n],r)}function K(e,t,n,r,i){var o;for(o=0;o<n;++o){var a=e[t+o],s=a>>8&255,u=16711935&(u=(u=16711935&a)+((s<<16)+s));r[i+o]=(4278255360&a)+u>>>0}}function q(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,n,r,i,o){var a;for(a=0;a<r;++a){var s=t[n+a],u=s>>>8,c=s,l=255&(l=(l=s>>>16)+((e.jd<<24>>24)*(u<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(u<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[o+a]=(4278255360&s)+(l<<16)+c}}function $(t,n,r,i,o){e[n]=function(e,t,n,r,a,s,u,c,l){for(r=u;r<c;++r)for(u=0;u<l;++u)a[s++]=o(n[i(e[t++])])},e[t]=function(t,n,a,s,u,c,l){var d=8>>t.b,f=t.Ea,A=t.K[0],h=t.w;if(8>d)for(t=(1<<t.b)-1,h=(1<<d)-1;n<a;++n){var p,m=0;for(p=0;p<f;++p)p&t||(m=i(s[u++])),c[l++]=o(A[m&h]),m>>=d}else e["VP8LMapColor"+r](s,u,A,h,c,l,n,a,f)}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255,r[i++]=o>>24&255}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;r[i++]=o,r[i++]=a}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=o,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>0&255,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,a){if(0==a)for(n=t+n;t<n;)M(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==jr||e==zr||e==Gr||e==Kr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ue(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,a=i.fb+e.ka*i.A,s=gi[t.ba.S],u=e.y,c=e.O,l=e.f,d=e.N,f=e.ea,A=e.W,h=t.cc,p=t.dc,m=t.Mc,g=t.Nc,v=e.ka,y=e.ka+e.T,b=e.U,w=b+1>>1;for(0==v?s(u,c,null,null,l,d,f,A,l,d,f,A,o,a,null,null,b):(s(t.ec,t.fc,u,c,h,p,m,g,l,d,f,A,o,a-i.A,o,a,b),++n);v+2<y;v+=2)h=l,p=d,m=f,g=A,d+=e.Rc,A+=e.Rc,a+=2*i.A,s(u,(c+=2*e.fa)-e.fa,u,c,h,p,m,g,l,d,f,A,o,a-i.A,o,a,b);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,u,c,b),r(t.cc,t.dc,l,d,w),r(t.Mc,t.Nc,f,A,w),n--):1&y||s(u,c,null,null,l,d,f,A,l,d,f,A,o,a+i.A,null,null,b),n}function de(e,n,r){var i=e.F,o=[e.J];if(null!=i){var a=e.U,s=n.ba.S,u=s==Rr||s==Gr;n=n.ba.f.RGBA;var c=[0],l=e.ka;c[0]=e.T,e.Kb&&(0==l?--c[0]:(--l,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-l));var d=n.eb;l=n.fb+l*n.A,e=kr(i,o[0],e.width,a,c,d,l+(u?0:3),n.A),t(r==c),e&&re(s)&&Cr(d,l,u,a,c,n.A)}return 0}function fe(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Nr||n==Hr||n==Rr||n==Vr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Pn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&yn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=le,yn()}}else alert("todo:EmitYUV");i&&(t.Jb=de,r&&gn())}if(r&&!Ti){for(e=0;256>e;++e)Ii[e]=89858*(e-128)+_i>>ki,Fi[e]=-22014*(e-128)+_i,Li[e]=-45773*(e-128),Oi[e]=113618*(e-128)+_i>>ki;for(e=Bi;e<Di;++e)t=76283*(e-16)+_i>>ki,Pi[e-Bi]=Ge(t,255),Ni[e-Bi]=Ge(t+8>>4,15);Ti=1}return 1}function Ae(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function he(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function me(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),S(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,o){var a=e.ab,s=e.c*n,u=e.C;n=u+n;var c=i,l=o;for(o=e.Ta,i=e.Ua;0<a--;){var d=e.gc[a],f=u,A=n,h=c,p=l,m=(l=o,c=i,d.Ea);switch(t(f<A),t(A<=d.nc),d.hc){case 2:qn(h,p,(A-f)*m,l,c);break;case 0:var g=f,v=A,y=l,b=c,w=(_=d).Ea;0==g&&(Gn(h,p,null,null,1,y,b),G(h,p+1,0,0,w-1,y,b+1),p+=w,b+=w,++g);for(var x=1<<_.b,C=x-1,S=N(w,_.b),k=_.K,_=_.w+(g>>_.b)*S;g<v;){var B=k,D=_,M=1;for(Kn(h,p,y,b-w,1,y,b);M<w;){var E=(M&~C)+x;E>w&&(E=w),(0,Jn[B[D++]>>8&15])(h,p+ +M,y,b+M-w,E-M,y,b+M),M=E}p+=w,b+=w,++g&C||(_+=S)}A!=d.nc&&r(l,c-m,l,c+(A-f-1)*m,m);break;case 1:for(m=h,v=p,w=(h=d.Ea)-(b=h&~(y=(p=1<<d.b)-1)),g=N(h,d.b),x=d.K,d=d.w+(f>>d.b)*g;f<A;){for(C=x,S=d,k=new R,_=v+b,B=v+h;v<_;)q(C[S++],k),Zn(k,m,v,p,l,c),v+=p,c+=p;v<B&&(q(C[S++],k),Zn(k,m,v,w,l,c),v+=w,c+=w),++f&y||(d+=g)}break;case 3:if(h==l&&p==c&&0<d.b){for(v=l,h=m=c+(A-f)*m-(b=(A-f)*N(d.Ea,d.b)),p=l,y=c,g=[],b=(w=b)-1;0<=b;--b)g[b]=p[y+b];for(b=w-1;0<=b;--b)v[h+b]=g[b];Wn(d,f,A,l,m,l,c)}else Wn(d,f,A,h,p,l,c)}c=o,l=i}l!=i&&r(o,i,c,l,s)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var a=e.l,s=e.Ta,u=e.Ua,c=a.width;if(we(e,o,r,i),o=u=[u],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var l=a.j-r;r=a.j,o[0]+=l*c}if(r>=i?r=0:(o[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(u=u[0],11>(r=e.ca).S){var d=r.f.RGBA,f=(i=r.S,o=a.U,a=a.T,l=d.eb,d.A),A=a;for(d=d.fb+e.Ma*d.A;0<A--;){var h=s,p=u,m=o,g=l,v=d;switch(i){case Pr:er(h,p,m,g,v);break;case Nr:tr(h,p,m,g,v);break;case jr:tr(h,p,m,g,v),Cr(g,v,0,m,1,0);break;case Ur:ir(h,p,m,g,v);break;case Hr:te(h,p,m,g,v,1);break;case zr:te(h,p,m,g,v,1),Cr(g,v,0,m,1,0);break;case Rr:te(h,p,m,g,v,0);break;case Gr:te(h,p,m,g,v,0),Cr(g,v,1,m,1,0);break;case Vr:nr(h,p,m,g,v);break;case Kr:nr(h,p,m,g,v),Sr(g,v,m,1,0);break;case Qr:rr(h,p,m,g,v);break;default:t(0)}u+=c,d+=f}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ce(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,i,o,a){if(0!=e.Z){var s=e.qd,u=e.rd;for(t(null!=mi[e.Z]);n<r;++n)mi[e.Z](s,u,i,o,i,o,a),s=i,u=o,o+=a;e.qd=s,e.rd=u}}function ke(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,a=r.ca,s=r.tb+o*i,u=e.V,c=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),Xn(l[0],i,n,u,c,a,s),Se(r,i,n,a,s,o)}e.C=e.Ma=n}function _e(e,n,r,i,o,a,s){var u=e.$/i,c=e.$%i,l=e.m,d=e.s,f=r+e.$,A=f;o=r+i*o;var h=r+i*a,p=280+d.ua,m=e.Pb?u:16777216,g=0<d.ua?d.Wa:null,v=d.wc,y=f<h?be(d,c,u):null;t(e.C<a),t(h<=o);var b=!1;e:for(;;){for(;b||f<h;){var w=0;if(u>=m){var _=f-r;t((m=e).Pb),m.wd=m.m,m.xd=_,0<m.s.ua&&L(m.s.Wa,m.s.vb),m=u+ei}if(c&v||(y=be(d,c,u)),t(null!=y),y.Qb&&(n[f]=y.qb,b=!0),!b)if(k(l),y.jc){w=l,_=n;var B=f,D=y.pd[x(w)&Hn-1];t(y.jc),256>D.g?(S(w,w.u+D.g),_[B]=D.value,w=0):(S(w,w.u+D.g-256),t(256<=D.value),w=D.value),0==w&&(b=!0)}else w=ve(y.G[0],y.H[0],l);if(l.h)break;if(b||256>w){if(!b)if(y.nd)n[f]=(y.qb|w<<8)>>>0;else{if(k(l),b=ve(y.G[1],y.H[1],l),k(l),_=ve(y.G[2],y.H[2],l),B=ve(y.G[3],y.H[3],l),l.h)break;n[f]=(B<<24|b<<16|w<<8|_)>>>0}if(b=!1,++f,++c>=i&&(c=0,++u,null!=s&&u<=a&&!(u%16)&&s(e,u),null!=g))for(;A<f;)w=n[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else if(280>w){if(w=me(w-256,l),_=ve(y.G[4],y.H[4],l),k(l),_=ge(i,_=me(_,l)),l.h)break;if(f-r<_||o-f<w)break e;for(B=0;B<w;++B)n[f+B]=n[f+B-_];for(f+=w,c+=w;c>=i;)c-=i,++u,null!=s&&u<=a&&!(u%16)&&s(e,u);if(t(f<=o),c&v&&(y=be(d,c,u)),null!=g)for(;A<f;)w=n[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else{if(!(w<p))break e;for(b=w-280,t(null!=g);A<f;)w=n[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w;w=f,t(!(b>>>(_=g).Xa)),n[w]=_.X[b],b=!0}b||t(l.h==C(l))}if(e.Pb&&l.h&&f<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=s&&s(e,u>a?a:u),e.a=0,e.$=f-r}return 1}return e.a=3,0}function Be(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function De(){var t=new sn;return null==t?null:(t.a=0,t.xb=pi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),qn=K,Zn=W,er=X,tr=Y,nr=J,rr=Z,ir=ee,e.VP8LMapColor32b=$n,e.VP8LMapColor8b=Yn,t)}function Me(e,n,r,s,u){var c=1,f=[e],h=[n],p=s.m,m=s.s,g=null,v=0;e:for(;;){if(r)for(;c&&y(p,1);){var b=f,w=h,C=s,_=1,B=C.m,D=C.gc[C.ab],M=y(B,2);if(C.Oc&1<<M)c=0;else{switch(C.Oc|=1<<M,D.hc=M,D.Ea=b[0],D.nc=w[0],D.K=[null],++C.ab,t(4>=C.ab),M){case 0:case 1:D.b=y(B,3)+2,_=Me(N(D.Ea,D.b),N(D.nc,D.b),0,C,D.K),D.K=D.K[0];break;case 3:var E,T=y(B,8)+1,I=16<T?0:4<T?1:2<T?2:3;if(b[0]=N(D.Ea,I),D.b=I,E=_=Me(T,1,0,C,D.K)){var L,F=T,P=D,H=1<<(8>>P.b),R=o(H);if(null==R)E=0;else{var V=P.K[0],Q=P.w;for(R[0]=P.K[0][0],L=1;L<1*F;++L)R[L]=U(V[Q+L],R[L-1]);for(;L<4*H;++L)R[L]=0;P.K[0]=null,P.K[0]=R,E=1}}_=E;break;case 2:break;default:t(0)}c=_}}if(f=f[0],h=h[0],c&&y(p,1)&&!(c=1<=(v=y(p,4))&&11>=v)){s.a=3;break e}var j;if(j=c)t:{var z,G,K,q=s,W=f,$=h,X=v,Y=r,J=q.m,Z=q.s,ee=[null],te=1,ne=0,re=Zr[X];n:for(;;){if(Y&&y(J,1)){var ie=y(J,3)+2,oe=N(W,ie),ae=N($,ie),se=oe*ae;if(!Me(oe,ae,0,q,ee))break n;for(ee=ee[0],Z.xc=ie,z=0;z<se;++z){var ue=ee[z]>>8&65535;ee[z]=ue,ue>=te&&(te=ue+1)}}if(J.h)break n;for(G=0;5>G;++G){var ce=$r[G];!G&&0<X&&(ce+=1<<X),ne<ce&&(ne=ce)}var le=a(te*re,d),de=te,fe=a(de,A);if(null==fe)var Ae=null;else t(65536>=de),Ae=fe;var he=o(ne);if(null==Ae||null==he||null==le){q.a=1;break n}var pe=le;for(z=K=0;z<te;++z){var me=Ae[z],ge=me.G,ve=me.H,be=0,we=1,xe=0;for(G=0;5>G;++G){ce=$r[G],ge[G]=pe,ve[G]=K,!G&&0<X&&(ce+=1<<X);r:{var Ce,Se=ce,ke=q,De=he,Ee=pe,Te=K,Ie=0,Oe=ke.m,Le=y(Oe,1);if(i(De,0,0,Se),Le){var Fe=y(Oe,1)+1,Pe=y(Oe,1),Ne=y(Oe,0==Pe?1:8);De[Ne]=1,2==Fe&&(De[Ne=y(Oe,8)]=1);var Ue=1}else{var He=o(19),Re=y(Oe,4)+4;if(19<Re){ke.a=3;var Ve=0;break r}for(Ce=0;Ce<Re;++Ce)He[Yr[Ce]]=y(Oe,3);var Qe=void 0,je=void 0,ze=ke,Ge=He,Ke=Se,qe=De,We=0,$e=ze.m,Xe=8,Ye=a(128,d);i:for(;l(Ye,0,7,Ge,19);){if(y($e,1)){var Je=2+2*y($e,3);if((Qe=2+y($e,Je))>Ke)break i}else Qe=Ke;for(je=0;je<Ke&&Qe--;){k($e);var Ze=Ye[0+(127&x($e))];S($e,$e.u+Ze.g);var et=Ze.value;if(16>et)qe[je++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,rt=Wr[nt],it=y($e,qr[nt])+rt;if(je+it>Ke)break i;for(var ot=tt?Xe:0;0<it--;)qe[je++]=ot}}We=1;break i}We||(ze.a=3),Ue=We}(Ue=Ue&&!Oe.h)&&(Ie=l(Ee,Te,8,De,Se)),Ue&&0!=Ie?Ve=Ie:(ke.a=3,Ve=0)}if(0==Ve)break n;if(we&&1==Xr[G]&&(we=0==pe[K].g),be+=pe[K].g,K+=Ve,3>=G){var at,st=he[0];for(at=1;at<ce;++at)he[at]>st&&(st=he[at]);xe+=st}}if(me.nd=we,me.Qb=0,we&&(me.qb=(ge[3][ve[3]+0].value<<24|ge[1][ve[1]+0].value<<16|ge[2][ve[2]+0].value)>>>0,0==be&&256>ge[0][ve[0]+0].value&&(me.Qb=1,me.qb+=ge[0][ve[0]+0].value<<8)),me.jc=!me.Qb&&6>xe,me.jc){var ut,ct=me;for(ut=0;ut<Hn;++ut){var lt=ut,dt=ct.pd[lt],ft=ct.G[0][ct.H[0]+lt];256<=ft.value?(dt.g=ft.g+256,dt.value=ft.value):(dt.g=0,dt.value=0,lt>>=ye(ft,8,dt),lt>>=ye(ct.G[1][ct.H[1]+lt],16,dt),lt>>=ye(ct.G[2][ct.H[2]+lt],0,dt),ye(ct.G[3][ct.H[3]+lt],24,dt))}}}Z.vc=ee,Z.Wb=te,Z.Ya=Ae,Z.yc=le,j=1;break t}j=0}if(!(c=j)){s.a=3;break e}if(0<v){if(m.ua=1<<v,!O(m.Wa,v)){s.a=1,c=0;break e}}else m.ua=0;var At=s,ht=f,pt=h,mt=At.s,gt=mt.xc;if(At.c=ht,At.i=pt,mt.md=N(ht,gt),mt.wc=0==gt?-1:(1<<gt)-1,r){s.xb=hi;break e}if(null==(g=o(f*h))){s.a=1,c=0;break e}c=(c=_e(s,g,0,f,h,h,null))&&!p.h;break e}return c?(null!=u?u[0]=g:(t(null==g),t(r)),s.$=0,r||Be(m)):Be(m),c}function Ee(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Te(e,n){var r=e.C,i=n-r,o=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,u=e.l.ma,c=e.l.width,l=c*s,d=u.ca,f=u.tb+c*r,A=e.Ta,h=e.Ua;we(e,s,o,a),_r(A,h,d,f,l),Se(u,r,r+s,d,f,c),i-=s,o+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Ie(){this.ub=this.yd=this.td=this.Rb=0}function Oe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Fe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function Pe(){this.jb=o(3),this.Wc=s([4,8],Fe),this.Xc=s([4,17],Fe)}function Ne(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ue(){this.ld=this.La=this.dd=this.tc=0}function He(){this.Na=this.la=0}function Re(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ve(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ue),this.Y=0,this.ya=Array(new Ve),this.aa=0,this.l=new Ke}function je(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ze(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Ie,this.Kc=new Oe,this.ed=new Ne,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new Qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,b),this.ia=0,this.pb=a(4,Re),this.Pa=new Pe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new je),this.Hd=0,this.rb=Array(new He),this.sb=0,this.wa=Array(new Ue),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ve),this.L=this.aa=0,this.gd=s([4,2],Ue),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ge(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qe(){var e=new ze;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Ye)),e}function We(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function $e(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,a=n.ha;if(4>a)return We(e,7,"Truncated header.");var s=r[o+0]|r[o+1]<<8|r[o+2]<<16,u=e.Od;if(u.Rb=!(1&s),u.td=s>>1&7,u.yd=s>>4&1,u.ub=s>>5,3<u.td)return We(e,3,"Incorrect keyframe parameters.");if(!u.yd)return We(e,4,"Frame not displayable.");o+=3,a-=3;var c=e.Kc;if(u.Rb){if(7>a)return We(e,7,"cannot parse picture header");if(!$e(r,o,a))return We(e,3,"Bad code word");c.c=16383&(r[o+4]<<8|r[o+3]),c.Td=r[o+4]>>6,c.i=16383&(r[o+6]<<8|r[o+5]),c.Ud=r[o+6]>>6,o+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(u.ub>a)return We(e,7,"bad partition length");h(s=e.m,r,o,u.ub),o+=u.ub,a-=u.ub,u.Rb&&(c.Ld=B(s),c.Kd=B(s)),c=e.Qa;var l,d=e.Pa;if(t(null!=s),t(null!=c),c.Cb=B(s),c.Cb){if(c.Bb=B(s),B(s)){for(c.Fb=B(s),l=0;4>l;++l)c.Zb[l]=B(s)?m(s,7):0;for(l=0;4>l;++l)c.Lb[l]=B(s)?m(s,6):0}if(c.Bb)for(l=0;3>l;++l)d.jb[l]=B(s)?p(s,8):255}else c.Bb=0;if(s.Ka)return We(e,3,"cannot parse segment header");if((c=e.ed).zd=B(s),c.Tb=p(s,6),c.wb=p(s,3),c.Pc=B(s),c.Pc&&B(s)){for(d=0;4>d;++d)B(s)&&(c.vd[d]=m(s,6));for(d=0;4>d;++d)B(s)&&(c.od[d]=m(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return We(e,3,"cannot parse filter header");var f=a;if(a=l=o,o=l+f,c=f,e.Xb=(1<<p(e.m,2))-1,f<3*(d=e.Xb))r=7;else{for(l+=3*d,c-=3*d,f=0;f<d;++f){var A=r[a+0]|r[a+1]<<8|r[a+2]<<16;A>c&&(A=c),h(e.Jc[+f],r,l,A),l+=A,c-=A,a+=3}h(e.Jc[+d],r,l,c),r=l<o?0:5}if(0!=r)return We(e,r,"cannot parse partitions");for(r=p(l=e.m,7),a=B(l)?m(l,4):0,o=B(l)?m(l,4):0,c=B(l)?m(l,4):0,d=B(l)?m(l,4):0,l=B(l)?m(l,4):0,f=e.Qa,A=0;4>A;++A){if(f.Cb){var g=f.Zb[A];f.Fb||(g+=r)}else{if(0<A){e.pb[A]=e.pb[0];continue}g=r}var v=e.pb[A];v.Sc[0]=ti[Ge(g+a,127)],v.Sc[1]=ni[Ge(g+0,127)],v.Eb[0]=2*ti[Ge(g+o,127)],v.Eb[1]=101581*ni[Ge(g+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ti[Ge(g+d,117)],v.Qc[1]=ni[Ge(g+l,127)],v.lc=g+l}if(!u.Rb)return We(e,4,"Not a key frame.");for(B(s),u=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(o=0;3>o;++o)for(c=0;11>c;++c)d=D(s,ci[r][a][o][c])?p(s,8):si[r][a][o][c],u.Wc[r][a].Yb[o][c]=d;for(a=0;17>a;++a)u.Xc[r][a]=u.Wc[r][li[a]]}return e.kc=B(s),e.kc&&(e.Bd=p(s,8)),e.cb=1}function Ye(e,t,n,r,i,o,a){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!D(e,s[n+0]))return i;for(;!D(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var u=t[i+1].Yb;if(D(e,s[n+2])){var c=e,l=0;if(D(c,(f=s)[(d=n)+3]))if(D(c,f[d+6])){for(s=0,d=2*(l=D(c,f[d+8]))+(f=D(c,f[d+9+l])),l=0,f=ii[d];f[s];++s)l+=l+D(c,f[s]);l+=3+(8<<d)}else D(c,f[d+7])?(l=7+2*D(c,165),l+=D(c,145)):l=5+D(c,159);else l=D(c,f[d+4])?3+D(c,f[d+5]):2;s=u[2]}else l=1,s=u[1];u=a+oi[i],0>(c=e).b&&_(c);var d,f=c.b,A=(d=c.Ca>>1)-(c.I>>f)>>31;--c.b,c.Ca+=A,c.Ca|=1,c.I-=(d+1&A)<<f,o[u]=((l^A)-A)*r[(0<i)+0]}return 16}function Je(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Hi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var u=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var l=e.Qa.Lb[s];e.Qa.Fb||(l+=u.Tb)}else l=u.Tb;for(c=0;1>=c;++c){var d=e.gd[s][c],f=l;if(u.Pc&&(f+=u.vd[0],c&&(f+=u.od[0])),0<(f=0>f?0:63<f?63:f)){var A=f;0<u.wb&&(A=4<u.wb?A>>2:A>>1)>9-u.wb&&(A=9-u.wb),1>A&&(A=1),d.dd=A,d.tc=2*f+A,d.ld=40<=f?2:15<=f?1:0}else d.tc=0;d.La=c}}}s=0}else We(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Vi);e:{s=e.Ic,u=4*(A=e.za);var h=32*A,p=A+1,m=0<e.L?A*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*A;if((d=u+832+(c=3*(16*s+Hi[e.L])/2*h)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)s=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=o(d),e.Fc=0,null==e.Ec){s=We(e,1,"no memory during frame initialization.");break e}e.Vb=d}d=e.Ec,f=e.Fc,e.Ac=d,e.Bc=f,f+=u,e.Gd=a(h,je),e.Hd=0,e.rb=a(p+1,He),e.sb=1,e.wa=m?a(m,Ue):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=A),t(!0),e.oc=d,e.pc=f,f+=832,e.ya=a(g,Ve),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=A),e.R=16*A,e.B=8*A,A=(h=Hi[e.L])*e.R,h=h/2*e.B,e.sa=d,e.ta=f+A,e.qa=e.sa,e.ra=e.ta+16*s*e.R+h,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+h,e.$c=0,f+=c,e.mb=l?d:null,e.nb=l?f:null,t(f+l<=e.Fc+e.Vb),Je(e),i(e.Ac,e.Bc,0,u),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Tr){for(s=-255;255>=s;++s)Br[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Dr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Mr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Er[255+s]=0>s?0:255<s?255:s;Tr=1}or=ct,ar=ot,ur=at,cr=st,lr=ut,sr=it,dr=Wt,fr=$t,Ar=Jt,hr=Zt,pr=Xt,mr=Yt,gr=en,vr=tn,yr=Qt,br=jt,wr=zt,xr=Gt,fi[0]=St,fi[1]=dt,fi[2]=xt,fi[3]=Ct,fi[4]=kt,fi[5]=Bt,fi[6]=_t,fi[7]=Dt,fi[8]=Et,fi[9]=Mt,di[0]=gt,di[1]=At,di[2]=ht,di[3]=pt,di[4]=vt,di[5]=yt,di[6]=bt,Ai[0]=Lt,Ai[1]=ft,Ai[2]=Tt,Ai[3]=It,Ai[4]=Pt,Ai[5]=Ft,Ai[6]=Nt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],u=e.m,c=e;for(a=0;a<c.za;++a){var l=u,d=c,f=d.Ac,A=d.Bc+4*a,h=d.zc,p=d.ya[d.aa+a];if(d.Qa.Bb?p.$b=D(l,d.Pa.jb[0])?2+D(l,d.Pa.jb[2]):D(l,d.Pa.jb[1]):p.$b=0,d.kc&&(p.Ad=D(l,d.Bd)),p.Za=!D(l,145)+0,p.Za){var m=p.Ob,g=0;for(d=0;4>d;++d){var v,y=h[0+d];for(v=0;4>v;++v){y=ui[f[A+v]][y];for(var b=ai[D(l,y[0])];0<b;)b=ai[2*b+D(l,y[b])];y=-b,f[A+v]=y}r(m,g,f,A,4),g+=4,h[0+d]=y}}else y=D(l,156)?D(l,128)?1:3:D(l,163)?2:0,p.Ob[0]=y,i(f,A,y,4),i(h,0,y,4);p.Dd=D(l,142)?D(l,114)?D(l,183)?1:3:2:0}if(c.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,l=(u=e).rb[u.sb-1],f=u.rb[u.sb+u.ja],a=u.ya[u.aa+u.ja],A=u.kc?a.Ad:0)l.la=f.la=0,a.Za||(l.Na=f.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,x;if(l=f,f=c,A=u.Pa.Xc,h=u.ya[u.aa+u.ja],p=u.pb[h.$b],d=h.ad,m=0,g=u.rb[u.sb-1],y=v=0,i(d,m,0,384),h.Za)var C=0,S=A[3];else{b=o(16);var k=l.Na+g.Na;if(k=ri(f,A[1],k,p.Eb,0,b,0),l.Na=g.Na=(0<k)+0,1<k)or(b,0,d,m);else{var _=b[0]+3>>3;for(b=0;256>b;b+=16)d[m+b]=_}C=1,S=A[0]}var B=15&l.la,M=15&g.la;for(b=0;4>b;++b){var E=1&M;for(_=x=0;4>_;++_)B=B>>1|(E=(k=ri(f,S,k=E+(1&B),p.Sc,C,d,m))>C)<<7,x=x<<2|(3<k?3:1<k?2:0!=d[m+0]),m+=16;B>>=4,M=M>>1|E<<7,v=(v<<8|x)>>>0}for(S=B,C=M>>4,w=0;4>w;w+=2){for(x=0,B=l.la>>4+w,M=g.la>>4+w,b=0;2>b;++b){for(E=1&M,_=0;2>_;++_)k=E+(1&B),B=B>>1|(E=0<(k=ri(f,A[2],k,p.Qc,0,d,m)))<<3,x=x<<2|(3<k?3:1<k?2:0!=d[m+0]),m+=16;B>>=2,M=M>>1|E<<5}y|=x<<4*w,S|=B<<4<<w,C|=(240&M)<<w}l.la=S,g.la=C,h.Hc=v,h.Gc=y,h.ia=43690&y?0:p.ia,A=!(v|y)}if(0<u.L&&(u.wa[u.Y+u.ja]=u.gd[a.$b][a.Za],u.wa[u.Y+u.ja].La|=!A),c.Ka)return We(e,7,"Premature end-of-file encountered.")}if(Je(e),u=n,c=1,a=(s=e).D,l=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=l,Ln(s,a),c=1,a=(x=s.D).Nb,l=(y=Hi[s.L])*s.R,f=y/2*s.B,b=16*a*s.R,_=8*a*s.B,A=s.sa,h=s.ta-l+b,p=s.qa,d=s.ra-f+_,m=s.Ha,g=s.Ia-f+_,M=0==(B=x.M),v=B>=s.Va-1,2==s.Aa&&Ln(s,x),x.uc)for(E=(k=s).D.M,t(k.D.uc),x=k.yb;x<k.Hb;++x){C=x,S=E;var T=(I=(V=k).D).Nb;w=V.R;var I=I.wa[I.Y+C],O=V.sa,L=V.ta+16*T*w+16*C,F=I.dd,P=I.tc;if(0!=P)if(t(3<=P),1==V.L)0<C&&br(O,L,w,P+4),I.La&&xr(O,L,w,P),0<S&&yr(O,L,w,P+4),I.La&&wr(O,L,w,P);else{var N=V.B,U=V.qa,H=V.ra+8*T*N+8*C,R=V.Ha,V=V.Ia+8*T*N+8*C;T=I.ld,0<C&&(fr(O,L,w,P+4,F,T),hr(U,H,R,V,N,P+4,F,T)),I.La&&(mr(O,L,w,P,F,T),vr(U,H,R,V,N,P,F,T)),0<S&&(dr(O,L,w,P+4,F,T),Ar(U,H,R,V,N,P+4,F,T)),I.La&&(pr(O,L,w,P,F,T),gr(U,H,R,V,N,P,F,T))}}if(s.ia&&alert("todo:DitherRow"),null!=u.put){if(x=16*B,B=16*(B+1),M?(u.y=s.sa,u.O=s.ta+b,u.f=s.qa,u.N=s.ra+_,u.ea=s.Ha,u.W=s.Ia+_):(x-=y,u.y=A,u.O=h,u.f=p,u.N=d,u.ea=m,u.W=g),v||(B-=y),B>u.o&&(B=u.o),u.F=null,u.J=null,null!=s.Fa&&0<s.Fa.length&&x<B&&(u.J=fn(s,u,x,B-x),u.F=s.mb,null==u.F&&0==u.F.length)){c=We(s,3,"Could not decode alpha data.");break e}x<u.j&&(y=u.j-x,x=u.j,t(!(1&y)),u.O+=s.R*y,u.N+=s.B*(y>>1),u.W+=s.B*(y>>1),null!=u.F&&(u.J+=u.width*y)),x<B&&(u.O+=u.v,u.N+=u.v>>1,u.W+=u.v>>1,null!=u.F&&(u.J+=u.v),u.ka=x-u.j,u.U=u.va-u.v,u.T=B-x,c=u.put(u))}a+1!=s.Ic||v||(r(s.sa,s.ta-l,A,h+16*s.R,l),r(s.qa,s.ra-f,p,d+8*s.B,f),r(s.Ha,s.Ia-f,m,g+8*s.B,f))}if(!c)return We(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,a=0,s=o(16);for(i=0;4>i;++i){var u=e[t+0]+e[t+8],c=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-nt(e[t+12]),d=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=u+d,s[a+1]=c+l,s[a+2]=c-l,s[a+3]=u-d,a+=4,t++}for(i=a=0;4>i;++i)u=(e=s[a+0]+4)+s[a+8],c=e-s[a+8],l=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,u+(d=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,c+l),et(n,r,2,0,c-l),et(n,r,3,0,u-d),a++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,i+a,e=nt(e[t+1]),s),tt(n,r,1,i+o,e,s),tt(n,r,2,i-o,e,s),tt(n,r,3,i-a,e,s)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function ut(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var i,a=o(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],u=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];a[0+i]=s+u,a[8+i]=s-u,a[4+i]=l+c,a[12+i]=l-c}for(i=0;4>i;++i)s=(e=a[0+4*i]+3)+a[3+4*i],u=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],l=e-a[3+4*i],n[r+0]=s+u>>3,n[r+16]=l+c>>3,n[r+32]=s-u>>3,n[r+48]=l-c>>3,r+=64}function lt(e,t,n){var r,i=t-32,o=Lr,a=255-e[i-1];for(r=0;r<n;++r){var s,u=o,c=a+e[t-1];for(s=0;s<n;++s)e[t+s]=u[c+e[i+s]];t+=32}}function dt(e,t){lt(e,t,4)}function ft(e,t){lt(e,t,8)}function At(e,t){lt(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function bt(e,t){mt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function Ct(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];M(e,t+0,16843009*wt(e[t-1-32],n,r)),M(e,t+32,16843009*wt(n,r,i)),M(e,t+64,16843009*wt(r,i,o)),M(e,t+96,16843009*wt(i,o,o))}function St(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],u=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(a,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,a,o),e[t+3+32]=e[t+2+0]=wt(u,s,a),e[t+3+0]=wt(c,u,s)}function _t(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],s=e[t+6-32],u=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,o,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(o,a,s),e[t+3+64]=e[t+2+96]=wt(a,s,u),e[t+3+96]=wt(s,u,u)}function Bt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],u=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=o+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+u+1>>1,e[t+3+0]=u+c+1>>1,e[t+0+96]=wt(i,r,n),e[t+0+64]=wt(r,n,o),e[t+0+32]=e[t+1+96]=wt(n,o,a),e[t+1+32]=e[t+2+96]=wt(o,a,s),e[t+2+32]=e[t+3+96]=wt(a,s,u),e[t+3+32]=wt(s,u,c)}function Dt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],a=e[t+4-32],s=e[t+5-32],u=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+a+1>>1,e[t+0+32]=wt(n,r,i),e[t+1+32]=e[t+0+96]=wt(r,i,o),e[t+2+32]=e[t+1+96]=wt(i,o,a),e[t+3+32]=e[t+2+96]=wt(o,a,s),e[t+3+64]=wt(a,s,u),e[t+3+96]=wt(s,u,c)}function Mt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=wt(n,r,i),e[t+3+0]=e[t+1+32]=wt(r,i,o),e[t+3+32]=e[t+1+64]=wt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],a=e[t-1-32],s=e[t+0-32],u=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=wt(s,u,c),e[t+2+0]=wt(a,s,u),e[t+1+0]=e[t+3+32]=wt(n,a,s),e[t+1+32]=e[t+3+64]=wt(r,n,a),e[t+1+64]=e[t+3+96]=wt(i,r,n),e[t+1+96]=wt(o,i,r)}function Tt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function It(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Ot(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ot(r>>4,e,t)}function Ft(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ot(r>>3,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ot(r>>3,e,t)}function Nt(e,t){Ot(128,e,t)}function Ut(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Ir[1020+e[t-2*n]-e[t+n]],a=Or[112+(o+4>>3)];e[t-n]=Lr[255+r+Or[112+(o+3>>3)]],e[t+0]=Lr[255+i-a]}function Ht(e,t,n,r){var i=e[t+0],o=e[t+n];return Fr[255+e[t-2*n]-e[t-n]]>r||Fr[255+o-i]>r}function Rt(e,t,n,r){return 4*Fr[255+e[t-n]-e[t+0]]+Fr[255+e[t-2*n]-e[t+n]]<=r}function Vt(e,t,n,r,i){var o=e[t-3*n],a=e[t-2*n],s=e[t-n],u=e[t+0],c=e[t+n],l=e[t+2*n],d=e[t+3*n];return 4*Fr[255+s-u]+Fr[255+a-c]>r?0:Fr[255+e[t-4*n]-o]<=i&&Fr[255+o-a]<=i&&Fr[255+a-s]<=i&&Fr[255+d-l]<=i&&Fr[255+l-c]<=i&&Fr[255+c-u]<=i}function Qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Rt(e,t+r,n,i)&&Ut(e,t+r,n)}function jt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Rt(e,t+r*n,1,i)&&Ut(e,t+r*n,1)}function zt(e,t,n,r){var i;for(i=3;0<i;--i)Qt(e,t+=4*n,n,r)}function Gt(e,t,n,r){var i;for(i=3;0<i;--i)jt(e,t+=4,n,r)}function Kt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Vt(e,t,n,o,a))if(Ht(e,t,n,s))Ut(e,t,n);else{var u=e,c=t,l=n,d=u[c-2*l],f=u[c-l],A=u[c+0],h=u[c+l],p=u[c+2*l],m=27*(v=Ir[1020+3*(A-f)+Ir[1020+d-h]])+63>>7,g=18*v+63>>7,v=9*v+63>>7;u[c-3*l]=Lr[255+u[c-3*l]+v],u[c-2*l]=Lr[255+d+g],u[c-l]=Lr[255+f+m],u[c+0]=Lr[255+A-m],u[c+l]=Lr[255+h-g],u[c+2*l]=Lr[255+p-v]}t+=r}}function qt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Vt(e,t,n,o,a))if(Ht(e,t,n,s))Ut(e,t,n);else{var u=e,c=t,l=n,d=u[c-l],f=u[c+0],A=u[c+l],h=Or[112+(4+(p=3*(f-d))>>3)],p=Or[112+(p+3>>3)],m=h+1>>1;u[c-2*l]=Lr[255+u[c-2*l]+m],u[c-l]=Lr[255+d+p],u[c+0]=Lr[255+f-h],u[c+l]=Lr[255+A-m]}t+=r}}function Wt(e,t,n,r,i,o){Kt(e,t,n,1,16,r,i,o)}function $t(e,t,n,r,i,o){Kt(e,t,1,n,16,r,i,o)}function Xt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)qt(e,t+=4*n,n,1,16,r,i,o)}function Yt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)qt(e,t+=4,1,n,16,r,i,o)}function Jt(e,t,n,r,i,o,a,s){Kt(e,t,i,1,8,o,a,s),Kt(n,r,i,1,8,o,a,s)}function Zt(e,t,n,r,i,o,a,s){Kt(e,t,1,i,8,o,a,s),Kt(n,r,1,i,8,o,a,s)}function en(e,t,n,r,i,o,a,s){qt(e,t+4*i,i,1,8,o,a,s),qt(n,r+4*i,i,1,8,o,a,s)}function tn(e,t,n,r,i,o,a,s){qt(e,t+4,1,i,8,o,a,s),qt(n,r+4,1,i,8,o,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ue,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new d}function sn(){this.xb=this.a=0,this.l=new Ke,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function un(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,i,o,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function ln(e,t,n,r,i,o,a){var s;if(null==e)cn(null,null,n,r,i,o,a);else for(s=0;s<a;++s)i[o+s]=e[t+s]+n[r+s]&255}function dn(e,t,n,r,i,o,a){if(null==e)cn(null,null,n,r,i,o,a);else{var s,u=e[t+0],c=u,l=u;for(s=0;s<a;++s)c=l+(u=e[t+s])-c,l=n[r+s]+(-256&c?0>c?0:255:c)&255,c=u,i[o+s]=l}}function fn(e,n,i,a){var s=n.width,u=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>u)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new un,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=o(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var l=e.Fa,d=e.P,f=e.qc,A=e.mb,h=e.nb,p=d+1,m=f-1,v=c.l;if(t(null!=l&&null!=A&&null!=n),mi[0]=null,mi[1]=cn,mi[2]=ln,mi[3]=dn,c.ca=A,c.tb=h,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=f)n=0;else if(c.$a=l[d+0]>>0&3,c.Z=l[d+0]>>2&3,c.Lc=l[d+0]>>4&3,d=l[d+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||d)n=0;else if(v.put=Ae,v.ac=fe,v.bc=he,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=De();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,g(n.m,l,p,m),!Me(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ce(n.s)?(c.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Ee(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=u-i}t(null!=e.ga),t(i+a<=u);e:{if(n=(l=e.ga).c,u=l.l.o,0==l.$a){if(p=e.rc,m=e.Vc,v=e.Fa,d=e.P+1+i*n,f=e.mb,A=e.nb+i*n,t(d<=e.P+e.qc),0!=l.Z)for(t(null!=mi[l.Z]),c=0;c<a;++c)mi[l.Z](p,m,v,d,f,A,n),p=f,m=A,A+=n,d+=n;else for(c=0;c<a;++c)r(f,A,v,d,n),p=f,m=A,A+=n,d+=n;e.rc=p,e.Vc=m}else{if(t(null!=l.mc),n=i+a,t(null!=(c=l.mc)),t(n<=c.i),c.C>=n)n=1;else if(l.ic||gn(),l.ic){l=c.V,p=c.Ba,m=c.c;var y=c.i,b=(v=1,d=c.$/m,f=c.$%m,A=c.m,h=c.s,c.$),w=m*y,x=m*n,S=h.wc,_=b<x?be(h,f,d):null;t(b<=w),t(n<=y),t(Ce(h));t:for(;;){for(;!A.h&&b<x;){if(f&S||(_=be(h,f,d)),t(null!=_),k(A),256>(y=ve(_.G[0],_.H[0],A)))l[p+b]=y,++b,++f>=m&&(f=0,++d<=n&&!(d%16)&&ke(c,d));else{if(!(280>y)){v=0;break t}y=me(y-256,A);var B,D=ve(_.G[4],_.H[4],A);if(k(A),!(b>=(D=ge(m,D=me(D,A)))&&w-b>=y)){v=0;break t}for(B=0;B<y;++B)l[p+b+B]=l[p+b+B-D];for(b+=y,f+=y;f>=m;)f-=m,++d<=n&&!(d%16)&&ke(c,d);b<x&&f&S&&(_=be(h,f,d))}t(A.h==C(A))}ke(c,d>n?n:d);break t}!v||A.h&&b<w?(v=0,c.a=A.h?5:3):c.$=b,n=v}else n=_e(c,c.V,c.Ba,c.c,c.i,n,Te);if(!n){a=0;break e}}i+a>=u&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function An(e,t,n,r,i,o){for(;0<i--;){var a,s=e,u=t+(n?1:0),c=e,l=t+(n?0:3);for(a=0;a<r;++a){var d=c[l+4*a];255!=d&&(d*=32897,s[u+4*a+0]=s[u+4*a+0]*d>>23,s[u+4*a+1]=s[u+4*a+1]*d>>23,s[u+4*a+2]=s[u+4*a+2]*d>>23)}t+=o}}function hn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var a=e[t+2*o+0],s=15&(c=e[t+2*o+1]),u=4369*s,c=(240&c|c>>4)*u>>16;e[t+2*o+0]=(240&a|a>>4)*u>>16&240|(15&a|a<<4)*u>>16>>4&15,e[t+2*o+1]=240&c|s}t+=i}}function pn(e,t,n,r,i,o,a,s){var u,c,l=255;for(c=0;c<i;++c){for(u=0;u<r;++u){var d=e[t+u];o[a+4*u]=d,l&=d}t+=n,a+=s}return 255!=l}function mn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function gn(){Cr=An,Sr=hn,kr=pn,_r=mn}function vn(n,r,i){e[n]=function(e,n,o,a,s,u,c,l,d,f,A,h,p,m,g,v,y){var b,w=y-1>>1,x=s[u+0]|c[l+0]<<16,C=d[f+0]|A[h+0]<<16;t(null!=e);var S=3*x+C+131074>>2;for(r(e[n+0],255&S,S>>16,p,m),null!=o&&(S=3*C+x+131074>>2,r(o[a+0],255&S,S>>16,g,v)),b=1;b<=w;++b){var k=s[u+b]|c[l+b]<<16,_=d[f+b]|A[h+b]<<16,B=x+k+C+_+524296,D=B+2*(k+C)>>3;S=D+x>>1,x=(B=B+2*(x+_)>>3)+k>>1,r(e[n+2*b-1],255&S,S>>16,p,m+(2*b-1)*i),r(e[n+2*b-0],255&x,x>>16,p,m+(2*b-0)*i),null!=o&&(S=B+C>>1,x=D+_>>1,r(o[a+2*b-1],255&S,S>>16,g,v+(2*b-1)*i),r(o[a+2*b+0],255&x,x>>16,g,v+(2*b+0)*i)),x=k,C=_}1&y||(S=3*x+C+131074>>2,r(e[n+y-1],255&S,S>>16,p,m+(y-1)*i),null!=o&&(S=3*C+x+131074>>2,r(o[a+y-1],255&S,S>>16,g,v+(y-1)*i)))}}function yn(){gi[Pr]=vi,gi[Nr]=bi,gi[Ur]=yi,gi[Hr]=wi,gi[Rr]=xi,gi[Vr]=Ci,gi[Qr]=Si,gi[jr]=bi,gi[zr]=wi,gi[Gr]=xi,gi[Kr]=Ci}function bn(e){return e&~Ei?0>e?0:255:e>>Mi}function wn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Cn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,r,i){r[i+0]=wn(e,n),r[i+1]=xn(e,t,n),r[i+2]=Cn(e,t)}function kn(e,t,n,r,i){r[i+0]=Cn(e,t),r[i+1]=xn(e,t,n),r[i+2]=wn(e,n)}function _n(e,t,n,r,i){var o=xn(e,t,n);t=o<<3&224|Cn(e,t)>>3,r[i+0]=248&wn(e,n)|o>>5,r[i+1]=t}function Bn(e,t,n,r,i){var o=240&Cn(e,t)|15;r[i+0]=240&wn(e,n)|xn(e,t,n)>>4,r[i+1]=o}function Dn(e,t,n,r,i){r[i+0]=255,Sn(e,t,n,r,i+1)}function Mn(e,t,n,r,i){kn(e,t,n,r,i),r[i+3]=255}function En(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function Ge(e,t){return 0>e?0:e>t?t:e}function Tn(t,n,r){e[t]=function(e,t,i,o,a,s,u,c,l){for(var d=c+(-2&l)*r;c!=d;)n(e[t+0],i[o+0],a[s+0],u,c),n(e[t+1],i[o+0],a[s+0],u,c+r),t+=2,++o,++s,c+=2*r;1&l&&n(e[t+0],i[o+0],a[s+0],u,c)}}function In(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function On(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:cr(t,n,r,i)}}function Ln(e,t){var n,o,a=t.M,s=t.Nb,u=e.oc,c=e.pc+40,l=e.oc,d=e.pc+584,f=e.oc,A=e.pc+600;for(n=0;16>n;++n)u[c+32*n-1]=129;for(n=0;8>n;++n)l[d+32*n-1]=129,f[A+32*n-1]=129;for(0<a?u[c-1-32]=l[d-1-32]=f[A-1-32]=129:(i(u,c-32-1,127,21),i(l,d-32-1,127,9),i(f,A-32-1,127,9)),o=0;o<e.za;++o){var h=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(u,c+32*n-4,u,c+32*n+12,4);for(n=-1;8>n;++n)r(l,d+32*n-4,l,d+32*n+4,4),r(f,A+32*n-4,f,A+32*n+4,4)}var p=e.Gd,m=e.Hd+o,g=h.ad,v=h.Hc;if(0<a&&(r(u,c-32,p[m].y,0,16),r(l,d-32,p[m].f,0,8),r(f,A-32,p[m].ea,0,8)),h.Za){var y=u,b=c-32+16;for(0<a&&(o>=e.za-1?i(y,b,p[m].y[15],4):r(y,b,p[m+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,v<<=2)y=u,b=c+Ui[n],fi[h.Ob[n]](y,b),On(v,g,16*+n,y,b)}else if(y=In(o,a,h.Ob[0]),di[y](u,c),0!=v)for(n=0;16>n;++n,v<<=2)On(v,g,16*+n,u,c+Ui[n]);for(n=h.Gc,y=In(o,a,h.Dd),Ai[y](l,d),Ai[y](f,A),v=g,y=l,b=d,255&(h=n>>0)&&(170&h?ur(v,256,y,b):lr(v,256,y,b)),h=f,v=A,255&(n>>=8)&&(170&n?ur(g,320,h,v):lr(g,320,h,v)),a<e.Ub-1&&(r(p[m].y,0,u,c+480,16),r(p[m].f,0,l,d+224,8),r(p[m].ea,0,f,A+224,8)),n=8*s*e.B,p=e.sa,m=e.ta+16*o+16*s*e.R,g=e.qa,h=e.ra+8*o+n,v=e.Ha,y=e.Ia+8*o+n,n=0;16>n;++n)r(p,m+n*e.R,u,c+32*n,16);for(n=0;8>n;++n)r(g,h+n*e.B,l,d+32*n,8),r(v,y+n*e.B,f,A+32*n,8)}}function Fn(e,r,i,o,a,s,u,c,l){var d=[0],f=[0],A=0,h=null!=l?l.kd:0,p=null!=l?l:new rn;if(null==e||12>i)return 7;p.data=e,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];e:{var m=r,v=i,y=p.gb;if(t(null!=e),t(null!=v),t(null!=y),y[0]=0,12<=v[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){y=3;break e}var b=I(e,m[0]+4);if(12>b||4294967286<b){y=3;break e}if(h&&b>v[0]-8){y=7;break e}y[0]=b,m[0]+=12,v[0]-=12}y=0}if(0!=y)return y;for(b=0<p.gb[0],i=i[0];;){e:{var x=e;v=r,y=i;var C=d,S=f,k=m=[0];if((D=A=[A])[0]=0,8>y[0])y=7;else{if(!n(x,v[0],"VP8X")){if(10!=I(x,v[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var _=I(x,v[0]+8),B=1+T(x,v[0]+12);if(2147483648<=B*(x=1+T(x,v[0]+15))){y=3;break e}null!=k&&(k[0]=_),null!=C&&(C[0]=B),null!=S&&(S[0]=x),v[0]+=18,y[0]-=18,D[0]=1}y=0}}if(A=A[0],m=m[0],0!=y)return y;if(v=!!(2&m),!b&&A)return 3;if(null!=s&&(s[0]=!!(16&m)),null!=u&&(u[0]=v),null!=c&&(c[0]=0),u=d[0],m=f[0],A&&v&&null==l){y=0;break}if(4>i){y=7;break}if(b&&A||!b&&!A&&!n(e,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{_=e,y=r,b=i;var D=p.gb;C=p.na,S=p.P,k=p.Sa,B=22,t(null!=_),t(null!=b),x=y[0];var M=b[0];for(t(null!=C),t(null!=k),C[0]=null,S[0]=null,k[0]=0;;){if(y[0]=x,b[0]=M,8>M){y=7;break e}var E=I(_,x+4);if(4294967286<E){y=3;break e}var O=8+E+1&-2;if(B+=O,0<D&&B>D){y=3;break e}if(!n(_,x,"VP8 ")||!n(_,x,"VP8L")){y=0;break e}if(M[0]<O){y=7;break e}n(_,x,"ALPH")||(C[0]=_,S[0]=x+8,k[0]=E),x+=O,M-=O}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=y)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(D=e,y=r,b=i,C=p.gb[0],S=p.Ja,k=p.xa,_=y[0],x=!n(D,_,"VP8 "),B=!n(D,_,"VP8L"),t(null!=D),t(null!=b),t(null!=S),t(null!=k),8>b[0])y=7;else{if(x||B){if(D=I(D,_+4),12<=C&&D>C-12){y=3;break e}if(h&&D>b[0]-8){y=7;break e}S[0]=D,y[0]+=8,b[0]-=8,k[0]=B}else k[0]=5<=b[0]&&47==D[_+0]&&!(D[_+4]>>5),S[0]=b[0];y=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=y)break;if(4294967286<p.Ja)return 3;if(null==c||v||(c[0]=p.xa?2:1),u=[u],m=[m],p.xa){if(5>i){y=7;break}c=u,h=m,v=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],D=[0],C=[0],g(S=new w,e,r,i),pe(S,b,D,C)?(null!=c&&(c[0]=b[0]),null!=h&&(h[0]=D[0]),null!=v&&(v[0]=C[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}c=m,null==e||10>i||!$e(e,r+3,i-3)?e=0:(h=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&h||3<(h>>1&7)||!(h>>4&1)||h>>5>=p.Ja||!v||!e?e=0:(u&&(u[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(u=u[0],m=m[0],A&&(d[0]!=u||f[0]!=m))return 3;null!=l&&(l[0]=p,l.offset=r-l.w,t(4294967286>r-l.w),t(l.offset==l.ha-i));break}return 0==y||7==y&&A&&null==l?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=o&&(o[0]=u),null!=a&&(a[0]=m),0):y}function Pn(e,t,n){var r=t.width,i=t.height,o=0,a=0,s=r,u=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,u=e.bd,o=e.v,a=e.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=u||o+s>r||a+u>i))return 0;if(t.v=o,t.j=a,t.va=o+s,t.o=a+u,t.U=s,t.T=u,t.da=null!=e&&0<e.da,t.da){if(!P(s,u,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Nn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Un(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,s=-2&n.v,u=-2&n.j;if(0>s||0>u||0>=i||0>=a||s+i>e||u+a>t)return 2;e=i,t=a}if(n.da){if(!P(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,l=r.height;if(e=r.S,0>=c||0>=l||!(e>=Pr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=i=t=0;var d=(u=c*Qi[e])*l;if(11>e||(a=(l+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*l)),null==(l=o(d+2*a+s))){e=1;break e}r.sd=l,11>e?((c=r.f.RGBA).eb=l,c.fb=0,c.A=u,c.size=d):((c=r.f.kb).y=l,c.O=0,c.fa=u,c.Fd=d,c.f=l,c.N=0+d,c.Ab=t,c.Cd=a,c.ea=l,c.W=0+d+a,c.Db=t,c.Ed=a,12==e&&(c.F=l,c.J=0+d+2*a),c.Tc=s,c.lb=i)}if(t=1,i=r.S,a=r.width,s=r.height,i>=Pr&&13>i)if(11>i)e=r.f.RGBA,t&=(u=Math.abs(e.A))*(s-1)+a<=e.size,t&=u>=a*Qi[i],t&=null!=e.eb;else{e=r.f.kb,u=(a+1)/2,d=(s+1)/2,c=Math.abs(e.fa),l=Math.abs(e.Ab);var f=Math.abs(e.Db),A=Math.abs(e.lb),h=A*(s-1)+a;t&=c*(s-1)+a<=e.Fd,t&=l*(d-1)+u<=e.Cd,t=(t&=f*(d-1)+u<=e.Ed)&c>=a&l>=u&f>=u,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=A>=a,t&=h<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Nn(r)),e}var Hn=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vn=24,Qn=32,jn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];H("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return V(V(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return V(e,t[n-1])},e.Predictor7=function(e,t,n){return V(e,t[n+0])},e.Predictor8=function(e,t,n){return V(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return V(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return V(V(e,t[n-1]),V(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=z(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+z(r>>16&255,e>>16&255,t>>16&255)+z(r>>8&255,e>>8&255,t>>8&255)+z(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(Q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|Q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|Q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|Q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(j((e=V(e,t[n+0]))>>24&255,r>>24&255)<<24|j(e>>16&255,r>>16&255)<<16|j(e>>8&255,r>>8&255)<<8|j(e>>0&255,r>>0&255))>>>0};var Gn=e.PredictorAdd0;e.PredictorAdd1=G,H("Predictor2","PredictorAdd2"),H("Predictor3","PredictorAdd3"),H("Predictor4","PredictorAdd4"),H("Predictor5","PredictorAdd5"),H("Predictor6","PredictorAdd6"),H("Predictor7","PredictorAdd7"),H("Predictor8","PredictorAdd8"),H("Predictor9","PredictorAdd9"),H("Predictor10","PredictorAdd10"),H("Predictor11","PredictorAdd11"),H("Predictor12","PredictorAdd12"),H("Predictor13","PredictorAdd13");var Kn=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var qn,Wn=e.ColorIndexInverseTransform,$n=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ir,or,ar,sr,ur,cr,lr,dr,fr,Ar,hr,pr,mr,gr,vr,yr,br,wr,xr,Cr,Sr,kr,_r,Br=o(511),Dr=o(2041),Mr=o(225),Er=o(767),Tr=0,Ir=Dr,Or=Mr,Lr=Er,Fr=Br,Pr=0,Nr=1,Ur=2,Hr=3,Rr=4,Vr=5,Qr=6,jr=7,zr=8,Gr=9,Kr=10,qr=[2,3,7],Wr=[3,3,11],$r=[280,256,256,256,40],Xr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],di=[],fi=[],Ai=[],hi=1,pi=2,mi=[],gi=[];vn("UpsampleRgbLinePair",Sn,3),vn("UpsampleBgrLinePair",kn,3),vn("UpsampleRgbaLinePair",En,4),vn("UpsampleBgraLinePair",Mn,4),vn("UpsampleArgbLinePair",Dn,4),vn("UpsampleRgba4444LinePair",Bn,2),vn("UpsampleRgb565LinePair",_n,2);var vi=e.UpsampleRgbLinePair,yi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,Ci=e.UpsampleRgba4444LinePair,Si=e.UpsampleRgb565LinePair,ki=16,_i=1<<ki-1,Bi=-227,Di=482,Mi=6,Ei=(256<<Mi)-1,Ti=0,Ii=o(256),Oi=o(256),Li=o(256),Fi=o(256),Pi=o(Di-Bi),Ni=o(Di-Bi);Tn("YuvToRgbRow",Sn,3),Tn("YuvToBgrRow",kn,3),Tn("YuvToRgbaRow",En,4),Tn("YuvToBgraRow",Mn,4),Tn("YuvToArgbRow",Dn,4),Tn("YuvToRgba4444Row",Bn,2),Tn("YuvToRgb565Row",_n,2);var Ui=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hi=[0,2,8],Ri=[8,7,6,4,4,2,2,2,1,1,1,1],Vi=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var a=Nr,s=new nn,u=new ae;s.ba=u,u.S=a,u.width=[u.width],u.height=[u.height];var c=u.width,l=u.height,d=new se;if(null==d||null==e)var f=2;else t(null!=d),f=Fn(e,n,r,d.width,d.height,d.Pd,d.Qd,d.format,null);if(0!=f?c=0:(null!=c&&(c[0]=d.width[0]),null!=l&&(l[0]=d.height[0]),c=1),c){u.width=u.width[0],u.height=u.height[0],null!=i&&(i[0]=u.width),null!=o&&(o[0]=u.height);e:{if(i=new Ke,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Fn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=Ae,i.ac=fe,i.bc=he,i.ma=s,o.xa){if(null==(e=De())){s=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!pe(e.m,r,i,o)){e.a=3;break t}if(e.xb=pi,n.width=r[0],n.height=i[0],!Me(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Un(i.width,i.height,s.Oa,s.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Pn(o.Oa,r,Hr)){i.a=2;break n}if(!Ee(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&gn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&gn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!O(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!_e(i,i.V,i.Ba,i.c,i.i,r.o,xe))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new qe)){s=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Xe(e,i)){if(0==(n=Un(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(o=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(l=d=0;4>l;++l)12>(f=o.pb[l]).lc&&(f.ia=c*Ri[0>f.lc?0:f.lc]>>3),d|=f.ia;d&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Ze(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Nn(s.ba))}s=n}a=0!=s?null:11>a?u.f.RGBA.eb:u.f.kb.y}else a=null;return a};var Qi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function l(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new u;var f=[0],A=[0],h=[],p=new u,m=e,g=function(e,t){var n={},r=0,i=!1,o=0,a=0;if(n.frames=[],!
/** @license
         * Copyright (c) 2017 Dominik Homberger
        Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
        The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
        https://webpjs.appspot.com
        WebPRiffParser dominikhlbg@gmail.com
        */
function(e,t,n,r){for(var i=0;i<r;i++)if(e[t+i]!=n.charCodeAt(i))return!0;return!1}(e,t,"RIFF",4)){var s,u;for(d(e,t+=4),t+=8;t<e.length;){var f=c(e,t),A=d(e,t+=4);t+=4;var h=A+(1&A);switch(f){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?a:t-8,g.src_size=o+A+8,r++,i&&(i=!1,o=0,a=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+l(e,p),p+=3,g.canvas_height=1+l(e,p),p+=3;break;case"ALPH":i=!0,o=h+8,a=t-8;break;case"ANIM":(g=n.header).bgcolor=d(e,t),p=t+4,g.loop_count=(s=e)[(u=p)+0]<<0|s[u+1]<<8,p+=2;break;case"ANMF":var m,g;(g=n.frames[r]={}).offset_x=2*l(e,t),t+=3,g.offset_y=2*l(e,t),t+=3,g.width=1+l(e,t),t+=3,g.height=1+l(e,t),t+=3,g.duration=l(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=f&&(t+=h)}return n}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var v=g.header?g.header:null,y=g.frames?g.frames:null;if(v){v.loop_counter=v.loop_count,f=[v.canvas_height],A=[v.canvas_width];for(var b=0;b<y.length&&0!=y[b].blend;b++);}var w=y[0],x=p.WebPDecodeRGBA(m,w.src_off,w.src_size,A,f);w.rgba=x,w.imgwidth=A[0],w.imgheight=f[0];for(var C=0;C<A[0]*f[0]*4;C++)h[C]=x[C];return this.width=A,this.height=f,this.data=h,this}!function(e){var t=function(){return"function"==typeof pa},n=function(t,n,i,c){var l=4,d=a;switch(c){case e.image_compression.FAST:l=1,d=o;break;case e.image_compression.MEDIUM:l=6,d=s;break;case e.image_compression.SLOW:l=9,d=u}t=r(t,n,i,d);var f=pa(t,{level:l});return e.__addimage__.arrayBufferToBinaryString(f)},r=function(e,t,n,r){for(var i,o,a,s=e.length/t,u=new Uint8Array(e.length+s),c=l(),f=0;f<s;f+=1){if(a=f*t,i=e.subarray(a,a+t),r)u.set(r(i,n,o),a+f);else{for(var A,h=c.length,p=[];A<h;A+=1)p[A]=c[A](i,n,o);var m=d(p.concat());u.set(p[m],a+f)}o=i}return u},i=function(e){var t=Array.apply([],e);return t.unshift(0),t},o=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},a=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var a=0;a<o;a+=1)r=n&&n[a]||0,i[a+1]=e[a]-r+256&255;return i},s=function(e,t,n){var r,i,o=[],a=e.length;o[0]=3;for(var s=0;s<a;s+=1)r=e[s-t]||0,i=n&&n[s]||0,o[s+1]=e[s]+256-(r+i>>>1)&255;return o},u=function(e,t,n){var r,i,o,a,s=[],u=e.length;s[0]=4;for(var l=0;l<u;l+=1)r=e[l-t]||0,i=n&&n[l]||0,o=n&&n[l-t]||0,a=c(r,i,o),s[l+1]=e[l]-a+256&255;return s},c=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},l=function(){return[i,o,a,s,u]},d=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,i,o,a){var s,u,c,l,d,f,A,h,p,m,g,v,y,b,w,x=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(c=new cu(r)).imgData,u=c.bits,s=c.colorSpace,d=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits){p=(h=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,g=new Uint8Array(p*c.colors),m=new Uint8Array(p);var S,k=c.pixelBitlength-c.bits;for(b=0,w=0;b<p;b++){for(y=h[b],S=0;S<k;)g[w++]=y>>>S&255,S+=c.bits;m[b]=y>>>S&255}}if(16===c.bits){p=(h=new Uint32Array(c.decodePixels().buffer)).length,g=new Uint8Array(p*(32/c.pixelBitlength)*c.colors),m=new Uint8Array(p*(32/c.pixelBitlength)),v=c.colors>1,b=0,w=0;for(var _=0;b<p;)y=h[b++],g[w++]=y>>>0&255,v&&(g[w++]=y>>>16&255,y=h[b++],g[w++]=y>>>0&255),m[_++]=y>>>16&255;u=8}a!==e.image_compression.NONE&&t()?(r=n(g,c.width*c.colors,c.colors,a),A=n(m,c.width,1,a)):(r=g,A=m,x=void 0)}if(3===c.colorType&&(s=this.color_spaces.INDEXED,f=c.palette,c.transparency.indexed)){var B=c.transparency.indexed,D=0;for(b=0,p=B.length;b<p;++b)D+=B[b];if((D/=255)===p-1&&-1!==B.indexOf(0))l=[B.indexOf(0)];else if(D!==p){for(h=c.decodePixels(),m=new Uint8Array(h.length),b=0,p=h.length;b<p;b++)m[b]=B[h[b]];A=n(m,c.width,1)}}var M=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(a);return x===this.decode.FLATE_DECODE&&(C="/Predictor "+M+" "),C+="/Colors "+d+" /BitsPerComponent "+u+" /Columns "+c.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:o,data:r,index:i,filter:x,decodeParameters:C,transparency:l,palette:f,sMask:A,predictor:M,width:c.width,height:c.height,bitsPerComponent:u,colorSpace:s}}}}(Xa.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new lu(t),a=o.width,s=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:a,height:s},l=new fu(100).encode(c,100);return e.processJPEG.call(this,l,n,r,i)},e.processGIF87A=e.processGIF89A}(Xa.API),Au.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Au.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){ya.log("bit decode error:"+e)}},Au.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[o>>7-s&1];this.data[a+4*s]=u.blue,this.data[a+4*s+1]=u.green,this.data[a+4*s+2]=u.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Au.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,u=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[u],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Au.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},Au.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,u=(o>>10&t)/t*255|0,c=o>>15?255:0,l=r*this.width*4+4*i;this.data[l]=u,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=c}this.pos+=e}},Au.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,u=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,l=i*this.width*4+4*o;this.data[l]=c,this.data[l+1]=u,this.data[l+2]=s,this.data[l+3]=255}this.pos+=e}},Au.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Au.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Au.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processBMP=function(t,n,r,i){var o=new Au(t,!1),a=o.width,s=o.height,u={data:o.getData(),width:a,height:s},c=new fu(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)}}(Xa.API),hu.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processWEBP=function(t,n,r,i){var o=new hu(t),a=o.width,s=o.height,u={data:o.getData(),width:a,height:s},c=new fu(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)}}(Xa.API),Xa.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,u=0,c=0;c<i;c+=4){var l=r[c],d=r[c+1],f=r[c+2],A=r[c+3];o[s++]=l,o[s++]=d,o[s++]=f,a[u++]=A}var h=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:h,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xa.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},iu=Xa.API,ou=iu.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,u=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,l=c.fof?c.fof:1,d=!1!==t.doKerning,f=0,A=e.length,h=0,p=s[0]||u,m=[];for(n=0;n<A;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(f=d&&"object"===Co(c[r])&&!isNaN(parseInt(c[r][h],10))?c[r][h]/l:0,m.push((s[r]||p)/u+f)),h=r;return m},au=iu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return iu.processArabic&&(e=iu.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:ou.apply(this,arguments).reduce((function(e,t){return e+t}),0)},su=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var u=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(u,o)),s=0,u=o),s+=t[o],o++;return u!==o&&i.push(e.slice(u,o)),i},uu=function(e,t,n){n||(n={});var r,i,o,a,s,u,c,l=[],d=[l],f=n.textIndent||0,A=0,h=0,p=e.split(" "),m=ou.apply(this,[" ",n])[0];if(u=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var g=Array(u).join(" "),v=[];p.map((function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):v.push(e[0])})),p=v,u=au.apply(this,[g,n])}for(o=0,a=p.length;o<a;o++){var y=0;if(r=p[o],u&&"\n"==r[0]&&(r=r.substr(1),y=1),f+A+(h=(i=ou.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||y){if(h>t){for(s=su.apply(this,[r,i,t-(f+A),t]),l.push(s.shift()),l=[s.pop()];s.length;)d.push([s.shift()]);h=i.slice(r.length-(l[0]?l[0].length:0)).reduce((function(e,t){return e+t}),0)}else l=[r];d.push(l),f=h+u,A=m}else l.push(r),f+=A+h,A=m}return c=u?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(c)},iu.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,u,c=[];for(s=0,u=r.length;s<u;s++)c=c.concat(uu.apply(this,[r[s],a,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,i,s,u=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),s="-"):(i=o(t).slice(2),s=""),i=s+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==Co(t))throw new Error("Don't know what to do with value type "+Co(t)+".");i=a(t)}u.push(n+i)}return u.push("}"),u.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,a={},s=1,u=a,c=[],l="",d="",f=e.length-1,A=1;A<f;A+=1)"'"==(o=e[A])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(c.push([u,i]),u={},i=void 0):"}"==o?((r=c.pop())[0][r[1]]=u,i=void 0,u=r[0]):"-"==o?s=-1:void 0===i?n.hasOwnProperty(o)?(l+=n[o],i=parseInt(l,16)*s,s=1,l=""):l+=o:n.hasOwnProperty(o)?(d+=n[o],u[i]=parseInt(d,16)*s,s=1,i=void 0,d=""):d+=o;return a},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},l={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=l.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Xa.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Ca(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Xa),
/** @license
 * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){function t(){return(ga.canvg?Promise.resolve(ga.canvg):Promise.resolve().then((function(){return YO}))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Xa.API.addSvgAsImage=function(e,n,r,i,o,a,s,u){if(isNaN(n)||isNaN(r))throw ya.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ya.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then((function(t){return t.fromString(l,e,d)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(d)})).then((function(){f.addImage(c.toDataURL("image/jpeg",1),n,r,i,o,s,u)}))}}(),Xa.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Xa.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),u=[],c=0,l=0,d=0;function f(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var A=s.length;for(d=0;d<A;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if("object"===Co(e))for(i in e)if(o=e[i],f(s,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&f(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(c=0;c<o.length;c+=1)if(r=!0,1===o[c].length&&"number"==typeof o[c][0])u.push(String(o[c]-1));else if(o[c].length>1){for(l=0;l<o[c].length;l+=1)"number"!=typeof o[c][l]&&(r=!1);!0===r&&u.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Xa.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;a<s;a++)t=n[a],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,u=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",l=0;l<u.length;l++)c+=String.fromCharCode(u[l]);var d=o();a({data:c,addLength1:!0,objectId:d}),i("endobj");var f=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:f}),i("endobj");var A=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+za(n.fontName)),i("/FontFile2 "+d+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var h=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+za(n.fontName)),i("/FontDescriptor "+A+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+f+" 0 R"),i("/BaseFont /"+za(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+h+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,u="",c=0;c<s.length;c++)u+=String.fromCharCode(s[c]);var l=o();a({data:u,addLength1:!0,objectId:l}),i("endobj");var d=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+za(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var A=0;A<n.metadata.hmtx.widths.length;A++)n.metadata.hmtx.widths[A]=parseInt(n.metadata.hmtx.widths[A]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+za(n.fontName)+"/FontDescriptor "+f+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,a=e.options||{},s=e.mutex||{},u=s.pdfEscape,c=s.activeFontKey,l=s.fonts,d=c,f="",A=0,h="",p=l[d].encoding;if("Identity-H"!==l[d].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(h=r,d=c,Array.isArray(r)&&(h=r[0]),A=0;A<h.length;A+=1)l[d].metadata.hasOwnProperty("cmap")&&(t=l[d].metadata.cmap.unicode.codeMap[h[A].charCodeAt(0)]),t||h[A].charCodeAt(0)<256&&l[d].metadata.hasOwnProperty("Unicode")?f+=h[A]:f+="";var m="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===p?m=u(f,d).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(m=n(f,l[d])),s.isHex=!0,{text:m,x:i,y:o,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(Xa),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Xa.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,a,s,u,c=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,g=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=A[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,a,s){var u,c,l,d,f=t[s];switch(f){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(f="AN");break;case"AL":m=!0,f="R";break;case"WS":f="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(u=a[s-1])&&"AN"!==u||"EN"!==(c=t[s+1])&&"AN"!==c?f="N":m&&(c="AN"),f=c===u?c:"N";break;case"ES":f="EN"===(u=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){f="EN";break}if(m){f="N";break}for(l=s+1,d=t.length;l<d&&"ET"===t[l];)l++;f=l<d&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!o){for(d=t.length,l=s+1;l<d&&"NSM"===t[l];)l++;if(l<d){var A=e[s],h=A>=1425&&A<=2303||64286===A;if(u=t[l],h&&("R"===u||"AL"===u)){f="R";break}}}f=s<1||"B"===(u=t[s-1])?"N":a[s-1];break;case"B":m=!1,n=!0,f=g;break;case"S":r=!0,f="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":f="N"}return f},w=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var o,a,s,u,c,A=-1,h=e.length,p=0,y=[],w=g?d:l,x=[];for(m=!1,n=!1,r=!1,a=0;a<h;a++)x[a]=v(e[a]);for(s=0;s<h;s++){if(c=p,y[s]=b(e,x,y,s),o=240&(p=w[c][f[y[s]]]),p&=15,t[s]=u=w[p][5],o>0)if(16===o){for(a=A;a<s;a++)t[a]=1;A=-1}else A=-1;if(w[p][6])-1===A&&(A=s);else if(A>-1){for(a=A;a<s;a++)t[a]=u;A=-1}"B"===x[s]&&(t[s]=0),i.hiLevel|=u}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=g}}(x,t,h)},C=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,u,c,l=t.length,d=0;d<l;){if(i[d]>=e){for(u=d+1;u<l&&i[u]>=e;)u++;for(c=d,s=u-1;c<s;c++,s--)a=t[c],t[c]=t[s],t[s]=a,r&&(a=r[c],r[c]=r[s],r[s]=a);d=u}d++}}},S=function(e,t,n){var r=e.split(""),i={hiLevel:g};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&u)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=h.indexOf(e[i]))>=0&&(e[i]=h[r+1])}(r,n,i),C(2,r,t,n,i),C(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=y(e)),void 0===s&&(s=y(e))}(e,t),i||!a||s)if(i&&a&&o^s)g=o?1:0,e=w(e,t,n);else if(!i&&a&&s)g=o?1:0,e=S(e,t,n),e=w(e,t);else if(!i||o||a||s){if(i&&!a&&o^s)e=w(e,t),o?(g=0,e=S(e,t,n)):(g=1,e=S(e,t,n),e=w(e,t));else if(i&&o&&!a&&s)g=1,e=S(e,t,n),e=w(e,t);else if(!i&&!a&&o^s){var r=u;o?(g=1,e=S(e,t,n),g=0,u=!1,e=S(e,t,n),u=r):(g=0,e=S(e,t,n),e=w(e,t),g=1,u=!1,e=S(e,t,n),u=r,e=w(e,t))}}else g=0,e=S(e,t,n);else g=o?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,o=e.isInputRtl,s=e.isOutputRtl,u=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),i=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Xa),Xa.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new mu(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Fu(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gu(this.contents),this.head=new bu(this),this.name=new Bu(this),this.cmap=new xu(this),this.toUnicode={},this.hhea=new Cu(this),this.maxp=new Du(this),this.hmtx=new Mu(this),this.post=new ku(this),this.os2=new Su(this),this.loca=new Lu(this),this.glyf=new Tu(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var pu,mu=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),gu=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,a,s,u,c,l,d,f,A,h;for(h in f=Object.keys(t).length,s=Math.log(2),l=16*Math.floor(Math.log(f)/s),o=Math.floor(l/s),c=16*f-l,(r=new mu).writeInt(this.scalarType),r.writeShort(f),r.writeShort(l),r.writeShort(o),r.writeShort(c),i=16*f,u=r.pos+i,a=null,A=[],t)for(d=t[h],r.writeString(h),r.writeInt(e(d)),r.writeInt(u),r.writeInt(d.length),A=A.concat(d),"head"===h&&(a=u),u+=d.length;u%4;)A.push(0),u++;return r.write(A),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=Eu.call(e);e.length%4;)e.push(0);for(r=new mu(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),vu={}.hasOwnProperty,yu=function(e,t){for(var n in t)vu.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};pu=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var bu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new mu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),wu=function(){function e(e,t){var n,r,i,o,a,s,u,c,l,d,f,A,h,p,m,g,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,h=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=m=0,v=i.length;m<v;s=++m)for(p=i[s],n=g=A=h[s];A<=p?g<=p:g>=p;n=A<=p?++g:--g)0===c[s]?o=n+u[s]:0!==(o=a[c[s]/2+(n-A)-(d-s)]||0)&&(o+=u[s]),this.codeMap[n]=65535&o}e.pos=l}return e.encode=function(e,t){var n,r,i,o,a,s,u,c,l,d,f,A,h,p,m,g,v,y,b,w,x,C,S,k,_,B,D,M,E,T,I,O,L,F,P,N,U,H,R,V,Q,j,z,G,K,q;switch(M=new mu,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(h=0,p=function(){var e=[];for(A=0;A<256;++A)e.push(0);return e}(),g={0:0},i={},E=0,L=o.length;E<L;E++)null==g[z=e[r=o[E]]]&&(g[z]=++h),i[r]={old:e[r],new:g[e[r]]},p[r]=g[e[r]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(p),{charMap:i,subtable:M.data,maxGlyphID:h+1};case"unicode":for(B=[],l=[],v=0,g={},n={},m=u=null,T=0,F=o.length;T<F;T++)null==g[b=e[r=o[T]]]&&(g[b]=++v),n[r]={old:b,new:g[b]},a=g[b]-r,null!=m&&a===u||(m&&l.push(m),B.push(r),u=a),m=r;for(m&&l.push(m),l.push(65535),B.push(65535),k=2*(S=B.length),C=2*Math.pow(Math.log(S)/Math.LN2,2),d=Math.log(C/2)/Math.LN2,x=2*S-C,s=[],w=[],f=[],A=I=0,P=B.length;I<P;A=++I){if(_=B[A],c=l[A],65535===_){s.push(0),w.push(0);break}if(_-(D=n[_].new)>=32768)for(s.push(0),w.push(2*(f.length+S-A)),r=O=_;_<=c?O<=c:O>=c;r=_<=c?++O:--O)f.push(n[r].new);else s.push(D-_),w.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*S+2*f.length),M.writeUInt16(0),M.writeUInt16(k),M.writeUInt16(C),M.writeUInt16(d),M.writeUInt16(x),Q=0,N=l.length;Q<N;Q++)r=l[Q],M.writeUInt16(r);for(M.writeUInt16(0),j=0,U=B.length;j<U;j++)r=B[j],M.writeUInt16(r);for(G=0,H=s.length;G<H;G++)a=s[G],M.writeUInt16(a);for(K=0,R=w.length;K<R;K++)y=w[K],M.writeUInt16(y);for(q=0,V=f.length;q<V;q++)h=f[q],M.writeUInt16(h);return{charMap:n,subtable:M.data,maxGlyphID:v+1}}},e}(),xu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new wu(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=wu.encode(e,t),(r=new mu).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),Cu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Su=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ku=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},t}(),_u=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Bu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,r,i,o,a,s,u,c,l,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},i=c=0,l=n.length;c<l;i=++c)r=n[i],e.pos=r.offset,u=e.readString(r.length),o=new _u(u,r),null==s[d=r.nameID]&&(s[d]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),Du=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Mu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,r,i,o,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)s.push(this.widths.push(n));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Eu=[].slice,Tu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,r,i,o,a,s,u,c,l;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new mu(t.read(r))).readShort(),u=a.readShort(),l=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[e]=-1===o?new Ou(a,u,l,s,c):new Iu(a,o,u,l,s,c),this.cache[e]))},t.prototype.encode=function(e,t,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=t.length;a<s;a++)r=e[t[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),Iu=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Ou=function(){function e(e,t,n,r,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new mu(Eu.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Lu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,pu),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;s>0&&(r+=s)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},t}(),Fu=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,a,s;for(r={},o=0,a=e.length;o<a;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,a,s,u,c,l,d,f,A,h,p,m;for(r in n=xu.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},m=n.charMap)f[(s=m[r]).old]=s.new;for(A in d=n.maxGlyphID,o)A in f||(f[A]=d++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(f),l=Object.keys(c).sort((function(e,t){return e-t})),h=function(){var e,t,n;for(n=[],e=0,t=l.length;e<t;e++)a=l[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(o,h,f),u=this.font.loca.encode(i.offsets,h),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();Xa.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join("\n")}return""+n},t}();var Pu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function Nu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}/*! https://mths.be/cssesc v3.0.0 by @mathias */var Uu={},Hu=Uu.hasOwnProperty,Ru=function(e,t){if(!e)return t;var n={};for(var r in t)n[r]=Hu.call(e,r)?e[r]:t[r];return n},Vu=/[ -,\.\/:-@\[-\^`\{-~]/,Qu=/[ -,\.\/:-@\[\]\^`\{-~]/,ju=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,zu=function e(t,n){n=Ru(n,e.options),"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");var r="double"==n.quotes?'"':"'",i=n.isIdentifier,o=t.charAt(0),a="",s=0,u=t.length;while(s<u){var c=t.charAt(s++),l=c.charCodeAt(),d=void 0;if(l<32||l>126){if(l>=55296&&l<=56319&&s<u){var f=t.charCodeAt(s++);56320==(64512&f)?l=((1023&l)<<10)+(1023&f)+65536:s--}d="\\"+l.toString(16).toUpperCase()+" "}else d=n.escapeEverything?Vu.test(c)?"\\"+c:"\\"+l.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?"\\"+l.toString(16).toUpperCase()+" ":"\\"==c||!i&&('"'==c&&r==c||"'"==c&&r==c)||i&&Qu.test(c)?"\\"+c:c;a+=d}return i&&(/^-[-\d]/.test(a)?a="\\-"+a.slice(1):/\d/.test(o)&&(a="\\3"+o+" "+a.slice(1))),a=a.replace(ju,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+a+r:a};zu.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},zu.version="3.0.0";var Gu=zu,Ku=0,qu=1,Wu=2,$u=3,Xu=4,Yu=5,Ju=6,Zu=/[a-z0-9_-]/i,ec=/[\s\t]/,tc=function(e){var t,n,r=!0,i=Ku,o="",a=0,s=[];while(1){if(n=e[a],i===Ku){if(!n&&r)break;if(!n&&!r)throw new Error("Parse error");if('"'===n||"'"===n)t=n,i=qu,r=!1;else if(ec.test(n));else{if(!Zu.test(n))throw new Error("Parse error");i=$u,r=!1,a--}}else if(i===qu){if(!n)throw new Error("Parse Error");"\\"===n?i=Wu:n===t?(s.push(o),o="",i=Xu):o+=n}else if(i===Wu){if(n!==t&&"\\"!==n)throw new Error("Parse error");o+=n,i=qu}else if(i===$u){if(!n){s.push(o);break}Zu.test(n)?o+=n:","===n?(s.push(o),o="",i=Ku):ec.test(n)?i=Yu:"\\"===n&&(i=Ju)}else if(i===Ju){if(/[0-9a-f]/i.test(n))throw new Error("Parse error");o+=n,i=$u}else if(i===Yu){if(!n){s.push(o);break}if(Zu.test(n))o+=" "+n,i=$u;else if(","===n)s.push(o),o="",i=Ku;else if(!ec.test(n))throw new Error("Parse error")}else if(i===Xu){if(!n)break;if(","===n)i=Ku;else if(!ec.test(n))throw new Error("Parse error")}a++}return s},nc=/[^a-z0-9_-]/i,rc=function(e,t){var n=t&&t.quote||'"';if('"'!==n&&"'"!==n)throw new Error("Quote must be `'` or `\"`");for(var r=new RegExp(n,"g"),i=[],o=0;o<e.length;++o){var a=e[o];nc.test(a)&&(a=a.replace(/\\/g,"\\\\").replace(r,"\\"+n),a=n+a+n),i.push(a)}return i.join(", ")},ic={parse:tc,stringify:rc},oc={exports:{}},ac={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},sc=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function uc(e){return 10===e||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&sc.indexOf(e)>=0}function cc(e){switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function lc(e){return 97===(32|e)}function dc(e){return e>=48&&e<=57}function fc(e){return e>=48&&e<=57||43===e||45===e||46===e}function Ac(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function hc(e){while(e.index<e.max&&uc(e.path.charCodeAt(e.index)))e.index++}function pc(e){var t=e.path.charCodeAt(e.index);return 48===t?(e.param=0,void e.index++):49===t?(e.param=1,void e.index++):void(e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")")}function mc(e){var t,n=e.index,r=n,i=e.max,o=!1,a=!1,s=!1,u=!1;if(r>=i)e.err="SvgPath: missed param (at pos "+r+")";else if(t=e.path.charCodeAt(r),43!==t&&45!==t||(r++,t=r<i?e.path.charCodeAt(r):0),dc(t)||46===t){if(46!==t){if(o=48===t,r++,t=r<i?e.path.charCodeAt(r):0,o&&r<i&&t&&dc(t))return void(e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+n+")");while(r<i&&dc(e.path.charCodeAt(r)))r++,a=!0;t=r<i?e.path.charCodeAt(r):0}if(46===t){u=!0,r++;while(dc(e.path.charCodeAt(r)))r++,s=!0;t=r<i?e.path.charCodeAt(r):0}if(101===t||69===t){if(u&&!a&&!s)return void(e.err="SvgPath: invalid float exponent (at pos "+r+")");if(r++,t=r<i?e.path.charCodeAt(r):0,43!==t&&45!==t||r++,!(r<i&&dc(e.path.charCodeAt(r))))return void(e.err="SvgPath: invalid float exponent (at pos "+r+")");while(r<i&&dc(e.path.charCodeAt(r)))r++}e.index=r,e.param=parseFloat(e.path.slice(n,r))+0}else e.err="SvgPath: param should start with 0..9 or `.` (at pos "+r+")"}function gc(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if("m"===n&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t="m"===t?"l":"L"),"r"===n)e.result.push([t].concat(r));else while(r.length>=ac[n])if(e.result.push([t].concat(r.splice(0,ac[n]))),!ac[n])break}function vc(e){var t,n,r,i,o,a=e.max;if(e.segmentStart=e.index,t=e.path.charCodeAt(e.index),n=lc(t),cc(t))if(i=ac[e.path[e.index].toLowerCase()],e.index++,hc(e),e.data=[],i){for(r=!1;;){for(o=i;o>0;o--){if(!n||3!==o&&4!==o?mc(e):pc(e),e.err.length)return;e.data.push(e.param),hc(e),r=!1,e.index<a&&44===e.path.charCodeAt(e.index)&&(e.index++,hc(e),r=!0)}if(!r){if(e.index>=e.max)break;if(!fc(e.path.charCodeAt(e.index)))break}}gc(e)}else gc(e);else e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")"}var yc=function(e){var t=new Ac(e),n=t.max;hc(t);while(t.index<n&&!t.err.length)vc(t);return t.err.length?t.result=[]:t.result.length&&("mM".indexOf(t.result[0][0])<0?(t.err="SvgPath: string should start with `M` or `m`",t.result=[]):t.result[0][0]="M"),{err:t.err,segments:t.result}};function bc(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function wc(){if(!(this instanceof wc))return new wc;this.queue=[],this.cache=null}wc.prototype.matrix=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]||(this.cache=null,this.queue.push(e)),this},wc.prototype.translate=function(e,t){return 0===e&&0===t||(this.cache=null,this.queue.push([1,0,0,1,e,t])),this},wc.prototype.scale=function(e,t){return 1===e&&1===t||(this.cache=null,this.queue.push([e,0,0,t,0,0])),this},wc.prototype.rotate=function(e,t,n){var r,i,o;return 0!==e&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-t,-n)),this},wc.prototype.skewX=function(e){return 0!==e&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this},wc.prototype.skewY=function(e){return 0!==e&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this},wc.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=bc(this.cache,this.queue[e]);return this.cache},wc.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var xc=wc,Cc=xc,Sc={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},kc=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,_c=/[\s,]+/,Bc=function(e){var t,n,r=new Cc;return e.split(kc).forEach((function(e){if(e.length)if("undefined"===typeof Sc[e])switch(n=e.split(_c).map((function(e){return+e||0})),t){case"matrix":return void(6===n.length&&r.matrix(n));case"scale":return void(1===n.length?r.scale(n[0],n[0]):2===n.length&&r.scale(n[0],n[1]));case"rotate":return void(1===n.length?r.rotate(n[0],0,0):3===n.length&&r.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?r.translate(n[0],0):2===n.length&&r.translate(n[0],n[1]));case"skewX":return void(1===n.length&&r.skewX(n[0]));case"skewY":return void(1===n.length&&r.skewY(n[0]))}else t=e})),r},Dc=2*Math.PI;function Mc(e,t,n,r){var i=e*r-t*n<0?-1:1,o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function Ec(e,t,n,r,i,o,a,s,u,c){var l=c*(e-n)/2+u*(t-r)/2,d=-u*(e-n)/2+c*(t-r)/2,f=a*a,A=s*s,h=l*l,p=d*d,m=f*A-f*p-A*h;m<0&&(m=0),m/=f*p+A*h,m=Math.sqrt(m)*(i===o?-1:1);var g=m*a/s*d,v=m*-s/a*l,y=c*g-u*v+(e+n)/2,b=u*g+c*v+(t+r)/2,w=(l-g)/a,x=(d-v)/s,C=(-l-g)/a,S=(-d-v)/s,k=Mc(1,0,w,x),_=Mc(w,x,C,S);return 0===o&&_>0&&(_-=Dc),1===o&&_<0&&(_+=Dc),[y,b,k,_]}function Tc(e,t){var n=4/3*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}var Ic=function(e,t,n,r,i,o,a,s,u){var c=Math.sin(u*Dc/360),l=Math.cos(u*Dc/360),d=l*(e-n)/2+c*(t-r)/2,f=-c*(e-n)/2+l*(t-r)/2;if(0===d&&0===f)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s);var A=d*d/(a*a)+f*f/(s*s);A>1&&(a*=Math.sqrt(A),s*=Math.sqrt(A));var h=Ec(e,t,n,r,i,o,a,s,c,l),p=[],m=h[2],g=h[3],v=Math.max(Math.ceil(Math.abs(g)/(Dc/4)),1);g/=v;for(var y=0;y<v;y++)p.push(Tc(m,g)),m+=g;return p.map((function(e){for(var t=0;t<e.length;t+=2){var n=e[t+0],r=e[t+1];n*=a,r*=s;var i=l*n-c*r,o=c*n+l*r;e[t+0]=i+h[0],e[t+1]=o+h[1]}return e}))},Oc=1e-10,Lc=Math.PI/180;function Fc(e,t,n){if(!(this instanceof Fc))return new Fc(e,t,n);this.rx=e,this.ry=t,this.ax=n}Fc.prototype.transform=function(e){var t=Math.cos(this.ax*Lc),n=Math.sin(this.ax*Lc),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),s=(i+o)/2;if(a<Oc*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var u=r[0]*r[1]+r[2]*r[3];a=Math.sqrt(a);var c=s+a/2,l=s-a/2;return this.ax=Math.abs(u)<Oc&&Math.abs(c-o)<Oc?90:180*Math.atan(Math.abs(u)>Math.abs(c-o)?(c-i)/u:u/(c-o))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(c),this.ry=Math.sqrt(l)):(this.ax+=90,this.rx=Math.sqrt(l),this.ry=Math.sqrt(c)),this},Fc.prototype.isDegenerate=function(){return this.rx<Oc*this.ry||this.ry<Oc*this.rx};var Pc=Fc,Nc=yc,Uc=Bc,Hc=xc,Rc=Ic,Vc=Pc;function Qc(e){if(!(this instanceof Qc))return new Qc(e);var t=Nc(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}Qc.from=function(e){if("string"===typeof e)return new Qc(e);if(e instanceof Qc){var t=new Qc("");return t.err=e.err,t.segments=e.segments.map((function(e){return e.slice()})),t.__stack=e.__stack.map((function(e){return Hc().matrix(e.toArray())})),t}throw new Error("SvgPath.from: invalid param type "+e)},Qc.prototype.__matrix=function(e){var t,n=this;e.queue.length&&this.iterate((function(r,i,o,a){var s,u,c,l;switch(r[0]){case"v":s=e.calc(0,r[1],!0),u=0===s[0]?["v",s[1]]:["l",s[0],s[1]];break;case"V":s=e.calc(o,r[1],!1),u=s[0]===e.calc(o,a,!1)[0]?["V",s[1]]:["L",s[0],s[1]];break;case"h":s=e.calc(r[1],0,!0),u=0===s[1]?["h",s[0]]:["l",s[0],s[1]];break;case"H":s=e.calc(r[1],a,!1),u=s[1]===e.calc(o,a,!1)[1]?["H",s[0]]:["L",s[0],s[1]];break;case"a":case"A":var d=e.toArray(),f=Vc(r[1],r[2],r[3]).transform(d);if(d[0]*d[3]-d[1]*d[2]<0&&(r[5]=r[5]?"0":"1"),s=e.calc(r[6],r[7],"a"===r[0]),"A"===r[0]&&r[6]===o&&r[7]===a||"a"===r[0]&&0===r[6]&&0===r[7]){u=["a"===r[0]?"l":"L",s[0],s[1]];break}u=f.isDegenerate()?["a"===r[0]?"l":"L",s[0],s[1]]:[r[0],f.rx,f.ry,f.ax,r[4],r[5],s[0],s[1]];break;case"m":l=i>0,s=e.calc(r[1],r[2],l),u=["m",s[0],s[1]];break;default:for(c=r[0],u=[c],l=c.toLowerCase()===c,t=1;t<r.length;t+=2)s=e.calc(r[t],r[t+1],l),u.push(s[0],s[1])}n.segments[i]=u}),!0)},Qc.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);e=Hc(),t=this.__stack.length;while(--t>=0)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}},Qc.prototype.toString=function(){var e,t,n=[];this.__evaluateStack();for(var r=0;r<this.segments.length;r++)t=this.segments[r][0],e=r>0&&"m"!==t&&"M"!==t&&t===this.segments[r-1][0],n=n.concat(e?this.segments[r].slice(1):this.segments[r]);return n.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},Qc.prototype.translate=function(e,t){return this.__stack.push(Hc().translate(e,t||0)),this},Qc.prototype.scale=function(e,t){return this.__stack.push(Hc().scale(e,t||0===t?t:e)),this},Qc.prototype.rotate=function(e,t,n){return this.__stack.push(Hc().rotate(e,t||0,n||0)),this},Qc.prototype.skewX=function(e){return this.__stack.push(Hc().skewX(e)),this},Qc.prototype.skewY=function(e){return this.__stack.push(Hc().skewY(e)),this},Qc.prototype.matrix=function(e){return this.__stack.push(Hc().matrix(e)),this},Qc.prototype.transform=function(e){return e.trim()?(this.__stack.push(Uc(e)),this):this},Qc.prototype.round=function(e){var t,n=0,r=0,i=0,o=0;return e=e||0,this.__evaluateStack(),this.segments.forEach((function(a){var s=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return s&&(a[1]+=i),i=a[1]-a[1].toFixed(e),void(a[1]=+a[1].toFixed(e));case"V":case"v":return s&&(a[1]+=o),o=a[1]-a[1].toFixed(e),void(a[1]=+a[1].toFixed(e));case"Z":case"z":return i=n,void(o=r);case"M":case"m":return s&&(a[1]+=i,a[2]+=o),i=a[1]-a[1].toFixed(e),o=a[2]-a[2].toFixed(e),n=i,r=o,a[1]=+a[1].toFixed(e),void(a[2]=+a[2].toFixed(e));case"A":case"a":return s&&(a[6]+=i,a[7]+=o),i=a[6]-a[6].toFixed(e),o=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),void(a[7]=+a[7].toFixed(e));default:return t=a.length,s&&(a[t-2]+=i,a[t-1]+=o),i=a[t-2]-a[t-2].toFixed(e),o=a[t-1]-a[t-1].toFixed(e),void a.forEach((function(t,n){n&&(a[n]=+a[n].toFixed(e))}))}})),this},Qc.prototype.iterate=function(e,t){var n,r,i,o=this.segments,a={},s=!1,u=0,c=0,l=0,d=0;if(t||this.__evaluateStack(),o.forEach((function(t,n){var r=e(t,n,u,c);Array.isArray(r)&&(a[n]=r,s=!0);var i=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return u=t[1]+(i?u:0),c=t[2]+(i?c:0),l=u,void(d=c);case"h":case"H":return void(u=t[1]+(i?u:0));case"v":case"V":return void(c=t[1]+(i?c:0));case"z":case"Z":return u=l,void(c=d);default:u=t[t.length-2]+(i?u:0),c=t[t.length-1]+(i?c:0)}})),!s)return this;for(i=[],n=0;n<o.length;n++)if("undefined"!==typeof a[n])for(r=0;r<a[n].length;r++)i.push(a[n][r]);else i.push(o[n]);return this.segments=i,this},Qc.prototype.abs=function(){return this.iterate((function(e,t,n,r){var i,o=e[0],a=o.toUpperCase();if(o!==a)switch(e[0]=a,o){case"v":return void(e[1]+=r);case"a":return e[6]+=n,void(e[7]+=r);default:for(i=1;i<e.length;i++)e[i]+=i%2?n:r}}),!0),this},Qc.prototype.rel=function(){return this.iterate((function(e,t,n,r){var i,o=e[0],a=o.toLowerCase();if(o!==a&&(0!==t||"M"!==o))switch(e[0]=a,o){case"V":return void(e[1]-=r);case"A":return e[6]-=n,void(e[7]-=r);default:for(i=1;i<e.length;i++)e[i]-=i%2?n:r}}),!0),this},Qc.prototype.unarc=function(){return this.iterate((function(e,t,n,r){var i,o,a,s=[],u=e[0];return"A"!==u&&"a"!==u?null:("a"===u?(o=n+e[6],a=r+e[7]):(o=e[6],a=e[7]),i=Rc(n,r,o,a,e[4],e[5],e[1],e[2],e[3]),0===i.length?[["a"===e[0]?"l":"L",e[6],e[7]]]:(i.forEach((function(e){s.push(["C",e[2],e[3],e[4],e[5],e[6],e[7]])})),s))})),this},Qc.prototype.unshort=function(){var e,t,n,r,i,o=this.segments;return this.iterate((function(a,s,u,c){var l,d=a[0],f=d.toUpperCase();s&&("T"===f?(l="t"===d,n=o[s-1],"Q"===n[0]?(e=n[1]-u,t=n[2]-c):"q"===n[0]?(e=n[1]-n[3],t=n[2]-n[4]):(e=0,t=0),r=-e,i=-t,l||(r+=u,i+=c),o[s]=[l?"q":"Q",r,i,a[1],a[2]]):"S"===f&&(l="s"===d,n=o[s-1],"C"===n[0]?(e=n[3]-u,t=n[4]-c):"c"===n[0]?(e=n[3]-n[5],t=n[4]-n[6]):(e=0,t=0),r=-e,i=-t,l||(r+=u,i+=c),o[s]=[l?"c":"C",r,i,a[1],a[2],a[3],a[4]]))})),this};var jc=Qc;(function(e){e.exports=jc})(oc);var zc=Nu(oc.exports),Gc=function(e){var t,n=e,r={a:0,b:0,c:0},i=[],o=/(\[[^\]]+\])/g,a=/(#[^\#\s\+>~\.\[:\)]+)/g,s=/(\.[^\s\+>~\.\[:\)]+)/g,u=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,c=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,l=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,d=/([^\s\+>~\.\[:]+)/g;return t=function(t,o){var a,s,u,c,l,d;if(t.test(n))for(a=n.match(t),s=0,u=a.length;s<u;s+=1)r[o]+=1,c=a[s],l=n.indexOf(c),d=c.length,i.push({selector:e.substr(l,d),type:o,index:l,length:d}),n=n.replace(c,Array(d+1).join(" "))},function(){var e=function(e){var t,r,i,o;if(e.test(n))for(t=n.match(e),r=0,i=t.length;r<i;r+=1)o=t[r],n=n.replace(o,Array(o.length+1).join("A"))},t=/\\[0-9A-Fa-f]{6}\s?/g,r=/\\[0-9A-Fa-f]{1,5}\s/g,i=/\\./g;e(t),e(r),e(i)}(),function(){var e,t,r,i,o=/{[^]*/gm;if(o.test(n))for(e=n.match(o),t=0,r=e.length;t<r;t+=1)i=e[t],n=n.replace(i,Array(i.length+1).join(" "))}(),t(o,"b"),t(a,"a"),t(s,"b"),t(u,"c"),t(c,"b"),t(l,"b"),n=n.replace(/[\*\s\+>~]/g," "),n=n.replace(/[#\.]/g," "),n=n.replace(/:not/g,"    "),n=n.replace(/:local/g,"      "),n=n.replace(/:global/g,"       "),n=n.replace(/[\(\)]/g," "),t(d,"c"),i.sort((function(e,t){return e.index-t.index})),{selector:e,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:i}},Kc=function(e,t){var n,r,i;if("string"===typeof e){if(-1!==e.indexOf(","))throw"Invalid CSS selector";n=Gc(e)["specificityArray"]}else{if(!Array.isArray(e))throw"Invalid CSS selector or specificity array";if(4!==e.filter((function(e){return"number"===typeof e})).length)throw"Invalid specificity array";n=e}if("string"===typeof t){if(-1!==t.indexOf(","))throw"Invalid CSS selector";r=Gc(t)["specificityArray"]}else{if(!Array.isArray(t))throw"Invalid CSS selector or specificity array";if(4!==t.filter((function(e){return"number"===typeof e})).length)throw"Invalid specificity array";r=t}for(i=0;i<4;i+=1){if(n[i]<r[i])return-1;if(n[i]>r[i])return 1}return 0},qc=function(e,t){return qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},qc(e,t)};function Wc(e,t){function n(){this.constructor=e}qc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $c=function(){return $c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$c.apply(this,arguments)};function Xc(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(KE){o(KE)}}function s(e){try{u(r["throw"](e))}catch(KE){o(KE)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Yc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(KE){o=[6,KE],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var Jc=function(){function e(e){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,e){for(var t in"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)e==t&&(e=this.simpleColors[t]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];for(var n=0;n<this.colorDefs.length;n++){var r=this.colorDefs[n].re,i=this.colorDefs[n].process,o=r.exec(e);if(o){var a=i(o);this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return e.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},e.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},e.prototype.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},e.prototype.getHelpXML=function(){for(var t=[],n=0;n<this.colorDefs.length;n++)for(var r=this.colorDefs[n].example,i=0;i<r.length;i++)t[t.length]=r[i];for(var o in this.simpleColors)t[t.length]=o;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var s=document.createElement("li"),u=new e(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());s.appendChild(c),s.appendChild(l),a.appendChild(s)}catch(KE){}return a},e}(),Zc=function(){function e(e){this.color=e}return e.prototype.getFillData=function(e,t){return Xc(this,void 0,void 0,(function(){return Yc(this,(function(e){return[2,void 0]}))}))},e}(),el=function(){function e(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return e.prototype.clone=function(){var t=new e;return t.xmlSpace=this.xmlSpace,t.fill=this.fill,t.fillOpacity=this.fillOpacity,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.fontStyle=this.fontStyle,t.fontWeight=this.fontWeight,t.opacity=this.opacity,t.stroke=this.stroke,t.strokeDasharray=this.strokeDasharray,t.strokeDashoffset=this.strokeDashoffset,t.strokeLinecap=this.strokeLinecap,t.strokeLinejoin=this.strokeLinejoin,t.strokeMiterlimit=this.strokeMiterlimit,t.strokeOpacity=this.strokeOpacity,t.strokeWidth=this.strokeWidth,t.textAnchor=this.textAnchor,t.alignmentBaseline=this.alignmentBaseline,t.visibility=this.visibility,t.color=this.color,t},e.default=function(){var t=new e;return t.xmlSpace="default",t.fill=new Zc(new Jc("rgb(0, 0, 0)")),t.fillOpacity=1,t.fontFamily="times",t.fontSize=16,t.fontStyle="normal",t.fontWeight="normal",t.opacity=1,t.stroke=null,t.strokeDasharray=null,t.strokeDashoffset=0,t.strokeLinecap="butt",t.strokeLinejoin="miter",t.strokeMiterlimit=4,t.strokeOpacity=1,t.strokeWidth=1,t.alignmentBaseline="baseline",t.textAnchor="start",t.visibility="visible",t.color=new Jc("rgb(0, 0, 0)"),t},e}(),tl=/url\(["']?#([^"']+)["']?\)/,nl={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},rl="http://www.w3.org/2000/svg",il=function(){function e(){this.measureMethods={}}return e.prototype.getTextOffset=function(e,t){var n=t.textAnchor;if("start"===n)return 0;var r=this.measureTextWidth(e,t),i=0;switch(n){case"end":i=r;break;case"middle":i=r/2;break}return i},e.prototype.measureTextWidth=function(e,t){if(0===e.length)return 0;var n=t.fontFamily,r=this.getMeasureFunction(n);return r.call(this,e,t.fontFamily,t.fontSize+"px",t.fontStyle,t.fontWeight)},e.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS(rl,"text");var e=document.createElementNS(rl,"svg");e.appendChild(this.textMeasuringTextElement),e.style.setProperty("position","absolute"),e.style.setProperty("visibility","hidden"),document.body.appendChild(e)}return this.textMeasuringTextElement},e.prototype.canvasTextMeasure=function(e,t,n,r,i){var o=document.createElement("canvas"),a=o.getContext("2d");return null!=a?(a.font=[r,i,n,t].join(" "),a.measureText(e).width):0},e.prototype.svgTextMeasure=function(e,t,n,r,i,o){void 0===o&&(o=this.getMeasurementTextNode());var a=o;return a.setAttribute("font-family",t),a.setAttribute("font-size",n),a.setAttribute("font-style",r),a.setAttribute("font-weight",i),a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.textContent=e,a.getBBox().width},e.prototype.getMeasureFunction=function(t){var n=this.measureMethods[t];if(!n){var r="16px",i="normal",o="normal",a=this.canvasTextMeasure(e.testString,t,r,i,o),s=this.svgTextMeasure(e.testString,t,r,i,o);n=Math.abs(a-s)<e.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[t]=n}return n},e.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var e=this.textMeasuringTextElement.parentNode;e&&document.body.removeChild(e),this.textMeasuringTextElement=void 0}},e.testString="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!\"$%&/()=?'\\+*-_.:,;^}][{#~|<>",e.epsilon=.1,e}(),ol=function(){function e(e,t){var n,r,i,o,a,s;this.pdf=e,this.svg2pdfParameters=t.svg2pdfParameters,this.attributeState=t.attributeState?t.attributeState.clone():el.default(),this.viewport=t.viewport,this.refsHandler=null!==(n=t.refsHandler)&&void 0!==n?n:null,this.styleSheets=null!==(r=t.styleSheets)&&void 0!==r?r:null,this.textMeasure=null!==(i=t.textMeasure)&&void 0!==i?i:new il,this.transform=null!==(o=t.transform)&&void 0!==o?o:this.pdf.unitMatrix,this.withinClipPath=null!==(a=t.withinClipPath)&&void 0!==a&&a,this.withinUse=null!==(s=t.withinUse)&&void 0!==s&&s}return e.prototype.clone=function(t){var n,r,i,o,a,s,u,c;return void 0===t&&(t={}),new e(this.pdf,{svg2pdfParameters:null!==(n=t.svg2pdfParameters)&&void 0!==n?n:this.svg2pdfParameters,attributeState:t.attributeState?t.attributeState.clone():this.attributeState.clone(),viewport:null!==(r=t.viewport)&&void 0!==r?r:this.viewport,refsHandler:null!==(i=t.refsHandler)&&void 0!==i?i:this.refsHandler,styleSheets:null!==(o=t.styleSheets)&&void 0!==o?o:this.styleSheets,textMeasure:null!==(a=t.textMeasure)&&void 0!==a?a:this.textMeasure,transform:null!==(s=t.transform)&&void 0!==s?s:this.transform,withinClipPath:null!==(u=t.withinClipPath)&&void 0!==u?u:this.withinClipPath,withinUse:null!==(c=t.withinUse)&&void 0!==c?c:this.withinUse})},e}(),al=function(){function e(t){this.renderedElements={},this.idMap=t,this.idPrefix=String(e.instanceCounter++)}return e.prototype.getRendered=function(e,t,n){return Xc(this,void 0,void 0,(function(){var r,i;return Yc(this,(function(o){switch(o.label){case 0:return r=this.generateKey(e,t),this.renderedElements.hasOwnProperty(r)?[2,this.renderedElements[e]]:(i=this.get(e),this.renderedElements[r]=i,[4,n(i)]);case 1:return o.sent(),[2,i]}}))}))},e.prototype.get=function(e){return this.idMap[Gu(e,{isIdentifier:!0})]},e.prototype.generateKey=function(e,t){return this.idPrefix+"|"+e+"|"+(t||new Jc("rgb(0,0,0)")).toRGBA()},e.instanceCounter=0,e}();function sl(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])}var ul=2/3;function cl(e,t){return[ul*(t[0]-e[0])+e[0],ul*(t[1]-e[1])+e[1]]}function ll(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}function dl(e,t){var n=[t[0]-e[0],t[1]-e[1]];return ll(n)}function fl(e,t){return[e[0]+t[0],e[1]+t[1]]}function Al(e,t){var n=e[0],r=e[1];return[t.a*n+t.c*r+t.e,t.b*n+t.d*r+t.f]}var hl=function(){function e(){this.segments=[]}return e.prototype.moveTo=function(e,t){return this.segments.push(new pl(e,t)),this},e.prototype.lineTo=function(e,t){return this.segments.push(new ml(e,t)),this},e.prototype.curveTo=function(e,t,n,r,i,o){return this.segments.push(new gl(e,t,n,r,i,o)),this},e.prototype.close=function(){return this.segments.push(new vl),this},e.prototype.transform=function(e){this.segments.forEach((function(t){if(t instanceof pl||t instanceof ml||t instanceof gl){var n=Al([t.x,t.y],e);t.x=n[0],t.y=n[1]}if(t instanceof gl){var r=Al([t.x1,t.y1],e),i=Al([t.x2,t.y2],e);t.x1=r[0],t.y1=r[1],t.x2=i[0],t.y2=i[1]}}))},e.prototype.draw=function(e){var t=e.pdf;this.segments.forEach((function(e){e instanceof pl?t.moveTo(e.x,e.y):e instanceof ml?t.lineTo(e.x,e.y):e instanceof gl?t.curveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y):t.close()}))},e}(),pl=function(){function e(e,t){this.x=e,this.y=t}return e}(),ml=function(){function e(e,t){this.x=e,this.y=t}return e}(),gl=function(){function e(e,t,n,r,i,o){this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.x=i,this.y=o}return e}(),vl=function(){function e(){}return e}();function yl(e,t){return t.split(",").indexOf((e.nodeName||e.tagName).toLowerCase())>=0}function bl(e,t){for(var n=[],r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];"#"!==i.nodeName.charAt(0)&&n.push(i)}for(r=0;r<n.length;r++)t(r,n[r])}function wl(e,t,n,r){var i;void 0===r&&(r=n);var o=null===(i=e.style)||void 0===i?void 0:i.getPropertyValue(r);if(o)return o;var a=t.getPropertyValue(e,r);return a||(e.hasAttribute(n)&&e.getAttribute(n)||void 0)}function xl(e,t,n){if("none"===wl(e.element,n.styleSheets,"display"))return!1;var r=t,i=wl(e.element,n.styleSheets,"visibility");return i&&(r="hidden"!==i),r}function Cl(e,t,n){var r=xl(e,t,n);return 0!==e.element.childNodes.length&&(e.children.forEach((function(e){e.isVisible(r,n)&&(r=!0)})),r)}var Sl=function(){function e(){this.markers=[]}return e.prototype.addMarker=function(e){this.markers.push(e)},e.prototype.draw=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Yc(this,(function(u){switch(u.label){case 0:t=0,u.label=1;case 1:return t<this.markers.length?(n=this.markers[t],r=void 0,i=n.angle,o=n.anchor,a=Math.cos(i),s=Math.sin(i),r=e.pdf.Matrix(a,s,-s,a,o[0],o[1]),r=e.pdf.matrixMult(e.pdf.Matrix(e.attributeState.strokeWidth,0,0,e.attributeState.strokeWidth,0,0),r),r=e.pdf.matrixMult(r,e.transform),e.pdf.saveGraphicsState(),[4,e.refsHandler.getRendered(n.id,null,(function(t){return t.apply(e)}))]):[3,4];case 2:u.sent(),e.pdf.doFormObject(n.id,r),e.pdf.restoreGraphicsState(),u.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e}(),kl=function(){function e(e,t,n){this.id=e,this.anchor=t,this.angle=n}return e}();function _l(e,t){var n;return n=e&&e.toString().match(/^([\-0-9.]+)em$/),n?parseFloat(n[1])*t:(n=e&&e.toString().match(/^([\-0-9.]+)(px|)$/),n?parseFloat(n[1]):0)}function Bl(e){return nl[e]||"alphabetic"}function Dl(e){var t,n=[],r=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;while(t=r.exec(e))n.push(parseFloat(t[0]));return n}function Ml(e,t){if("transparent"===e){var n=new Jc("rgb(0,0,0)");return n.a=0,n}if("currentcolor"===e.toLowerCase())return t||new Jc("rgb(0,0,0)");var r=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(e);if(r){var i=Dl(r[1]),o=new Jc("rgb("+i.slice(0,3).join(",")+")");return o.a=i[3],o}return new Jc(e)}var El={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"};function Tl(e,t,n){var r=Ol(e.fontStyle,e.fontWeight),i=n.pdf.getFontList(),o="",a=t.some((function(e){var t=i[e];return t&&t.indexOf(r)>=0?(o=e,!0):(e=e.toLowerCase(),!!El.hasOwnProperty(e)&&(o=e,!0))}));return a||(o="times"),o}var Il=function(){var e=Xa.version.split(".");return 2===parseFloat(e[0])&&3===parseFloat(e[1])}();function Ol(e,t){return Il?400==t?"italic"==e?"italic":"normal":700==t&&"italic"!==e?"bold":e+""+t:400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"}function Ll(e,t){if("none"===wl(t.element,e.styleSheets,"display"))return[0,0,0,0];var n=[0,0,0,0];return t.children.forEach((function(t){var r=t.getBoundingBox(e);n=[Math.min(n[0],r[0]),Math.min(n[1],r[1]),Math.max(n[0]+n[2],r[0]+r[2])-Math.min(n[0],r[0]),Math.max(n[1]+n[3],r[1]+r[3])-Math.min(n[1],r[1])]})),n}function Fl(e,t){var n=parseFloat,r=n(e.getAttribute("x1"))||n(wl(e,t.styleSheets,"x"))||n(wl(e,t.styleSheets,"cx"))-n(wl(e,t.styleSheets,"r"))||0,i=n(e.getAttribute("x2"))||r+n(wl(e,t.styleSheets,"width"))||n(wl(e,t.styleSheets,"cx"))+n(wl(e,t.styleSheets,"r"))||0,o=n(e.getAttribute("y1"))||n(wl(e,t.styleSheets,"y"))||n(wl(e,t.styleSheets,"cy"))-n(wl(e,t.styleSheets,"r"))||0,a=n(e.getAttribute("y2"))||o+n(wl(e,t.styleSheets,"height"))||n(wl(e,t.styleSheets,"cy"))+n(wl(e,t.styleSheets,"r"))||0;return[Math.min(r,i),Math.min(o,a),Math.max(r,i)-Math.min(r,i),Math.max(o,a)-Math.min(o,a)]}function Pl(e,t,n,r,i,o,a,s){void 0===s&&(s=!1);var u,c,l=t[0],d=t[1],f=t[2],A=t[3],h=i/f,p=o/A,m=e.getAttribute("preserveAspectRatio");if(m){var g=m.split(" ");"defer"===g[0]&&(g=g.slice(1)),u=g[0],c=g[1]||"meet"}else u="xMidYMid",c="meet";if("none"!==u&&("meet"===c?h=p=Math.min(h,p):"slice"===c&&(h=p=Math.max(h,p))),s)return a.pdf.Matrix(h,0,0,p,0,0);var v=n-l*h,y=r-d*p;u.indexOf("xMid")>=0?v+=(i-f*h)/2:u.indexOf("xMax")>=0&&(v+=i-f*h),u.indexOf("YMid")>=0?y+=(o-A*p)/2:u.indexOf("YMax")>=0&&(y+=o-A*p);var b=a.pdf.Matrix(1,0,0,1,v,y),w=a.pdf.Matrix(h,0,0,p,0,0);return a.pdf.matrixMult(w,b)}function Nl(e,t){if(!e||"none"===e)return t.pdf.unitMatrix;var n,r,i=/^[\s,]*matrix\(([^)]+)\)\s*/,o=/^[\s,]*translate\(([^)]+)\)\s*/,a=/^[\s,]*rotate\(([^)]+)\)\s*/,s=/^[\s,]*scale\(([^)]+)\)\s*/,u=/^[\s,]*skewX\(([^)]+)\)\s*/,c=/^[\s,]*skewY\(([^)]+)\)\s*/,l=t.pdf.unitMatrix;while(e.length>0&&e.length!==r){r=e.length;var d=i.exec(e);if(d&&(n=Dl(d[1]),l=t.pdf.matrixMult(t.pdf.Matrix(n[0],n[1],n[2],n[3],n[4],n[5]),l),e=e.substr(d[0].length)),d=a.exec(e),d){n=Dl(d[1]);var f=Math.PI*n[0]/180;if(l=t.pdf.matrixMult(t.pdf.Matrix(Math.cos(f),Math.sin(f),-Math.sin(f),Math.cos(f),0,0),l),n[1]||n[2]){var A=t.pdf.Matrix(1,0,0,1,n[1],n[2]),h=t.pdf.Matrix(1,0,0,1,-n[1],-n[2]);l=t.pdf.matrixMult(h,t.pdf.matrixMult(l,A))}e=e.substr(d[0].length)}d=o.exec(e),d&&(n=Dl(d[1]),l=t.pdf.matrixMult(t.pdf.Matrix(1,0,0,1,n[0],n[1]||0),l),e=e.substr(d[0].length)),d=s.exec(e),d&&(n=Dl(d[1]),n[1]||(n[1]=n[0]),l=t.pdf.matrixMult(t.pdf.Matrix(n[0],0,0,n[1],0,0),l),e=e.substr(d[0].length)),d=u.exec(e),d&&(n=parseFloat(d[1]),n*=Math.PI/180,l=t.pdf.matrixMult(t.pdf.Matrix(1,0,Math.tan(n),1,0,0),l),e=e.substr(d[0].length)),d=c.exec(e),d&&(n=parseFloat(d[1]),n*=Math.PI/180,l=t.pdf.matrixMult(t.pdf.Matrix(1,Math.tan(n),0,1,0,0),l),e=e.substr(d[0].length))}return l}var Ul=function(){function e(e,t){this.element=e,this.children=t,this.parent=null}return e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.getBoundingBox=function(e){return"none"===wl(this.element,e.styleSheets,"display")?[0,0,0,0]:this.getBoundingBoxCore(e)},e.prototype.computeNodeTransform=function(e){var t=this.computeNodeTransformCore(e),n=wl(this.element,e.styleSheets,"transform");return n?e.pdf.matrixMult(t,Nl(n,e)):t},e}(),Hl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.render=function(e){return Promise.resolve()},t.prototype.getBoundingBoxCore=function(e){return[]},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t}(Ul),Rl=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.pdfGradientType=t,i.contextColor=void 0,i}return Wc(t,e),t.prototype.apply=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Yc(this,(function(s){return t=this.element.getAttribute("id"),t?(n=this.getStops(e.styleSheets),r=0,i=!1,n.forEach((function(e){var t=e.opacity;t&&1!==t&&(r+=t,i=!0)})),i&&(o=new Ka({opacity:r/n.length})),a=new Wa(this.pdfGradientType,this.getCoordinates(),n,o),e.pdf.addShadingPattern(t,a),[2]):[2]}))}))},t.prototype.getStops=function(e){var n=this;if(this.stops)return this.stops;if(void 0===this.contextColor){this.contextColor=null;var r=this;while(r){var i=wl(r.element,e,"color");if(i){this.contextColor=Ml(i,null);break}r=r.getParent()}}var o=[];return this.children.forEach((function(r){if("stop"===r.element.tagName.toLowerCase()){var i=wl(r.element,e,"color"),a=Ml(wl(r.element,e,"stop-color")||"",i?Ml(i,null):n.contextColor),s=parseFloat(wl(r.element,e,"stop-opacity")||"1");o.push({offset:t.parseGradientOffset(r.element.getAttribute("offset")||"0"),color:[a.r,a.g,a.b],opacity:s})}})),this.stops=o},t.prototype.getBoundingBoxCore=function(e){return Fl(this.element,e)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t.parseGradientOffset=function(e){var t=parseFloat(e);return!isNaN(t)&&e.indexOf("%")>=0?t/100:t},t}(Hl),Vl=function(e){function t(t,n){return e.call(this,"axial",t,n)||this}return Wc(t,e),t.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},t}(Rl),Ql=function(e){function t(t,n){return e.call(this,"radial",t,n)||this}return Wc(t,e),t.prototype.getCoordinates=function(){var e=this.element.getAttribute("cx"),t=this.element.getAttribute("cy"),n=this.element.getAttribute("fx"),r=this.element.getAttribute("fy");return[parseFloat(n||e||"0.5"),parseFloat(r||t||"0.5"),0,parseFloat(e||"0.5"),parseFloat(t||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},t}(Rl),jl=function(){function e(e,t){this.key=e,this.gradient=t}return e.prototype.getFillData=function(e,t){return Xc(this,void 0,void 0,(function(){var n,r,i;return Yc(this,(function(o){switch(o.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,(function(e){return e.apply(new ol(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))}))];case 1:return o.sent(),this.gradient.element.hasAttribute("gradientUnits")&&"objectboundingbox"!==this.gradient.element.getAttribute("gradientUnits").toLowerCase()?n=t.pdf.unitMatrix:(r=e.getBoundingBox(t),n=t.pdf.Matrix(r[2],0,0,r[3],r[0],r[1])),i=Nl(wl(this.gradient.element,t.styleSheets,"gradientTransform","transform"),t),[2,{key:this.key,matrix:t.pdf.matrixMult(i,n)}]}}))}))},e}(),zl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.apply=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Yc(this,(function(s){switch(s.label){case 0:if(t=this.element.getAttribute("id"),!t)return[2];n=this.getBoundingBox(e),r=new $a([n[0],n[1],n[0]+n[2],n[1]+n[3]],n[2],n[3]),e.pdf.beginTilingPattern(r),i=0,o=this.children,s.label=1;case 1:return i<o.length?(a=o[i],[4,a.render(new ol(e.pdf,{attributeState:e.attributeState,refsHandler:e.refsHandler,styleSheets:e.styleSheets,viewport:e.viewport,svg2pdfParameters:e.svg2pdfParameters}))]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return e.pdf.endTilingPattern(t,r),[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Fl(this.element,e)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t}(Hl),Gl=function(){function e(e,t){this.key=e,this.pattern=t}return e.prototype.getFillData=function(e,t){return Xc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,d,f,A;return Yc(this,(function(h){switch(h.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,(function(e){return e.apply(new ol(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))}))];case 1:return h.sent(),n={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},i=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&"objectboundingbox"!==this.pattern.element.getAttribute("patternUnits").toLowerCase()||(r=e.getBoundingBox(t),i=t.pdf.Matrix(1,0,0,1,r[0],r[1]),a=this.pattern.getBoundingBox(t),s=a[0]*r[0]||0,u=a[1]*r[1]||0,c=a[2]*r[2]||0,l=a[3]*r[3]||0,n.boundingBox=[s,u,s+c,u+l],n.xStep=c,n.yStep=l),o=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&"objectboundingbox"===this.pattern.element.getAttribute("patternContentUnits").toLowerCase()&&(r||(r=e.getBoundingBox(t)),o=t.pdf.Matrix(r[2],0,0,r[3],0,0),a=n.boundingBox||this.pattern.getBoundingBox(t),s=a[0]/r[0]||0,u=a[1]/r[1]||0,c=a[2]/r[2]||0,l=a[3]/r[3]||0,n.boundingBox=[s,u,s+c,u+l],n.xStep=c,n.yStep=l),d=t.pdf.unitMatrix,f=wl(this.pattern.element,t.styleSheets,"patternTransform","transform"),f&&(d=Nl(f,t)),A=o,A=t.pdf.matrixMult(A,i),A=t.pdf.matrixMult(A,d),A=t.pdf.matrixMult(A,t.transform),n.matrix=A,[2,n]}}))}))},e}();function Kl(e,t){var n=tl.exec(e);if(n){var r=n[1],i=t.refsHandler.get(r);return i&&(i instanceof Vl||i instanceof Ql)?ql(r,i,t):i&&i instanceof zl?new Gl(r,i):new Zc(new Jc("rgb(0, 0, 0)"))}var o=Ml(e,t.attributeState.color);return o.ok?new Zc(o):null}function ql(e,t,n){var r=t.getStops(n.styleSheets);if(0===r.length)return null;if(1===r.length){var i=r[0].color,o=new Jc;return o.ok=!0,o.r=i[0],o.g=i[1],o.b=i[2],o.a=r[0].opacity,new Zc(o)}return new jl(e,t)}function Wl(e,t,n){var r=n||t.element,i=wl(r,e.styleSheets,"color");if(i){var o=Ml(i,e.attributeState.color);o.ok?e.attributeState.color=o:e.attributeState.color=new Jc("rgb(0,0,0)")}var a=wl(r,e.styleSheets,"visibility");a&&(e.attributeState.visibility=a);var s=wl(r,e.styleSheets,"fill");s&&(e.attributeState.fill=Kl(s,e));var u=wl(r,e.styleSheets,"fill-opacity");u&&(e.attributeState.fillOpacity=parseFloat(u));var c=wl(r,e.styleSheets,"stroke-opacity");c&&(e.attributeState.strokeOpacity=parseFloat(c));var l=wl(r,e.styleSheets,"opacity");l&&(e.attributeState.opacity=parseFloat(l));var d=wl(r,e.styleSheets,"stroke-width");void 0!==d&&""!==d&&(e.attributeState.strokeWidth=Math.abs(parseFloat(d)));var f=wl(r,e.styleSheets,"stroke");if(f)if("none"===f)e.attributeState.stroke=null;else{var A=Ml(f,e.attributeState.color);A.ok&&(e.attributeState.stroke=new Zc(A))}var h=wl(r,e.styleSheets,"stroke-linecap");h&&(e.attributeState.strokeLinecap=h);var p=wl(r,e.styleSheets,"stroke-linejoin");p&&(e.attributeState.strokeLinejoin=p);var m=wl(r,e.styleSheets,"stroke-dasharray");if(m){var g=parseInt(wl(r,e.styleSheets,"stroke-dashoffset")||"0");e.attributeState.strokeDasharray=Dl(m),e.attributeState.strokeDashoffset=g}var v=wl(r,e.styleSheets,"stroke-miterlimit");void 0!==v&&""!==v&&(e.attributeState.strokeMiterlimit=parseFloat(v));var y=r.getAttribute("xml:space");y&&(e.attributeState.xmlSpace=y);var b=wl(r,e.styleSheets,"font-weight");b&&(e.attributeState.fontWeight=b);var w=wl(r,e.styleSheets,"font-style");w&&(e.attributeState.fontStyle=w);var x=wl(r,e.styleSheets,"font-family");if(x){var C=ic.parse(x);e.attributeState.fontFamily=Tl(e.attributeState,C,e)}var S=wl(r,e.styleSheets,"font-size");if(S){var k=e.pdf.getFontSize();e.attributeState.fontSize=_l(S,k)}var _=wl(r,e.styleSheets,"vertical-align")||wl(r,e.styleSheets,"alignment-baseline");if(_){var B=_.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);B&&(e.attributeState.alignmentBaseline=B[0])}var D=wl(r,e.styleSheets,"text-anchor");D&&(e.attributeState.textAnchor=D)}function $l(e,t,n){var r=1,i=1;r*=e.attributeState.fillOpacity,r*=e.attributeState.opacity,e.attributeState.fill instanceof Zc&&"undefined"!==typeof e.attributeState.fill.color.a&&(r*=e.attributeState.fill.color.a),i*=e.attributeState.strokeOpacity,i*=e.attributeState.opacity,e.attributeState.stroke instanceof Zc&&"undefined"!==typeof e.attributeState.stroke.color.a&&(i*=e.attributeState.stroke.color.a);var o,a,s=r<1,u=i<1;if(yl(n,"use")?(s=!0,u=!0,r*=e.attributeState.fill?1:0,i*=e.attributeState.stroke?1:0):e.withinUse&&(e.attributeState.fill!==t.attributeState.fill?(s=!0,r*=e.attributeState.fill?1:0):s&&!e.attributeState.fill&&(r=0),e.attributeState.stroke!==t.attributeState.stroke?(u=!0,i*=e.attributeState.stroke?1:0):u&&!e.attributeState.stroke&&(i=0)),s||u){var c={};s&&(c["opacity"]=r),u&&(c["stroke-opacity"]=i),e.pdf.setGState(new Ka(c))}if(e.attributeState.fill&&e.attributeState.fill!==t.attributeState.fill&&e.attributeState.fill instanceof Zc&&e.attributeState.fill.color.ok&&!yl(n,"text")&&e.pdf.setFillColor(e.attributeState.fill.color.r,e.attributeState.fill.color.g,e.attributeState.fill.color.b),e.attributeState.strokeWidth!==t.attributeState.strokeWidth&&e.pdf.setLineWidth(e.attributeState.strokeWidth),e.attributeState.stroke!==t.attributeState.stroke&&e.attributeState.stroke instanceof Zc&&e.pdf.setDrawColor(e.attributeState.stroke.color.r,e.attributeState.stroke.color.g,e.attributeState.stroke.color.b),e.attributeState.strokeLinecap!==t.attributeState.strokeLinecap&&e.pdf.setLineCap(e.attributeState.strokeLinecap),e.attributeState.strokeLinejoin!==t.attributeState.strokeLinejoin&&e.pdf.setLineJoin(e.attributeState.strokeLinejoin),e.attributeState.strokeDasharray===t.attributeState.strokeDasharray&&e.attributeState.strokeDashoffset===t.attributeState.strokeDashoffset||!e.attributeState.strokeDasharray||e.pdf.setLineDashPattern(e.attributeState.strokeDasharray,e.attributeState.strokeDashoffset),e.attributeState.strokeMiterlimit!==t.attributeState.strokeMiterlimit&&e.pdf.setLineMiterLimit(e.attributeState.strokeMiterlimit),e.attributeState.fontFamily!==t.attributeState.fontFamily&&(o=El.hasOwnProperty(e.attributeState.fontFamily)?El[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.attributeState.fill&&e.attributeState.fill!==t.attributeState.fill&&e.attributeState.fill instanceof Zc&&e.attributeState.fill.color.ok){var l=e.attributeState.fill.color;e.pdf.setTextColor(l.r,l.g,l.b)}e.attributeState.fontWeight===t.attributeState.fontWeight&&e.attributeState.fontStyle===t.attributeState.fontStyle||(a=Ol(e.attributeState.fontStyle,e.attributeState.fontWeight)),void 0===o&&void 0===a||(void 0===o&&(o=El.hasOwnProperty(e.attributeState.fontFamily)?El[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.pdf.setFont(o,a)),e.attributeState.fontSize!==t.attributeState.fontSize&&e.pdf.setFontSize(e.attributeState.fontSize*e.pdf.internal.scaleFactor)}function Xl(e){var t=e.attributeState,n=e.pdf,r=1,i=1;r*=t.fillOpacity,r*=t.opacity,t.fill instanceof Zc&&"undefined"!==typeof t.fill.color.a&&(r*=t.fill.color.a),i*=t.strokeOpacity,i*=t.opacity,t.stroke instanceof Zc&&"undefined"!==typeof t.stroke.color.a&&(i*=t.stroke.color.a);var o,a={};if(a["opacity"]=r,a["stroke-opacity"]=i,n.setGState(new Ka(a)),t.fill&&t.fill instanceof Zc&&t.fill.color.ok?n.setFillColor(t.fill.color.r,t.fill.color.g,t.fill.color.b):n.setFillColor(0,0,0),n.setLineWidth(t.strokeWidth),t.stroke instanceof Zc?n.setDrawColor(t.stroke.color.r,t.stroke.color.g,t.stroke.color.b):n.setDrawColor(0,0,0),n.setLineCap(t.strokeLinecap),n.setLineJoin(t.strokeLinejoin),t.strokeDasharray?n.setLineDashPattern(t.strokeDasharray,t.strokeDashoffset):n.setLineDashPattern([],0),n.setLineMiterLimit(t.strokeMiterlimit),o=El.hasOwnProperty(t.fontFamily)?El[t.fontFamily]:t.fontFamily,t.fill&&t.fill instanceof Zc&&t.fill.color.ok){var s=t.fill.color;n.setTextColor(s.r,s.g,s.b)}else n.setTextColor(0,0,0);var u="";"bold"===t.fontWeight&&(u="bold"),"italic"===t.fontStyle&&(u+="italic"),""===u&&(u="normal"),void 0!==o||void 0!==u?(void 0===o&&(o=El.hasOwnProperty(t.fontFamily)?El[t.fontFamily]:t.fontFamily),n.setFont(o,u)):n.setFont("helvetica",u),n.setFontSize(t.fontSize*n.internal.scaleFactor)}function Yl(e,t,n){var r=tl.exec(e);if(r){var i=r[1],o=n.refsHandler.get(i);return o||void 0}}function Jl(e,t,n){return Xc(this,void 0,void 0,(function(){var r,i;return Yc(this,(function(o){switch(o.label){case 0:return r=n.clone(),t.element.hasAttribute("clipPathUnits")&&"objectboundingbox"===t.element.getAttribute("clipPathUnits").toLowerCase()&&(i=e.getBoundingBox(n),r.transform=n.pdf.matrixMult(n.pdf.Matrix(i[2],0,0,i[3],i[0],i[1]),n.transform)),[4,t.apply(r)];case 1:return o.sent(),[2]}}))}))}var Zl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.render=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i;return Yc(this,(function(o){switch(o.label){case 0:return this.isVisible("hidden"!==e.attributeState.visibility,e)?(t=e.clone(),t.transform=t.pdf.matrixMult(this.computeNodeTransform(t),e.transform),Wl(t,this),n=wl(this.element,t.styleSheets,"clip-path"),r=n&&"none"!==n,r?(i=Yl(n,this,t),i?i.isVisible(!0,t)?(t.pdf.saveGraphicsState(),[4,Jl(this,i,t)]):[3,2]:[3,4]):[3,5]):[2];case 1:return o.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:r=!1,o.label=5;case 5:return t.withinClipPath||t.pdf.saveGraphicsState(),$l(t,e,this.element),[4,this.renderCore(t)];case 6:return o.sent(),t.withinClipPath||t.pdf.restoreGraphicsState(),r&&t.pdf.restoreGraphicsState(),[2]}}))}))},t}(Ul),ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t}(Zl),td=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.cachedPath=null,i.hasMarkers=t,i}return Wc(t,e),t.prototype.renderCore=function(e){return Xc(this,void 0,void 0,(function(){var t;return Yc(this,(function(n){switch(n.label){case 0:return t=this.getCachedPath(e),null===t||0===t.segments.length?[2]:(e.withinClipPath?t.transform(e.transform):e.pdf.setCurrentTransformationMatrix(e.transform),t.draw(e),[4,this.fillOrStroke(e)]);case 1:return n.sent(),this.hasMarkers?[4,this.drawMarkers(e,t)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.getCachedPath=function(e){return this.cachedPath||(this.cachedPath=this.getPath(e))},t.prototype.drawMarkers=function(e,t){return Xc(this,void 0,void 0,(function(){var n;return Yc(this,(function(r){switch(r.label){case 0:return n=this.getMarkers(t,e),[4,n.draw(e.clone({transform:e.pdf.unitMatrix}))];case 1:return r.sent(),[2]}}))}))},t.prototype.fillOrStroke=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o;return Yc(this,(function(a){switch(a.label){case 0:return e.withinClipPath?[2]:(t=e.attributeState.fill,n=e.attributeState.stroke&&0!==e.attributeState.strokeWidth,t?[4,t.getFillData(this,e)]:[3,2]);case 1:return i=a.sent(),[3,3];case 2:i=void 0,a.label=3;case 3:return r=i,o="evenodd"===wl(this.element,e.styleSheets,"fill-rule"),t&&n||e.withinUse?o?e.pdf.fillStrokeEvenOdd(r):e.pdf.fillStroke(r):t?o?e.pdf.fillEvenOdd(r):e.pdf.fill(r):n?e.pdf.stroke():e.pdf.discardPath(),[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){var t=this.getCachedPath(e);if(!t)return[0,0,0,0];for(var n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=0,s=0,u=0;u<t.segments.length;u++){var c=t.segments[u];(c instanceof pl||c instanceof ml||c instanceof gl)&&(a=c.x,s=c.y),c instanceof gl?(n=Math.min(n,a,c.x1,c.x2,c.x),i=Math.max(i,a,c.x1,c.x2,c.x),r=Math.min(r,s,c.y1,c.y2,c.y),o=Math.max(o,s,c.y1,c.y2,c.y)):(n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,s),o=Math.max(o,s))}return[n,r,i-n,o-r]},t.prototype.getMarkers=function(e,t){var n=wl(this.element,t.styleSheets,"marker-start"),r=wl(this.element,t.styleSheets,"marker-mid"),i=wl(this.element,t.styleSheets,"marker-end"),o=new Sl;if(n||r||i){i&&(i=nd(i)),n&&(n=nd(n)),r&&(r=nd(r));for(var a=e.segments,s=[1,0],u=void 0,c=!1,l=[1,0],d=!1,f=function(e){var t=a[e],f=n&&(1===e||!(a[e]instanceof pl)&&a[e-1]instanceof pl);f&&a.forEach((function(t,n){if(!d&&t instanceof vl&&n>e){var r=a[n-1];d=(r instanceof pl||r instanceof ml||r instanceof gl)&&r}}));var A=i&&(e===a.length-1||!(a[e]instanceof pl)&&a[e+1]instanceof pl),h=r&&e>0&&!(1===e&&a[e-1]instanceof pl),p=a[e-1]||null;if(p instanceof pl||p instanceof ml||p instanceof gl){if(t instanceof gl)f&&o.addMarker(new kl(n,[p.x,p.y],sl(d?[d.x,d.y]:[p.x,p.y],[t.x1,t.y1]))),A&&o.addMarker(new kl(i,[t.x,t.y],sl([t.x2,t.y2],[t.x,t.y]))),h&&(u=dl([p.x,p.y],[t.x1,t.y1]),u=p instanceof pl?u:ll(fl(s,u)),o.addMarker(new kl(r,[p.x,p.y],Math.atan2(u[1],u[0])))),s=dl([t.x2,t.y2],[t.x,t.y]);else if(t instanceof pl||t instanceof ml){if(u=dl([p.x,p.y],[t.x,t.y]),f){var m=d?dl([d.x,d.y],[t.x,t.y]):u;o.addMarker(new kl(n,[p.x,p.y],Math.atan2(m[1],m[0])))}if(A&&o.addMarker(new kl(i,[t.x,t.y],Math.atan2(u[1],u[0]))),h){m=t instanceof pl?s:p instanceof pl?u:ll(fl(s,u));o.addMarker(new kl(r,[p.x,p.y],Math.atan2(m[1],m[0])))}s=u}else if(t instanceof vl){if(u=dl([p.x,p.y],[c.x,c.y]),h){m=p instanceof pl?u:ll(fl(s,u));o.addMarker(new kl(r,[p.x,p.y],Math.atan2(m[1],m[0])))}if(A){m=ll(fl(u,l));o.addMarker(new kl(i,[c.x,c.y],Math.atan2(m[1],m[0])))}s=u}}else{c=t instanceof pl&&t;var g=a[e+1];(g instanceof pl||g instanceof ml||g instanceof gl)&&(l=dl([c.x,c.y],[g.x,g.y]))}},A=0;A<a.length;A++)f(A)}return o},t}(ed);function nd(e){var t=tl.exec(e);return t&&t[1]||void 0}var rd=function(e){function t(t,n){return e.call(this,!0,t,n)||this}return Wc(t,e),t.prototype.getPath=function(e){if(e.withinClipPath||null===e.attributeState.stroke)return null;var t=parseFloat(this.element.getAttribute("x1")||"0"),n=parseFloat(this.element.getAttribute("y1")||"0"),r=parseFloat(this.element.getAttribute("x2")||"0"),i=parseFloat(this.element.getAttribute("y2")||"0");return t||r||n||i?(new hl).moveTo(t,n).lineTo(r,i):null},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t.prototype.fillOrStroke=function(t){return Xc(this,void 0,void 0,(function(){return Yc(this,(function(n){switch(n.label){case 0:return t.attributeState.fill=null,[4,e.prototype.fillOrStroke.call(this,t)];case 1:return n.sent(),[2]}}))}))},t}(td),id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.apply=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Yc(this,(function(u){switch(u.label){case 0:return this.isVisible("hidden"!==e.attributeState.visibility,e)?(t=e.clone(),t.transform=t.pdf.unitMatrix,Wl(t,this),n=wl(this.element,t.styleSheets,"clip-path"),r=n&&"none"!==n,r?(i=Yl(n,this,t),i?i.isVisible(!0,t)?[4,Jl(this,i,t)]:[3,2]:[3,3]):[3,3]):[2];case 1:return u.sent(),[3,3];case 2:return[2];case 3:$l(t,e,this.element),o=0,a=this.children,u.label=4;case 4:return o<a.length?(s=a[o],[4,s.render(t)]):[3,7];case 5:u.sent(),u.label=6;case 6:return o++,[3,4];case 7:return[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Ll(e,this)},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t.prototype.computeNodeTransformCore=function(e){var t=parseFloat(wl(this.element,e.styleSheets,"x")||"0"),n=parseFloat(wl(this.element,e.styleSheets,"y")||"0"),r=this.element.getAttribute("viewBox");if(r){var i=Dl(r),o=parseFloat(wl(this.element,e.styleSheets,"width")||wl(this.element.ownerSVGElement,e.styleSheets,"width")||r[2]),a=parseFloat(wl(this.element,e.styleSheets,"height")||wl(this.element.ownerSVGElement,e.styleSheets,"height")||r[3]);return Pl(this.element,i,t,n,o,a,e)}return e.pdf.Matrix(1,0,0,1,t,n)},t}(Hl),od=function(){function e(e,t){this.width=e,this.height=t}return e}(),ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.renderCore=function(e){return Xc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,d,f,A,h;return Yc(this,(function(p){switch(p.label){case 0:return n=parseFloat,r=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"),r?(i=r.substring(1),o=e.refsHandler.get(i),a=yl(o.element,"symbol,svg")&&o.element.hasAttribute("viewBox"),s=n(wl(this.element,e.styleSheets,"x")||"0"),u=n(wl(this.element,e.styleSheets,"y")||"0"),c=void 0,l=void 0,a?(c=n(wl(this.element,e.styleSheets,"width")||wl(o.element,e.styleSheets,"width")||"0"),l=n(wl(this.element,e.styleSheets,"height")||wl(o.element,e.styleSheets,"height")||"0"),s+=n(wl(o.element,e.styleSheets,"x")||"0"),u+=n(wl(o.element,e.styleSheets,"y")||"0"),f=Dl(o.element.getAttribute("viewBox")),d=Pl(o.element,f,s,u,c,l,e)):d=e.pdf.Matrix(1,0,0,1,s,u),A=new ol(e.pdf,{refsHandler:e.refsHandler,styleSheets:e.styleSheets,withinUse:!0,viewport:a?new od(c,l):e.viewport,svg2pdfParameters:e.svg2pdfParameters}),h=e.attributeState.color,[4,e.refsHandler.getRendered(i,h,(function(e){return t.renderReferencedNode(e,i,h,A)}))]):[2];case 1:return p.sent(),e.pdf.saveGraphicsState(),e.pdf.setCurrentTransformationMatrix(e.transform),a&&"visible"!==wl(o.element,e.styleSheets,"overflow")&&(e.pdf.rect(s,u,c,l),e.pdf.clip().discardPath()),e.pdf.doFormObject(e.refsHandler.generateKey(i,h),d),e.pdf.restoreGraphicsState(),[2]}}))}))},t.renderReferencedNode=function(e,t,n,r){return Xc(this,void 0,void 0,(function(){var i;return Yc(this,(function(o){switch(o.label){case 0:return i=e.getBoundingBox(r),i=[i[0]-.5*i[2],i[1]-.5*i[3],2*i[2],2*i[3]],r.attributeState.color=n,r.pdf.beginFormObject(i[0],i[1],i[2],i[3],r.pdf.unitMatrix),e instanceof id?[4,e.apply(r)]:[3,2];case 1:return o.sent(),[3,4];case 2:return[4,e.render(r)];case 3:o.sent(),o.label=4;case 4:return r.pdf.endFormObject(r.refsHandler.generateKey(t,n)),[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Fl(this.element,e)},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t}(ed),sd=function(e){function t(t,n){return e.call(this,!1,t,n)||this}return Wc(t,e),t.prototype.getPath=function(e){var t=parseFloat(wl(this.element,e.styleSheets,"width")||"0"),n=parseFloat(wl(this.element,e.styleSheets,"height")||"0");if(!isFinite(t)||t<=0||!isFinite(n)||n<=0)return null;var r=wl(this.element,e.styleSheets,"rx"),i=wl(this.element,e.styleSheets,"ry"),o=Math.min(parseFloat(r||i||"0"),.5*t),a=Math.min(parseFloat(i||r||"0"),.5*n),s=parseFloat(wl(this.element,e.styleSheets,"x")||"0"),u=parseFloat(wl(this.element,e.styleSheets,"y")||"0"),c=4/3*(Math.SQRT2-1);return 0===o&&0===a?(new hl).moveTo(s,u).lineTo(s+t,u).lineTo(s+t,u+n).lineTo(s,u+n).close():(new hl).moveTo(s+=o,u).lineTo(s+=t-2*o,u).curveTo(s+o*c,u,s+o,u+(a-a*c),s+=o,u+=a).lineTo(s,u+=n-2*a).curveTo(s,u+a*c,s-o*c,u+a,s-=o,u+=a).lineTo(s+=2*o-t,u).curveTo(s-o*c,u,s-o,u-a*c,s-=o,u-=a).lineTo(s,u+=2*a-n).curveTo(s,u-a*c,s+o*c,u-a,s+=o,u-=a).close()},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t}(td),ud=function(e){function t(t,n){return e.call(this,!1,t,n)||this}return Wc(t,e),t.prototype.getPath=function(e){var t=this.getRx(e),n=this.getRy(e);if(!isFinite(t)||n<=0||!isFinite(n)||n<=0)return null;var r=parseFloat(wl(this.element,e.styleSheets,"cx")||"0"),i=parseFloat(wl(this.element,e.styleSheets,"cy")||"0"),o=4/3*(Math.SQRT2-1)*t,a=4/3*(Math.SQRT2-1)*n;return(new hl).moveTo(r+t,i).curveTo(r+t,i-a,r+o,i-n,r,i-n).curveTo(r-o,i-n,r-t,i-a,r-t,i).curveTo(r-t,i+a,r-o,i+n,r,i+n).curveTo(r+o,i+n,r+t,i+a,r+t,i)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t}(td),cd=function(e){function t(t,n){return e.call(this,t,n)||this}return Wc(t,e),t.prototype.getRx=function(e){return parseFloat(wl(this.element,e.styleSheets,"rx")||"0")},t.prototype.getRy=function(e){return parseFloat(wl(this.element,e.styleSheets,"ry")||"0")},t}(ud);function ld(e){var t="invisible";return e.fill&&e.stroke?t="fillThenStroke":e.fill?t="fill":e.stroke&&(t="stroke"),t}function dd(e,t){return e=fd(e),e=Ad(e),"default"===t.xmlSpace&&(e=e.trim(),e=hd(e)),e}function fd(e){return e.replace(/[\n\r]/g,"")}function Ad(e){return e.replace(/[\t]/g," ")}function hd(e){return e.replace(/ +/g," ")}function pd(e,t,n){var r=wl(e,n.styleSheets,"text-transform");switch(r){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();default:return t}}function md(e){return e.replace(/^\s+/,"")}function gd(e){return e.replace(/\s+$/,"")}var vd=function(){function e(e,t,n,r){this.textNode=e,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=t,this.originX=n,this.originY=r,this.textMeasures=[]}return e.prototype.setX=function(e){this.originX=e},e.prototype.setY=function(e){this.originY=e},e.prototype.add=function(e,t,n){this.texts.push(t),this.textNodes.push(e),this.contexts.push(n)},e.prototype.rightTrimText=function(){for(var e=this.texts.length-1;e>=0;e--)if("default"===this.contexts[e].attributeState.xmlSpace&&(this.texts[e]=gd(this.texts[e])),this.texts[e].match(/[^\s]/))return!1;return!0},e.prototype.measureText=function(e){for(var t=0;t<this.texts.length;t++)this.textMeasures.push({width:e.textMeasure.measureTextWidth(this.texts[t],this.contexts[t].attributeState),length:this.texts[t].length})},e.prototype.put=function(e,t){var n,r,i,o,a=[],s=[],u=[],c=this.originX,l=this.originY,d=c,f=c;for(n=0;n<this.textNodes.length;n++){r=this.textNodes[n],i=this.contexts[n],o=this.textMeasures[n]||{width:e.textMeasure.measureTextWidth(this.texts[n],this.contexts[n].attributeState),length:this.texts[n].length};var A=c,h=l;if("#text"!==r.nodeName&&!a.includes(r)){a.push(r);var p=r.getAttribute("dx");null!==p&&(A+=_l(p,i.attributeState.fontSize));var m=r.getAttribute("dy");null!==m&&(h+=_l(m,i.attributeState.fontSize))}s[n]=A,u[n]=h,c=A+o.width+o.length*t,l=h,d=Math.min(d,A),f=Math.max(f,c)}var g=0;switch(this.textAnchor){case"start":g=0;break;case"middle":g=(f-d)/2;break;case"end":g=f-d;break}for(n=0;n<this.textNodes.length;n++)if(r=this.textNodes[n],i=this.contexts[n],"#text"===r.nodeName||"hidden"!==i.attributeState.visibility){e.pdf.saveGraphicsState(),$l(i,e,r);var v=i.attributeState.alignmentBaseline,y=ld(i.attributeState);e.pdf.text(this.texts[n],s[n]-g,u[n],{baseline:Bl(v),angle:e.transform,renderingMode:"fill"===y?void 0:y,charSpace:0===t?void 0:t}),e.pdf.restoreGraphicsState()}return[c,l]},e}(),yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.processTSpans=function(e,t,n,r,i,o){for(var a=n.pdf.getFontSize(),s=n.attributeState.xmlSpace,u=!0,c=!1,l=0;l<t.childNodes.length;l++){var d=t.childNodes[l];if(d.textContent){var f=d.textContent;if("#text"===d.nodeName){var A=fd(f);A=Ad(A),"default"===s&&(A=hd(A),u&&A.match(/^\s/)&&(c=!0),A.match(/[^\s]/)&&(u=!1),o.prevText.match(/\s$/)&&(A=md(A)));var h=pd(t,A,n);i.add(t,h,n),o.prevText=f,o.prevContext=n}else if(yl(d,"title"));else if(yl(d,"tspan")){var p=d,m=p.getAttribute("x");if(null!==m){var g=_l(m,a);i=new vd(this,wl(p,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,g,0),r.push({type:"y",chunk:i})}var v=p.getAttribute("y");if(null!==v){var y=_l(v,a);i=new vd(this,wl(p,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,0,y),r.push({type:"x",chunk:i})}var b=n.clone();Wl(b,e,p),this.processTSpans(e,p,b,r,i,o)}}}return c},t.prototype.renderCore=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,d,f,A,h,p,m,g,v,y,b,w,x,C,S;return Yc(this,(function(k){if(e.pdf.saveGraphicsState(),t=0,n=0,r=1,i=e.pdf.getFontSize(),o=_l(this.element.getAttribute("x"),i),a=_l(this.element.getAttribute("y"),i),s=_l(this.element.getAttribute("dx"),i),u=_l(this.element.getAttribute("dy"),i),c=parseFloat(this.element.getAttribute("textLength")||"0"),l=e.attributeState.visibility,d=this.element.childElementCount,0===d)f=this.element.textContent||"",A=dd(f,e.attributeState),h=pd(this.element,A,e),t=e.textMeasure.getTextOffset(h,e.attributeState),c>0&&(p=e.textMeasure.measureTextWidth(h,e.attributeState),"default"===e.attributeState.xmlSpace&&f.match(/^\s/)&&(r=0),n=(c-p)/(h.length-r)||0),"visible"===l&&(m=e.attributeState.alignmentBaseline,g=ld(e.attributeState),e.pdf.text(h,o+s-t,a+u,{baseline:Bl(m),angle:e.transform,renderingMode:"fill"===g?void 0:g,charSpace:0===n?void 0:n}));else{for(v=[],y=new vd(this,e.attributeState.textAnchor,o+s,a+u),v.push({type:"",chunk:y}),b=this.processTSpans(this,this.element,e,v,y,{prevText:" ",prevContext:e}),r=b?0:1,w=!0,x=v.length-1;x>=0;x--)w&&(w=v[x].chunk.rightTrimText());c>0&&(C=0,S=0,v.forEach((function(t){var n=t.chunk;n.measureText(e),n.textMeasures.forEach((function(e){var t=e.width,n=e.length;C+=t,S+=n}))})),n=(c-C)/(S-r)),v.reduce((function(t,r){var i=r.type,o=r.chunk;return"x"===i?o.setX(t[0]):"y"===i&&o.setY(t[1]),o.put(e,n)}),[0,0])}return e.pdf.restoreGraphicsState(),[2]}))}))},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t.prototype.getBoundingBoxCore=function(e){return Fl(this.element,e)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t}(ed),bd=function(e){function t(t,n){return e.call(this,!0,t,n)||this}return Wc(t,e),t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t.prototype.getPath=function(e){var t,n,r=new zc(wl(this.element,e.styleSheets,"d")||"").unshort().unarc().abs(),i=new hl;return r.iterate((function(e){switch(e[0]){case"M":i.moveTo(e[1],e[2]);break;case"L":i.lineTo(e[1],e[2]);break;case"H":i.lineTo(e[1],n);break;case"V":i.lineTo(t,e[1]);break;case"C":i.curveTo(e[1],e[2],e[3],e[4],e[5],e[6]);break;case"Q":var r=cl([t,n],[e[1],e[2]]),o=cl([e[3],e[4]],[e[1],e[2]]);i.curveTo(r[0],r[1],o[0],o[1],e[3],e[4]);break;case"Z":i.close();break}switch(e[0]){case"M":case"L":t=e[1],n=e[2];break;case"H":t=e[1];break;case"V":n=e[1];break;case"C":t=e[5],n=e[6];break;case"Q":t=e[3],n=e[4];break}})),i},t}(td),wd=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,xd=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.imageLoadingPromise=null,i.imageUrl=i.element.getAttribute("xlink:href")||i.element.getAttribute("href"),i.imageUrl&&(i.imageLoadingPromise=t.fetchImageData(i.imageUrl)),i}return Wc(t,e),t.prototype.renderCore=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,d,f,A;return Yc(this,(function(h){switch(h.label){case 0:return this.imageLoadingPromise?(e.pdf.setCurrentTransformationMatrix(e.transform),t=parseFloat(wl(this.element,e.styleSheets,"width")||"0"),n=parseFloat(wl(this.element,e.styleSheets,"height")||"0"),r=parseFloat(wl(this.element,e.styleSheets,"x")||"0"),i=parseFloat(wl(this.element,e.styleSheets,"y")||"0"),!isFinite(t)||t<=0||!isFinite(n)||n<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return o=h.sent(),a=o.data,s=o.format,0!==s.indexOf("svg")?[3,3]:(u=new DOMParser,c=u.parseFromString(a,"image/svg+xml").firstElementChild,l=this.element.getAttribute("preserveAspectRatio"),(!l||l.indexOf("defer")<0||!c.getAttribute("preserveAspectRatio"))&&c.setAttribute("preserveAspectRatio",l||""),c.setAttribute("x",String(r)),c.setAttribute("y",String(i)),c.setAttribute("width",String(t)),c.setAttribute("height",String(n)),d={},f=Od(c,d),[4,f.render(new ol(e.pdf,{refsHandler:new al(d),styleSheets:e.styleSheets,viewport:new od(t,n),svg2pdfParameters:e.svg2pdfParameters}))]);case 2:return h.sent(),[2];case 3:A="data:image/"+s+";base64,"+btoa(a);try{e.pdf.addImage(A,"",r,i,t,n)}catch(KE){"object"===("undefined"===typeof console?"undefined":m(console))&&console.warn&&console.warn("Could not load image "+this.imageUrl+".\n"+KE)}h.label=4;case 4:return[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Fl(this.element,e)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t.fetchImageData=function(e){return Xc(this,void 0,void 0,(function(){var n,r,i,o,a;return Yc(this,(function(s){switch(s.label){case 0:if(i=e.match(wd),!i)return[3,1];if(o=i[2],a=o.split("/"),"image"!==a[0])throw new Error("Unsupported image URL: "+e);return r=a[1],n=i[5],n="base64"===i[4]?atob(n):decodeURIComponent(n),[3,3];case 1:return[4,t.fetchImage(e)];case 2:n=s.sent(),r=e.substring(e.lastIndexOf(".")+1),s.label=3;case 3:return[2,{data:n,format:r}]}}))}))},t.fetchImage=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200!==r.status)throw new Error("Error "+r.status+": Failed to load image '"+e+"'");for(var n=new Uint8Array(r.response),i="",o=0;o<n.length;o++)i+=String.fromCharCode(n[o]);t(i)},r.onerror=n,r.onabort=n,r.send(null)}))},t.getMimeType=function(e){switch(e=e.toLowerCase(),e){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+e}},t}(ed),Cd=function(e){function t(t,n,r){var i=e.call(this,!0,n,r)||this;return i.closed=t,i}return Wc(t,e),t.prototype.getPath=function(e){if(!this.element.hasAttribute("points")||""===this.element.getAttribute("points"))return null;var n=t.parsePointsString(this.element.getAttribute("points")),r=new hl;if(n.length<1)return r;r.moveTo(n[0][0],n[0][1]);for(var i=1;i<n.length;i++)r.lineTo(n[i][0],n[i][1]);return this.closed&&r.close(),r},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.parsePointsString=function(e){for(var t=Dl(e),n=[],r=0;r<t.length-1;r+=2){var i=t[r],o=t[r+1];n.push([i,o])}return n},t}(td),Sd=function(e){function t(t,n){return e.call(this,!0,t,n)||this}return Wc(t,e),t}(Cd),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.render=function(e){return Promise.resolve()},t.prototype.getBoundingBoxCore=function(e){return[0,0,0,0]},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t.prototype.isVisible=function(e,t){return xl(this,e,t)},t}(Ul),_d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.apply=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Yc(this,(function(s){switch(s.label){case 0:t=this.computeNodeTransform(e),n=this.getBoundingBox(e),e.pdf.beginFormObject(n[0],n[1],n[2],n[3],t),r=new ol(e.pdf,{refsHandler:e.refsHandler,styleSheets:e.styleSheets,viewport:e.viewport,svg2pdfParameters:e.svg2pdfParameters}),Xl(r),i=0,o=this.children,s.label=1;case 1:return i<o.length?(a=o[i],[4,a.render(r)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return e.pdf.endFormObject(this.element.getAttribute("id")),[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){var t,n=this.element.getAttribute("viewBox");return n&&(t=Dl(n)),[t&&t[0]||0,t&&t[1]||0,t&&t[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),t&&t[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},t.prototype.computeNodeTransformCore=function(e){var t,n=parseFloat(this.element.getAttribute("refX")||"0"),r=parseFloat(this.element.getAttribute("refY")||"0"),i=this.element.getAttribute("viewBox");if(i){var o=Dl(i);t=Pl(this.element,o,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),e,!0),t=e.pdf.matrixMult(e.pdf.Matrix(1,0,0,1,-n,-r),t)}else t=e.pdf.Matrix(1,0,0,1,-n,-r);return t},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t}(Hl),Bd=function(e){function t(t,n){return e.call(this,t,n)||this}return Wc(t,e),t.prototype.getR=function(e){var t;return null!==(t=this.r)&&void 0!==t?t:this.r=parseFloat(wl(this.element,e.styleSheets,"r")||"0")},t.prototype.getRx=function(e){return this.getR(e)},t.prototype.getRy=function(e){return this.getR(e)},t}(ud),Dd=function(e){function t(t,n){return e.call(this,!1,t,n)||this}return Wc(t,e),t}(Cd),Md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.renderCore=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r;return Yc(this,(function(i){switch(i.label){case 0:t=0,n=this.children,i.label=1;case 1:return t<n.length?(r=n[t],[4,r.render(e)]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Ll(e,this)},t}(Zl),Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t.prototype.render=function(t){return Xc(this,void 0,void 0,(function(){var n,r,i,o,a;return Yc(this,(function(s){switch(s.label){case 0:return this.isVisible("hidden"!==t.attributeState.visibility,t)?(n=this.getX(t),r=this.getY(t),i=this.getWidth(t),o=this.getHeight(t),t.pdf.saveGraphicsState(),a=t.transform,this.element.hasAttribute("transform")&&(a=t.pdf.matrixMult(Nl(this.element.getAttribute("transform"),t),a)),t.pdf.setCurrentTransformationMatrix(a),t.withinUse||"visible"===wl(this.element,t.styleSheets,"overflow")||t.pdf.rect(n,r,i,o).clip().discardPath(),[4,e.prototype.render.call(this,t.clone({transform:t.pdf.unitMatrix,viewport:t.withinUse?t.viewport:new od(i,o)}))]):[2];case 1:return s.sent(),t.pdf.restoreGraphicsState(),[2]}}))}))},t.prototype.computeNodeTransform=function(e){return this.computeNodeTransformCore(e)},t.prototype.computeNodeTransformCore=function(e){if(e.withinUse)return e.pdf.unitMatrix;var t,n=this.getX(e),r=this.getY(e),i=this.getViewBox();if(i){var o=this.getWidth(e),a=this.getHeight(e);t=Pl(this.element,i,n,r,o,a,e)}else t=e.pdf.Matrix(1,0,0,1,n,r);return t},t.prototype.getWidth=function(e){if(void 0!==this.width)return this.width;var t,n=e.svg2pdfParameters;if(this.isOutermostSvg(e))if(null!=n.width)t=n.width;else{var r=wl(this.element,e.styleSheets,"width");if(r)t=parseFloat(r);else{var i=this.getViewBox();if(i&&(null!=n.height||wl(this.element,e.styleSheets,"height"))){var o=i[2]/i[3];t=this.getHeight(e)*o}else t=Math.min(300,e.viewport.width,2*e.viewport.height)}}else{r=wl(this.element,e.styleSheets,"width");t=r?parseFloat(r):e.viewport.width}return this.width=t},t.prototype.getHeight=function(e){if(void 0!==this.height)return this.height;var t,n=e.svg2pdfParameters;if(this.isOutermostSvg(e))if(null!=n.height)t=n.height;else{var r=wl(this.element,e.styleSheets,"height");if(r)t=parseFloat(r);else{var i=this.getViewBox();if(i){var o=i[2]/i[3];t=this.getWidth(e)/o}else t=Math.min(150,e.viewport.width/2,e.viewport.height)}}else{r=wl(this.element,e.styleSheets,"height");t=r?parseFloat(r):e.viewport.height}return this.height=t},t.prototype.getX=function(e){if(void 0!==this.x)return this.x;if(this.isOutermostSvg(e))return this.x=0;var t=wl(this.element,e.styleSheets,"x");return this.x=t?parseFloat(t):0},t.prototype.getY=function(e){if(void 0!==this.y)return this.y;if(this.isOutermostSvg(e))return this.y=0;var t=wl(this.element,e.styleSheets,"y");return this.y=t?parseFloat(t):0},t.prototype.getViewBox=function(){if(void 0!==this.viewBox)return this.viewBox;var e=this.element.getAttribute("viewBox");return this.viewBox=e?Dl(e):void 0},t.prototype.isOutermostSvg=function(e){return e.svg2pdfParameters.element===this.element},t}(Md),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t.prototype.computeNodeTransformCore=function(e){return e.pdf.unitMatrix},t}(Md),Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.apply=function(e){return Xc(this,void 0,void 0,(function(){var t,n,r,i;return Yc(this,(function(o){switch(o.label){case 0:if(!this.isVisible(!0,e))return[2];t=e.pdf.matrixMult(this.computeNodeTransform(e),e.transform),e.pdf.setCurrentTransformationMatrix(t),n=0,r=this.children,o.label=1;case 1:return n<r.length?(i=r[n],[4,i.render(new ol(e.pdf,{refsHandler:e.refsHandler,styleSheets:e.styleSheets,viewport:e.viewport,withinClipPath:!0,svg2pdfParameters:e.svg2pdfParameters}))]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return e.pdf.clip().discardPath(),e.pdf.setCurrentTransformationMatrix(t.inversed()),[2]}}))}))},t.prototype.getBoundingBoxCore=function(e){return Ll(e,this)},t.prototype.isVisible=function(e,t){return Cl(this,e,t)},t}(Hl);function Od(e,t){var n,r=[];switch(bl(e,(function(e,n){return r.push(Od(n,t))})),e.tagName.toLowerCase()){case"a":case"g":n=new Td(e,r);break;case"circle":n=new Bd(e,r);break;case"clippath":n=new Id(e,r);break;case"ellipse":n=new cd(e,r);break;case"lineargradient":n=new Vl(e,r);break;case"image":n=new xd(e,r);break;case"line":n=new rd(e,r);break;case"marker":n=new _d(e,r);break;case"path":n=new bd(e,r);break;case"pattern":n=new zl(e,r);break;case"polygon":n=new Sd(e,r);break;case"polyline":n=new Dd(e,r);break;case"radialgradient":n=new Ql(e,r);break;case"rect":n=new sd(e,r);break;case"svg":n=new Ed(e,r);break;case"symbol":n=new id(e,r);break;case"text":n=new yd(e,r);break;case"use":n=new ad(e,r);break;default:n=new kd(e,r);break}if(void 0!=t&&n.element.hasAttribute("id")){var i=Gu(n.element.id,{isIdentifier:!0});t[i]=t[i]||n}return n.children.forEach((function(e){return e.setParent(n)})),n}var Ld=function(){function e(e,t){this.rootSvg=e,this.loadExternalSheets=t,this.styleSheets=[]}return e.prototype.load=function(){return Xc(this,void 0,void 0,(function(){var e;return Yc(this,(function(t){switch(t.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return e=t.sent(),this.parseCssSheets(e),[2]}}))}))},e.prototype.collectStyleSheetTexts=function(){return Xc(this,void 0,void 0,(function(){var t,n,r,i,o;return Yc(this,(function(a){switch(a.label){case 0:if(t=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(i=0;i<this.rootSvg.ownerDocument.childNodes.length;i++)n=this.rootSvg.ownerDocument.childNodes[i],"xml-stylesheet"===n.nodeName&&"string"===typeof n.data&&t.push(e.loadSheet(n.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(r=this.rootSvg.querySelectorAll("style,link"),i=0;i<r.length;i++)o=r[i],yl(o,"style")?t.push(o.textContent):this.loadExternalSheets&&yl(o,"link")&&"stylesheet"===o.getAttribute("rel")&&o.hasAttribute("href")&&t.push(e.loadSheet(o.getAttribute("href")));return[4,Promise.all(t)];case 1:return[2,a.sent().filter((function(e){return null!==e}))]}}))}))},e.prototype.parseCssSheets=function(t){for(var n=document.implementation.createHTMLDocument(""),r=0,i=t;r<i.length;r++){var o=i[r],a=n.createElement("style");a.textContent=o,n.body.appendChild(a);var s=a.sheet;if(s instanceof CSSStyleSheet){for(var u=s.cssRules.length-1;u>=0;u--){var c=s.cssRules[u];if(c instanceof CSSStyleRule){var l=c;if(l.selectorText.indexOf(",")>=0){s.deleteRule(u);for(var d=l.cssText.substring(l.selectorText.length),f=e.splitSelectorAtCommas(l.selectorText),A=0;A<f.length;A++)s.insertRule(f[A]+d,u+A)}}else s.deleteRule(u)}this.styleSheets.push(s)}}},e.splitSelectorAtCommas=function(e){for(var t,n=/,|["']/g,r=/[^\\]["]/g,i=/[^\\][']/g,o=[],a="initial",s=-1,u=r,c=0;c<e.length;)switch(a){case"initial":n.lastIndex=c,t=n.exec(e),t?(","===t[0]?(o.push(e.substring(s+1,n.lastIndex-1).trim()),s=n.lastIndex-1):(a="withinQuotes",u='"'===t[0]?r:i),c=n.lastIndex):(o.push(e.substring(s+1).trim()),c=e.length);break;case"withinQuotes":u.lastIndex=c,t=u.exec(e),t&&(c=u.lastIndex,a="initial");break}return o},e.loadSheet=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="text",r.onload=function(){200!==r.status&&n(new Error("Error "+r.status+": Failed to load '"+e+"'")),t(r.responseText)},r.onerror=n,r.onabort=n,r.send(null)})).catch((function(){return null}))},e.prototype.getPropertyValue=function(e,t){for(var n=[],r=0,i=this.styleSheets;r<i.length;r++)for(var o=i[r],a=0;a<o.cssRules.length;a++){var s=o.cssRules[a];s.style.getPropertyValue(t)&&e.matches(s.selectorText)&&n.push(s)}if(0!==n.length){var u=function(e,n){var r=e.style.getPropertyPriority(t),i=n.style.getPropertyPriority(t);return r!==i?"important"===r?1:-1:Kc(e.selectorText,n.selectorText)},c=n.reduce((function(e,t){return 1===u(e,t)?e:t}));return c.style.getPropertyValue(t)||void 0}},e}();function Fd(e,t,n){var r,i,o;return void 0===n&&(n={}),Xc(this,void 0,void 0,(function(){var a,s,u,c,l,d,f,A,h,p,m;return Yc(this,(function(g){switch(g.label){case 0:return a=null!==(r=n.x)&&void 0!==r?r:0,s=null!==(i=n.y)&&void 0!==i?i:0,u=null!==(o=n.loadExternalStyleSheets)&&void 0!==o&&o,c={},l=new al(c),d=new Ld(e,u),[4,d.load()];case 1:return g.sent(),f=new od(t.internal.pageSize.getWidth(),t.internal.pageSize.getHeight()),A=$c($c({},n),{element:e}),h=new ol(t,{refsHandler:l,styleSheets:d,viewport:f,svg2pdfParameters:A}),t.advancedAPI(),t.saveGraphicsState(),t.setCurrentTransformationMatrix(t.Matrix(1,0,0,1,a,s)),t.setLineWidth(h.attributeState.strokeWidth),p=h.attributeState.fill.color,t.setFillColor(p.r,p.g,p.b),t.setFont(h.attributeState.fontFamily),t.setFontSize(h.attributeState.fontSize*t.internal.scaleFactor),m=Od(e,c),[4,m.render(h)];case 2:return g.sent(),t.restoreGraphicsState(),t.compatAPI(),h.textMeasure.cleanupTextMeasuring(),[2,t]}}))}))}Xa.API.svg=function(e,t){return void 0===t&&(t={}),Fd(e,this,t)};var Pd={exports:{}};
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */(function(e,t){(function(t,n){e.exports=n()})(0,(function(){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
      Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(Kt){o(Kt)}}function s(e){try{u(r["throw"](e))}catch(Kt){o(Kt)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Kt){o=[6,Kt],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},u=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,i)},c=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";var r=[],i=-1,o="";while(++i<n){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),A=0;A<d.length;A++)f[d.charCodeAt(A)]=A;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<h.length;g++)p[h.charCodeAt(g)]=g;for(var v=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],o=p[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},b=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,x=11,C=2,S=x-w,k=65536>>w,_=1<<w,B=_-1,D=1024>>w,M=k+D,E=M,T=32,I=E+T,O=65536>>x,L=1<<S,F=L-1,P=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},N=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},U=function(e,t){var n=v(e),r=Array.isArray(n)?b(n):new Uint32Array(n),i=Array.isArray(n)?y(n):new Uint16Array(n),o=24,a=P(i,o/2,r[4]/2),s=2===r[5]?P(i,(o+r[4])/2):N(r,Math.ceil((o+r[4])/4));return new H(r[0],r[1],r[2],r[3],a,s)},H=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>w],t=(t<<C)+(e&B),this.data[t];if(e<=65535)return t=this.index[k+(e-55296>>w)],t=(t<<C)+(e&B),this.data[t];if(e<this.highStart)return t=I-O+(e>>x),t=this.index[t],t+=e>>w&F,t=this.index[t],t=(t<<C)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Q=0;Q<R.length;Q++)V[R.charCodeAt(Q)]=Q;var j="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",z=50,G=1,K=2,q=3,W=4,$=5,X=7,Y=8,J=9,Z=10,ee=11,te=12,ne=13,re=14,ie=15,oe=16,ae=17,se=18,ue=19,ce=20,le=21,de=22,fe=23,Ae=24,he=25,pe=26,me=27,ge=28,ve=29,ye=30,be=31,we=32,xe=33,Ce=34,Se=35,ke=36,_e=37,Be=38,De=39,Me=40,Ee=41,Te=42,Ie=43,Oe=[9001,65288],Le="!",Fe="×",Pe="÷",Ne=U(j),Ue=[ye,ke],He=[G,K,q,$],Re=[Z,Y],Ve=[me,pe],Qe=He.concat(Re),je=[Be,De,Me,Ce,Se],ze=[ie,ne],Ge=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var a=Ne.get(e);if(a>z?(i.push(!0),a-=z):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(oe);if(a===W||a===ee){if(0===o)return r.push(o),n.push(ye);var s=n[o-1];return-1===Qe.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(ye))}return r.push(o),a===be?n.push("strict"===t?le:_e):a===Te||a===ve?n.push(ye):a===Ie?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(_e):n.push(ye):void n.push(a)})),[r,n,i]},Ke=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i){var o=n;while(o<=r.length){o++;var a=r[o];if(a===t)return!0;if(a!==Z)break}}if(i===Z){o=n;while(o>0){o--;var s=r[o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s){var u=n;while(u<=r.length){u++;a=r[u];if(a===t)return!0;if(a!==Z)break}}if(s!==Z)break}}return!1},qe=function(e,t){var n=e;while(n>=0){var r=t[n];if(r!==Z)return r;n--}return 0},We=function(e,t,n,r,i){if(0===n[r])return Fe;var o=r-1;if(Array.isArray(i)&&!0===i[o])return Fe;var a=o-1,s=o+1,u=t[o],c=a>=0?t[a]:0,l=t[s];if(u===K&&l===q)return Fe;if(-1!==He.indexOf(u))return Le;if(-1!==He.indexOf(l))return Fe;if(-1!==Re.indexOf(l))return Fe;if(qe(o,t)===Y)return Pe;if(Ne.get(e[o])===ee)return Fe;if((u===we||u===xe)&&Ne.get(e[s])===ee)return Fe;if(u===X||l===X)return Fe;if(u===J)return Fe;if(-1===[Z,ne,ie].indexOf(u)&&l===J)return Fe;if(-1!==[ae,se,ue,Ae,ge].indexOf(l))return Fe;if(qe(o,t)===de)return Fe;if(Ke(fe,de,o,t))return Fe;if(Ke([ae,se],le,o,t))return Fe;if(Ke(te,te,o,t))return Fe;if(u===Z)return Pe;if(u===fe||l===fe)return Fe;if(l===oe||u===oe)return Pe;if(-1!==[ne,ie,le].indexOf(l)||u===re)return Fe;if(c===ke&&-1!==ze.indexOf(u))return Fe;if(u===ge&&l===ke)return Fe;if(l===ce)return Fe;if(-1!==Ue.indexOf(l)&&u===he||-1!==Ue.indexOf(u)&&l===he)return Fe;if(u===me&&-1!==[_e,we,xe].indexOf(l)||-1!==[_e,we,xe].indexOf(u)&&l===pe)return Fe;if(-1!==Ue.indexOf(u)&&-1!==Ve.indexOf(l)||-1!==Ve.indexOf(u)&&-1!==Ue.indexOf(l))return Fe;if(-1!==[me,pe].indexOf(u)&&(l===he||-1!==[de,ie].indexOf(l)&&t[s+1]===he)||-1!==[de,ie].indexOf(u)&&l===he||u===he&&-1!==[he,ge,Ae].indexOf(l))return Fe;if(-1!==[he,ge,Ae,ae,se].indexOf(l)){var d=o;while(d>=0){var f=t[d];if(f===he)return Fe;if(-1===[ge,Ae].indexOf(f))break;d--}}if(-1!==[me,pe].indexOf(l)){d=-1!==[ae,se].indexOf(u)?a:o;while(d>=0){f=t[d];if(f===he)return Fe;if(-1===[ge,Ae].indexOf(f))break;d--}}if(Be===u&&-1!==[Be,De,Ce,Se].indexOf(l)||-1!==[De,Ce].indexOf(u)&&-1!==[De,Me].indexOf(l)||-1!==[Me,Se].indexOf(u)&&l===Me)return Fe;if(-1!==je.indexOf(u)&&-1!==[ce,pe].indexOf(l)||-1!==je.indexOf(l)&&u===me)return Fe;if(-1!==Ue.indexOf(u)&&-1!==Ue.indexOf(l))return Fe;if(u===Ae&&-1!==Ue.indexOf(l))return Fe;if(-1!==Ue.concat(he).indexOf(u)&&l===de&&-1===Oe.indexOf(e[s])||-1!==Ue.concat(he).indexOf(l)&&u===se)return Fe;if(u===Ee&&l===Ee){var A=n[o],h=1;while(A>0){if(A--,t[A]!==Ee)break;h++}if(h%2!==0)return Fe}return u===we&&l===xe?Fe:Pe},$e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Ge(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[he,ye,Te].indexOf(e)?_e:e})));var a="keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,a]},Xe=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Le,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ye=function(e,t){var n=c(e),r=$e(n,t),i=r[0],o=r[1],a=r[2],s=n.length,u=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};var e=Fe;while(l<s&&(e=We(n,o,i,++l,a))===Fe);if(e!==Fe||l===s){var t=new Xe(n,e,u,l);return u=l,{value:t,done:!1}}return{done:!0,value:null}}}},Je=1,Ze=2,et=4,tt=8,nt=10,rt=47,it=92,ot=9,at=32,st=34,ut=61,ct=35,lt=36,dt=37,ft=39,At=40,ht=41,pt=95,mt=45,gt=33,vt=60,yt=62,bt=64,wt=91,xt=93,Ct=61,St=123,kt=63,_t=125,Bt=124,Dt=126,Mt=128,Et=65533,Tt=42,It=43,Ot=44,Lt=58,Ft=59,Pt=46,Nt=0,Ut=8,Ht=11,Rt=14,Vt=31,Qt=127,jt=-1,zt=48,Gt=97,Kt=101,qt=102,Wt=117,$t=122,Xt=65,Yt=69,Jt=70,Zt=85,en=90,tn=function(e){return e>=zt&&e<=57},nn=function(e){return e>=55296&&e<=57343},rn=function(e){return tn(e)||e>=Xt&&e<=Jt||e>=Gt&&e<=qt},on=function(e){return e>=Gt&&e<=$t},an=function(e){return e>=Xt&&e<=en},sn=function(e){return on(e)||an(e)},un=function(e){return e>=Mt},cn=function(e){return e===nt||e===ot||e===at},ln=function(e){return sn(e)||un(e)||e===pt},dn=function(e){return ln(e)||tn(e)||e===mt},fn=function(e){return e>=Nt&&e<=Ut||e===Ht||e>=Rt&&e<=Vt||e===Qt},An=function(e,t){return e===it&&t!==nt},hn=function(e,t,n){return e===mt?ln(t)||An(t,n):!!ln(e)||!(e!==it||!An(e,t))},pn=function(e,t,n){return e===It||e===mt?!!tn(t)||t===Pt&&tn(n):tn(e===Pt?t:e)},mn=function(e){var t=0,n=1;e[t]!==It&&e[t]!==mt||(e[t]===mt&&(n=-1),t++);var r=[];while(tn(e[t]))r.push(e[t++]);var i=r.length?parseInt(l.apply(void 0,r),10):0;e[t]===Pt&&t++;var o=[];while(tn(e[t]))o.push(e[t++]);var a=o.length,s=a?parseInt(l.apply(void 0,o),10):0;e[t]!==Yt&&e[t]!==Kt||t++;var u=1;e[t]!==It&&e[t]!==mt||(e[t]===mt&&(u=-1),t++);var c=[];while(tn(e[t]))c.push(e[t++]);var d=c.length?parseInt(l.apply(void 0,c),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,u*d)},gn={type:2},vn={type:3},yn={type:4},bn={type:13},wn={type:8},xn={type:21},Cn={type:9},Sn={type:10},kn={type:11},_n={type:12},Bn={type:14},Dn={type:23},Mn={type:1},En={type:25},Tn={type:24},In={type:26},On={type:27},Ln={type:28},Fn={type:29},Pn={type:31},Nn={type:32},Un=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){var e=[],t=this.consumeToken();while(t!==Nn)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case st:return this.consumeStringToken(st);case ct:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(dn(t)||An(n,r)){var i=hn(t,n,r)?Ze:Je,o=this.consumeName();return{type:5,value:o,flags:i}}break;case lt:if(this.peekCodePoint(0)===ut)return this.consumeCodePoint(),bn;break;case ft:return this.consumeStringToken(ft);case At:return gn;case ht:return vn;case Tt:if(this.peekCodePoint(0)===ut)return this.consumeCodePoint(),Bn;break;case It:if(pn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ot:return yn;case mt:var a=e,s=this.peekCodePoint(0),u=this.peekCodePoint(1);if(pn(a,s,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(hn(a,s,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===mt&&u===yt)return this.consumeCodePoint(),this.consumeCodePoint(),Tn;break;case Pt:if(pn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rt:if(this.peekCodePoint(0)===Tt){this.consumeCodePoint();while(1){var c=this.consumeCodePoint();if(c===Tt&&(c=this.consumeCodePoint(),c===rt))return this.consumeToken();if(c===jt)return this.consumeToken()}}break;case Lt:return In;case Ft:return On;case vt:if(this.peekCodePoint(0)===gt&&this.peekCodePoint(1)===mt&&this.peekCodePoint(2)===mt)return this.consumeCodePoint(),this.consumeCodePoint(),En;break;case bt:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),A=this.peekCodePoint(2);if(hn(d,f,A)){o=this.consumeName();return{type:7,value:o}}break;case wt:return Ln;case it:if(An(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case xt:return Fn;case Ct:if(this.peekCodePoint(0)===ut)return this.consumeCodePoint(),wn;break;case St:return kn;case _t:return _n;case Wt:case Zt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==It||!rn(p)&&p!==kt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Bt:if(this.peekCodePoint(0)===ut)return this.consumeCodePoint(),Cn;if(this.peekCodePoint(0)===Bt)return this.consumeCodePoint(),xn;break;case Dt:if(this.peekCodePoint(0)===ut)return this.consumeCodePoint(),Sn;break;case jt:return Nn}return cn(e)?(this.consumeWhiteSpace(),Pn):tn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ln(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){var e=[],t=this.consumeCodePoint();while(rn(t)&&e.length<6)e.push(t),t=this.consumeCodePoint();var n=!1;while(t===kt&&e.length<6)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(l.apply(void 0,e.map((function(e){return e===kt?zt:e}))),16),i=parseInt(l.apply(void 0,e.map((function(e){return e===kt?Jt:e}))),16);return{type:30,start:r,end:i}}var o=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===mt&&rn(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();var a=[];while(rn(t)&&a.length<6)a.push(t),t=this.consumeCodePoint();i=parseInt(l.apply(void 0,a),16);return{type:30,start:o,end:i}}return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===At?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===At?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===jt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ft||t===st){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===jt||this.peekCodePoint(0)===ht)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Dn)}while(1){var r=this.consumeCodePoint();if(r===jt||r===ht)return{type:22,value:l.apply(void 0,e)};if(cn(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===jt||this.peekCodePoint(0)===ht?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Dn);if(r===st||r===ft||r===At||fn(r))return this.consumeBadUrlRemnants(),Dn;if(r===it){if(!An(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Dn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){while(cn(this.peekCodePoint(0)))this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){while(1){var e=this.consumeCodePoint();if(e===ht||e===jt)return;An(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){var t=5e4,n="";while(e>0){var r=Math.min(t,e);n+=l.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){var t="",n=0;do{var r=this._value[n];if(r===jt||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(r===nt)return this._value.splice(0,n),Mn;if(r===it){var i=this._value[n+1];i!==jt&&void 0!==i&&(i===nt?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):An(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}while(1)},e.prototype.consumeNumber=function(){var e=[],t=et,n=this.peekCodePoint(0);n!==It&&n!==mt||e.push(this.consumeCodePoint());while(tn(this.peekCodePoint(0)))e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Pt&&tn(r)){e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=tt;while(tn(this.peekCodePoint(0)))e.push(this.consumeCodePoint())}n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Yt||n===Kt)&&((r===It||r===mt)&&tn(i)||tn(r))){e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=tt;while(tn(this.peekCodePoint(0)))e.push(this.consumeCodePoint())}return[mn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(hn(r,i,o)){var a=this.consumeName();return{type:15,number:t,flags:n,unit:a}}return r===dt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(rn(e)){var t=l(e);while(rn(this.peekCodePoint(0))&&t.length<6)t+=l(this.consumeCodePoint());cn(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||nn(n)||n>1114111?Et:n}return e===jt?Et:e},e.prototype.consumeName=function(){var e="";while(1){var t=this.consumeCodePoint();if(dn(t))e+=l(t);else{if(!An(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),Hn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Un;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){var e=this.consumeToken();while(31===e.type)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){var e=[];while(1){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){var t={type:e,values:[]},n=this.consumeToken();while(1){if(32===n.type||Wn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){var t={name:e.value,values:[],type:18};while(1){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Nn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Rn=function(e){return 15===e.type},Vn=function(e){return 17===e.type},Qn=function(e){return 20===e.type},jn=function(e){return 0===e.type},zn=function(e,t){return Qn(e)&&e.value===t},Gn=function(e){return 31!==e.type},Kn=function(e){return 31!==e.type&&4!==e.type},qn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Wn=function(e,t){return 11===t&&12===e.type||(28===t&&29===e.type||2===t&&3===e.type)},$n=function(e){return 17===e.type||15===e.type},Xn=function(e){return 16===e.type||$n(e)},Yn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Jn={type:17,number:0,flags:et},Zn={type:16,number:50,flags:et},er={type:16,number:100,flags:et},tr=function(e,t,n){var r=e[0],i=e[1];return[nr(r,t),nr("undefined"!==typeof i?i:r,n)]},nr=function(e,t){if(16===e.type)return e.number/100*t;if(Rn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},rr="deg",ir="grad",or="rad",ar="turn",sr={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case rr:return Math.PI*t.number/180;case ir:return Math.PI/200*t.number;case or:return t.number;case ar:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},ur=function(e){return 15===e.type&&(e.unit===rr||e.unit===ir||e.unit===or||e.unit===ar)},cr=function(e){var t=e.filter(Qn).map((function(e){return e.value})).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jn,Jn];case"to top":case"bottom":return lr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jn,er];case"to right":case"left":return lr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[er,er];case"to bottom":case"top":return lr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[er,Jn];case"to left":case"right":return lr(270)}return 0},lr=function(e){return Math.PI*e/180},dr={name:"color",parse:function(e,t){if(18===t.type){var n=yr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return hr(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var a=t.value.substring(3,4);return hr(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===t.value.length){r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6);return hr(parseInt(r,16),parseInt(i,16),parseInt(o,16),1)}if(8===t.value.length){r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8);return hr(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}}if(20===t.type){var s=wr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return wr.TRANSPARENT}},fr=function(e){return 0===(255&e)},Ar=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},hr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},pr=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},mr=function(e,t){var n=t.filter(Kn);if(3===n.length){var r=n.map(pr),i=r[0],o=r[1],a=r[2];return hr(i,o,a,1)}if(4===n.length){var s=n.map(pr),u=(i=s[0],o=s[1],a=s[2],s[3]);return hr(i,o,a,u)}return 0};function gr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var vr=function(e,t){var n=t.filter(Kn),r=n[0],i=n[1],o=n[2],a=n[3],s=(17===r.type?lr(r.number):sr.parse(e,r))/(2*Math.PI),u=Xn(i)?i.number/100:0,c=Xn(o)?o.number/100:0,l="undefined"!==typeof a&&Xn(a)?nr(a,1):1;if(0===u)return hr(255*c,255*c,255*c,1);var d=c<=.5?c*(u+1):c+u-c*u,f=2*c-d,A=gr(f,d,s+1/3),h=gr(f,d,s),p=gr(f,d,s-1/3);return hr(255*A,255*h,255*p,l)},yr={hsl:vr,hsla:vr,rgb:mr,rgba:mr},br=function(e,t){return dr.parse(e,Hn.create(t).parseComponentValue())},wr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Cr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Sr=function(e,t){var n=dr.parse(e,t[0]),r=t[1];return r&&Xn(r)?{color:n,stop:r}:{color:n,stop:null}},kr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Jn),null===r.stop&&(r.stop=er);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var u=nr(s,t);u>o?i.push(u):i.push(o),o=u}else i.push(null)}var c=null;for(a=0;a<i.length;a++){var l=i[a];if(null===l)null===c&&(c=a);else if(null!==c){for(var d=a-c,f=i[c-1],A=(l-f)/(d+1),h=1;h<=d;h++)i[c+h-1]=A*h;c=null}}return e.map((function(e,n){var r=e.color;return{color:r,stop:Math.max(Math.min(1,i[n]/t),0)}}))},_r=function(e,t,n){var r=t/2,i=n/2,o=nr(e[0],t)-r,a=i-nr(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)},Br=function(e,t,n){var r="number"===typeof e?e:_r(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,u=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,o-c,o+c,a-u,a+u]},Dr=function(e,t){return Math.sqrt(e*e+t*t)},Mr=function(e,t,n,r,i){var o=[[0,0],[0,t],[e,0],[e,t]];return o.reduce((function(e,t){var o=t[0],a=t[1],s=Dr(n-o,r-a);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Er=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case 0:0===e.shape?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=a=Math.min(Dr(t,n),Dr(t,n-i),Dr(t-r,n),Dr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),u=Mr(r,i,t,n,!0),c=u[0],l=u[1];o=Dr(c-t,(l-n)/s),a=s*o}break;case 1:0===e.shape?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=a=Math.max(Dr(t,n),Dr(t,n-i),Dr(t-r,n),Dr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var d=Mr(r,i,t,n,!1);c=d[0],l=d[1];o=Dr(c-t,(l-n)/s),a=s*o}break}return Array.isArray(e.size)&&(o=nr(e.size[0],r),a=2===e.size.length?nr(e.size[1],i):o),[o,a]},Tr=function(e,t){var n=lr(180),r=[];return qn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=cr(t));if(ur(o))return void(n=sr.parse(e,o))}var a=Sr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},Ir=function(e,t){var n=lr(180),r=[];return qn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=cr(t));if(ur(o))return void(n=(sr.parse(e,o)+lr(270))%lr(360))}var a=Sr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},Or=function(e,t){var n=lr(180),r=[],i=1,o=0,a=3,s=[];return qn(t).forEach((function(t,n){var o=t[0];if(0===n){if(Qn(o)&&"linear"===o.value)return void(i=1);if(Qn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=dr.parse(e,o.values[0]);r.push({stop:Jn,color:a})}else if("to"===o.name){a=dr.parse(e,o.values[0]);r.push({stop:er,color:a})}else if("color-stop"===o.name){var s=o.values.filter(Kn);if(2===s.length){a=dr.parse(e,s[1]);var u=s[0];Vn(u)&&r.push({stop:{type:16,number:100*u.number,flags:u.flags},color:a})}}})),1===i?{angle:(n+lr(180))%lr(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:s,type:i}},Lr="closest-side",Fr="farthest-side",Pr="closest-corner",Nr="farthest-corner",Ur="circle",Hr="ellipse",Rr="cover",Vr="contain",Qr=function(e,t){var n=0,r=3,i=[],o=[];return qn(t).forEach((function(t,a){var s=!0;if(0===a){var u=!1;s=t.reduce((function(e,t){if(u)if(Qn(t))switch(t.value){case"center":return o.push(Zn),e;case"top":case"left":return o.push(Jn),e;case"right":case"bottom":return o.push(er),e}else(Xn(t)||$n(t))&&o.push(t);else if(Qn(t))switch(t.value){case Ur:return n=0,!1;case Hr:return n=1,!1;case"at":return u=!0,!1;case Lr:return r=0,!1;case Rr:case Fr:return r=1,!1;case Vr:case Pr:return r=2,!1;case Nr:return r=3,!1}else if($n(t)||Xn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var c=Sr(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:o,type:2}},jr=function(e,t){var n=0,r=3,i=[],o=[];return qn(t).forEach((function(t,a){var s=!0;if(0===a?s=t.reduce((function(e,t){if(Qn(t))switch(t.value){case"center":return o.push(Zn),!1;case"top":case"left":return o.push(Jn),!1;case"right":case"bottom":return o.push(er),!1}else if(Xn(t)||$n(t))return o.push(t),!1;return e}),s):1===a&&(s=t.reduce((function(e,t){if(Qn(t))switch(t.value){case Ur:return n=0,!1;case Hr:return n=1,!1;case Vr:case Lr:return r=0,!1;case Fr:return r=1,!1;case Pr:return r=2,!1;case Rr:case Nr:return r=3,!1}else if($n(t)||Xn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var u=Sr(e,t);i.push(u)}})),{size:r,shape:n,stops:i,position:o,type:2}},zr=function(e){return 1===e.type},Gr=function(e){return 2===e.type},Kr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=$r[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function qr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!$r[e.name])}var Wr,$r={"linear-gradient":Tr,"-moz-linear-gradient":Ir,"-ms-linear-gradient":Ir,"-o-linear-gradient":Ir,"-webkit-linear-gradient":Ir,"radial-gradient":Qr,"-moz-radial-gradient":jr,"-ms-radial-gradient":jr,"-o-radial-gradient":jr,"-webkit-radial-gradient":jr,"-webkit-gradient":Or},Xr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Kn(e)&&qr(e)})).map((function(t){return Kr.parse(e,t)}))}},Yr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Jr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return qn(t).map((function(e){return e.filter(Xn)})).map(Yn)}},Zr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return qn(t).map((function(e){return e.filter(Qn).map((function(e){return e.value})).join(" ")})).map(ei)}},ei=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};(function(e){e["AUTO"]="auto",e["CONTAIN"]="contain",e["COVER"]="cover"})(Wr||(Wr={}));var ti,ni={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return qn(t).map((function(e){return e.filter(ri)}))}},ri=function(e){return Qn(e)||Xn(e)},ii=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oi=ii("top"),ai=ii("right"),si=ii("bottom"),ui=ii("left"),ci=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Yn(t.filter(Xn))}}},li=ci("top-left"),di=ci("top-right"),fi=ci("bottom-right"),Ai=ci("bottom-left"),hi=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pi=hi("top"),mi=hi("right"),gi=hi("bottom"),vi=hi("left"),yi=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Rn(t)?t.number:0}}},bi=yi("top"),wi=yi("right"),xi=yi("bottom"),Ci=yi("left"),Si={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ki={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},_i={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).reduce((function(e,t){return e|Bi(t.value)}),0)}},Bi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Di={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};(function(e){e["NORMAL"]="normal",e["STRICT"]="strict"})(ti||(ti={}));var Ei,Ti={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return ti.STRICT;case"normal":default:return ti.NORMAL}}},Ii={name:"line-height",initialValue:"normal",prefix:!1,type:4},Oi=function(e,t){return Qn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Xn(e)?nr(e,t):t},Li={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Kr.parse(e,t)}},Fi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Pi={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ni=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ui=Ni("top"),Hi=Ni("right"),Ri=Ni("bottom"),Vi=Ni("left"),Qi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}}))}},ji={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},zi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Gi=zi("top"),Ki=zi("right"),qi=zi("bottom"),Wi=zi("left"),$i={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Xi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Yi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&zn(t[0],"none")?[]:qn(t).map((function(t){for(var n={color:wr.TRANSPARENT,offsetX:Jn,offsetY:Jn,blur:Jn},r=0,i=0;i<t.length;i++){var o=t[i];$n(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=dr.parse(e,o)}return n}))}},Ji={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Zi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=no[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},eo=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},to=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,o,a,s]:null},no={matrix:eo,matrix3d:to},ro={type:16,number:50,flags:et},io=[ro,ro],oo={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Xn);return 2!==n.length?io:[n[0],n[1]]}},ao={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};(function(e){e["NORMAL"]="normal",e["BREAK_ALL"]="break-all",e["KEEP_ALL"]="keep-all"})(Ei||(Ei={}));for(var so={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Ei.BREAK_ALL;case"keep-all":return Ei.KEEP_ALL;case"normal":default:return Ei.NORMAL}}},uo={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Vn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},co={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},lo={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Vn(t)?t.number:1}},fo={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ao={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},ho={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},po={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},mo={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Vn(t))return t.number;if(Qn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},go={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Qn).map((function(e){return e.value}))}},vo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},yo=function(e,t){return 0!==(e&t)},bo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},wo={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Gn),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(20===a.type){var u=s&&Vn(s)?s.number:1;r.push({counter:a.value,increment:u})}}return r}},xo={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Gn),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Qn(o)&&"none"!==o.value){var s=a&&Vn(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},Co={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Rn).map((function(t){return co.parse(e,t)}))}},So={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(jn);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,s=i[o+1].value;r.push({open:a,close:s})}return r}},ko=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},_o={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&zn(t[0],"none")?[]:qn(t).map((function(t){for(var n={color:255,offsetX:Jn,offsetY:Jn,blur:Jn,spread:Jn,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];zn(o,"inset")?n.inset=!0:$n(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=dr.parse(e,o)}return n}))}},Bo={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Qn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},Do={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Mo={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Rn(t)?t.number:0}},Eo=function(){function e(e,t){var n,r;this.animationDuration=Oo(e,Co,t.animationDuration),this.backgroundClip=Oo(e,xr,t.backgroundClip),this.backgroundColor=Oo(e,Cr,t.backgroundColor),this.backgroundImage=Oo(e,Xr,t.backgroundImage),this.backgroundOrigin=Oo(e,Yr,t.backgroundOrigin),this.backgroundPosition=Oo(e,Jr,t.backgroundPosition),this.backgroundRepeat=Oo(e,Zr,t.backgroundRepeat),this.backgroundSize=Oo(e,ni,t.backgroundSize),this.borderTopColor=Oo(e,oi,t.borderTopColor),this.borderRightColor=Oo(e,ai,t.borderRightColor),this.borderBottomColor=Oo(e,si,t.borderBottomColor),this.borderLeftColor=Oo(e,ui,t.borderLeftColor),this.borderTopLeftRadius=Oo(e,li,t.borderTopLeftRadius),this.borderTopRightRadius=Oo(e,di,t.borderTopRightRadius),this.borderBottomRightRadius=Oo(e,fi,t.borderBottomRightRadius),this.borderBottomLeftRadius=Oo(e,Ai,t.borderBottomLeftRadius),this.borderTopStyle=Oo(e,pi,t.borderTopStyle),this.borderRightStyle=Oo(e,mi,t.borderRightStyle),this.borderBottomStyle=Oo(e,gi,t.borderBottomStyle),this.borderLeftStyle=Oo(e,vi,t.borderLeftStyle),this.borderTopWidth=Oo(e,bi,t.borderTopWidth),this.borderRightWidth=Oo(e,wi,t.borderRightWidth),this.borderBottomWidth=Oo(e,xi,t.borderBottomWidth),this.borderLeftWidth=Oo(e,Ci,t.borderLeftWidth),this.boxShadow=Oo(e,_o,t.boxShadow),this.color=Oo(e,Si,t.color),this.direction=Oo(e,ki,t.direction),this.display=Oo(e,_i,t.display),this.float=Oo(e,Di,t.cssFloat),this.fontFamily=Oo(e,ho,t.fontFamily),this.fontSize=Oo(e,po,t.fontSize),this.fontStyle=Oo(e,vo,t.fontStyle),this.fontVariant=Oo(e,go,t.fontVariant),this.fontWeight=Oo(e,mo,t.fontWeight),this.letterSpacing=Oo(e,Mi,t.letterSpacing),this.lineBreak=Oo(e,Ti,t.lineBreak),this.lineHeight=Oo(e,Ii,t.lineHeight),this.listStyleImage=Oo(e,Li,t.listStyleImage),this.listStylePosition=Oo(e,Fi,t.listStylePosition),this.listStyleType=Oo(e,Pi,t.listStyleType),this.marginTop=Oo(e,Ui,t.marginTop),this.marginRight=Oo(e,Hi,t.marginRight),this.marginBottom=Oo(e,Ri,t.marginBottom),this.marginLeft=Oo(e,Vi,t.marginLeft),this.opacity=Oo(e,lo,t.opacity);var i=Oo(e,Qi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Oo(e,ji,t.overflowWrap),this.paddingTop=Oo(e,Gi,t.paddingTop),this.paddingRight=Oo(e,Ki,t.paddingRight),this.paddingBottom=Oo(e,qi,t.paddingBottom),this.paddingLeft=Oo(e,Wi,t.paddingLeft),this.paintOrder=Oo(e,Bo,t.paintOrder),this.position=Oo(e,Xi,t.position),this.textAlign=Oo(e,$i,t.textAlign),this.textDecorationColor=Oo(e,fo,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=Oo(e,Ao,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=Oo(e,Yi,t.textShadow),this.textTransform=Oo(e,Ji,t.textTransform),this.transform=Oo(e,Zi,t.transform),this.transformOrigin=Oo(e,oo,t.transformOrigin),this.visibility=Oo(e,ao,t.visibility),this.webkitTextStrokeColor=Oo(e,Do,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Oo(e,Mo,t.webkitTextStrokeWidth),this.wordBreak=Oo(e,so,t.wordBreak),this.zIndex=Oo(e,uo,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return fr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return yo(this.display,4)||yo(this.display,33554432)||yo(this.display,268435456)||yo(this.display,536870912)||yo(this.display,67108864)||yo(this.display,134217728)},e}(),To=function(){function e(e,t){this.content=Oo(e,bo,t.content),this.quotes=Oo(e,So,t.quotes)}return e}(),Io=function(){function e(e,t){this.counterIncrement=Oo(e,wo,t.counterIncrement),this.counterReset=Oo(e,xo,t.counterReset)}return e}(),Oo=function(e,t,n){var r=new Un,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var o=new Hn(r.read());switch(t.type){case 2:var a=o.parseComponentValue();return t.parse(e,Qn(a)?a.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return sr.parse(e,o.parseComponentValue());case"color":return dr.parse(e,o.parseComponentValue());case"image":return Kr.parse(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return $n(s)?s:Jn;case"length-percentage":var u=o.parseComponentValue();return Xn(u)?u:Jn;case"time":return co.parse(e,o.parseComponentValue())}break}},Lo="data-html2canvas-debug",Fo=function(e){var t=e.getAttribute(Lo);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Po=function(e,t){var n=Fo(e);return 1===n||t===n},No=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Po(t,3),this.styles=new Eo(e,window.getComputedStyle(t,null)),Ts(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),Po(t,4)&&(this.flags|=16)}return e}(),Uo="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ro="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Vo=0;Vo<Ho.length;Vo++)Ro[Ho.charCodeAt(Vo)]=Vo;for(var Qo=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=Ro[e.charCodeAt(t)],r=Ro[e.charCodeAt(t+1)],i=Ro[e.charCodeAt(t+2)],o=Ro[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c},jo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},zo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Go=5,Ko=11,qo=2,Wo=Ko-Go,$o=65536>>Go,Xo=1<<Go,Yo=Xo-1,Jo=1024>>Go,Zo=$o+Jo,ea=Zo,ta=32,na=ea+ta,ra=65536>>Ko,ia=1<<Wo,oa=ia-1,aa=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},sa=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},ua=function(e,t){var n=Qo(e),r=Array.isArray(n)?zo(n):new Uint32Array(n),i=Array.isArray(n)?jo(n):new Uint16Array(n),o=24,a=aa(i,o/2,r[4]/2),s=2===r[5]?aa(i,(o+r[4])/2):sa(r,Math.ceil((o+r[4])/4));return new ca(r[0],r[1],r[2],r[3],a,s)},ca=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Go],t=(t<<qo)+(e&Yo),this.data[t];if(e<=65535)return t=this.index[$o+(e-55296>>Go)],t=(t<<qo)+(e&Yo),this.data[t];if(e<this.highStart)return t=na-ra+(e>>Ko),t=this.index[t],t+=e>>Go&oa,t=this.index[t],t=(t<<qo)+(e&Yo),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",da="undefined"===typeof Uint8Array?[]:new Uint8Array(256),fa=0;fa<la.length;fa++)da[la.charCodeAt(fa)]=fa;var Aa,ha=1,pa=2,ma=3,ga=4,va=5,ya=7,ba=8,wa=9,xa=10,Ca=11,Sa=12,ka=13,_a=14,Ba=15,Da=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},Ma=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";var r=[],i=-1,o="";while(++i<n){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},Ea=ua(Uo),Ta="×",Ia="÷",Oa=function(e){return Ea.get(e)},La=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(o===pa&&a===ma)return Ta;if(o===pa||o===ma||o===ga)return Ia;if(a===pa||a===ma||a===ga)return Ia;if(o===ba&&-1!==[ba,wa,Ca,Sa].indexOf(a))return Ta;if((o===Ca||o===wa)&&(a===wa||a===xa))return Ta;if((o===Sa||o===xa)&&a===xa)return Ta;if(a===ka||a===va)return Ta;if(a===ya)return Ta;if(o===ha)return Ta;if(o===ka&&a===_a){while(i===va)i=t[--r];if(i===_a)return Ta}if(o===Ba&&a===Ba){var s=0;while(i===Ba)s++,i=t[--r];if(s%2===0)return Ta}return Ia},Fa=function(e){var t=Da(e),n=t.length,r=0,i=0,o=t.map(Oa);return{next:function(){if(r>=n)return{done:!0,value:null};var e=Ta;while(r<n&&(e=La(t,o,++r))===Ta);if(e!==Ta||r===n){var a=Ma.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},Pa=function(e){var t,n=Fa(e),r=[];while(!(t=n.next()).done)t.value&&r.push(t.value.slice());return r},Na=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},Ua=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return l(e)})),o=0,a={},s=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s}));return e.body.removeChild(t),s},Ha=function(){return"undefined"!==typeof(new Image).crossOrigin},Ra=function(){return"string"===typeof(new XMLHttpRequest).responseType},Va=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Kt){return!1}return!0},Qa=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},ja=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var a=za(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ga(a).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",Qa(i)?Ga(za(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),Qa(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},za=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Ga=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ka={get SUPPORT_RANGE_BOUNDS(){var e=Na(document);return Object.defineProperty(Ka,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ka.SUPPORT_RANGE_BOUNDS&&Ua(document);return Object.defineProperty(Ka,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Va(document);return Object.defineProperty(Ka,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?ja(document):Promise.resolve(!1);return Object.defineProperty(Ka,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Ha();return Object.defineProperty(Ka,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Ra();return Object.defineProperty(Ka,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ka,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ka,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},qa=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Wa=function(e,t,n,r){var i=Za(t,n),o=[],s=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ka.SUPPORT_RANGE_BOUNDS){var i=Xa(r,s,t.length).getClientRects();if(i.length>1){var u=Ya(t),c=0;u.forEach((function(t){o.push(new qa(t,a.fromDOMRectList(e,Xa(r,c+s,t.length).getClientRects()))),c+=t.length}))}else o.push(new qa(t,a.fromDOMRectList(e,i)))}else{var l=r.splitText(t.length);o.push(new qa(t,$a(e,r))),r=l}else Ka.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length})),o},$a=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY},Xa=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Ya=function(e){if(Ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return Pa(e)},Ja=function(e,t){if(Ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return ts(e,t)},Za=function(e,t){return 0!==t.letterSpacing?Ya(e):Ja(e,t)},es=[32,160,4961,65792,65793,4153,4241],ts=function(e,t){var n,r=Ye(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===es.indexOf(e)?r+=l(e):(r.length&&i.push(r),i.push(l(e)),r="")})),r.length&&i.push(r)}};while(!(n=r.next()).done)o();return i},ns=function(){function e(e,t,n){this.text=rs(t.data,n.textTransform),this.textBounds=Wa(e,this.text,n,t)}return e}(),rs=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(is,os);case 2:return e.toUpperCase();default:return e}},is=/(^|\s|:|-|\(|\))([a-z])/g,os=function(e,t,n){return e.length>0?t+n.toUpperCase():e},as=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(No),ss=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(No),us=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=s(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(No),cs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(No),ls=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(No),ds=[{type:15,flags:0,unit:"px",number:3}],fs=[{type:16,flags:0,number:50}],As=function(e){return e.width>e.height?new a(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new a(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},hs=function(e){var t=e.type===gs?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},ps="checkbox",ms="radio",gs="password",vs=707406591,ys=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=hs(n),r.type!==ps&&r.type!==ms||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=As(r.bounds)),r.type){case ps:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ds;break;case ms:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=fs;break}return r}return t(n,e),n}(No),bs=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(No),ws=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(No),xs=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=_s(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?br(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):wr.TRANSPARENT,o=n.contentWindow.document.body?br(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):wr.TRANSPARENT;r.backgroundColor=fr(i)?fr(o)?r.styles.backgroundColor:o:i}}catch(Kt){}return r}return t(n,e),n}(No),Cs=["OL","UL","MENU"],Ss=function e(t,n,r,i){for(var o=n.firstChild,a=void 0;o;o=a)if(a=o.nextSibling,Ms(o)&&o.data.trim().length>0)r.textNodes.push(new ns(t,o,r.styles));else if(Es(o))if(qs(o)&&o.assignedNodes)o.assignedNodes().forEach((function(n){return e(t,n,r,i)}));else{var s=ks(t,o);s.styles.isVisible()&&(Bs(o,s,i)?s.flags|=4:Ds(s.styles)&&(s.flags|=2),-1!==Cs.indexOf(o.tagName)&&(s.flags|=8),r.elements.push(s),o.slot,o.shadowRoot?e(t,o.shadowRoot,s,i):Gs(o)||Ns(o)||Ks(o)||e(t,o,s,i))}},ks=function(e,t){return Vs(t)?new as(e,t):Hs(t)?new ss(e,t):Ns(t)?new us(e,t):Os(t)?new cs(e,t):Ls(t)?new ls(e,t):Fs(t)?new ys(e,t):Ks(t)?new bs(e,t):Gs(t)?new ws(e,t):Qs(t)?new xs(e,t):new No(e,t)},_s=function(e,t){var n=ks(e,t);return n.flags|=4,Ss(e,t,n,n),n},Bs=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Us(e)&&n.styles.isTransparent()},Ds=function(e){return e.isPositioned()||e.isFloating()},Ms=function(e){return e.nodeType===Node.TEXT_NODE},Es=function(e){return e.nodeType===Node.ELEMENT_NODE},Ts=function(e){return Es(e)&&"undefined"!==typeof e.style&&!Is(e)},Is=function(e){return"object"===m(e.className)},Os=function(e){return"LI"===e.tagName},Ls=function(e){return"OL"===e.tagName},Fs=function(e){return"INPUT"===e.tagName},Ps=function(e){return"HTML"===e.tagName},Ns=function(e){return"svg"===e.tagName},Us=function(e){return"BODY"===e.tagName},Hs=function(e){return"CANVAS"===e.tagName},Rs=function(e){return"VIDEO"===e.tagName},Vs=function(e){return"IMG"===e.tagName},Qs=function(e){return"IFRAME"===e.tagName},js=function(e){return"STYLE"===e.tagName},zs=function(e){return"SCRIPT"===e.tagName},Gs=function(e){return"TEXTAREA"===e.tagName},Ks=function(e){return"SELECT"===e.tagName},qs=function(e){return"SLOT"===e.tagName},Ws=function(e){return e.tagName.indexOf("-")>0},$s=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Xs={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ys={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Js={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Zs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},eu=function(e,t,n,r,i,o){return e<t||e>n?Au(e,i,o.length>0):r.integers.reduce((function(t,n,i){while(e>=n)e-=n,t+=r.values[i];return t}),"")+o},tu=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},nu=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(tu(Math.abs(e),o,r,(function(e){return l(Math.floor(e%o)+t)}))+i)},ru=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return tu(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},iu=1,ou=2,au=4,su=8,uu=function(e,t,n,r,i,o){if(e<-9999||e>9999)return Au(e,4,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var u=0;a>0&&u<=4;u++){var c=a%10;0===c&&yo(o,iu)&&""!==s?s=t[c]+s:c>1||1===c&&0===u||1===c&&1===u&&yo(o,ou)||1===c&&1===u&&yo(o,au)&&e>100||1===c&&u>1&&yo(o,su)?s=t[c]+(u>0?n[u-1]:"")+s:1===c&&u>0&&(s=n[u-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},cu="十百千萬",lu="拾佰仟萬",du="マイナス",fu="마이너스",Au=function(e,t,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"",a=n?" ":"";switch(t){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var s=nu(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return ru(e,"〇一二三四五六七八九",i);case 6:return eu(e,1,3999,Xs,3,r).toLowerCase();case 7:return eu(e,1,3999,Xs,3,r);case 8:return nu(e,945,969,!1,r);case 9:return nu(e,97,122,!1,r);case 10:return nu(e,65,90,!1,r);case 11:return nu(e,1632,1641,!0,r);case 12:case 49:return eu(e,1,9999,Ys,3,r);case 35:return eu(e,1,9999,Ys,3,r).toLowerCase();case 13:return nu(e,2534,2543,!0,r);case 14:case 30:return nu(e,6112,6121,!0,r);case 15:return ru(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return ru(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return uu(e,"零一二三四五六七八九",cu,"負",i,ou|au|su);case 47:return uu(e,"零壹貳參肆伍陸柒捌玖",lu,"負",i,iu|ou|au|su);case 42:return uu(e,"零一二三四五六七八九",cu,"负",i,ou|au|su);case 41:return uu(e,"零壹贰叁肆伍陆柒捌玖",lu,"负",i,iu|ou|au|su);case 26:return uu(e,"〇一二三四五六七八九","十百千万",du,i,0);case 25:return uu(e,"零壱弐参四伍六七八九","拾百千万",du,i,iu|ou|au);case 31:return uu(e,"영일이삼사오육칠팔구","십백천만",fu,o,iu|ou|au);case 33:return uu(e,"零一二三四五六七八九","十百千萬",fu,o,0);case 32:return uu(e,"零壹貳參四五六七八九","拾百千",fu,o,iu|ou|au);case 18:return nu(e,2406,2415,!0,r);case 20:return eu(e,1,19999,Zs,3,r);case 21:return nu(e,2790,2799,!0,r);case 22:return nu(e,2662,2671,!0,r);case 22:return eu(e,1,10999,Js,3,r);case 23:return ru(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return ru(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return nu(e,3302,3311,!0,r);case 28:return ru(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return ru(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return nu(e,3792,3801,!0,r);case 37:return nu(e,6160,6169,!0,r);case 38:return nu(e,4160,4169,!0,r);case 39:return nu(e,2918,2927,!0,r);case 40:return nu(e,1776,1785,!0,r);case 43:return nu(e,3046,3055,!0,r);case 44:return nu(e,3174,3183,!0,r);case 45:return nu(e,3664,3673,!0,r);case 46:return nu(e,3872,3881,!0,r);case 3:default:return nu(e,48,57,!0,r)}},hu="data-html2canvas-ignore",pu=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new $s,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=gu(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,u=o.contentWindow,c=u.document,l=bu(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(ku),u&&(u.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.scrollY===t.top&&u.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),e=this.options.onclone,n=this.clonedReferenceElement,"undefined"===typeof n?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yu(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(Cu(document.doctype)+"<html></html>"),Su(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(e){if(Po(e,2),Hs(e))return this.createCanvasClone(e);if(Rs(e))return this.createVideoClone(e);if(js(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Vs(t)&&(Vs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ws(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return xu(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Kt){if(this.context.logger.error("Unable to access cssRules property",Kt),"SecurityError"!==Kt.name)throw Kt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Kt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(Kt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Kt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){Es(t)&&(zs(t)||t.hasAttribute(hu)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Es(t)&&js(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Es(i)&&qs(i)&&"function"===typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(Ms(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Es(e)&&(Ts(e)||Is(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Ts(r)&&(this.clonedReferenceElement=r),Us(r)&&Tu(r);var s=this.counters.parse(new Io(this.context,i)),u=this.resolvePseudoContent(e,r,o,Aa.BEFORE);Ws(e)&&(t=!0),Rs(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var c=this.resolvePseudoContent(e,r,a,Aa.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(i&&(this.options.copyStyles||Is(e))&&!Qs(e)||t)&&xu(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Gs(e)||Ks(e))&&(Gs(r)||Ks(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new Io(this.context,n));var s=new To(this.context,n),u=a.createElement("html2canvaspseudoelement");xu(n,u),s.content.forEach((function(t){if(0===t.type)u.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",u.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Qn);r.length&&u.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Kn),c=o[0],l=o[1];if(c&&Qn(c)){var d=i.counters.getCounterValue(c.value),f=l&&Qn(l)?Pi.parse(i.context,l.value):3;u.appendChild(a.createTextNode(Au(d,f,!1)))}}else if("counters"===t.name){var A=t.values.filter(Kn),h=(c=A[0],A[1]);l=A[2];if(c&&Qn(c)){var p=i.counters.getCounterValues(c.value),m=l&&Qn(l)?Pi.parse(i.context,l.value):3,g=h&&0===h.type?h.value:"",v=p.map((function(e){return Au(e,m,!1)})).join(g);u.appendChild(a.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":u.appendChild(a.createTextNode(ko(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(ko(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(t.value))}})),u.className=Du+" "+Mu;var c=r===Aa.BEFORE?" "+Du:" "+Mu;return Is(t)?t.className.baseValue+=c:t.className+=c,u}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();(function(e){e[e["BEFORE"]=0]="BEFORE",e[e["AFTER"]=1]="AFTER"})(Aa||(Aa={}));var mu,gu=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(hu,"true"),e.body.appendChild(n),n},vu=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},yu=function(e){return Promise.all([].slice.call(e.images,0).map(vu))},bu=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},wu=["all","d","content"],xu=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===wu.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Cu=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Su=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ku=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},_u=":before",Bu=":after",Du="___html2canvas___pseudoelement_before",Mu="___html2canvas___pseudoelement_after",Eu='{\n    content: "" !important;\n    display: none !important;\n}',Tu=function(e){Iu(e,"."+Du+_u+Eu+"\n         ."+Mu+Bu+Eu)},Iu=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},Ou=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Lu=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Vu(e)||Uu(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return t=Ou.isSameOrigin(e),n=!Hu(e)&&!0===this._options.useCORS&&Ka.SUPPORT_CORS_IMAGES&&!t,r=!Hu(e)&&!t&&!Vu(e)&&"string"===typeof this._options.proxy&&Ka.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Hu(e)||Vu(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Ru(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var a=Ka.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},e}(),Fu=/^data:image\/svg\+xml/i,Pu=/^data:image\/.*;base64,/i,Nu=/^data:image\/.*/i,Uu=function(e){return Ka.SUPPORT_SVG_DRAWING||!Qu(e)},Hu=function(e){return Nu.test(e)},Ru=function(e){return Pu.test(e)},Vu=function(e){return"blob"===e.substr(0,4)},Qu=function(e){return"svg"===e.substr(-3).toLowerCase()||Fu.test(e)},ju=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),zu=function(e,t,n){return new ju(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Gu=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=zu(this.start,this.startControl,t),i=zu(this.startControl,this.endControl,t),o=zu(this.endControl,this.end,t),a=zu(r,i,t),s=zu(i,o,t),u=zu(a,s,t);return n?new e(this.start,r,a,u):new e(u,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ku=function(e){return 1===e.type},qu=function(){function e(e){var t=e.styles,n=e.bounds,r=tr(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=tr(t.borderTopRightRadius,n.width,n.height),s=a[0],u=a[1],c=tr(t.borderBottomRightRadius,n.width,n.height),l=c[0],d=c[1],f=tr(t.borderBottomLeftRadius,n.width,n.height),A=f[0],h=f[1],p=[];p.push((i+s)/n.width),p.push((A+l)/n.width),p.push((o+h)/n.height),p.push((u+d)/n.height);var m=Math.max.apply(Math,p);m>1&&(i/=m,o/=m,s/=m,u/=m,l/=m,d/=m,A/=m,h/=m);var g=n.width-s,v=n.height-d,y=n.width-l,b=n.height-h,w=t.borderTopWidth,x=t.borderRightWidth,C=t.borderBottomWidth,S=t.borderLeftWidth,k=nr(t.paddingTop,e.bounds.width),_=nr(t.paddingRight,e.bounds.width),B=nr(t.paddingBottom,e.bounds.width),D=nr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Wu(n.left+S/3,n.top+w/3,i-S/3,o-w/3,mu.TOP_LEFT):new ju(n.left+S/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Wu(n.left+g,n.top+w/3,s-x/3,u-w/3,mu.TOP_RIGHT):new ju(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=l>0||d>0?Wu(n.left+y,n.top+v,l-x/3,d-C/3,mu.BOTTOM_RIGHT):new ju(n.left+n.width-x/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=A>0||h>0?Wu(n.left+S/3,n.top+b,A-S/3,h-C/3,mu.BOTTOM_LEFT):new ju(n.left+S/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Wu(n.left+2*S/3,n.top+2*w/3,i-2*S/3,o-2*w/3,mu.TOP_LEFT):new ju(n.left+2*S/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Wu(n.left+g,n.top+2*w/3,s-2*x/3,u-2*w/3,mu.TOP_RIGHT):new ju(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=l>0||d>0?Wu(n.left+y,n.top+v,l-2*x/3,d-2*C/3,mu.BOTTOM_RIGHT):new ju(n.left+n.width-2*x/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=A>0||h>0?Wu(n.left+2*S/3,n.top+b,A-2*S/3,h-2*C/3,mu.BOTTOM_LEFT):new ju(n.left+2*S/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=i>0||o>0?Wu(n.left+S/2,n.top+w/2,i-S/2,o-w/2,mu.TOP_LEFT):new ju(n.left+S/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?Wu(n.left+g,n.top+w/2,s-x/2,u-w/2,mu.TOP_RIGHT):new ju(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=l>0||d>0?Wu(n.left+y,n.top+v,l-x/2,d-C/2,mu.BOTTOM_RIGHT):new ju(n.left+n.width-x/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=A>0||h>0?Wu(n.left+S/2,n.top+b,A-S/2,h-C/2,mu.BOTTOM_LEFT):new ju(n.left+S/2,n.top+n.height-C/2),this.topLeftBorderBox=i>0||o>0?Wu(n.left,n.top,i,o,mu.TOP_LEFT):new ju(n.left,n.top),this.topRightBorderBox=s>0||u>0?Wu(n.left+g,n.top,s,u,mu.TOP_RIGHT):new ju(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||d>0?Wu(n.left+y,n.top+v,l,d,mu.BOTTOM_RIGHT):new ju(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=A>0||h>0?Wu(n.left,n.top+b,A,h,mu.BOTTOM_LEFT):new ju(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Wu(n.left+S,n.top+w,Math.max(0,i-S),Math.max(0,o-w),mu.TOP_LEFT):new ju(n.left+S,n.top+w),this.topRightPaddingBox=s>0||u>0?Wu(n.left+Math.min(g,n.width-x),n.top+w,g>n.width+x?0:Math.max(0,s-x),Math.max(0,u-w),mu.TOP_RIGHT):new ju(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=l>0||d>0?Wu(n.left+Math.min(y,n.width-S),n.top+Math.min(v,n.height-C),Math.max(0,l-x),Math.max(0,d-C),mu.BOTTOM_RIGHT):new ju(n.left+n.width-x,n.top+n.height-C),this.bottomLeftPaddingBox=A>0||h>0?Wu(n.left+S,n.top+Math.min(b,n.height-C),Math.max(0,A-S),Math.max(0,h-C),mu.BOTTOM_LEFT):new ju(n.left+S,n.top+n.height-C),this.topLeftContentBox=i>0||o>0?Wu(n.left+S+D,n.top+w+k,Math.max(0,i-(S+D)),Math.max(0,o-(w+k)),mu.TOP_LEFT):new ju(n.left+S+D,n.top+w+k),this.topRightContentBox=s>0||u>0?Wu(n.left+Math.min(g,n.width+S+D),n.top+w+k,g>n.width+S+D?0:s-S+D,u-(w+k),mu.TOP_RIGHT):new ju(n.left+n.width-(x+_),n.top+w+k),this.bottomRightContentBox=l>0||d>0?Wu(n.left+Math.min(y,n.width-(S+D)),n.top+Math.min(v,n.height+w+k),Math.max(0,l-(x+_)),d-(C+B),mu.BOTTOM_RIGHT):new ju(n.left+n.width-(x+_),n.top+n.height-(C+B)),this.bottomLeftContentBox=A>0||h>0?Wu(n.left+S+D,n.top+b,Math.max(0,A-(S+D)),h-(C+B),mu.BOTTOM_LEFT):new ju(n.left+S+D,n.top+n.height-(C+B))}return e}();(function(e){e[e["TOP_LEFT"]=0]="TOP_LEFT",e[e["TOP_RIGHT"]=1]="TOP_RIGHT",e[e["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT",e[e["BOTTOM_LEFT"]=3]="BOTTOM_LEFT"})(mu||(mu={}));var Wu=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,u=e+n,c=t+r;switch(i){case mu.TOP_LEFT:return new Gu(new ju(e,c),new ju(e,c-s),new ju(u-a,t),new ju(u,t));case mu.TOP_RIGHT:return new Gu(new ju(e,t),new ju(e+a,t),new ju(u,c-s),new ju(u,c));case mu.BOTTOM_RIGHT:return new Gu(new ju(u,t),new ju(u,t+s),new ju(e+a,c),new ju(e,c));case mu.BOTTOM_LEFT:default:return new Gu(new ju(u,c),new ju(u-a,c),new ju(e,t+s),new ju(e,t))}},$u=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Xu=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Yu=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ju=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Zu=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),ec=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),tc=function(e){return 0===e.type},nc=function(e){return 1===e.type},rc=function(e){return 2===e.type},ic=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},oc=function(e,t,n,r,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},ac=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),sc=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new qu(this.container),this.container.styles.opacity<1&&this.effects.push(new ec(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Ju(n,r,i))}if(0!==this.container.styles.overflowX){var o=$u(this.curves),a=Yu(this.curves);ic(o,a)?this.effects.push(new Zu(o,6)):(this.effects.push(new Zu(o,2)),this.effects.push(new Zu(a,4)))}}return e.prototype.getEffects=function(e){var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);while(n){var i=n.effects.filter((function(e){return!nc(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=$u(n.curves),a=Yu(n.curves);ic(o,a)||r.unshift(new Zu(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return yo(t.target,e)}))},e}(),uc=function e(t,n,r,i){t.container.elements.forEach((function(o){var a=yo(o.flags,4),s=yo(o.flags,2),u=new sc(o,t);yo(o.styles.display,2048)&&i.push(u);var c=yo(o.flags,8)?[]:i;if(a||s){var l=a||o.styles.isPositioned()?r:n,d=new ac(u);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var f=o.styles.zIndex.order;if(f<0){var A=0;l.negativeZIndex.some((function(e,t){return f>e.element.container.styles.zIndex.order?(A=t,!1):A>0})),l.negativeZIndex.splice(A,0,d)}else if(f>0){var h=0;l.positiveZIndex.some((function(e,t){return f>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),l.positiveZIndex.splice(h,0,d)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else o.styles.isFloating()?l.nonPositionedFloats.push(d):l.nonPositionedInlineLevel.push(d);e(u,d,a?d:r,c)}else o.styles.isInlineLevel()?n.inlineLevel.push(u):n.nonInlineLevel.push(u),e(u,n,r,c);yo(o.flags,8)&&cc(o,c)}))},cc=function(e,t){for(var n=e instanceof ls?e.start:1,r=e instanceof ls&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof cs&&"number"===typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Au(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},lc=function(e){var t=new sc(e,null),n=new ac(t),r=[];return uc(t,n,n,r),cc(t.container,r),n},dc=function(e,t){switch(t){case 0:return mc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return mc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return mc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return mc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},fc=function(e,t){switch(t){case 0:return mc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return mc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return mc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return mc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Ac=function(e,t){switch(t){case 0:return mc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return mc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return mc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return mc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},hc=function(e,t){switch(t){case 0:return pc(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return pc(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return pc(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return pc(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},pc=function(e,t){var n=[];return Ku(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ku(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},mc=function(e,t,n,r){var i=[];return Ku(e)?i.push(e.subdivide(.5,!1)):i.push(e),Ku(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ku(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ku(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},gc=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},vc=function(e){var t=e.styles,n=e.bounds,r=nr(t.paddingLeft,n.width),i=nr(t.paddingRight,n.width),o=nr(t.paddingTop,n.width),a=nr(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},yc=function(e,t){return 0===e?t.bounds:2===e?vc(t):gc(t)},bc=function(e,t){return 0===e?t.bounds:2===e?vc(t):gc(t)},wc=function(e,t,n){var r=yc(kc(e.styles.backgroundOrigin,t),e),i=bc(kc(e.styles.backgroundClip,t),e),o=Sc(kc(e.styles.backgroundSize,t),n,r),a=o[0],s=o[1],u=tr(kc(e.styles.backgroundPosition,t),r.width-a,r.height-s),c=_c(kc(e.styles.backgroundRepeat,t),u,o,r,i),l=Math.round(r.left+u[0]),d=Math.round(r.top+u[1]);return[c,l,d,a,s]},xc=function(e){return Qn(e)&&e.value===Wr.AUTO},Cc=function(e){return"number"===typeof e},Sc=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(Xn(a)&&s&&Xn(s))return[nr(a,n.width),nr(s,n.height)];var u=Cc(o);if(Qn(a)&&(a.value===Wr.CONTAIN||a.value===Wr.COVER)){if(Cc(o)){var c=n.width/n.height;return c<o!==(a.value===Wr.COVER)?[n.width,n.width/o]:[n.height*o,n.height]}return[n.width,n.height]}var l=Cc(r),d=Cc(i),f=l||d;if(xc(a)&&(!s||xc(s))){if(l&&d)return[r,i];if(!u&&!f)return[n.width,n.height];if(f&&u){var A=l?r:i*o,h=d?i:r/o;return[A,h]}var p=l?r:n.width,m=d?i:n.height;return[p,m]}if(u){var g=0,v=0;return Xn(a)?g=nr(a,n.width):Xn(s)&&(v=nr(s,n.height)),xc(a)?g=v*o:s&&!xc(s)||(v=g/o),[g,v]}var y=null,b=null;if(Xn(a)?y=nr(a,n.width):s&&Xn(s)&&(b=nr(s,n.height)),null===y||s&&!xc(s)||(b=l&&d?y/r*i:n.height),null!==b&&xc(a)&&(y=l&&d?b/i*r:n.width),null!==y&&null!==b)return[y,b];throw new Error("Unable to calculate background-size for element")},kc=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},_c=function(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],u=n[1];switch(e){case 2:return[new ju(Math.round(r.left),Math.round(r.top+a)),new ju(Math.round(r.left+r.width),Math.round(r.top+a)),new ju(Math.round(r.left+r.width),Math.round(u+r.top+a)),new ju(Math.round(r.left),Math.round(u+r.top+a))];case 3:return[new ju(Math.round(r.left+o),Math.round(r.top)),new ju(Math.round(r.left+o+s),Math.round(r.top)),new ju(Math.round(r.left+o+s),Math.round(r.height+r.top)),new ju(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new ju(Math.round(r.left+o),Math.round(r.top+a)),new ju(Math.round(r.left+o+s),Math.round(r.top+a)),new ju(Math.round(r.left+o+s),Math.round(r.top+a+u)),new ju(Math.round(r.left+o),Math.round(r.top+a+u))];default:return[new ju(Math.round(i.left),Math.round(i.top)),new ju(Math.round(i.left+i.width),Math.round(i.top)),new ju(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ju(Math.round(i.left),Math.round(i.height+i.top))]}},Bc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Dc="Hidden Text",Mc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=Bc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Dc)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Dc)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Ec=function(){function e(e,t){this.context=e,this.options=t}return e}(),Tc=1e4,Ic=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Mc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){var t=this;while(this._activeEffects.length)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),rc(e)&&(this.ctx.globalAlpha=e.opacity),tc(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),nc(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t=e.element.container.styles,t.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return yo(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;if(0===t)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var i=Ya(e.text);i.reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)}},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=Nc(e.fontFamily).join(", "),r=Rn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,d=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),u=s.baseline,c=s.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(n){switch(n){case 0:d.ctx.fillStyle=Ar(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,u);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){d.ctx.shadowColor=Ar(n.color),d.ctx.shadowOffsetX=n.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=n.offsetY.number*d.options.scale,d.ctx.shadowBlur=n.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,u)})),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=Ar(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+u),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1);break}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=Ar(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=vc(e),i=Yu(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,u,c,l,d,f,A,h,p,m,g,v,y,b,w,x;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,s=0,u=t.textNodes,i.label=1;case 1:return s<u.length?(c=u[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof as))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof ss&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof us))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof xs&&t.tree?(l=new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}),[4,l.render(t.tree)]):[3,14];case 13:d=i.sent(),t.width&&t.height&&this.ctx.drawImage(d,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof ys&&(f=Math.min(t.bounds.width,t.bounds.height),t.type===ps?t.checked&&(this.ctx.save(),this.path([new ju(t.bounds.left+.39363*f,t.bounds.top+.79*f),new ju(t.bounds.left+.16*f,t.bounds.top+.5549*f),new ju(t.bounds.left+.27347*f,t.bounds.top+.44071*f),new ju(t.bounds.left+.39694*f,t.bounds.top+.5649*f),new ju(t.bounds.left+.72983*f,t.bounds.top+.23*f),new ju(t.bounds.left+.84*f,t.bounds.top+.34085*f),new ju(t.bounds.left+.39363*f,t.bounds.top+.79*f)]),this.ctx.fillStyle=Ar(vs),this.ctx.fill(),this.ctx.restore()):t.type===ms&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+f/2,t.bounds.top+f/2,f/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ar(vs),this.ctx.fill(),this.ctx.restore())),Oc(t)&&t.value.length){switch(A=this.createFontStyle(o),w=A[0],h=A[1],p=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=Ar(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Fc(t.styles.textAlign),x=vc(t),m=0,t.styles.textAlign){case 1:m+=x.width/2;break;case 2:m+=x.width;break}g=x.add(m,0,0,-x.height/2+1),this.ctx.save(),this.path([new ju(x.left,x.top),new ju(x.left+x.width,x.top),new ju(x.left+x.width,x.top+x.height),new ju(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qa(t.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yo(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(v=t.styles.listStyleImage,0!==v.type)return[3,18];y=void 0,b=v.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=i.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(o)[0],this.ctx.font=w,this.ctx.fillStyle=Ar(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new a(t.bounds.left,t.bounds.top+nr(t.styles.paddingTop,t.bounds.width),t.bounds.width,Oi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qa(e.listValue,x),o.letterSpacing,Oi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c,l,d,f,A,h,p,m;return i(this,(function(i){switch(i.label){case 0:return yo(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(m=n[t],[4,this.renderStack(m)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?(m=o[r],[4,this.renderNode(m)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,i.label=11;case 11:return a<s.length?(m=s[a],[4,this.renderStack(m)]):[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:u=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return u<c.length?(m=c[u],[4,this.renderStack(m)]):[3,18];case 16:i.sent(),i.label=17;case 17:return u++,[3,15];case 18:l=0,d=e.inlineLevel,i.label=19;case 19:return l<d.length?(m=d[l],[4,this.renderNode(m)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:f=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return f<A.length?(m=A[f],[4,this.renderStack(m)]):[3,26];case 24:i.sent(),i.label=25;case 25:return f++,[3,23];case 26:h=0,p=e.positiveZIndex,i.label=27;case 27:return h<p.length?(m=p[h],[4,this.renderStack(m)]):[3,30];case 28:i.sent(),i.label=29;case 29:return h++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Ku(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Ku(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document,o=i.createElement("canvas");o.width=Math.max(1,t),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(e,0,0,e.width,e.height,0,0,t,n),o},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(u){switch(u.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,u,c,l,d,f,A,h,p,m,g,v,y,b,w,x,C,S,k,_,B,D,M,E,T,I,O,L,F;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=wc(e,t,[o.width,o.height,o.width/o.height]),b=s[0],_=s[1],B=s[2],C=s[3],S=s[4],v=r.ctx.createPattern(r.resizeImage(o,C,S),"repeat"),r.renderRepeat(b,v,_,B)),[3,6];case 5:zr(n)?(u=wc(e,t,[null,null,null]),b=u[0],_=u[1],B=u[2],C=u[3],S=u[4],c=Br(n.angle,C,S),l=c[0],d=c[1],f=c[2],A=c[3],h=c[4],p=document.createElement("canvas"),p.width=C,p.height=S,m=p.getContext("2d"),g=m.createLinearGradient(d,A,f,h),kr(n.stops,l).forEach((function(e){return g.addColorStop(e.stop,Ar(e.color))})),m.fillStyle=g,m.fillRect(0,0,C,S),C>0&&S>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(b,v,_,B))):Gr(n)&&(y=wc(e,t,[null,null,null]),b=y[0],w=y[1],x=y[2],C=y[3],S=y[4],k=0===n.position.length?[Zn]:n.position,_=nr(k[0],C),B=nr(k[k.length-1],S),D=Er(n,_,B,C,S),M=D[0],E=D[1],M>0&&E>0&&(T=r.ctx.createRadialGradient(w+_,x+B,0,w+_,x+B,M),kr(n.stops,2*M).forEach((function(e){return T.addColorStop(e.stop,Ar(e.color))})),r.path(b),r.ctx.fillStyle=T,M!==E?(I=e.bounds.left+.5*e.bounds.width,O=e.bounds.top+.5*e.bounds.height,L=E/M,F=1/L,r.ctx.save(),r.ctx.translate(I,O),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-I,-O),r.ctx.fillRect(w,F*(x-O)+O,C,S*F),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(dc(n,t)),this.ctx.fillStyle=Ar(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=fc(o,n),this.path(r),this.ctx.fillStyle=Ar(e),this.ctx.fill(),a=Ac(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!fr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=Lc(kc(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),fr(t.backgroundColor)||(this.ctx.fillStyle=Ar(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var n=$u(e.curves),r=t.inset?0:Tc,i=oc(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(n),l.ctx.clip(),l.mask(i)):(l.mask(n),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+r,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=Ar(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?Ar(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:a=0,s=0,u=r,i.label=3;case 3:return s<u.length?(c=u[s],0!==c.style&&!fr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,2)]:[3,11]):[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,e.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,u,c,l,d,f,A,h,p,m,g,v,y,b,w;return i(this,(function(i){return this.ctx.save(),r=hc(o,n),s=dc(o,n),2===a&&(this.path(s),this.ctx.clip()),Ku(s[0])?(u=s[0].start.x,c=s[0].start.y):(u=s[0].x,c=s[0].y),Ku(s[1])?(l=s[1].end.x,d=s[1].end.y):(l=s[1].x,d=s[1].y),f=0===n||2===n?Math.abs(u-l):Math.abs(c-d),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(s.slice(0,2)),A=t<3?3*t:2*t,h=t<3?2*t:t,3===a&&(A=t,h=t),p=!0,f<=2*A?p=!1:f<=2*A+h?(m=f/(2*A+h),A*=m,h*=m):(g=Math.floor((f+h)/(A+h)),v=(f-g*A)/(g-1),y=(f-(g+1)*A)/g,h=y<=0||Math.abs(h-v)<Math.abs(h-y)?v:y),p&&(3===a?this.ctx.setLineDash([0,A+h]):this.ctx.setLineDash([A,h])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=Ar(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Ku(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new ju(b.end.x,b.end.y),new ju(w.start.x,w.start.y)]),this.ctx.stroke()),Ku(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new ju(b.end.x,b.end.y),new ju(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=lc(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(Ec),Oc=function(e){return e instanceof ws||(e instanceof bs||e instanceof ys&&e.type!==ms&&e.type!==ps)},Lc=function(e,t){switch(e){case 0:return $u(t);case 2:return Xu(t);case 1:default:return Yu(t)}},Fc=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Pc=["-apple-system","system-ui"],Nc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===Pc.indexOf(e)})):e},Uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=za(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Hc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(Ec),Hc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Rc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Vc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Rc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new Lu(this,t)}return e.instanceCount=1,e}(),Qc=function(e,t){return void 0===t&&(t={}),jc(e,t)};"undefined"!==typeof window&&Ou.setContext(window);var jc=function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,c,l,d,f,A,h,p,g,v,y,b,w,x,C,S,k,_,B,D,M,E,T,I,O,L,F,P,N,U,H,R,V,Q,j,z,G,K;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==m(e))return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(o=r.defaultView,!o)throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(E=t.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(T=t.imageTimeout)&&void 0!==T?T:15e3,proxy:t.proxy,useCORS:null!==(I=t.useCORS)&&void 0!==I&&I},l=n({logging:null===(O=t.logging)||void 0===O||O,cache:t.cache},c),d={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:o.innerWidth,windowHeight:null!==(F=t.windowHeight)&&void 0!==F?F:o.innerHeight,scrollX:null!==(P=t.scrollX)&&void 0!==P?P:o.pageXOffset,scrollY:null!==(N=t.scrollY)&&void 0!==N?N:o.pageYOffset},f=new a(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),A=new Vc(l,f),h=null!==(U=t.foreignObjectRendering)&&void 0!==U&&U,p={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},A.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),g=new pu(A,e,p),v=g.clonedReferenceElement,v?[4,g.toIFrame(r,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=i.sent(),b=Us(v)||Ps(v)?u(v.ownerDocument):s(A,v),w=b.width,x=b.height,C=b.left,S=b.top,k=zc(A,v,t.backgroundColor),_={canvas:t.canvas,backgroundColor:k,scale:null!==(V=null!==(R=t.scale)&&void 0!==R?R:o.devicePixelRatio)&&void 0!==V?V:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+C,y:(null!==(j=t.y)&&void 0!==j?j:0)+S,width:null!==(z=t.width)&&void 0!==z?z:Math.ceil(w),height:null!==(G=t.height)&&void 0!==G?G:Math.ceil(x)},h?(A.logger.debug("Document cloned, using foreign object rendering"),M=new Uc(A,_),[4,M.render(v)]):[3,3];case 2:return B=i.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+C+","+S+" with size "+w+"x"+x+" using computed rendering"),A.logger.debug("Starting DOM parsing"),D=_s(A,v),k===D.styles.backgroundColor&&(D.styles.backgroundColor=wr.TRANSPARENT),A.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),M=new Ic(A,_),[4,M.render(D)];case 4:B=i.sent(),i.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(pu.destroy(y)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,B]}}))}))},zc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?br(e,getComputedStyle(r.documentElement).backgroundColor):wr.TRANSPARENT,o=r.body?br(e,getComputedStyle(r.body).backgroundColor):wr.TRANSPARENT,a="string"===typeof n?br(e,n):null===n?wr.TRANSPARENT:4294967295;return t===r.documentElement?fr(i)?fr(o)?a:o:i:a};return Qc}))})(Pd);var Nd,Ud,Hd=Pd.exports,Rd=y({__proto__:null,default:Hd},[Pd.exports]),Vd=nt.InsertElementCommand,Qd=nt.RemoveElementCommand,jd=nt.ChangeElementCommand,zd=nt.BatchCommand,Gd=null,Kd=function(e){Gd=e,Gd.setSvgString=$d,Gd.importSvgString=Xd,Gd.uniquifyElems=tf,Gd.setUseData=nf,Gd.convertGradients=of,Gd.removeUnusedDefElems=rf,Gd.svgCanvasToString=qd,Gd.svgToString=Wd,Gd.embedImage=Yd,Gd.rasterExport=Zd,Gd.exportPDF=ef},qd=function(){while(Gd.removeUnusedDefElems()>0);Gd.pathActions.clear(!0);var e=Gd.getSvgContent().childNodes;e.forEach((function(e,t){t&&8===e.nodeType&&e.data.includes("Created with")&&Gd.getSvgContent().firstChild.before(e)})),Gd.getCurrentGroup()&&(Pn(),Gd.selectOnly([Gd.getCurrentGroup()]));var t=[],n=Gd.getSvgContent().querySelectorAll("g[data-gsvg]");Array.prototype.forEach.call(n,(function(e){for(var n=e.attributes,r=n.length,i=0;i<r;i++)"id"!==n[i].nodeName&&"style"!==n[i].nodeName||r--;if(r<=0){var o=e.firstChild;t.push(o),e.replaceWith(o)}}));var r=Gd.svgToString(Gd.getSvgContent(),0);return t.length&&Array.prototype.forEach.call(t,(function(e){Gd.groupSvgElem(e)})),r},Wd=function(e,t){var n=Gd.getCurConfig(),r=Gd.getNsMap(),i=[],o=n.baseUnit,a=new RegExp("^-?[\\d\\.]+"+o+"$");if(e){He(e);var s=h(e.attributes),u=e.childNodes;s.sort((function(e,t){return e.name>t.name?-1:1}));for(var c=0;c<t;c++)i.push(" ");if(i.push("<"),i.push(e.nodeName),"svgcontent"===e.id){var l=Gd.getResolution(),d="";n.dynamicOutput?(d=e.getAttribute("viewBox"),i.push(' viewBox="'+d+'" xmlns="'+L.SVG+'"')):("px"!==o&&(l.w=E(l.w,o)+o,l.h=E(l.h,o)+o),i.push(' width="'+l.w+'" height="'+l.h+'" xmlns="'+L.SVG+'"'));var f={},A=e.querySelectorAll("*"),p=Array.prototype.slice.call(A);p.push(e),Array.prototype.forEach.call(p,(function(e){var t=e.namespaceURI;if(t&&!f[t]&&r[t]&&"xmlns"!==r[t]&&"xml"!==r[t]&&(f[t]=!0,i.push(" xmlns:"+r[t]+'="'+t+'"')),e.attributes.length>0)for(var n=0,o=Object.entries(e.attributes);n<o.length;n++){var a=g(o[n],2),s=a[1],u=s.namespaceURI;u&&!f[u]&&"xmlns"!==r[u]&&"xml"!==r[u]&&(f[u]=!0,i.push(" xmlns:"+r[u]+'="'+u+'"'))}}));var m=s.length,v=["width","height","xmlns","x","y","viewBox","id","overflow"];while(m--){var y=s[m],b=ie(y.value);y.nodeName.startsWith("xmlns:")||(""===b||v.includes(y.localName)||y.namespaceURI&&!r[y.namespaceURI]||(i.push(" "),i.push(y.nodeName),i.push('="'),i.push(b),i.push('"')))}}else{if("defs"===e.nodeName&&!e.firstChild)return"";for(var w=["-moz-math-font-style","_moz-math-font-style"],x=s.length-1;x>=0;x--){var C=s[x],S=ie(C.value);if(!w.includes(C.localName)){if("null"===S){var k=C.localName.replace(/-[a-z]/g,(function(e){return e[1].toUpperCase()}));if(Object.prototype.hasOwnProperty.call(e.style,k))continue}if(""!==S){if(S.startsWith("pointer-events"))continue;if("class"===C.localName&&S.startsWith("se_"))continue;if(i.push(" "),"d"===C.localName&&(S=Gd.pathActions.convertPath(e,!0)),isNaN(S)?a.test(S)&&(S=M(S)+o):S=M(S),Gd.getSvgOptionApply()&&"image"===e.nodeName&&"href"===C.localName&&Gd.getSvgOptionImages()&&"embed"===Gd.getSvgOptionImages()){var _=Gd.getEncodableImages(S);_&&(S=_)}C.namespaceURI&&C.namespaceURI!==L.SVG&&!r[C.namespaceURI]||(i.push(C.nodeName),i.push('="'),i.push(S),i.push('"'))}}}}if(e.hasChildNodes()){i.push(">"),t++;for(var B=!1,D=0;D<u.length;D++){var T=u.item(D);switch(T.nodeType){case 1:i.push("\n"),i.push(Gd.svgToString(T,t));break;case 3:var I=T.nodeValue.replace(/^\s+|\s+$/g,"");""!==I&&(B=!0,i.push(String(ie(I))));break;case 4:i.push("\n"),i.push(new Array(t+1).join(" ")),i.push("<![CDATA["),i.push(T.nodeValue),i.push("]]>");break;case 8:i.push("\n"),i.push(new Array(t+1).join(" ")),i.push("\x3c!--"),i.push(T.data),i.push("--\x3e");break}}if(t--,!B){i.push("\n");for(var O=0;O<t;O++)i.push(" ")}i.push("</"),i.push(e.nodeName),i.push(">")}else i.push("/>")}return i.join("")},$d=function(e,t){var n=Gd.getCurConfig(),r=Gd.getDataStorage();try{var i=Ae(e);if(i.firstElementChild&&i.firstElementChild.namespaceURI!==L.SVG)return!1;Gd.prepareSvg(i);var o=new zd("Change Source"),a=Gd.getSvgContent(),s=a.nextSibling;Gd.getSvgContent().remove();var u=Gd.getSvgContent();o.addSubCommand(new Qd(u,s,Gd.getSvgRoot())),Gd.getDOMDocument().adoptNode?Gd.setSvgContent(Gd.getDOMDocument().adoptNode(i.documentElement)):Gd.setSvgContent(Gd.getDOMDocument().importNode(i.documentElement,!0)),Gd.getSvgRoot().append(Gd.getSvgContent());var c=Gd.getSvgContent();Gd.current_drawing_=new wn(Gd.getSvgContent(),Gd.getIdPrefix());var l=Gd.getCurrentDrawing().getNonce();l?Gd.call("setnonce",l):Gd.call("unsetnonce");var d=c.querySelectorAll("image");Array.prototype.forEach.call(d,(function(e){Ve(e);var t=Gd.getHref(e);if(t){if(t.startsWith("data:")){var n=t.match(/svgedit_url=(.*?);/);if(n){var r=decodeURIComponent(n[1]),i=new Image;i.addEventListener("load",(function(){e.setAttributeNS(L.XLINK,"xlink:href",r)})),i.src=r}}Gd.embedImage(t)}}));for(var f=c.querySelectorAll("[id]"),A={},h=f.length,p=0;p<h;p++){var m=f[p].id?f[p].id:"undefined";isNaN(A[m])&&(A[m]=0),A[m]++}Object.entries(A).forEach((function(e){var t=g(e,2),n=t[0],r=t[1];if(r>1)for(var i=c.querySelectorAll('[id="'+n+'"]'),o=1;o<i.length;o++)i[o].setAttribute("id",Gd.getNextId())}));var v=c.querySelectorAll("svg");if(Array.prototype.forEach.call(v,(function(e){if(!X(e.parentNode,"defs")){Gd.uniquifyElems(e);var t=e.parentNode;1===t.childNodes.length&&"g"===t.nodeName?(r.put(t,"gsvg",e),t.id=t.id||Gd.getNextId()):Gd.groupSvgElem(e)}})),tr()){var y=be(),b=c.querySelectorAll("linearGradient, radialGradient, pattern");Array.prototype.forEach.call(b,(function(e){y.appendChild(e)}))}Gd.setUseData(c),Gd.convertGradients(c);var w={id:"svgcontent",overflow:n.show_outside_canvas?"visible":"hidden"},x=!1;if(c.getAttribute("viewBox")){var C=c.getAttribute("viewBox"),S=C.split(" ");w.width=S[2],w.height=S[3]}else["width","height"].forEach((function(e){var t=c.getAttribute(e)||"100%";"%"===String(t).substr(-1)?x=!0:w[e]=I(e,t)}));Sn();var k=c.children;if(Array.prototype.forEach.call(k,(function(e){var t=e.querySelectorAll(Gd.getVisElems());Array.prototype.forEach.call(t,(function(e){e.id||(e.id=Gd.getNextId())}))})),x){var _=Ie();w.width=_.width+_.x,w.height=_.height+_.y}w.width<=0&&(w.width=100),w.height<=0&&(w.height=100);for(var B=0,D=Object.entries(w);B<D.length;B++){var M=g(D[B],2),E=M[0],T=M[1];c.setAttribute(E,T)}Gd.contentW=w.width,Gd.contentH=w.height,o.addSubCommand(new Vd(Gd.getSvgContent()));var O=c.getAttribute("width"),F=c.getAttribute("height"),P={width:O,height:F};o.addSubCommand(new jd(Gd.getSvgRoot(),P)),Gd.setZoom(1),Gd.clearSelection(),tn(),Gd.getSvgRoot().append(Gd.selectorManager.selectorParentGroup),t||Gd.addCommandToHistory(o),Gd.call("sourcechanged",[Gd.getSvgContent()])}catch(KE){return console.error(KE),!1}return!0},Xd=function(e,t){var n,r,i,o=Gd.getDataStorage();try{var a=se(e),s=!1;if(Gd.getImportIds(a)&&Gd.getImportIds(a).symbol){var c=Y(Gd.getImportIds(a).symbol,"#svgroot");null!==c&&void 0!==c&&c.length&&(s=!0)}var l,d=new zd("Import Image");if(s)l=Gd.getImportIds(a).symbol,r=Gd.getImportIds(a).xform;else{var f=Ae(e);Gd.prepareSvg(f);var A=Gd.getDOMDocument().adoptNode?Gd.getDOMDocument().adoptNode(f.documentElement):Gd.getDOMDocument().importNode(f.documentElement,!0);Gd.uniquifyElems(A);var h=I("width",A.getAttribute("width")),p=I("height",A.getAttribute("height")),m=A.getAttribute("viewBox"),g=m?m.split(" "):[0,0,h,p];for(n=0;n<4;++n)g[n]=Number(g[n]);var v=Number(Gd.getSvgContent().getAttribute("height"));r=p>h?"scale("+v/3/g[3]+")":"scale("+v/3/g[2]+")",r="translate(0) "+r+" translate(0)",l=Gd.getDOMDocument().createElementNS(L.SVG,"symbol");var y=be();if(tr()){var b=A.querySelectorAll("linearGradient, radialGradient, pattern");Array.prototype.forEach.call(b,(function(e){y.appendChild(e)}))}while(A.firstChild){var w=A.firstChild;l.append(w)}var x,C=A.attributes,S=u(C);try{for(S.s();!(x=S.n()).done;){var k=x.value;l.setAttribute(k.nodeName,k.value)}}catch(_){S.e(_)}finally{S.f()}l.id=Gd.getNextId(),Gd.setImportIds(a,{symbol:l,xform:r}),be().append(l),d.addSubCommand(new Vd(l))}i=Gd.getDOMDocument().createElementNS(L.SVG,"use"),i.id=Gd.getNextId(),Gd.setHref(i,"#"+l.id),(Gd.getCurrentGroup()||Gd.getCurrentDrawing().getCurrentLayer()).append(i),d.addSubCommand(new Vd(i)),Gd.clearSelection(),t||(i.setAttribute("transform",r),Ri(i)),o.put(i,"symbol",l),o.put(i,"ref",l),Gd.addToSelection([i]),Gd.addCommandToHistory(d),Gd.call("changed",[Gd.getSvgContent()])}catch(KE){return console.error(KE),null}return i},Yd=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(n){var r=document.createElement("canvas");r.width=n.currentTarget.width,r.height=n.currentTarget.height,r.getContext("2d").drawImage(n.currentTarget,0,0);try{var i=";svgedit_url="+encodeURIComponent(e);i=r.toDataURL().replace(";base64",i+";base64"),Gd.setEncodableImages(e,i)}catch(n){Gd.setEncodableImages(e,!1)}Gd.setGoodImage(e),t(Gd.getEncodableImages(e))})),r.addEventListener("error",(function(e){n(new Error("error loading image: ".concat(e.currentTarget.attributes.src.value)))})),r.setAttribute("src",e)}))},Jd=function(){var e=Gd.getUIStrings();Gd.clearSelection();var t=[],n=[],r={feGaussianBlur:e.NoBlur,foreignObject:e.NoforeignObject,"[stroke-dasharray]":e.NoDashArray},i=Gd.getSvgContent();"font"in document.querySelector("CANVAS").getContext("2d")||(r.text=e.NoText);for(var o=0,a=Object.entries(r);o<a.length;o++){var s=g(a[o],2),u=s[0],c=s[1];i.querySelectorAll(u).length&&(n.push(u),t.push(c))}return{issues:t,issueCodes:n}},Zd=function(){var e=s(a.mark((function e(t,n,r){var i,o,s,u,c,l,d,f,A=arguments;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=A.length>3&&void 0!==A[3]?A[3]:{},o="ICO"===t?"BMP":t||"PNG",s="image/"+o.toLowerCase(),u=Jd(),c=u.issues,l=u.issueCodes,d=Gd.svgCanvasToString(),f=document.createElement("iframe"),f.onload=function(){var e=f.contentDocument||f.contentWindow.document,a=Gd.getSvgContent(),u=a.cloneNode(!0);e.body.appendChild(u),setTimeout((function(){Hd(e.body,{useCORS:!0,allowTaint:!0}).then((function(e){return new Promise((function(a){var u,A=o.toLowerCase(),h=n?e.toDataURL("image/"+A,n):e.toDataURL("image/"+A);f.parentNode.removeChild(f);var p=function(){var e={datauri:h,bloburl:u,svg:d,issues:c,issueCodes:l,type:t,mimeType:s,quality:n,WindowName:r};i.avoidEvent||Gd.call("ed",e),a(e)};e.toBlob?e.toBlob((function(e){u=de(e),p()}),s,n):(u=le(h),p())}))}))}),1e3)},document.body.appendChild(f);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ef=function(){var e=s(a.mark((function e(t){var n,r,i,o,s,u=arguments;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:nr()?"save":void 0,r=Gd.getResolution(),i=r.w>r.h?"landscape":"portrait",o="pt",s=document.createElement("iframe"),s.onload=function(){var e=s.contentDocument||s.contentWindow.document,a=Gd.getSvgContent(),u=a.cloneNode(!0);e.body.appendChild(u),setTimeout((function(){Hd(e.body,{useCORS:!0,allowTaint:!0}).then((function(e){var a=e.toDataURL("image/png"),u=new Xa({orientation:i,unit:o,format:[r.w,r.h]}),c=Gd.getDocumentTitle();u.setProperties({title:c}),u.addImage(a,"PNG",0,0,r.w,r.h),s.parentNode.removeChild(s);var l=Jd(),d=l.issues,f=l.issueCodes;n=n||"dataurlstring";var A={issues:d,issueCodes:f,WindowName:t,outputType:n};return A.output=u.output(n,"save"===n?t||"svg.pdf":void 0),Gd.call("edPDF",A),A}))}),1e3)},document.body.appendChild(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tf=function(e){var t={},n=["filter","linearGradient","pattern","radialGradient","symbol","textPath","use"];for(var r in pe(e,(function(e){if(1===e.nodeType){e.id&&(e.id in t||(t[e.id]={elem:null,attrs:[],hrefs:[]}),t[e.id].elem=e),Gd.getrefAttrs().forEach((function(n){var r=e.getAttributeNode(n);if(r){var i=Gd.getUrlFromAttr(r.value),o=i?i.substr(1):null;o&&(o in t||(t[o]={elem:null,attrs:[],hrefs:[]}),t[o].attrs.push(r))}}));var r=Gd.getHref(e);if(r&&n.includes(e.nodeName)){var i=r.substr(1);i&&(i in t||(t[i]={elem:null,attrs:[],hrefs:[]}),t[i].hrefs.push(e))}}})),t)if(r){var i=t[r].elem;if(i){var o=Gd.getNextId();i.id=o;var a=t[r].attrs,s=a.length;while(s--){var u=a[s];u.ownerElement.setAttribute(u.name,"url(#"+o+")")}var c=t[r].hrefs,l=c.length;while(l--){var d=c[l];Gd.setHref(d,"#"+o)}}}},nf=function(e){var t=e;"use"!==e.tagName&&(t=t.querySelectorAll("use")),Array.prototype.forEach.call(t,(function(e,t){var n=Gd.getDataStorage(),r=Gd.getHref(e).substr(1),i=Gd.getElement(r);i&&(n.put(e,"ref",i),"symbol"!==i.tagName&&"svg"!==i.tagName||(n.put(e,"symbol",i),n.put(e,"ref",i)))}))},rf=function(){var e=Gd.getSvgContent().getElementsByTagNameNS(L.SVG,"defs");if(!e||!e.length)return 0;var t,n,r=[],i=0,o=["fill","stroke","filter","marker-start","marker-mid","marker-end"],a=o.length,s=Gd.getSvgContent().getElementsByTagNameNS(L.SVG,"*"),u=s.length;for(t=0;t<u;t++){var c=s[t];for(n=0;n<a;n++){var l=Gd.getUrlFromAttr(c.getAttribute(o[n]));l&&r.push(l.substr(1))}var d=ve(c);d&&d.startsWith("#")&&r.push(d.substr(1))}return Array.prototype.forEach.call(e,(function(e,t){var n=e.querySelectorAll("linearGradient, radialGradient, filter, marker, svg, symbol");t=n.length;while(t--){var o=n[t],a=o.id;r.includes(a)||(Gd.setRemovedElements(a,o),o.remove(),i++)}})),i},of=function(e){var t=e.querySelectorAll("linearGradient, radialGradient");!t.length&&er()&&(t=Array.prototype.filter.call(e.querySelectorAll("*"),(function(e){return e.tagName.includes("Gradient")}))),Array.prototype.forEach.call(t,(function(e){if("userSpaceOnUse"===e.getAttribute("gradientUnits")){var t=Gd.getSvgContent(),n=t.querySelectorAll('[fill="url(#'+e.id+')"],[stroke="url(#'+e.id+')"]');if(!n.length){var r=t.querySelectorAll('[*|href="#'+e.id+'"]');if(!r.length)return;if("linearGradient"!==r[0].tagName&&"radialGradient"!==r[0].tagName||"userSpaceOnUse"!==r[0].getAttribute("gradientUnits"))return;n=t.querySelectorAll('[fill="url(#'+r[0].id+')"],[stroke="url(#'+r[0].id+')"]')}var i=we(n[0]);if(!i)return;if("linearGradient"===e.tagName){var o={x1:e.getAttribute("x1"),y1:e.getAttribute("y1"),x2:e.getAttribute("x2"),y2:e.getAttribute("y2")},a=e.gradientTransform.baseVal;if((null===a||void 0===a?void 0:a.numberOfItems)>0){var s=j(a).matrix,u=U(o.x1,o.y1,s),c=U(o.x2,o.y2,s);o.x1=u.x,o.y1=u.y,o.x2=c.x,o.y2=c.y,e.removeAttribute("gradientTransform")}e.setAttribute("x1",(o.x1-i.x)/i.width),e.setAttribute("y1",(o.y1-i.y)/i.height),e.setAttribute("x2",(o.x2-i.x)/i.width),e.setAttribute("y2",(o.y2-i.y)/i.height),e.removeAttribute("gradientUnits")}}}))},af=window.ontouchstart?10:4,sf=function(){function e(t,n,r){v(this,e),this.id=t,this.selectedElement=n,this.locked=!0,this.selectorGroup=Nd.createSVGElement({element:"g",attr:{id:"selectorGroup"+this.id}}),this.selectorRect=Nd.createSVGElement({element:"path",attr:{id:"selectedBox"+this.id,fill:"none",stroke:"#22C","stroke-width":"1","stroke-dasharray":"5,5",style:"pointer-events:none"}}),this.selectorGroup.append(this.selectorRect),this.gripCoords={nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null},this.reset(this.selectedElement,r)}return A(e,[{key:"reset",value:function(e,t){this.locked=!0,this.selectedElement=e,this.resize(t),this.selectorGroup.setAttribute("display","inline")}},{key:"showGrips",value:function(t){var n=t?"inline":"none";Ud.selectorGripsGroup.setAttribute("display",n);var r=this.selectedElement;this.hasGrips=t,r&&t&&(this.selectorGroup.append(Ud.selectorGripsGroup),e.updateGripCursors(Le(r)))}},{key:"resize",value:function(e){var t=Nd.getDataStorage(),n=this.selectorRect,r=Ud,i=r.selectorGrips,o=this.selectedElement,a=Nd.getZoom(),s=1/a,u=o.getAttribute("stroke-width");"none"===o.getAttribute("stroke")||isNaN(u)||(s+=u/2);var c=o.tagName;"text"===c&&(s+=2/a);var l=document.createElementNS(L.SVG,"svg"),d=l.createSVGMatrix(),f=o;while(f.parentNode)f.parentNode&&"g"===f.parentNode.tagName&&f.parentNode.transform&&f.parentNode.transform.baseVal.numberOfItems&&(d=R(j(o.parentNode.transform.baseVal).matrix,d)),f=f.parentNode;var A=o.transform.baseVal,h=d?R(d,j(A).matrix):j(A).matrix;if(h.e*=a,h.f*=a,e||(e=we(o)),"g"===c&&!t.has(o,"gsvg")){var p=Ee([o.childNodes]);p&&(e=p)}if(e){var m=e.x,v=e.y,y=e.width,b=e.height;s*=a;var w=Q(m*a,v*a,y*a,b*a,h),x=w.aabox,C=x.x-s,S=x.y-s,k=x.width+2*s,_=x.height+2*s,B=C+k/2,D=S+_/2,M=Le(o);if(M){var E=Nd.getSvgRoot().createSVGTransform();E.setRotate(-M,B,D);var T=E.matrix;w.tl=U(w.tl.x,w.tl.y,T),w.tr=U(w.tr.x,w.tr.y,T),w.bl=U(w.bl.x,w.bl.y,T),w.br=U(w.br.x,w.br.y,T);var I=w.tl,O=I.x,F=I.y,P=I.x,N=I.y,H=Math.min,V=Math.max;O=H(O,H(w.tr.x,H(w.bl.x,w.br.x)))-s,F=H(F,H(w.tr.y,H(w.bl.y,w.br.y)))-s,P=V(P,V(w.tr.x,V(w.bl.x,w.br.x)))+s,N=V(N,V(w.tr.y,V(w.bl.y,w.br.y)))+s,C=O,S=F,k=P-O,_=N-F}var z="M"+C+","+S+" L"+(C+k)+","+S+" "+(C+k)+","+(S+_)+" "+C+","+(S+_)+"z",G=M?"rotate("+[M,B,D].join(",")+")":"";this.gripCoords={nw:[C,S],ne:[C+k,S],sw:[C,S+_],se:[C+k,S+_],n:[C+k/2,S],w:[C,S+_/2],e:[C+k,S+_/2],s:[C+k/2,S+_]},n.setAttribute("d",z),this.selectorGroup.setAttribute("transform",G),Object.entries(this.gripCoords).forEach((function(e){var t=g(e,2),n=t[0],r=t[1];i[n].setAttribute("cx",r[0]),i[n].setAttribute("cy",r[1])})),r.rotateGripConnector.setAttribute("x1",C+k/2),r.rotateGripConnector.setAttribute("y1",S),r.rotateGripConnector.setAttribute("x2",C+k/2),r.rotateGripConnector.setAttribute("y2",S-5*af),r.rotateGrip.setAttribute("cx",C+k/2),r.rotateGrip.setAttribute("cy",S-5*af)}}}],[{key:"updateGripCursors",value:function(e){var t=Object.keys(Ud.selectorGrips),n=Math.round(e/45);n<0&&(n+=8);while(n>0)t.push(t.shift()),n--;Object.values(Ud.selectorGrips).forEach((function(e,n){e.setAttribute("style","cursor:"+t[n]+"-resize")}))}}]),e}(),uf=function(){function e(){v(this,e),this.selectorParentGroup=null,this.rubberBandBox=null,this.selectors=[],this.selectorMap={},this.selectorGrips={nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null},this.selectorGripsGroup=null,this.rotateGripConnector=null,this.rotateGrip=null,this.initGroup()}return A(e,[{key:"initGroup",value:function(){var e,t=this,n=Nd.getDataStorage();if(null!==(e=this.selectorParentGroup)&&void 0!==e&&e.parentNode&&this.selectorParentGroup.remove(),this.selectorParentGroup=Nd.createSVGElement({element:"g",attr:{id:"selectorParentGroup"}}),this.selectorGripsGroup=Nd.createSVGElement({element:"g",attr:{display:"none"}}),this.selectorParentGroup.append(this.selectorGripsGroup),Nd.getSvgRoot().append(this.selectorParentGroup),this.selectorMap={},this.selectors=[],this.rubberBandBox=null,Object.keys(this.selectorGrips).forEach((function(e){var r=Nd.createSVGElement({element:"circle",attr:{id:"selectorGrip_resize_"+e,fill:"#22C",r:af,style:"cursor:"+e+"-resize","stroke-width":2,"pointer-events":"all"}});n.put(r,"dir",e),n.put(r,"type","resize"),t.selectorGrips[e]=r,t.selectorGripsGroup.append(r)})),this.rotateGripConnector=Nd.createSVGElement({element:"line",attr:{id:"selectorGrip_rotateconnector",stroke:"#22C","stroke-width":"1"}}),this.selectorGripsGroup.append(this.rotateGripConnector),this.rotateGrip=Nd.createSVGElement({element:"circle",attr:{id:"selectorGrip_rotate",fill:"lime",r:af,stroke:"#22C","stroke-width":2,style:"cursor:url(".concat(Nd.curConfig.imgPath,"/rotate.svg) 12 12, auto;")}}),this.selectorGripsGroup.append(this.rotateGrip),n.put(this.rotateGrip,"type","rotate"),!document.getElementById("canvasBackground")){var r=g(Nd.curConfig.dimensions,2),i=r[0],o=r[1],a=Nd.createSVGElement({element:"svg",attr:{id:"canvasBackground",width:i,height:o,x:0,y:0,overflow:er()?"none":"visible",style:"pointer-events:none"}}),s=Nd.createSVGElement({element:"rect",attr:{width:"100%",height:"100%",x:0,y:0,"stroke-width":1,stroke:"#000",fill:"#FFF",style:"pointer-events:none"}});a.append(s),Nd.getSvgRoot().insertBefore(a,Nd.getSvgContent())}}},{key:"requestSelector",value:function(e,t){if(!e)return null;var n=this.selectors.length;if("object"===m(this.selectorMap[e.id]))return this.selectorMap[e.id].locked=!0,this.selectorMap[e.id];for(var r=0;r<n;++r){var i;if(null===(i=this.selectors[r])||void 0===i||!i.locked)return this.selectors[r].locked=!0,this.selectors[r].reset(e,t),this.selectorMap[e.id]=this.selectors[r],this.selectors[r]}return this.selectors[n]=new sf(n,e,t),this.selectorParentGroup.append(this.selectors[n].selectorGroup),this.selectorMap[e.id]=this.selectors[n],this.selectors[n]}},{key:"releaseSelector",value:function(e){if(e){var t=this.selectors.length,n=this.selectorMap[e.id];null!==n&&void 0!==n&&n.locked||console.warn("WARNING! selector was released but was already unlocked");for(var r=0;r<t;++r)if(this.selectors[r]&&this.selectors[r]===n){delete this.selectorMap[e.id],n.locked=!1,n.selectedElement=null,n.showGrips(!1);try{n.selectorGroup.setAttribute("display","none")}catch(KE){}break}}}},{key:"getRubberBandBox",value:function(){return this.rubberBandBox||(this.rubberBandBox=Nd.createSVGElement({element:"rect",attr:{id:"selectorRubberBand",fill:"#22C","fill-opacity":.15,stroke:"#22C","stroke-width":.5,display:"none",style:"pointer-events:none"}}),this.selectorParentGroup.append(this.rubberBandBox)),this.rubberBandBox}}]),e}(),cf=function(e){Nd=e,Ud=new uf},lf=function(){return Ud},df=null,ff=function(e){df=e},Af=function(){var e=df.getCurConfig(),t=e.dimensions,n=df.getSvgContent();while(n.firstChild)n.removeChild(n.firstChild);var r=df.getSvgRoot();n.setAttribute("id","svgcontent"),n.setAttribute("width",t[0]),n.setAttribute("height",t[1]),n.setAttribute("x",t[0]),n.setAttribute("y",t[1]),n.setAttribute("overflow",e.show_outside_canvas?"visible":"hidden"),n.setAttribute("xmlns",L.SVG),n.setAttribute("xmlns:se",L.SE),n.setAttribute("xmlns:xlink",L.XLINK),r.appendChild(n);var i=df.getDOMDocument().createComment(" Created with SVG-edit - https://github.com/SVG-Edit/svgedit");df.getSvgContent().append(i)},hf={_storage:new WeakMap,put:function(e,t,n){this._storage.has(e)||this._storage.set(e,new Map),this._storage.get(e).set(t,n)},get:function(e,t){var n;return null===(n=this._storage.get(e))||void 0===n?void 0:n.get(t)},has:function(e,t){return this._storage.has(e)&&this._storage.get(e).has(t)},remove:function(e,t){var n=this._storage.get(e).delete(t);return 0===this._storage.get(e).size&&this._storage.delete(e),n}},pf="a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use",mf=["clip-path","fill","filter","marker-end","marker-mid","marker-start","mask","stroke"],gf=.8,vf=10,yf="svgedit_clipboard",bf=function(){function e(t,n){var r,i,o,a=this;v(this,e),this.initializeSvgCanvasMethods(),B(this);var s=un.pathActions;this.saveOptions={round_digits:2},this.importIds={},this.extensions={},this.removedElements={},this.started=!1,this.startTransform=null,this.currentMode="select",this.currentResizeMode="none",this.justSelected=null,this.rubberBox=null,this.curBBoxes=[],this.lastClickPoint=null,this.events={},this.rootSctm=null,this.drawnPath=null,this.freehand={minx:null,miny:null,maxx:null,maxy:null},this.dAttr=null,this.startX=null,this.startY=null,this.rStartX=null,this.rStartY=null,this.initBbox={},this.sumDistance=0,this.controllPoint2={x:0,y:0},this.controllPoint1={x:0,y:0},this.start={x:0,y:0},this.end={x:0,y:0},this.bSpline={x:0,y:0},this.nextPos={x:0,y:0},this.idprefix="svg_",this.encodableImages={},this.curConfig={show_outside_canvas:!0,selectNew:!0,dimensions:[640,480]},n&&(this.curConfig=e.mergeDeep(this.curConfig,n)),this.lastGoodImgUrl="".concat(this.curConfig.imgPath,"/logo.svg");var u=this.curConfig.dimensions;this.svgdoc=window.document,this.container=t,this.svgroot=Gn(this.svgdoc,u),t.append(this.svgroot),this.svgContent=this.svgdoc.createElementNS(L.SVG,"svg"),zn(this),ff(this),this.clearSvgContentElement(),this.current_drawing_=new wn(this.svgContent,this.idprefix),this.zoom=1,this.currentGroup=null;var c={shape:{fill:("none"===this.curConfig.initFill.color?"":"#")+this.curConfig.initFill.color,fill_paint:null,fill_opacity:this.curConfig.initFill.opacity,stroke:"#"+this.curConfig.initStroke.color,stroke_paint:null,stroke_opacity:this.curConfig.initStroke.opacity,stroke_width:this.curConfig.initStroke.width,stroke_dasharray:"none",stroke_linejoin:"miter",stroke_linecap:"butt",opacity:this.curConfig.initOpacity}};c.text=e.mergeDeep({},c.shape),c.text=e.mergeDeep(c.text,{fill:"#000000",stroke_width:null===(r=this.curConfig.text)||void 0===r?void 0:r.stroke_width,font_size:null===(i=this.curConfig.text)||void 0===i?void 0:i.font_size,font_family:null===(o=this.curConfig.text)||void 0===o?void 0:o.font_family}),this.curText=c.text,this.curShape=c.shape,this.curProperties=this.curShape,this.selectedElements=[],Qr(this),re(this),Pi(this),Ui(this),cf(this),sr(this),hr(this),this.nsMap=F(),this.selectorManager=lf(),this.pathActions=s,Ut(this),this.uiStrings={},this.opacAni=document.createElementNS(L.SVG,"animate"),this.opacAni.setAttribute("attributeName","opacity"),this.opacAni.setAttribute("begin","indefinite"),this.opacAni.setAttribute("dur",1),this.opacAni.setAttribute("fill","freeze"),this.svgroot.appendChild(this.opacAni),Tr(this),_r(this),Kd(this),Cn(this),Kr(this);var l=function(e){return e.preventDefault(),!1};t.addEventListener("mousedown",this.mouseDownEvent),t.addEventListener("mousemove",this.mouseMoveEvent),qe(t,l),t.addEventListener("dblclick",this.dblClickEvent),t.addEventListener("mouseup",this.mouseUpEvent),t.addEventListener("mouseleave",this.mouseOutEvent),t.addEventListener("mousewheel",this.DOMMouseScrollEvent),t.addEventListener("DOMMouseScroll",this.DOMMouseScrollEvent),this.linkControlPoints=s.linkControlPoints,this.curCommand=null,this.filter=null,this.filterHidden=!1,Ao(this),qi(this);var d=function(e){e.newValue&&(e.key===yf+"_startup"?(localStorage.removeItem(yf+"_startup"),a.flashStorage()):e.key===yf&&sessionStorage.setItem(yf,e.newValue))};window.addEventListener("storage",d,!1),localStorage.setItem(yf+"_startup",Math.random()),Vn(this),this.contentW=this.getResolution().w,this.contentH=this.getResolution().h,this.clear()}return A(e,[{key:"getSvgOption",value:function(){return this.saveOptions}},{key:"setSvgOption",value:function(e,t){this.saveOptions[e]=t}},{key:"getSelectedElements",value:function(){return this.selectedElements}},{key:"setSelectedElements",value:function(e,t){this.selectedElements[e]=t}},{key:"setEmptySelectedElements",value:function(){this.selectedElements=[]}},{key:"getSvgRoot",value:function(){return this.svgroot}},{key:"getDOMDocument",value:function(){return this.svgdoc}},{key:"getDOMContainer",value:function(){return this.container}},{key:"getCurConfig",value:function(){return this.curConfig}},{key:"setIdPrefix",value:function(e){this.idprefix=e}},{key:"getCurrentDrawing",value:function(){return this.current_drawing_}},{key:"getCurShape",value:function(){return this.curShape}},{key:"getCurrentGroup",value:function(){return this.currentGroup}},{key:"getBaseUnit",value:function(){return this.curConfig.baseUnit}},{key:"getHeight",value:function(){return this.svgContent.getAttribute("height")/this.zoom}},{key:"getWidth",value:function(){return this.svgContent.getAttribute("width")/this.zoom}},{key:"getRoundDigits",value:function(){return this.saveOptions.round_digits}},{key:"getSnappingStep",value:function(){return this.curConfig.snappingStep}},{key:"getGridSnapping",value:function(){return this.curConfig.gridSnapping}},{key:"getStartTransform",value:function(){return this.startTransform}},{key:"setStartTransform",value:function(e){this.startTransform=e}},{key:"getZoom",value:function(){return this.zoom}},{key:"round",value:function(e){return Number.parseInt(e*this.zoom)/this.zoom}},{key:"createSVGElement",value:function(e){return this.addSVGElementsFromJson(e)}},{key:"getContainer",value:function(){return this.container}},{key:"setStarted",value:function(e){this.started=e}},{key:"getRubberBox",value:function(){return this.rubberBox}},{key:"setRubberBox",value:function(e){return this.rubberBox=e,this.rubberBox}},{key:"addPtsToSelection",value:function(e){var t=e.closedSubpath,n=e.grips;this.pathActions.canDeleteNodes=!0,this.pathActions.closed_subpath=t,this.call("pointsAdded",{closedSubpath:t,grips:n}),this.call("selected",n)}},{key:"endChanges",value:function(e){var t=e.cmd,n=e.elem;this.addCommandToHistory(t),this.call("changed",[n])}},{key:"getCurrentMode",value:function(){return this.currentMode}},{key:"setCurrentMode",value:function(e){return this.currentMode=e,this.currentMode}},{key:"getDrawnPath",value:function(){return this.drawnPath}},{key:"setDrawnPath",value:function(e){return this.drawnPath=e,this.drawnPath}},{key:"setCurrentGroup",value:function(e){this.currentGroup=e}},{key:"changeSvgContent",value:function(){this.call("changed",[this.svgContent])}},{key:"getStarted",value:function(){return this.started}},{key:"getCanvas",value:function(){return this}},{key:"getrootSctm",value:function(){return this.rootSctm}},{key:"getStartX",value:function(){return this.startX}},{key:"setStartX",value:function(e){this.startX=e}},{key:"getStartY",value:function(){return this.startY}},{key:"setStartY",value:function(e){this.startY=e}},{key:"getRStartX",value:function(){return this.rStartX}},{key:"getRStartY",value:function(){return this.rStartY}},{key:"getInitBbox",value:function(){return this.initBbox}},{key:"getCurrentResizeMode",value:function(){return this.currentResizeMode}},{key:"getJustSelected",value:function(){return this.justSelected}},{key:"getOpacAni",value:function(){return this.opacAni}},{key:"getParameter",value:function(){return this.parameter}},{key:"getNextParameter",value:function(){return this.nextParameter}},{key:"getStepCount",value:function(){return vf}},{key:"getThreSholdDist",value:function(){return gf}},{key:"getSumDistance",value:function(){return this.sumDistance}},{key:"getStart",value:function(e){return this.start[e]}},{key:"getEnd",value:function(e){return this.end[e]}},{key:"getbSpline",value:function(e){return this.bSpline[e]}},{key:"getNextPos",value:function(e){return this.nextPos[e]}},{key:"getControllPoint1",value:function(e){return this.controllPoint1[e]}},{key:"getControllPoint2",value:function(e){return this.controllPoint2[e]}},{key:"getFreehand",value:function(e){return this.freehand[e]}},{key:"getDrawing",value:function(){return this.getCurrentDrawing()}},{key:"getDAttr",value:function(){return this.dAttr}},{key:"getLastGoodImgUrl",value:function(){return this.lastGoodImgUrl}},{key:"getCurText",value:function(e){return this.curText[e]}},{key:"setDAttr",value:function(e){this.dAttr=e}},{key:"setEnd",value:function(e,t){this.end[e]=t}},{key:"setControllPoint1",value:function(e,t){this.controllPoint1[e]=t}},{key:"setControllPoint2",value:function(e,t){this.controllPoint2[e]=t}},{key:"setJustSelected",value:function(e){this.justSelected=e}},{key:"setParameter",value:function(e){this.parameter=e}},{key:"setStart",value:function(e){this.start=e}},{key:"setRStartX",value:function(e){this.rStartX=e}},{key:"setRStartY",value:function(e){this.rStartY=e}},{key:"setSumDistance",value:function(e){this.sumDistance=e}},{key:"setbSpline",value:function(e){this.bSpline=e}},{key:"setNextPos",value:function(e){this.nextPos=e}},{key:"setNextParameter",value:function(e){this.nextParameter=e}},{key:"setCurText",value:function(e,t){this.curText[e]=t}},{key:"setFreehand",value:function(e,t){this.freehand[e]=t}},{key:"setCurBBoxes",value:function(e){this.curBBoxes=e}},{key:"getCurBBoxes",value:function(){return this.curBBoxes}},{key:"setInitBbox",value:function(e){this.initBbox=e}},{key:"setRootSctm",value:function(e){this.rootSctm=e}},{key:"setCurrentResizeMode",value:function(e){this.currentResizeMode=e}},{key:"getLastClickPoint",value:function(e){return this.lastClickPoint[e]}},{key:"setLastClickPoint",value:function(e){this.lastClickPoint=e}},{key:"getId",value:function(){return this.getCurrentDrawing().getId()}},{key:"getUIStrings",value:function(){return this.uiStrings}},{key:"getNsMap",value:function(){return this.nsMap}},{key:"getSvgOptionApply",value:function(){return this.saveOptions.apply}},{key:"getSvgOptionImages",value:function(){return this.saveOptions.images}},{key:"getEncodableImages",value:function(e){return this.encodableImages[e]}},{key:"setEncodableImages",value:function(e,t){this.encodableImages[e]=t}},{key:"getVisElems",value:function(){return pf}},{key:"getIdPrefix",value:function(){return this.idprefix}},{key:"getDataStorage",value:function(){return hf}},{key:"setZoom",value:function(e){this.zoom=e}},{key:"getImportIds",value:function(e){return this.importIds[e]}},{key:"setImportIds",value:function(e,t){this.importIds[e]=t}},{key:"setRemovedElements",value:function(e,t){this.removedElements[e]=t}},{key:"setSvgContent",value:function(e){this.svgContent=e}},{key:"getrefAttrs",value:function(){return mf}},{key:"setCanvas",value:function(e,t){this[e]=t}},{key:"setCurProperties",value:function(e,t){this.curProperties[e]=t}},{key:"getCurProperties",value:function(e){return this.curProperties[e]}},{key:"setCurShape",value:function(e,t){this.curShape[e]=t}},{key:"gettingSelectorManager",value:function(){return this.selectorManager}},{key:"getContentW",value:function(){return this.contentW}},{key:"getContentH",value:function(){return this.contentH}},{key:"getClipboardID",value:function(){return yf}},{key:"getSvgContent",value:function(){return this.svgContent}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getSelector",value:function(){return sf}},{key:"getMode",value:function(){return this.currentMode}},{key:"getNextId",value:function(){return this.getCurrentDrawing().getNextId()}},{key:"getCurCommand",value:function(){return this.curCommand}},{key:"setCurCommand",value:function(e){this.curCommand=e}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){this.filter=e}},{key:"getFilterHidden",value:function(){return this.filterHidden}},{key:"setFilterHidden",value:function(e){this.filterHidden=e}},{key:"setMode",value:function(e){var t;this.pathActions.clear(!0),this.textActions.clear(),this.curProperties="text"===(null===(t=this.selectedElements[0])||void 0===t?void 0:t.nodeName)?this.curText:this.curShape,this.currentMode=e}},{key:"clear",value:function(){this.call("beforeClear"),this.pathActions.clear(),this.clearSelection(),this.clearSvgContentElement(),this.current_drawing_=new wn(this.svgContent),this.createLayer("Layer 1"),this.undoMgr.resetUndoStack(),this.selectorManager.initGroup(),this.rubberBox=this.selectorManager.getRubberBandBox(),this.call("afterClear")}},{key:"addExtension",value:function(){var e=s(a.mark((function e(t,n,r){var i,o,s;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=r.importLocale,"function"===typeof n){e.next=3;break}throw new TypeError("Function argument expected for `svgcanvas.addExtension`");case 3:if(!(t in this.extensions)){e.next=5;break}throw new Error('Cannot add extension "'+t+'", an extension by that name already exists.');case 5:return o={importLocale:i,svgroot:this.svgroot,svgContent:this.svgContent,nonce:this.getCurrentDrawing().getNonce(),selectorManager:this.selectorManager},e.next=8,n(o);case 8:return s=e.sent,s&&(s.name=t),this.extensions[t]=s,e.abrupt("return",this.call("extension_added",s));case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"addCommandToHistory",value:function(e){this.undoMgr.addCommandToHistory(e)}},{key:"restoreRefElements",value:function(e){var t=this,n={};mf.forEach((function(t,r){n[t]=e.getAttribute(t)})),Object.values(n).forEach((function(e){if(null!==e&&void 0!==e&&e.startsWith("url(")){var n=ge(e).substr(1),r=Ne(n);r||(be().append(t.removedElements[n]),delete t.removedElements[n])}}));var r=e.getElementsByTagName("*");if(r.length)for(var i=0,o=r.length;i<o;i++)this.restoreRefElements(r[i])}},{key:"call",value:function(e,t){if(this.events[e])return this.events[e](window,t)}},{key:"bind",value:function(e,t){var n=this.events[e];return this.events[e]=t,n}},{key:"flashStorage",value:function(){var e=sessionStorage.getItem(yf);localStorage.setItem(yf,e),setTimeout((function(){localStorage.removeItem(yf)}),1)}},{key:"selectOnly",value:function(e,t){this.clearSelection(!0),this.addToSelection(e,t)}},{key:"removeFromSelection",value:function(e){if(this.selectedElements[0]&&e.length){for(var t=[],n=this.selectedElements.length,r=0;r<n;++r){var i=this.selectedElements[r];i&&(e.includes(i)?this.selectorManager.releaseSelector(i):t.push(i))}this.selectedElements=t}}},{key:"selectAllInCurrentLayer",value:function(){var e=this.getCurrentDrawing().getCurrentLayer();e&&(this.currentMode="select",this.currentGroup?this.selectOnly(this.currentGroup.children):this.selectOnly(e.children))}},{key:"getOpacity",value:function(){return this.curShape.opacity}},{key:"getSnapToGrid",value:function(){return this.curConfig.gridSnapping}},{key:"getVersion",value:function(){return"svgcanvas.js ($Rev$)"}},{key:"setUiStrings",value:function(e){Object.assign(this.uiStrings,e.notification),It(e)}},{key:"setConfig",value:function(e){Object.assign(this.curConfig,e)}},{key:"getDocumentTitle",value:function(){return this.getTitle(this.svgContent)}},{key:"getOffset",value:function(){return{x:Number(this.svgContent.getAttribute("x")),y:Number(this.svgContent.getAttribute("y"))}}},{key:"getColor",value:function(e){return this.curProperties[e]}},{key:"setStrokePaint",value:function(e){this.setPaint("stroke",e)}},{key:"setFillPaint",value:function(e){this.setPaint("fill",e)}},{key:"getStrokeWidth",value:function(){return this.curProperties.stroke_width}},{key:"getStyle",value:function(){return this.curShape}},{key:"setOpacity",value:function(e){this.curShape.opacity=e,this.changeSelectedAttribute("opacity",e)}},{key:"getFillOpacity",value:function(){return this.curShape.fill_opacity}},{key:"getStrokeOpacity",value:function(){return this.curShape.stroke_opacity}},{key:"setPaintOpacity",value:function(e,t,n){this.curShape[e+"_opacity"]=t,n?this.changeSelectedAttributeNoUndo(e+"-opacity",t):this.changeSelectedAttribute(e+"-opacity",t)}},{key:"getPaintOpacity",value:function(e){return"fill"===e?this.getFillOpacity():this.getStrokeOpacity()}},{key:"getBlur",value:function(e){var t=0;if(e){var n=e.getAttribute("filter");if(n){var r=Ne(e.id+"_blur");if(r)t=r.firstChild.getAttribute("stdDeviation");else{var i=Fe(n),o=Pe(i);null!==o&&(t=o.getAttribute("stdDeviation"))}}}return t}},{key:"setGoodImage",value:function(e){this.lastGoodImgUrl=e}},{key:"getSvgString",value:function(){return this.saveOptions.apply=!1,this.svgCanvasToString()}},{key:"randomizeIds",value:function(e){xn(!(arguments.length>0&&!1===e),this.getCurrentDrawing())}},{key:"convertToPath",value:function(e,t){var n=this;if(e){if(t)return ke(e,this.addSVGElementsFromJson,this.pathActions);var r={fill:this.curShape.fill,"fill-opacity":this.curShape.fill_opacity,stroke:this.curShape.stroke,"stroke-width":this.curShape.stroke_width,"stroke-dasharray":this.curShape.stroke_dasharray,"stroke-linejoin":this.curShape.stroke_linejoin,"stroke-linecap":this.curShape.stroke_linecap,"stroke-opacity":this.curShape.stroke_opacity,opacity:this.curShape.opacity,visibility:"hidden"};return _e(e,r,this)}var i=this.selectedElements;i.forEach((function(e){e&&n.convertToPath(e)}))}},{key:"cutSelectedElements",value:function(){this.copySelectedElements(),this.deleteSelectedElements()}},{key:"initializeSvgCanvasMethods",value:function(){this.getJsonFromSvgElements=jr,this.addSVGElementsFromJson=zr,this.clearSvgContentElement=Af,this.textActions=Br,this.getStrokedBBox=Ie,this.getVisibleElements=Te,this.stringToHTML=Qe,this.insertChildAtIndex=je,this.getClosest=X,this.getParents=Y,this.isLayer=cn.isLayer,this.matrixMultiply=R,this.hasMatrixTransform=V,this.transformListToTransform=j,this.convertToNum=I,this.findDefs=be,this.getUrlFromAttr=ge,this.getHref=ve,this.setHref=ye,this.getBBox=we,this.getRotationAngle=Le,this.getElement=Ne,this.getRefElem=Fe,this.assignAttributes=Ue,this.cleanupElement=He,this.remapElement=Ni,this.recalculateDimensions=Ri,this.sanitizeSvg=xo,this.pasteElements=Qn,this.identifyLayers=Sn,this.createLayer=_n,this.cloneLayer=Bn,this.deleteCurrentLayer=Dn,this.setCurrentLayer=Mn,this.renameCurrentLayer=En,this.setCurrentLayerPosition=Tn,this.indexCurrentLayer=kn,this.setLayerVisibility=In,this.moveSelectedToLayer=On,this.mergeLayer=Ln,this.mergeAllLayers=Fn,this.leaveContext=Pn,this.setContext=Nn,this.changeSelectedAttributeNoUndo=lr,this.changeSelectedAttribute=dr,this.setBlurNoUndo=ho,this.setBlurOffsets=mo,this.setBlur=go,this.smoothControlPoints=Xt,this.getTypeMap=D,this.history=nt,this.NS=L,this.$id=ze,this.$qq=Ge,this.$qa=Ke,this.$click=qe,this.encode64=oe,this.decode64=ae,this.mergeDeep=$}}]),e}();bf.$id=ze,bf.$qq=Ge,bf.$qa=Ke,bf.$click=qe,bf.encode64=oe,bf.decode64=ae,bf.mergeDeep=$,bf.getClosest=X,bf.getParents=Y,bf.blankPageObjectURL=fe,bf.Paint=w,bf.getTypeMap=D,bf.convertToNum=I,bf.isValidUnit=O,bf.convertUnit=E;var wf={exports:{}};/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */(function(e,t){(function(t,n){e.exports=n()})(0,(function(){function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,i=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,a=Object.freeze,s=Object.seal,u=Object.create,c="undefined"!==typeof Reflect&&Reflect,l=c.apply,d=c.construct;l||(l=function(e,t,n){return e.apply(t,n)}),a||(a=function(e){return e}),s||(s=function(e){return e}),d||(d=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var f=C(Array.prototype.forEach),A=C(Array.prototype.pop),h=C(Array.prototype.push),p=C(String.prototype.toLowerCase),g=C(String.prototype.match),v=C(String.prototype.replace),y=C(String.prototype.indexOf),b=C(String.prototype.trim),w=C(RegExp.prototype.test),x=S(TypeError);function C(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(e,t,r)}}function S(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(e,n)}}function k(e,t){n&&n(e,null);var i=t.length;while(i--){var o=t[i];if("string"===typeof o){var a=p(o);a!==o&&(r(t)||(t[i]=a),o=a)}e[o]=!0}return e}function _(e){var n=u(null),r=void 0;for(r in e)l(t,e,[r])&&(n[r]=e[r]);return n}function B(e,t){while(null!==e){var n=o(e,t);if(n){if(n.get)return C(n.get);if("function"===typeof n.value)return C(n.value)}e=i(e)}return null}var D=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=a(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=a(["#text"]),F=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),P=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),R=s(/<%[\s\S]*|[\s\S]*%>/gm),V=s(/^data-[\-\w.\u00B7-\uFFFF]/),Q=s(/^aria-[\-\w]+$/),j=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z=s(/^(?:\w+script|data):/i),G=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K="function"===typeof Symbol&&"symbol"===m(Symbol.iterator)?function(e){return m(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":m(e)};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var W=function(){return"undefined"===typeof window?null:window},$=function(e,t){if("object"!==("undefined"===typeof e?"undefined":K(e))||"function"!==typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(cT){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),t=function(e){return X(e)};if(t.version="2.2.6",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,u=e.Element,c=e.NodeFilter,l=e.NamedNodeMap,d=void 0===l?e.NamedNodeMap||e.MozNamedAttrMap:l,m=e.Text,C=e.Comment,S=e.DOMParser,Y=e.trustedTypes,J=u.prototype,Z=B(J,"cloneNode"),ee=B(J,"nextSibling"),te=B(J,"childNodes"),ne=B(J,"parentNode");if("function"===typeof o){var re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}var ie=$(Y,n),oe=ie&&Ne?ie.createHTML(""):"",ae=r,se=ae.implementation,ue=ae.createNodeIterator,ce=ae.getElementsByTagName,le=ae.createDocumentFragment,de=n.importNode,fe={};try{fe=_(r).documentMode?r.documentMode:{}}catch(cT){}var Ae={};t.isSupported=se&&"undefined"!==typeof se.createHTMLDocument&&9!==fe;var he=H,pe=R,me=V,ge=Q,ve=z,ye=G,be=j,we=null,xe=k({},[].concat(q(D),q(M),q(E),q(I),q(L))),Ce=null,Se=k({},[].concat(q(F),q(P),q(N),q(U))),ke=null,_e=null,Be=!0,De=!0,Me=!1,Ee=!1,Te=!1,Ie=!1,Oe=!1,Le=!1,Fe=!1,Pe=!0,Ne=!1,Ue=!0,He=!0,Re=!1,Ve={},Qe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),je=null,ze=k({},["audio","video","img","source","image","track"]),Ge=null,Ke=k({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),qe=null,We=r.createElement("form"),$e=function(e){qe&&qe===e||(e&&"object"===("undefined"===typeof e?"undefined":K(e))||(e={}),e=_(e),we="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):xe,Ce="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):Se,Ge="ADD_URI_SAFE_ATTR"in e?k(_(Ke),e.ADD_URI_SAFE_ATTR):Ke,je="ADD_DATA_URI_TAGS"in e?k(_(ze),e.ADD_DATA_URI_TAGS):ze,ke="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},_e="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},Ve="USE_PROFILES"in e&&e.USE_PROFILES,Be=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=e.SAFE_FOR_TEMPLATES||!1,Te=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Pe=!1!==e.RETURN_DOM_IMPORT,Ne=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,He=!1!==e.KEEP_CONTENT,Re=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Ee&&(De=!1),Fe&&(Le=!0),Ve&&(we=k({},[].concat(q(L))),Ce=[],!0===Ve.html&&(k(we,D),k(Ce,F)),!0===Ve.svg&&(k(we,M),k(Ce,P),k(Ce,U)),!0===Ve.svgFilters&&(k(we,E),k(Ce,P),k(Ce,U)),!0===Ve.mathMl&&(k(we,I),k(Ce,N),k(Ce,U))),e.ADD_TAGS&&(we===xe&&(we=_(we)),k(we,e.ADD_TAGS)),e.ADD_ATTR&&(Ce===Se&&(Ce=_(Ce)),k(Ce,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(Ge,e.ADD_URI_SAFE_ATTR),He&&(we["#text"]=!0),Te&&k(we,["html","head","body"]),we.table&&(k(we,["tbody"]),delete ke.tbody),a&&a(e),qe=e)},Xe=k({},["mi","mo","mn","ms","mtext"]),Ye=k({},["foreignobject","desc","title","annotation-xml"]),Je=k({},M);k(Je,E),k(Je,T);var Ze=k({},I);k(Ze,O);var et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",rt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var n=p(e.tagName),r=p(t.tagName);if(e.namespaceURI===tt)return t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===r||Xe[r]):Boolean(Je[n]);if(e.namespaceURI===et)return t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&Ye[r]:Boolean(Ze[n]);if(e.namespaceURI===nt){if(t.namespaceURI===tt&&!Ye[r])return!1;if(t.namespaceURI===et&&!Xe[r])return!1;var i=k({},["title","style","font","a","script"]);return!Ze[n]&&(i[n]||!Je[n])}return!1},it=function(e){h(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(cT){try{e.outerHTML=oe}catch(cT){e.remove()}}},ot=function(e,n){try{h(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(cT){h(t.removed,{attribute:null,from:n})}n.removeAttribute(e)},at=function(e){var t=void 0,n=void 0;if(Oe)e="<remove></remove>"+e;else{var i=g(e,/^[\r\n\t ]+/);n=i&&i[0]}var o=ie?ie.createHTML(e):e;try{t=(new S).parseFromString(o,"text/html")}catch(cT){}if(!t||!t.documentElement){t=se.createHTMLDocument("");var a=t,s=a.body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=o}return e&&n&&t.body.insertBefore(r.createTextNode(n),t.body.childNodes[0]||null),ce.call(t,Te?"html":"body")[0]},st=function(e){return ue.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,(function(){return c.FILTER_ACCEPT}),!1)},ut=function(e){return!(e instanceof m||e instanceof C)&&!("string"===typeof e.nodeName&&"string"===typeof e.textContent&&"function"===typeof e.removeChild&&e.attributes instanceof d&&"function"===typeof e.removeAttribute&&"function"===typeof e.setAttribute&&"string"===typeof e.namespaceURI&&"function"===typeof e.insertBefore)},ct=function(e){return"object"===("undefined"===typeof s?"undefined":K(s))?e instanceof s:e&&"object"===("undefined"===typeof e?"undefined":K(e))&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},lt=function(e,n,r){Ae[e]&&f(Ae[e],(function(e){e.call(t,n,r,qe)}))},dt=function(e){var n=void 0;if(lt("beforeSanitizeElements",e,null),ut(e))return it(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return it(e),!0;var r=p(e.nodeName);if(lt("uponSanitizeElement",e,{tagName:r,allowedTags:we}),!ct(e.firstElementChild)&&(!ct(e.content)||!ct(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return it(e),!0;if(!we[r]||ke[r]){if(He&&!Qe[r])for(var i=ne(e),o=te(e),a=o.length,s=a-1;s>=0;--s)i.insertBefore(Z(o[s],!0),ee(e));return it(e),!0}return e instanceof u&&!rt(e)?(it(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ee&&3===e.nodeType&&(n=e.textContent,n=v(n,he," "),n=v(n,pe," "),e.textContent!==n&&(h(t.removed,{element:e.cloneNode()}),e.textContent=n)),lt("afterSanitizeElements",e,null),!1):(it(e),!0)},ft=function(e,t,n){if(Ue&&("id"===t||"name"===t)&&(n in r||n in We))return!1;if(De&&w(me,t));else if(Be&&w(ge,t));else{if(!Ce[t]||_e[t])return!1;if(Ge[t]);else if(w(be,v(n,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!je[e]){if(Me&&!w(ve,v(n,ye,"")));else if(n)return!1}else;}return!0},At=function(e){var n=void 0,r=void 0,i=void 0,o=void 0;lt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};o=a.length;while(o--){n=a[o];var u=n,c=u.name,l=u.namespaceURI;if(r=b(n.value),i=p(c),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,lt("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(ot(c,e),s.keepAttr))if(w(/\/>/i,r))ot(c,e);else{Ee&&(r=v(r,he," "),r=v(r,pe," "));var d=e.nodeName.toLowerCase();if(ft(d,i,r))try{l?e.setAttributeNS(l,c,r):e.setAttribute(c,r),A(t.removed)}catch(cT){}}}lt("afterSanitizeAttributes",e,null)}},ht=function e(t){var n=void 0,r=st(t);lt("beforeSanitizeShadowDOM",t,null);while(n=r.nextNode())lt("uponSanitizeShadowNode",n,null),dt(n)||(n.content instanceof i&&e(n.content),At(n));lt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,o){var a=void 0,u=void 0,c=void 0,l=void 0,d=void 0;if(r||(r="\x3c!--\x3e"),"string"!==typeof r&&!ct(r)){if("function"!==typeof r.toString)throw x("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw x("dirty is not a string, aborting")}if(!t.isSupported){if("object"===K(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof r)return e.toStaticHTML(r);if(ct(r))return e.toStaticHTML(r.outerHTML)}return r}if(Ie||$e(o),t.removed=[],"string"===typeof r&&(Re=!1),Re);else if(r instanceof s)a=at("\x3c!----\x3e"),u=a.ownerDocument.importNode(r,!0),1===u.nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?a=u:a.appendChild(u);else{if(!Le&&!Ee&&!Te&&-1===r.indexOf("<"))return ie&&Ne?ie.createHTML(r):r;if(a=at(r),!a)return Le?null:oe}a&&Oe&&it(a.firstChild);var f=st(Re?r:a);while(c=f.nextNode())3===c.nodeType&&c===l||dt(c)||(c.content instanceof i&&ht(c.content),At(c),l=c);if(l=null,Re)return r;if(Le){if(Fe){d=le.call(a.ownerDocument);while(a.firstChild)d.appendChild(a.firstChild)}else d=a;return Pe&&(d=de.call(n,d,!0)),d}var A=Te?a.outerHTML:a.innerHTML;return Ee&&(A=v(A,he," "),A=v(A,pe," ")),ie&&Ne?ie.createHTML(A):A},t.setConfig=function(e){$e(e),Ie=!0},t.clearConfig=function(){qe=null,Ie=!1},t.isValidAttribute=function(e,t,n){qe||$e({});var r=p(e),i=p(t);return ft(r,i,n)},t.addHook=function(e,t){"function"===typeof t&&(Ae[e]=Ae[e]||[],h(Ae[e],t))},t.removeHook=function(e){Ae[e]&&A(Ae[e])},t.removeHooks=function(e){Ae[e]&&(Ae[e]=[])},t.removeAllHooks=function(){Ae={}},t}var Y=X();return Y}))})(wf);var xf=wf.exports,Cf=y({__proto__:null,default:xf},[wf.exports]),Sf=function(e){return e&&e.Math==Math&&e},kf=Sf("object"==("undefined"===typeof globalThis?"undefined":m(globalThis))&&globalThis)||Sf("object"==("undefined"===typeof window?"undefined":m(window))&&window)||Sf("object"==("undefined"===typeof self?"undefined":m(self))&&self)||Sf("object"==m(Pu)&&Pu)||function(){return this}()||Function("return this")(),_f={},Bf=function(e){try{return!!e()}catch(t){return!0}},Df=Bf,Mf=!Df((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ef=Bf,Tf=!Ef((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),If=Tf,Of=Function.prototype.call,Lf=If?Of.bind(Of):function(){return Of.apply(Of,arguments)},Ff={},Pf={}.propertyIsEnumerable,Nf=Object.getOwnPropertyDescriptor,Uf=Nf&&!Pf.call({1:2},1);Ff.f=Uf?function(e){var t=Nf(this,e);return!!t&&t.enumerable}:Pf;var Hf,Rf,Vf=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Qf=Tf,jf=Function.prototype,zf=jf.call,Gf=Qf&&jf.bind.bind(zf,zf),Kf=Qf?Gf:function(e){return function(){return zf.apply(e,arguments)}},qf=Kf,Wf=qf({}.toString),$f=qf("".slice),Xf=function(e){return $f(Wf(e),8,-1)},Yf=Kf,Jf=Bf,Zf=Xf,eA=Object,tA=Yf("".split),nA=Jf((function(){return!eA("z").propertyIsEnumerable(0)}))?function(e){return"String"==Zf(e)?tA(e,""):eA(e)}:eA,rA=function(e){return null===e||void 0===e},iA=rA,oA=TypeError,aA=function(e){if(iA(e))throw oA("Can't call method on "+e);return e},sA=nA,uA=aA,cA=function(e){return sA(uA(e))},lA="object"==("undefined"===typeof document?"undefined":m(document))&&document.all,dA="undefined"==typeof lA&&void 0!==lA,fA={all:lA,IS_HTMLDDA:dA},AA=fA,hA=AA.all,pA=AA.IS_HTMLDDA?function(e){return"function"==typeof e||e===hA}:function(e){return"function"==typeof e},mA=pA,gA=fA,vA=gA.all,yA=gA.IS_HTMLDDA?function(e){return"object"==m(e)?null!==e:mA(e)||e===vA}:function(e){return"object"==m(e)?null!==e:mA(e)},bA=kf,wA=pA,xA=function(e){return wA(e)?e:void 0},CA=function(e,t){return arguments.length<2?xA(bA[e]):bA[e]&&bA[e][t]},SA=Kf,kA=SA({}.isPrototypeOf),_A=CA,BA=_A("navigator","userAgent")||"",DA=kf,MA=BA,EA=DA.process,TA=DA.Deno,IA=EA&&EA.versions||TA&&TA.version,OA=IA&&IA.v8;OA&&(Hf=OA.split("."),Rf=Hf[0]>0&&Hf[0]<4?1:+(Hf[0]+Hf[1])),!Rf&&MA&&(Hf=MA.match(/Edge\/(\d+)/),(!Hf||Hf[1]>=74)&&(Hf=MA.match(/Chrome\/(\d+)/),Hf&&(Rf=+Hf[1])));var LA=Rf,FA=LA,PA=Bf,NA=!!Object.getOwnPropertySymbols&&!PA((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&FA&&FA<41})),UA=NA,HA=UA&&!Symbol.sham&&"symbol"==m(Symbol.iterator),RA=CA,VA=pA,QA=kA,jA=HA,zA=Object,GA=jA?function(e){return"symbol"==m(e)}:function(e){var t=RA("Symbol");return VA(t)&&QA(t.prototype,zA(e))},KA=String,qA=function(e){try{return KA(e)}catch(t){return"Object"}},WA=pA,$A=qA,XA=TypeError,YA=function(e){if(WA(e))return e;throw XA($A(e)+" is not a function")},JA=YA,ZA=rA,eh=function(e,t){var n=e[t];return ZA(n)?void 0:JA(n)},th=Lf,nh=pA,rh=yA,ih=TypeError,oh=function(e,t){var n,r;if("string"===t&&nh(n=e.toString)&&!rh(r=th(n,e)))return r;if(nh(n=e.valueOf)&&!rh(r=th(n,e)))return r;if("string"!==t&&nh(n=e.toString)&&!rh(r=th(n,e)))return r;throw ih("Can't convert object to primitive value")},ah={exports:{}},sh=kf,uh=Object.defineProperty,ch=function(e,t){try{uh(sh,e,{value:t,configurable:!0,writable:!0})}catch(n){sh[e]=t}return t},lh=kf,dh=ch,fh="__core-js_shared__",Ah=lh[fh]||dh(fh,{}),hh=Ah,ph=hh;(ah.exports=function(e,t){return ph[e]||(ph[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"});var mh=aA,gh=Object,vh=function(e){return gh(mh(e))},yh=Kf,bh=vh,wh=yh({}.hasOwnProperty),xh=Object.hasOwn||function(e,t){return wh(bh(e),t)},Ch=Kf,Sh=0,kh=Math.random(),_h=Ch(1..toString),Bh=function(e){return"Symbol("+(void 0===e?"":e)+")_"+_h(++Sh+kh,36)},Dh=kf,Mh=ah.exports,Eh=xh,Th=Bh,Ih=NA,Oh=HA,Lh=Mh("wks"),Fh=Dh.Symbol,Ph=Fh&&Fh["for"],Nh=Oh?Fh:Fh&&Fh.withoutSetter||Th,Uh=function(e){if(!Eh(Lh,e)||!Ih&&"string"!=typeof Lh[e]){var t="Symbol."+e;Ih&&Eh(Fh,e)?Lh[e]=Fh[e]:Lh[e]=Oh&&Ph?Ph(t):Nh(t)}return Lh[e]},Hh=Lf,Rh=yA,Vh=GA,Qh=eh,jh=oh,zh=Uh,Gh=TypeError,Kh=zh("toPrimitive"),qh=function(e,t){if(!Rh(e)||Vh(e))return e;var n,r=Qh(e,Kh);if(r){if(void 0===t&&(t="default"),n=Hh(r,e,t),!Rh(n)||Vh(n))return n;throw Gh("Can't convert object to primitive value")}return void 0===t&&(t="number"),jh(e,t)},Wh=qh,$h=GA,Xh=function(e){var t=Wh(e,"string");return $h(t)?t:t+""},Yh=kf,Jh=yA,Zh=Yh.document,ep=Jh(Zh)&&Jh(Zh.createElement),tp=function(e){return ep?Zh.createElement(e):{}},np=Mf,rp=Bf,ip=tp,op=!np&&!rp((function(){return 7!=Object.defineProperty(ip("div"),"a",{get:function(){return 7}}).a})),ap=Mf,sp=Lf,up=Ff,cp=Vf,lp=cA,dp=Xh,fp=xh,Ap=op,hp=Object.getOwnPropertyDescriptor;_f.f=ap?hp:function(e,t){if(e=lp(e),t=dp(t),Ap)try{return hp(e,t)}catch(n){}if(fp(e,t))return cp(!sp(up.f,e,t),e[t])};var pp={},mp=Mf,gp=Bf,vp=mp&&gp((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),yp=yA,bp=String,wp=TypeError,xp=function(e){if(yp(e))return e;throw wp(bp(e)+" is not an object")},Cp=Mf,Sp=op,kp=vp,_p=xp,Bp=Xh,Dp=TypeError,Mp=Object.defineProperty,Ep=Object.getOwnPropertyDescriptor,Tp="enumerable",Ip="configurable",Op="writable";pp.f=Cp?kp?function(e,t,n){if(_p(e),t=Bp(t),_p(n),"function"===typeof e&&"prototype"===t&&"value"in n&&Op in n&&!n[Op]){var r=Ep(e,t);r&&r[Op]&&(e[t]=n.value,n={configurable:Ip in n?n[Ip]:r[Ip],enumerable:Tp in n?n[Tp]:r[Tp],writable:!1})}return Mp(e,t,n)}:Mp:function(e,t,n){if(_p(e),t=Bp(t),_p(n),Sp)try{return Mp(e,t,n)}catch(r){}if("get"in n||"set"in n)throw Dp("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Lp=Mf,Fp=pp,Pp=Vf,Np=Lp?function(e,t,n){return Fp.f(e,t,Pp(1,n))}:function(e,t,n){return e[t]=n,e},Up={exports:{}},Hp=Mf,Rp=xh,Vp=Function.prototype,Qp=Hp&&Object.getOwnPropertyDescriptor,jp=Rp(Vp,"name"),zp=jp&&"something"===function(){}.name,Gp=jp&&(!Hp||Hp&&Qp(Vp,"name").configurable),Kp={EXISTS:jp,PROPER:zp,CONFIGURABLE:Gp},qp=Kf,Wp=pA,$p=hh,Xp=qp(Function.toString);Wp($p.inspectSource)||($p.inspectSource=function(e){return Xp(e)});var Yp,Jp,Zp,em=$p.inspectSource,tm=kf,nm=pA,rm=tm.WeakMap,im=nm(rm)&&/native code/.test(String(rm)),om=ah.exports,am=Bh,sm=om("keys"),um=function(e){return sm[e]||(sm[e]=am(e))},cm={},lm=im,dm=kf,fm=yA,Am=Np,hm=xh,pm=hh,mm=um,gm=cm,vm="Object already initialized",ym=dm.TypeError,bm=dm.WeakMap,wm=function(e){return Zp(e)?Jp(e):Yp(e,{})},xm=function(e){return function(t){var n;if(!fm(t)||(n=Jp(t)).type!==e)throw ym("Incompatible receiver, "+e+" required");return n}};if(lm||pm.state){var Cm=pm.state||(pm.state=new bm);Cm.get=Cm.get,Cm.has=Cm.has,Cm.set=Cm.set,Yp=function(e,t){if(Cm.has(e))throw ym(vm);return t.facade=e,Cm.set(e,t),t},Jp=function(e){return Cm.get(e)||{}},Zp=function(e){return Cm.has(e)}}else{var Sm=mm("state");gm[Sm]=!0,Yp=function(e,t){if(hm(e,Sm))throw ym(vm);return t.facade=e,Am(e,Sm,t),t},Jp=function(e){return hm(e,Sm)?e[Sm]:{}},Zp=function(e){return hm(e,Sm)}}var km={set:Yp,get:Jp,has:Zp,enforce:wm,getterFor:xm},_m=Bf,Bm=pA,Dm=xh,Mm=Mf,Em=Kp.CONFIGURABLE,Tm=em,Im=km,Om=Im.enforce,Lm=Im.get,Fm=Object.defineProperty,Pm=Mm&&!_m((function(){return 8!==Fm((function(){}),"length",{value:8}).length})),Nm=String(String).split("String"),Um=Up.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Dm(e,"name")||Em&&e.name!==t)&&(Mm?Fm(e,"name",{value:t,configurable:!0}):e.name=t),Pm&&n&&Dm(n,"arity")&&e.length!==n.arity&&Fm(e,"length",{value:n.arity});try{n&&Dm(n,"constructor")&&n.constructor?Mm&&Fm(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=Om(e);return Dm(r,"source")||(r.source=Nm.join("string"==typeof t?t:"")),e};Function.prototype.toString=Um((function(){return Bm(this)&&Lm(this).source||Tm(this)}),"toString");var Hm=pA,Rm=pp,Vm=Up.exports,Qm=ch,jm=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(Hm(n)&&Vm(n,o,r),r.global)i?e[t]=n:Qm(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(a){}i?e[t]=n:Rm.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},zm={},Gm=Math.ceil,Km=Math.floor,qm=Math.trunc||function(e){var t=+e;return(t>0?Km:Gm)(t)},Wm=qm,$m=function(e){var t=+e;return t!==t||0===t?0:Wm(t)},Xm=$m,Ym=Math.max,Jm=Math.min,Zm=function(e,t){var n=Xm(e);return n<0?Ym(n+t,0):Jm(n,t)},eg=$m,tg=Math.min,ng=function(e){return e>0?tg(eg(e),9007199254740991):0},rg=ng,ig=function(e){return rg(e.length)},og=cA,ag=Zm,sg=ig,ug=function(e){return function(t,n,r){var i,o=og(t),a=sg(o),s=ag(r,a);if(e&&n!=n){while(a>s)if(i=o[s++],i!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},cg={includes:ug(!0),indexOf:ug(!1)},lg=Kf,dg=xh,fg=cA,Ag=cg.indexOf,hg=cm,pg=lg([].push),mg=function(e,t){var n,r=fg(e),i=0,o=[];for(n in r)!dg(hg,n)&&dg(r,n)&&pg(o,n);while(t.length>i)dg(r,n=t[i++])&&(~Ag(o,n)||pg(o,n));return o},gg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vg=mg,yg=gg,bg=yg.concat("length","prototype");zm.f=Object.getOwnPropertyNames||function(e){return vg(e,bg)};var wg={};wg.f=Object.getOwnPropertySymbols;var xg=CA,Cg=Kf,Sg=zm,kg=wg,_g=xp,Bg=Cg([].concat),Dg=xg("Reflect","ownKeys")||function(e){var t=Sg.f(_g(e)),n=kg.f;return n?Bg(t,n(e)):t},Mg=xh,Eg=Dg,Tg=_f,Ig=pp,Og=function(e,t,n){for(var r=Eg(t),i=Ig.f,o=Tg.f,a=0;a<r.length;a++){var s=r[a];Mg(e,s)||n&&Mg(n,s)||i(e,s,o(t,s))}},Lg=Bf,Fg=pA,Pg=/#|\.prototype\./,Ng=function(e,t){var n=Hg[Ug(e)];return n==Vg||n!=Rg&&(Fg(t)?Lg(t):!!t)},Ug=Ng.normalize=function(e){return String(e).replace(Pg,".").toLowerCase()},Hg=Ng.data={},Rg=Ng.NATIVE="N",Vg=Ng.POLYFILL="P",Qg=Ng,jg=kf,zg=_f.f,Gg=Np,Kg=jm,qg=ch,Wg=Og,$g=Qg,Xg=function(e,t){var n,r,i,o,a,s,u=e.target,c=e.global,l=e.stat;if(r=c?jg:l?jg[u]||qg(u,{}):(jg[u]||{}).prototype,r)for(i in t){if(a=t[i],e.dontCallGetSet?(s=zg(r,i),o=s&&s.value):o=r[i],n=$g(c?i:u+(l?".":"#")+i,e.forced),!n&&void 0!==o){if(m(a)==m(o))continue;Wg(a,o)}(e.sham||o&&o.sham)&&Gg(a,"sham",!0),Kg(r,i,a,e)}},Yg=Xf,Jg=kf,Zg="process"==Yg(Jg.process),ev=pA,tv=String,nv=TypeError,rv=function(e){if("object"==m(e)||ev(e))return e;throw nv("Can't set "+tv(e)+" as a prototype")},iv=Kf,ov=xp,av=rv,sv=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=iv(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return ov(n),av(r),t?e(n,r):n.__proto__=r,n}}():void 0),uv=pp.f,cv=xh,lv=Uh,dv=lv("toStringTag"),fv=function(e,t,n){e&&!n&&(e=e.prototype),e&&!cv(e,dv)&&uv(e,dv,{configurable:!0,value:t})},Av=CA,hv=pp,pv=Uh,mv=Mf,gv=pv("species"),vv=function(e){var t=Av(e),n=hv.f;mv&&t&&!t[gv]&&n(t,gv,{configurable:!0,get:function(){return this}})},yv=kA,bv=TypeError,wv=function(e,t){if(yv(t,e))return e;throw bv("Incorrect invocation")},xv=Uh,Cv=xv("toStringTag"),Sv={};Sv[Cv]="z";var kv="[object z]"===String(Sv),_v=kv,Bv=pA,Dv=Xf,Mv=Uh,Ev=Mv("toStringTag"),Tv=Object,Iv="Arguments"==Dv(function(){return arguments}()),Ov=function(e,t){try{return e[t]}catch(n){}},Lv=_v?Dv:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=Ov(t=Tv(e),Ev))?n:Iv?Dv(t):"Object"==(r=Dv(t))&&Bv(t.callee)?"Arguments":r},Fv=Kf,Pv=Bf,Nv=pA,Uv=Lv,Hv=CA,Rv=em,Vv=function(){},Qv=[],jv=Hv("Reflect","construct"),zv=/^\s*(?:class|function)\b/,Gv=Fv(zv.exec),Kv=!zv.exec(Vv),qv=function(e){if(!Nv(e))return!1;try{return jv(Vv,Qv,e),!0}catch(t){return!1}},Wv=function(e){if(!Nv(e))return!1;switch(Uv(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Kv||!!Gv(zv,Rv(e))}catch(t){return!0}};Wv.sham=!0;var $v,Xv,Yv,Jv,Zv=!jv||Pv((function(){var e;return qv(qv.call)||!qv(Object)||!qv((function(){e=!0}))||e}))?Wv:qv,ey=Zv,ty=qA,ny=TypeError,ry=function(e){if(ey(e))return e;throw ny(ty(e)+" is not a constructor")},iy=xp,oy=ry,ay=rA,sy=Uh,uy=sy("species"),cy=function(e,t){var n,r=iy(e).constructor;return void 0===r||ay(n=iy(r)[uy])?t:oy(n)},ly=Tf,dy=Function.prototype,fy=dy.apply,Ay=dy.call,hy="object"==("undefined"===typeof Reflect?"undefined":m(Reflect))&&Reflect.apply||(ly?Ay.bind(fy):function(){return Ay.apply(fy,arguments)}),py=Xf,my=Kf,gy=function(e){if("Function"===py(e))return my(e)},vy=gy,yy=YA,by=Tf,wy=vy(vy.bind),xy=function(e,t){return yy(e),void 0===t?e:by?wy(e,t):function(){return e.apply(t,arguments)}},Cy=CA,Sy=Cy("document","documentElement"),ky=Kf,_y=ky([].slice),By=TypeError,Dy=function(e,t){if(e<t)throw By("Not enough arguments");return e},My=BA,Ey=/(?:ipad|iphone|ipod).*applewebkit/i.test(My),Ty=kf,Iy=hy,Oy=xy,Ly=pA,Fy=xh,Py=Bf,Ny=Sy,Uy=_y,Hy=tp,Ry=Dy,Vy=Ey,Qy=Zg,jy=Ty.setImmediate,zy=Ty.clearImmediate,Gy=Ty.process,Ky=Ty.Dispatch,qy=Ty.Function,Wy=Ty.MessageChannel,$y=Ty.String,Xy=0,Yy={},Jy="onreadystatechange";try{$v=Ty.location}catch(JO){}var Zy=function(e){if(Fy(Yy,e)){var t=Yy[e];delete Yy[e],t()}},eb=function(e){return function(){Zy(e)}},tb=function(e){Zy(e.data)},nb=function(e){Ty.postMessage($y(e),$v.protocol+"//"+$v.host)};jy&&zy||(jy=function(e){Ry(arguments.length,1);var t=Ly(e)?e:qy(e),n=Uy(arguments,1);return Yy[++Xy]=function(){Iy(t,void 0,n)},Xv(Xy),Xy},zy=function(e){delete Yy[e]},Qy?Xv=function(e){Gy.nextTick(eb(e))}:Ky&&Ky.now?Xv=function(e){Ky.now(eb(e))}:Wy&&!Vy?(Yv=new Wy,Jv=Yv.port2,Yv.port1.onmessage=tb,Xv=Oy(Jv.postMessage,Jv)):Ty.addEventListener&&Ly(Ty.postMessage)&&!Ty.importScripts&&$v&&"file:"!==$v.protocol&&!Py(nb)?(Xv=nb,Ty.addEventListener("message",tb,!1)):Xv=Jy in Hy("script")?function(e){Ny.appendChild(Hy("script"))[Jy]=function(){Ny.removeChild(this),Zy(e)}}:function(e){setTimeout(eb(e),0)});var rb,ib,ob,ab,sb,ub,cb,lb,db={set:jy,clear:zy},fb=BA,Ab=kf,hb=/ipad|iphone|ipod/i.test(fb)&&void 0!==Ab.Pebble,pb=BA,mb=/web0s(?!.*chrome)/i.test(pb),gb=kf,vb=xy,yb=_f.f,bb=db.set,wb=Ey,xb=hb,Cb=mb,Sb=Zg,kb=gb.MutationObserver||gb.WebKitMutationObserver,_b=gb.document,Bb=gb.process,Db=gb.Promise,Mb=yb(gb,"queueMicrotask"),Eb=Mb&&Mb.value;Eb||(rb=function(){var e,t;Sb&&(e=Bb.domain)&&e.exit();while(ib){t=ib.fn,ib=ib.next;try{t()}catch(JO){throw ib?ab():ob=void 0,JO}}ob=void 0,e&&e.enter()},wb||Sb||Cb||!kb||!_b?!xb&&Db&&Db.resolve?(cb=Db.resolve(void 0),cb.constructor=Db,lb=vb(cb.then,cb),ab=function(){lb(rb)}):Sb?ab=function(){Bb.nextTick(rb)}:(bb=vb(bb,gb),ab=function(){bb(rb)}):(sb=!0,ub=_b.createTextNode(""),new kb(rb).observe(ub,{characterData:!0}),ab=function(){ub.data=sb=!sb}));var Tb=Eb||function(e){var t={fn:e,next:void 0};ob&&(ob.next=t),ib||(ib=t,ab()),ob=t},Ib=kf,Ob=function(e,t){var n=Ib.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},Lb=function(e){try{return{error:!1,value:e()}}catch(JO){return{error:!0,value:JO}}},Fb=function(){this.head=null,this.tail=null};Fb.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Pb=Fb,Nb=kf,Ub=Nb.Promise,Hb="object"==("undefined"===typeof Deno?"undefined":m(Deno))&&Deno&&"object"==m(Deno.version),Rb=Hb,Vb=Zg,Qb=!Rb&&!Vb&&"object"==("undefined"===typeof window?"undefined":m(window))&&"object"==("undefined"===typeof document?"undefined":m(document)),jb=kf,zb=Ub,Gb=pA,Kb=Qg,qb=em,Wb=Uh,$b=Qb,Xb=Hb,Yb=LA;zb&&zb.prototype;var Jb=Wb("species"),Zb=!1,ew=Gb(jb.PromiseRejectionEvent),tw=Kb("Promise",(function(){var e=qb(zb),t=e!==String(zb);if(!t&&66===Yb)return!0;if(!Yb||Yb<51||!/native code/.test(e)){var n=new zb((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};if(i[Jb]=r,Zb=n.then((function(){}))instanceof r,!Zb)return!0}return!t&&($b||Xb)&&!ew})),nw={CONSTRUCTOR:tw,REJECTION_EVENT:ew,SUBCLASSING:Zb},rw={},iw=YA,ow=TypeError,aw=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw ow("Bad Promise constructor");t=e,n=r})),this.resolve=iw(t),this.reject=iw(n)};rw.f=function(e){return new aw(e)};var sw,uw,cw,lw,dw=Xg,fw=Zg,Aw=kf,hw=Lf,pw=jm,mw=sv,gw=fv,vw=vv,yw=YA,bw=pA,ww=yA,xw=wv,Cw=cy,Sw=db.set,kw=Tb,_w=Ob,Bw=Lb,Dw=Pb,Mw=km,Ew=Ub,Tw=nw,Iw=rw,Ow="Promise",Lw=Tw.CONSTRUCTOR,Fw=Tw.REJECTION_EVENT,Pw=Tw.SUBCLASSING,Nw=Mw.getterFor(Ow),Uw=Mw.set,Hw=Ew&&Ew.prototype,Rw=Ew,Vw=Hw,Qw=Aw.TypeError,jw=Aw.document,zw=Aw.process,Gw=Iw.f,Kw=Gw,qw=!!(jw&&jw.createEvent&&Aw.dispatchEvent),Ww="unhandledrejection",$w="rejectionhandled",Xw=0,Yw=1,Jw=2,Zw=1,ex=2,tx=function(e){var t;return!(!ww(e)||!bw(t=e.then))&&t},nx=function(e,t){var n,r,i,o=t.value,a=t.state==Yw,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(a||(t.rejection===ex&&sx(t),t.rejection=Zw),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?c(Qw("Promise-chain cycle")):(r=tx(n))?hw(r,n,u,c):u(n)):c(o)}catch(JO){l&&!i&&l.exit(),c(JO)}},rx=function(e,t){e.notified||(e.notified=!0,kw((function(){var n,r=e.reactions;while(n=r.get())nx(n,e);e.notified=!1,t&&!e.rejection&&ox(e)})))},ix=function(e,t,n){var r,i;qw?(r=jw.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),Aw.dispatchEvent(r)):r={promise:t,reason:n},!Fw&&(i=Aw["on"+e])?i(r):e===Ww&&_w("Unhandled promise rejection",n)},ox=function(e){hw(Sw,Aw,(function(){var t,n=e.facade,r=e.value,i=ax(e);if(i&&(t=Bw((function(){fw?zw.emit("unhandledRejection",r,n):ix(Ww,n,r)})),e.rejection=fw||ax(e)?ex:Zw,t.error))throw t.value}))},ax=function(e){return e.rejection!==Zw&&!e.parent},sx=function(e){hw(Sw,Aw,(function(){var t=e.facade;fw?zw.emit("rejectionHandled",t):ix($w,t,e.value)}))},ux=function(e,t,n){return function(r){e(t,r,n)}},cx=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Jw,rx(e,!0))},lx=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw Qw("Promise can't be resolved itself");var i=tx(n);i?kw((function(){var r={done:!1};try{hw(i,n,ux(e,r,t),ux(cx,r,t))}catch(JO){cx(r,JO,t)}})):(t.value=n,t.state=Yw,rx(t,!1))}catch(JO){cx({done:!1},JO,t)}}};if(Lw&&(Rw=function(e){xw(this,Vw),yw(e),hw(sw,this);var t=Nw(this);try{e(ux(lx,t),ux(cx,t))}catch(JO){cx(t,JO)}},Vw=Rw.prototype,sw=function(e){Uw(this,{type:Ow,done:!1,notified:!1,parent:!1,reactions:new Dw,rejection:!1,state:Xw,value:void 0})},sw.prototype=pw(Vw,"then",(function(e,t){var n=Nw(this),r=Gw(Cw(this,Rw));return n.parent=!0,r.ok=!bw(e)||e,r.fail=bw(t)&&t,r.domain=fw?zw.domain:void 0,n.state==Xw?n.reactions.add(r):kw((function(){nx(r,n)})),r.promise})),uw=function(){var e=new sw,t=Nw(e);this.promise=e,this.resolve=ux(lx,t),this.reject=ux(cx,t)},Iw.f=Gw=function(e){return e===Rw||e===cw?new uw(e):Kw(e)},bw(Ew)&&Hw!==Object.prototype)){lw=Hw.then,Pw||pw(Hw,"then",(function(e,t){var n=this;return new Rw((function(e,t){hw(lw,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Hw.constructor}catch(JO){}mw&&mw(Hw,Vw)}dw({global:!0,constructor:!0,wrap:!0,forced:Lw},{Promise:Rw}),gw(Rw,Ow,!1),vw(Ow);var dx={},fx=Uh,Ax=dx,hx=fx("iterator"),px=Array.prototype,mx=function(e){return void 0!==e&&(Ax.Array===e||px[hx]===e)},gx=Lv,vx=eh,yx=rA,bx=dx,wx=Uh,xx=wx("iterator"),Cx=function(e){if(!yx(e))return vx(e,xx)||vx(e,"@@iterator")||bx[gx(e)]},Sx=Lf,kx=YA,_x=xp,Bx=qA,Dx=Cx,Mx=TypeError,Ex=function(e,t){var n=arguments.length<2?Dx(e):t;if(kx(n))return _x(Sx(n,e));throw Mx(Bx(e)+" is not iterable")},Tx=Lf,Ix=xp,Ox=eh,Lx=function(e,t,n){var r,i;Ix(e);try{if(r=Ox(e,"return"),!r){if("throw"===t)throw n;return n}r=Tx(r,e)}catch(JO){i=!0,r=JO}if("throw"===t)throw n;if(i)throw r;return Ix(r),n},Fx=xy,Px=Lf,Nx=xp,Ux=qA,Hx=mx,Rx=ig,Vx=kA,Qx=Ex,jx=Cx,zx=Lx,Gx=TypeError,Kx=function(e,t){this.stopped=e,this.result=t},qx=Kx.prototype,Wx=function(e,t,n){var r,i,o,a,s,u,c,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Fx(t,l),g=function(e){return r&&zx(r,"normal",e),new Kx(!0,e)},v=function(e){return d?(Nx(e),h?p(e[0],e[1],g):p(e[0],e[1])):h?p(e,g):p(e)};if(f)r=e.iterator;else if(A)r=e;else{if(i=jx(e),!i)throw Gx(Ux(e)+" is not iterable");if(Hx(i)){for(o=0,a=Rx(e);a>o;o++)if(s=v(e[o]),s&&Vx(qx,s))return s;return new Kx(!1)}r=Qx(e,i)}u=f?e.next:r.next;while(!(c=Px(u,r)).done){try{s=v(c.value)}catch(JO){zx(r,"throw",JO)}if("object"==m(s)&&s&&Vx(qx,s))return s}return new Kx(!1)},$x=Uh,Xx=$x("iterator"),Yx=!1;try{var Jx=0,Zx={next:function(){return{done:!!Jx++}},return:function(){Yx=!0}};Zx[Xx]=function(){return this},Array.from(Zx,(function(){throw 2}))}catch(JO){}var eC=function(e,t){if(!t&&!Yx)return!1;var n=!1;try{var r={};r[Xx]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(JO){}return n},tC=Ub,nC=eC,rC=nw.CONSTRUCTOR,iC=rC||!nC((function(e){tC.all(e).then(void 0,(function(){}))})),oC=Xg,aC=Lf,sC=YA,uC=rw,cC=Lb,lC=Wx,dC=iC;oC({target:"Promise",stat:!0,forced:dC},{all:function(e){var t=this,n=uC.f(t),r=n.resolve,i=n.reject,o=cC((function(){var n=sC(t.resolve),o=[],a=0,s=1;lC(e,(function(e){var u=a++,c=!1;s++,aC(n,t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var fC=Xg,AC=nw.CONSTRUCTOR,hC=Ub,pC=CA,mC=pA,gC=jm,vC=hC&&hC.prototype;if(fC({target:"Promise",proto:!0,forced:AC,real:!0},{catch:function(e){return this.then(void 0,e)}}),mC(hC)){var yC=pC("Promise").prototype["catch"];vC["catch"]!==yC&&gC(vC,"catch",yC,{unsafe:!0})}var bC=Xg,wC=Lf,xC=YA,CC=rw,SC=Lb,kC=Wx,_C=iC;bC({target:"Promise",stat:!0,forced:_C},{race:function(e){var t=this,n=CC.f(t),r=n.reject,i=SC((function(){var i=xC(t.resolve);kC(e,(function(e){wC(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var BC=Xg,DC=Lf,MC=rw,EC=nw.CONSTRUCTOR;BC({target:"Promise",stat:!0,forced:EC},{reject:function(e){var t=MC.f(this);return DC(t.reject,void 0,e),t.promise}});var TC=xp,IC=yA,OC=rw,LC=function(e,t){if(TC(e),IC(t)&&t.constructor===e)return t;var n=OC.f(e),r=n.resolve;return r(t),n.promise},FC=Xg,PC=CA,NC=nw.CONSTRUCTOR,UC=LC;function HC(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(JO){return void n(JO)}s.done?t(u):Promise.resolve(u).then(r,i)}function RC(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){HC(o,r,i,a,s,"next",e)}function s(e){HC(o,r,i,a,s,"throw",e)}a(void 0)}))}}PC("Promise"),FC({target:"Promise",stat:!0,forced:NC},{resolve:function(e){return UC(this,e)}});var VC=Lv,QC=String,jC=function(e){if("Symbol"===VC(e))throw TypeError("Cannot convert a Symbol value to a string");return QC(e)},zC=xp,GC=function(){var e=zC(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},KC=Bf,qC=kf,WC=qC.RegExp,$C=KC((function(){var e=WC("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),XC=$C||KC((function(){return!WC("a","y").sticky})),YC=$C||KC((function(){var e=WC("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),JC={BROKEN_CARET:YC,MISSED_STICKY:XC,UNSUPPORTED_Y:$C},ZC={},eS=mg,tS=gg,nS=Object.keys||function(e){return eS(e,tS)},rS=Mf,iS=vp,oS=pp,aS=xp,sS=cA,uS=nS;ZC.f=rS&&!iS?Object.defineProperties:function(e,t){aS(e);var n,r=sS(t),i=uS(t),o=i.length,a=0;while(o>a)oS.f(e,n=i[a++],r[n]);return e};var cS,lS=xp,dS=ZC,fS=gg,AS=cm,hS=Sy,pS=tp,mS=um,gS=">",vS="<",yS="prototype",bS="script",wS=mS("IE_PROTO"),xS=function(){},CS=function(e){return vS+bS+gS+e+vS+"/"+bS+gS},SS=function(e){e.write(CS("")),e.close();var t=e.parentWindow.Object;return e=null,t},kS=function(){var e,t=pS("iframe"),n="java"+bS+":";return t.style.display="none",hS.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(CS("document.F=Object")),e.close(),e.F},_S=function(){try{cS=new ActiveXObject("htmlfile")}catch(JO){}_S="undefined"!=typeof document?document.domain&&cS?SS(cS):kS():SS(cS);var e=fS.length;while(e--)delete _S[yS][fS[e]];return _S()};AS[wS]=!0;var BS=Object.create||function(e,t){var n;return null!==e?(xS[yS]=lS(e),n=new xS,xS[yS]=null,n[wS]=e):n=_S(),void 0===t?n:dS.f(n,t)},DS=Bf,MS=kf,ES=MS.RegExp,TS=DS((function(){var e=ES(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),IS=Bf,OS=kf,LS=OS.RegExp,FS=IS((function(){var e=LS("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),PS=Lf,NS=Kf,US=jC,HS=GC,RS=JC,VS=ah.exports,QS=BS,jS=km.get,zS=TS,GS=FS,KS=VS("native-string-replace",String.prototype.replace),qS=RegExp.prototype.exec,WS=qS,$S=NS("".charAt),XS=NS("".indexOf),YS=NS("".replace),JS=NS("".slice),ZS=function(){var e=/a/,t=/b*/g;return PS(qS,e,"a"),PS(qS,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ek=RS.BROKEN_CARET,tk=void 0!==/()??/.exec("")[1],nk=ZS||tk||ek||zS||GS;nk&&(WS=function(e){var t,n,r,i,o,a,s,u=this,c=jS(u),l=US(e),d=c.raw;if(d)return d.lastIndex=u.lastIndex,t=PS(WS,d,l),u.lastIndex=d.lastIndex,t;var f=c.groups,A=ek&&u.sticky,h=PS(HS,u),p=u.source,m=0,g=l;if(A&&(h=YS(h,"y",""),-1===XS(h,"g")&&(h+="g"),g=JS(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==$S(l,u.lastIndex-1))&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",h)),tk&&(n=new RegExp("^"+p+"$(?!\\s)",h)),ZS&&(r=u.lastIndex),i=PS(qS,A?n:u,g),A?i?(i.input=JS(i.input,m),i[0]=JS(i[0],m),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:ZS&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),tk&&i&&i.length>1&&PS(KS,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=QS(null),o=0;o<f.length;o++)s=f[o],a[s[0]]=i[s[1]];return i});var rk=WS,ik=Xg,ok=rk;ik({target:"RegExp",proto:!0,forced:/./.exec!==ok},{exec:ok});var ak=gy,sk=jm,uk=rk,ck=Bf,lk=Uh,dk=Np,fk=lk("species"),Ak=RegExp.prototype,hk=function(e,t,n,r){var i=lk(e),o=!ck((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!ck((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[fk]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var s=ak(/./[i]),u=t(i,""[e],(function(e,t,n,r,i){var a=ak(e),u=t.exec;return u===uk||u===Ak.exec?o&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));sk(String.prototype,e,u[0]),sk(Ak,i,u[1])}r&&dk(Ak[i],"sham",!0)},pk=Kf,mk=$m,gk=jC,vk=aA,yk=pk("".charAt),bk=pk("".charCodeAt),wk=pk("".slice),xk=function(e){return function(t,n){var r,i,o=gk(vk(t)),a=mk(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=bk(o,a),r<55296||r>56319||a+1===s||(i=bk(o,a+1))<56320||i>57343?e?yk(o,a):r:e?wk(o,a,a+2):i-56320+(r-55296<<10)+65536)}},Ck={codeAt:xk(!1),charAt:xk(!0)},Sk=Ck.charAt,kk=function(e,t,n){return t+(n?Sk(e,t).length:1)},_k=Lf,Bk=xp,Dk=pA,Mk=Xf,Ek=rk,Tk=TypeError,Ik=function(e,t){var n=e.exec;if(Dk(n)){var r=_k(n,e,t);return null!==r&&Bk(r),r}if("RegExp"===Mk(e))return _k(Ek,e,t);throw Tk("RegExp#exec called on incompatible receiver")},Ok=Lf,Lk=hk,Fk=xp,Pk=rA,Nk=ng,Uk=jC,Hk=aA,Rk=eh,Vk=kk,Qk=Ik;Lk("match",(function(e,t,n){return[function(t){var n=Hk(this),r=Pk(t)?void 0:Rk(t,e);return r?Ok(r,t,n):new RegExp(t)[e](Uk(n))},function(e){var r=Fk(this),i=Uk(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return Qk(r,i);var a=r.unicode;r.lastIndex=0;var s,u=[],c=0;while(null!==(s=Qk(r,i))){var l=Uk(s[0]);u[c]=l,""===l&&(r.lastIndex=Vk(i,Nk(r.lastIndex),a)),c++}return 0===c?null:u}]}));var jk=Kf,zk=vh,Gk=Math.floor,Kk=jk("".charAt),qk=jk("".replace),Wk=jk("".slice),$k=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Xk=/\$([$&'`]|\d{1,2})/g,Yk=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,u=Xk;return void 0!==i&&(i=zk(i),u=$k),qk(o,u,(function(o,u){var c;switch(Kk(u,0)){case"$":return"$";case"&":return e;case"`":return Wk(t,0,n);case"'":return Wk(t,a);case"<":c=i[Wk(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var d=Gk(l/10);return 0===d?o:d<=s?void 0===r[d-1]?Kk(u,1):r[d-1]+Kk(u,1):o}c=r[l-1]}return void 0===c?"":c}))},Jk=hy,Zk=Lf,e_=Kf,t_=hk,n_=Bf,r_=xp,i_=pA,o_=rA,a_=$m,s_=ng,u_=jC,c_=aA,l_=kk,d_=eh,f_=Yk,A_=Ik,h_=Uh,p_=h_("replace"),m_=Math.max,g_=Math.min,v_=e_([].concat),y_=e_([].push),b_=e_("".indexOf),w_=e_("".slice),x_=function(e){return void 0===e?e:String(e)},C_=function(){return"$0"==="a".replace(/./,"$0")}(),S_=function(){return!!/./[p_]&&""===/./[p_]("a","$0")}(),k_=!n_((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));t_("replace",(function(e,t,n){var r=S_?"$":"$0";return[function(e,n){var r=c_(this),i=o_(e)?void 0:d_(e,p_);return i?Zk(i,e,r,n):Zk(t,u_(r),e,n)},function(e,i){var o=r_(this),a=u_(e);if("string"==typeof i&&-1===b_(i,r)&&-1===b_(i,"$<")){var s=n(t,o,a,i);if(s.done)return s.value}var u=i_(i);u||(i=u_(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}var d=[];while(1){var f=A_(o,a);if(null===f)break;if(y_(d,f),!c)break;var A=u_(f[0]);""===A&&(o.lastIndex=l_(a,s_(o.lastIndex),l))}for(var h="",p=0,m=0;m<d.length;m++){f=d[m];for(var g=u_(f[0]),v=m_(g_(a_(f.index),a.length),0),y=[],b=1;b<f.length;b++)y_(y,x_(f[b]));var w=f.groups;if(u){var x=v_([g],y,v,a);void 0!==w&&y_(x,w);var C=u_(Jk(i,void 0,x))}else C=f_(g,a,v,y,w,i);v>=p&&(h+=w_(a,p,v)+C,p=v+g.length)}return h+w_(a,p)}]}),!k_||!C_||S_);var __=yA,B_=Xf,D_=Uh,M_=D_("match"),E_=function(e){var t;return __(e)&&(void 0!==(t=e[M_])?!!t:"RegExp"==B_(e))},T_=E_,I_=TypeError,O_=function(e){if(T_(e))throw I_("The method doesn't accept regular expressions");return e},L_=Uh,F_=L_("match"),P_=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[F_]=!1,"/./"[e](t)}catch(r){}}return!1},N_=Xg,U_=gy,H_=_f.f,R_=ng,V_=jC,Q_=O_,j_=aA,z_=P_,G_=U_("".startsWith),K_=U_("".slice),q_=Math.min,W_=z_("startsWith"),$_=!W_&&!!function(){var e=H_(String.prototype,"startsWith");return e&&!e.writable}();N_({target:"String",proto:!0,forced:!$_&&!W_},{startsWith:function(e){var t=V_(j_(this));Q_(e);var n=R_(q_(arguments.length>1?arguments[1]:void 0,t.length)),r=V_(e);return G_?G_(t,r,n):K_(t,n,n+r.length)===r}});var X_=Uh,Y_=BS,J_=pp.f,Z_=X_("unscopables"),eB=Array.prototype;void 0==eB[Z_]&&J_(eB,Z_,{configurable:!0,value:Y_(null)});var tB,nB,rB,iB=function(e){eB[Z_][e]=!0},oB=Bf,aB=!oB((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),sB=xh,uB=pA,cB=vh,lB=um,dB=aB,fB=lB("IE_PROTO"),AB=Object,hB=AB.prototype,pB=dB?AB.getPrototypeOf:function(e){var t=cB(e);if(sB(t,fB))return t[fB];var n=t.constructor;return uB(n)&&t instanceof n?n.prototype:t instanceof AB?hB:null},mB=Bf,gB=pA,vB=yA,yB=pB,bB=jm,wB=Uh,xB=wB("iterator"),CB=!1;[].keys&&(rB=[].keys(),"next"in rB?(nB=yB(yB(rB)),nB!==Object.prototype&&(tB=nB)):CB=!0);var SB=!vB(tB)||mB((function(){var e={};return tB[xB].call(e)!==e}));SB&&(tB={}),gB(tB[xB])||bB(tB,xB,(function(){return this}));var kB={IteratorPrototype:tB,BUGGY_SAFARI_ITERATORS:CB},_B=kB.IteratorPrototype,BB=BS,DB=Vf,MB=fv,EB=dx,TB=function(){return this},IB=function(e,t,n,r){var i=t+" Iterator";return e.prototype=BB(_B,{next:DB(+!r,n)}),MB(e,i,!1),EB[i]=TB,e},OB=Xg,LB=Lf,FB=Kp,PB=pA,NB=IB,UB=pB,HB=sv,RB=fv,VB=Np,QB=jm,jB=Uh,zB=dx,GB=kB,KB=FB.PROPER,qB=FB.CONFIGURABLE,WB=GB.IteratorPrototype,$B=GB.BUGGY_SAFARI_ITERATORS,XB=jB("iterator"),YB="keys",JB="values",ZB="entries",eD=function(){return this},tD=function(e,t,n,r,i,o,a){NB(n,t,r);var s,u,c,l=function(e){if(e===i&&p)return p;if(!$B&&e in A)return A[e];switch(e){case YB:return function(){return new n(this,e)};case JB:return function(){return new n(this,e)};case ZB:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,A=e.prototype,h=A[XB]||A["@@iterator"]||i&&A[i],p=!$B&&h||l(i),m="Array"==t&&A.entries||h;if(m&&(s=UB(m.call(new e)),s!==Object.prototype&&s.next&&(UB(s)!==WB&&(HB?HB(s,WB):PB(s[XB])||QB(s,XB,eD)),RB(s,d,!0))),KB&&i==JB&&h&&h.name!==JB&&(qB?VB(A,"name",JB):(f=!0,p=function(){return LB(h,this)})),i)if(u={values:l(JB),keys:o?p:l(YB),entries:l(ZB)},a)for(c in u)($B||f||!(c in A))&&QB(A,c,u[c]);else OB({target:t,proto:!0,forced:$B||f},u);return A[XB]!==p&&QB(A,XB,p,{name:i}),zB[t]=p,u},nD=function(e,t){return{value:e,done:t}},rD=cA,iD=iB,oD=dx,aD=km,sD=pp.f,uD=tD,cD=nD,lD=Mf,dD="Array Iterator",fD=aD.set,AD=aD.getterFor(dD),hD=uD(Array,"Array",(function(e,t){fD(this,{type:dD,target:rD(e),index:0,kind:t})}),(function(){var e=AD(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,cD(void 0,!0)):cD("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),pD=oD.Arguments=oD.Array;if(iD("keys"),iD("values"),iD("entries"),lD&&"values"!==pD.name)try{sD(pD,"name",{value:"values"})}catch(JO){}var mD={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gD=tp,vD=gD("span").classList,yD=vD&&vD.constructor&&vD.constructor.prototype,bD=yD===Object.prototype?void 0:yD,wD=kf,xD=mD,CD=bD,SD=hD,kD=Np,_D=Uh,BD=_D("iterator"),DD=_D("toStringTag"),MD=SD.values,ED=function(e,t){if(e){if(e[BD]!==MD)try{kD(e,BD,MD)}catch(JO){e[BD]=MD}if(e[DD]||kD(e,DD,t),xD[t])for(var n in SD)if(e[n]!==SD[n])try{kD(e,n,SD[n])}catch(JO){e[n]=SD[n]}}};for(var TD in xD)ED(wD[TD]&&wD[TD].prototype,TD);function ID(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ED(CD,"DOMTokenList");var OD=YA,LD=vh,FD=nA,PD=ig,ND=TypeError,UD=function(e){return function(t,n,r,i){OD(n);var o=LD(t),a=FD(o),s=PD(o),u=e?s-1:0,c=e?-1:1;if(r<2)while(1){if(u in a){i=a[u],u+=c;break}if(u+=c,e?u<0:s<=u)throw ND("Reduce of empty array with no initial value")}for(;e?u>=0:s>u;u+=c)u in a&&(i=n(i,a[u],u,o));return i}},HD={left:UD(!1),right:UD(!0)},RD=Bf,VD=function(e,t){var n=[][e];return!!n&&RD((function(){n.call(null,t||function(){return 1},1)}))},QD=Xg,jD=HD.left,zD=VD,GD=LA,KD=Zg,qD=zD("reduce"),WD=!KD&&GD>79&&GD<83;QD({target:"Array",proto:!0,forced:!qD||WD},{reduce:function(e){var t=arguments.length;return jD(this,e,t,t>1?arguments[1]:void 0)}});var $D=Xg,XD=gy,YD=_f.f,JD=ng,ZD=jC,eM=O_,tM=aA,nM=P_,rM=XD("".endsWith),iM=XD("".slice),oM=Math.min,aM=nM("endsWith"),sM=!aM&&!!function(){var e=YD(String.prototype,"endsWith");return e&&!e.writable}();$D({target:"String",proto:!0,forced:!sM&&!aM},{endsWith:function(e){var t=ZD(tM(this));eM(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:oM(JD(n),r),o=ZD(e);return rM?rM(t,o,i):iM(t,i-o.length,i)===o}});var uM=Xh,cM=pp,lM=Vf,dM=function(e,t,n){var r=uM(t);r in e?cM.f(e,r,lM(0,n)):e[r]=n},fM=Zm,AM=ig,hM=dM,pM=Array,mM=Math.max,gM=function(e,t,n){for(var r=AM(e),i=fM(t,r),o=fM(void 0===n?r:n,r),a=pM(mM(o-i,0)),s=0;i<o;i++,s++)hM(a,s,e[i]);return a.length=s,a},vM=hy,yM=Lf,bM=Kf,wM=hk,xM=xp,CM=rA,SM=E_,kM=aA,_M=cy,BM=kk,DM=ng,MM=jC,EM=eh,TM=gM,IM=Ik,OM=rk,LM=JC,FM=Bf,PM=LM.UNSUPPORTED_Y,NM=4294967295,UM=Math.min,HM=[].push,RM=bM(/./.exec),VM=bM(HM),QM=bM("".slice),jM=!FM((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));wM("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=MM(kM(this)),i=void 0===n?NM:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!SM(e))return yM(t,r,e,i);var o,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,d=new RegExp(e.source,c+"g");while(o=yM(OM,d,r)){if(a=d.lastIndex,a>l&&(VM(u,QM(r,l,o.index)),o.length>1&&o.index<r.length&&vM(HM,u,TM(o,1)),s=o[0].length,l=a,u.length>=i))break;d.lastIndex===o.index&&d.lastIndex++}return l===r.length?!s&&RM(d,"")||VM(u,""):VM(u,QM(r,l)),u.length>i?TM(u,0,i):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:yM(t,this,e,n)}:t,[function(t,n){var i=kM(this),o=CM(t)?void 0:EM(t,e);return o?yM(o,t,i,n):yM(r,MM(i),t,n)},function(e,i){var o=xM(this),a=MM(e),s=n(r,o,a,i,r!==t);if(s.done)return s.value;var u=_M(o,RegExp),c=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(PM?"g":"y"),d=new u(PM?"^(?:"+o.source+")":o,l),f=void 0===i?NM:i>>>0;if(0===f)return[];if(0===a.length)return null===IM(d,a)?[a]:[];var A=0,h=0,p=[];while(h<a.length){d.lastIndex=PM?0:h;var m,g=IM(d,PM?QM(a,h):a);if(null===g||(m=UM(DM(d.lastIndex+(PM?h:0)),a.length))===A)h=BM(a,h,c);else{if(VM(p,QM(a,A,h)),p.length===f)return p;for(var v=1;v<=g.length-1;v++)if(VM(p,g[v]),p.length===f)return p;h=A=m}}return VM(p,QM(a,A)),p}]}),!jM,PM);var zM={exports:{}},GM={exports:{}};(function(){var e,t,n,i,o,a;"undefined"!==typeof performance&&null!==performance&&performance.now?GM.exports=function(){return performance.now()}:"undefined"!==typeof r&&null!==r&&r.hrtime?(GM.exports=function(){return(e()-o)/1e6},t=r.hrtime,e=function(){var e;return e=t(),1e9*e[0]+e[1]},i=e(),a=1e9*r.uptime(),o=i-a):Date.now?(GM.exports=function(){return Date.now()-n},n=Date.now()):(GM.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(Pu);for(var KM=GM.exports,qM="undefined"===typeof window?Pu:window,WM=["moz","webkit"],$M="AnimationFrame",XM=qM["request"+$M],YM=qM["cancel"+$M]||qM["cancelRequest"+$M],JM=0;!XM&&JM<WM.length;JM++)XM=qM[WM[JM]+"Request"+$M],YM=qM[WM[JM]+"Cancel"+$M]||qM[WM[JM]+"CancelRequest"+$M];if(!XM||!YM){var ZM=0,eE=0,tE=[],nE=1e3/60;XM=function(e){if(0===tE.length){var t=KM(),n=Math.max(0,nE-(t-ZM));ZM=n+t,setTimeout((function(){var e=tE.slice(0);tE.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(ZM)}catch(KE){setTimeout((function(){throw KE}),0)}}),Math.round(n))}return tE.push({handle:++eE,callback:e,cancelled:!1}),eE},YM=function(e){for(var t=0;t<tE.length;t++)tE[t].handle===e&&(tE[t].cancelled=!0)}}zM.exports=function(e){return XM.call(qM,e)},zM.exports.cancel=function(){YM.apply(qM,arguments)},zM.exports.polyfill=function(e){e||(e=qM),e.requestAnimationFrame=XM,e.cancelAnimationFrame=YM};var rE="\t\n\v\f\r                　\u2028\u2029\ufeff",iE=Kf,oE=aA,aE=jC,sE=rE,uE=iE("".replace),cE="["+sE+"]",lE=RegExp("^"+cE+cE+"*"),dE=RegExp(cE+cE+"*$"),fE=function(e){return function(t){var n=aE(oE(t));return 1&e&&(n=uE(n,lE,"")),2&e&&(n=uE(n,dE,"")),n}},AE={start:fE(1),end:fE(2),trim:fE(3)},hE=Kp.PROPER,pE=Bf,mE=rE,gE="​᠎",vE=function(e){return pE((function(){return!!mE[e]()||gE[e]()!==gE||hE&&mE[e].name!==e}))},yE=Xg,bE=AE.trim,wE=vE;yE({target:"String",proto:!0,forced:wE("trim")},{trim:function(){return bE(this)}});var xE=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,r=0;r<n.length;r++)for(var i=n[r].example,o=0;o<i.length;o++)e[e.length]=i[o];for(var a in t)e[e.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(r=0;r<e.length;r++)try{var u=document.createElement("li"),c=new RGBColor(e[r]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),l.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+e[r]+" -> "+c.toRGB()+" -> "+c.toHex());u.appendChild(l),u.appendChild(d),s.appendChild(u)}catch(KE){}return s}},CE=Xg,SE=gy,kE=cg.indexOf,_E=VD,BE=SE([].indexOf),DE=!!BE&&1/BE([1],1,-0)<0,ME=_E("indexOf");CE({target:"Array",proto:!0,forced:DE||!ME},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return DE?BE(this,e,t)||0:kE(this,e,t)}});var EE=Xg,TE=Kf,IE=O_,OE=aA,LE=jC,FE=P_,PE=TE("".indexOf);EE({target:"String",proto:!0,forced:!FE("includes")},{includes:function(e){return!!~PE(LE(OE(this)),LE(IE(e)),arguments.length>1?arguments[1]:void 0)}});var NE=Xf,UE=Array.isArray||function(e){return"Array"==NE(e)},HE=Xg,RE=Kf,VE=UE,QE=RE([].reverse),jE=[1,2];HE({target:"Array",proto:!0,forced:String(jE)===String(jE.reverse())},{reverse:function(){return VE(this)&&(this.length=this.length),QE(this)}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var zE=function(e,t){return(zE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function GE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function KE(e){var t="";Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(r.type===cT.CLOSE_PATH)t+="z";else if(r.type===cT.HORIZ_LINE_TO)t+=(r.relative?"h":"H")+r.x;else if(r.type===cT.VERT_LINE_TO)t+=(r.relative?"v":"V")+r.y;else if(r.type===cT.MOVE_TO)t+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===cT.LINE_TO)t+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===cT.CURVE_TO)t+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===cT.SMOOTH_CURVE_TO)t+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===cT.QUAD_TO)t+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===cT.SMOOTH_QUAD_TO)t+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==cT.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+n+".");t+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return t}function qE(e,t){var n=e[0],r=e[1];return[n*Math.cos(t)-r*Math.sin(t),n*Math.sin(t)+r*Math.cos(t)]}function WE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if("number"!=typeof e[n])throw new Error("assertNumbers arguments["+n+"] is not a number. "+m(e[n])+" == typeof "+e[n]);return!0}var $E=Math.PI;function XE(e,t,n){e.lArcFlag=0===e.lArcFlag?0:1,e.sweepFlag=0===e.sweepFlag?0:1;var r=e.rX,i=e.rY,o=e.x,a=e.y;r=Math.abs(e.rX),i=Math.abs(e.rY);var s=qE([(t-o)/2,(n-a)/2],-e.xRot/180*$E),u=s[0],c=s[1],l=Math.pow(u,2)/Math.pow(r,2)+Math.pow(c,2)/Math.pow(i,2);1<l&&(r*=Math.sqrt(l),i*=Math.sqrt(l)),e.rX=r,e.rY=i;var d=Math.pow(r,2)*Math.pow(c,2)+Math.pow(i,2)*Math.pow(u,2),f=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-d)/d)),A=r*c/i*f,h=-i*u/r*f,p=qE([A,h],e.xRot/180*$E);e.cX=p[0]+(t+o)/2,e.cY=p[1]+(n+a)/2,e.phi1=Math.atan2((c-h)/i,(u-A)/r),e.phi2=Math.atan2((-c-h)/i,(-u-A)/r),0===e.sweepFlag&&e.phi2>e.phi1&&(e.phi2-=2*$E),1===e.sweepFlag&&e.phi2<e.phi1&&(e.phi2+=2*$E),e.phi1*=180/$E,e.phi2*=180/$E}function YE(e,t,n){WE(e,t,n);var r=e*e+t*t-n*n;if(0>r)return[];if(0===r)return[[e*n/(e*e+t*t),t*n/(e*e+t*t)]];var i=Math.sqrt(r);return[[(e*n+t*i)/(e*e+t*t),(t*n-e*i)/(e*e+t*t)],[(e*n-t*i)/(e*e+t*t),(t*n+e*i)/(e*e+t*t)]]}var JE,ZE=Math.PI/180;function eT(e,t,n){return(1-n)*e+n*t}function tT(e,t,n,r){return e+Math.cos(r/180*$E)*t+Math.sin(r/180*$E)*n}function nT(e,t,n,r){var i=1e-6,o=t-e,a=n-t,s=3*o+3*(r-n)-6*a,u=6*(a-o),c=3*o;return Math.abs(s)<i?[-c/u]:function(e,t,n){void 0===n&&(n=1e-6);var r=e*e/4-t;if(r<-n)return[];if(r<=n)return[-e/2];var i=Math.sqrt(r);return[-e/2-i,-e/2+i]}(u/s,c/s,i)}function rT(e,t,n,r,i){var o=1-i;return e*(o*o*o)+t*(3*o*o*i)+n*(3*o*i*i)+r*(i*i*i)}!function(e){function t(){return i((function(e,t,n){return e.relative&&(void 0!==e.x1&&(e.x1+=t),void 0!==e.y1&&(e.y1+=n),void 0!==e.x2&&(e.x2+=t),void 0!==e.y2&&(e.y2+=n),void 0!==e.x&&(e.x+=t),void 0!==e.y&&(e.y+=n),e.relative=!1),e}))}function n(){var e=NaN,t=NaN,n=NaN,r=NaN;return i((function(i,o,a){return i.type&cT.SMOOTH_CURVE_TO&&(i.type=cT.CURVE_TO,e=isNaN(e)?o:e,t=isNaN(t)?a:t,i.x1=i.relative?o-e:2*o-e,i.y1=i.relative?a-t:2*a-t),i.type&cT.CURVE_TO?(e=i.relative?o+i.x2:i.x2,t=i.relative?a+i.y2:i.y2):(e=NaN,t=NaN),i.type&cT.SMOOTH_QUAD_TO&&(i.type=cT.QUAD_TO,n=isNaN(n)?o:n,r=isNaN(r)?a:r,i.x1=i.relative?o-n:2*o-n,i.y1=i.relative?a-r:2*a-r),i.type&cT.QUAD_TO?(n=i.relative?o+i.x1:i.x1,r=i.relative?a+i.y1:i.y1):(n=NaN,r=NaN),i}))}function r(){var e=NaN,t=NaN;return i((function(n,r,i){if(n.type&cT.SMOOTH_QUAD_TO&&(n.type=cT.QUAD_TO,e=isNaN(e)?r:e,t=isNaN(t)?i:t,n.x1=n.relative?r-e:2*r-e,n.y1=n.relative?i-t:2*i-t),n.type&cT.QUAD_TO){e=n.relative?r+n.x1:n.x1,t=n.relative?i+n.y1:n.y1;var o=n.x1,a=n.y1;n.type=cT.CURVE_TO,n.x1=((n.relative?0:r)+2*o)/3,n.y1=((n.relative?0:i)+2*a)/3,n.x2=(n.x+2*o)/3,n.y2=(n.y+2*a)/3}else e=NaN,t=NaN;return n}))}function i(e){var t=0,n=0,r=NaN,i=NaN;return function(o){if(isNaN(r)&&!(o.type&cT.MOVE_TO))throw new Error("path must start with moveto");var a=e(o,t,n,r,i);return o.type&cT.CLOSE_PATH&&(t=r,n=i),void 0!==o.x&&(t=o.relative?t+o.x:o.x),void 0!==o.y&&(n=o.relative?n+o.y:o.y),o.type&cT.MOVE_TO&&(r=t,i=n),a}}function o(e,t,n,r,o,a){return WE(e,t,n,r,o,a),i((function(i,s,u,c){var l=i.x1,d=i.x2,f=i.relative&&!isNaN(c),A=void 0!==i.x?i.x:f?0:s,h=void 0!==i.y?i.y:f?0:u;function p(e){return e*e}i.type&cT.HORIZ_LINE_TO&&0!==t&&(i.type=cT.LINE_TO,i.y=i.relative?0:u),i.type&cT.VERT_LINE_TO&&0!==n&&(i.type=cT.LINE_TO,i.x=i.relative?0:s),void 0!==i.x&&(i.x=i.x*e+h*n+(f?0:o)),void 0!==i.y&&(i.y=A*t+i.y*r+(f?0:a)),void 0!==i.x1&&(i.x1=i.x1*e+i.y1*n+(f?0:o)),void 0!==i.y1&&(i.y1=l*t+i.y1*r+(f?0:a)),void 0!==i.x2&&(i.x2=i.x2*e+i.y2*n+(f?0:o)),void 0!==i.y2&&(i.y2=d*t+i.y2*r+(f?0:a));var m=e*r-t*n;if(void 0!==i.xRot&&(1!==e||0!==t||0!==n||1!==r))if(0===m)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=cT.LINE_TO;else{var g=i.xRot*Math.PI/180,v=Math.sin(g),y=Math.cos(g),b=1/p(i.rX),w=1/p(i.rY),x=p(y)*b+p(v)*w,C=2*v*y*(b-w),S=p(v)*b+p(y)*w,k=x*r*r-C*t*r+S*t*t,_=C*(e*r+t*n)-2*(x*n*r+S*e*t),B=x*n*n-C*e*n+S*e*e,D=(Math.atan2(_,k-B)+Math.PI)%Math.PI/2,M=Math.sin(D),E=Math.cos(D);i.rX=Math.abs(m)/Math.sqrt(k*p(E)+_*M*E+B*p(M)),i.rY=Math.abs(m)/Math.sqrt(k*p(M)-_*M*E+B*p(E)),i.xRot=180*D/Math.PI}return void 0!==i.sweepFlag&&0>m&&(i.sweepFlag=+!i.sweepFlag),i}))}function a(){return function(e){var t={};for(var n in e)t[n]=e[n];return t}}e.ROUND=function(e){function t(t){return Math.round(t*e)/e}return void 0===e&&(e=1e13),WE(e),function(e){return void 0!==e.x1&&(e.x1=t(e.x1)),void 0!==e.y1&&(e.y1=t(e.y1)),void 0!==e.x2&&(e.x2=t(e.x2)),void 0!==e.y2&&(e.y2=t(e.y2)),void 0!==e.x&&(e.x=t(e.x)),void 0!==e.y&&(e.y=t(e.y)),void 0!==e.rX&&(e.rX=t(e.rX)),void 0!==e.rY&&(e.rY=t(e.rY)),e}},e.TO_ABS=t,e.TO_REL=function(){return i((function(e,t,n){return e.relative||(void 0!==e.x1&&(e.x1-=t),void 0!==e.y1&&(e.y1-=n),void 0!==e.x2&&(e.x2-=t),void 0!==e.y2&&(e.y2-=n),void 0!==e.x&&(e.x-=t),void 0!==e.y&&(e.y-=n),e.relative=!0),e}))},e.NORMALIZE_HVZ=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),i((function(r,i,o,a,s){if(isNaN(a)&&!(r.type&cT.MOVE_TO))throw new Error("path must start with moveto");return t&&r.type&cT.HORIZ_LINE_TO&&(r.type=cT.LINE_TO,r.y=r.relative?0:o),n&&r.type&cT.VERT_LINE_TO&&(r.type=cT.LINE_TO,r.x=r.relative?0:i),e&&r.type&cT.CLOSE_PATH&&(r.type=cT.LINE_TO,r.x=r.relative?a-i:a,r.y=r.relative?s-o:s),r.type&cT.ARC&&(0===r.rX||0===r.rY)&&(r.type=cT.LINE_TO,delete r.rX,delete r.rY,delete r.xRot,delete r.lArcFlag,delete r.sweepFlag),r}))},e.NORMALIZE_ST=n,e.QT_TO_C=r,e.INFO=i,e.SANITIZE=function(e){void 0===e&&(e=0),WE(e);var t=NaN,n=NaN,r=NaN,o=NaN;return i((function(i,a,s,u,c){var l=Math.abs,d=!1,f=0,A=0;if(i.type&cT.SMOOTH_CURVE_TO&&(f=isNaN(t)?0:a-t,A=isNaN(n)?0:s-n),i.type&(cT.CURVE_TO|cT.SMOOTH_CURVE_TO)?(t=i.relative?a+i.x2:i.x2,n=i.relative?s+i.y2:i.y2):(t=NaN,n=NaN),i.type&cT.SMOOTH_QUAD_TO?(r=isNaN(r)?a:2*a-r,o=isNaN(o)?s:2*s-o):i.type&cT.QUAD_TO?(r=i.relative?a+i.x1:i.x1,o=i.relative?s+i.y1:i.y2):(r=NaN,o=NaN),i.type&cT.LINE_COMMANDS||i.type&cT.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&cT.CURVE_TO||i.type&cT.SMOOTH_CURVE_TO||i.type&cT.QUAD_TO||i.type&cT.SMOOTH_QUAD_TO){var h=void 0===i.x?0:i.relative?i.x:i.x-a,p=void 0===i.y?0:i.relative?i.y:i.y-s;f=isNaN(r)?void 0===i.x1?f:i.relative?i.x:i.x1-a:r-a,A=isNaN(o)?void 0===i.y1?A:i.relative?i.y:i.y1-s:o-s;var m=void 0===i.x2?0:i.relative?i.x:i.x2-a,g=void 0===i.y2?0:i.relative?i.y:i.y2-s;l(h)<=e&&l(p)<=e&&l(f)<=e&&l(A)<=e&&l(m)<=e&&l(g)<=e&&(d=!0)}return i.type&cT.CLOSE_PATH&&l(a-u)<=e&&l(s-c)<=e&&(d=!0),d?[]:i}))},e.MATRIX=o,e.ROTATE=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),WE(e,t,n);var r=Math.sin(e),i=Math.cos(e);return o(i,r,-r,i,t-t*i+n*r,n-t*r-n*i)},e.TRANSLATE=function(e,t){return void 0===t&&(t=0),WE(e,t),o(1,0,0,1,e,t)},e.SCALE=function(e,t){return void 0===t&&(t=e),WE(e,t),o(e,0,0,t,0,0)},e.SKEW_X=function(e){return WE(e),o(1,0,Math.atan(e),1,0,0)},e.SKEW_Y=function(e){return WE(e),o(1,Math.atan(e),0,1,0,0)},e.X_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),WE(e),o(-1,0,0,1,e,0)},e.Y_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),WE(e),o(1,0,0,-1,0,e)},e.A_TO_C=function(){return i((function(e,t,n){return cT.ARC===e.type?function(e,t,n){var r,i,o,a;e.cX||XE(e,t,n);for(var s=Math.min(e.phi1,e.phi2),u=Math.max(e.phi1,e.phi2)-s,c=Math.ceil(u/90),l=new Array(c),d=t,f=n,A=0;A<c;A++){var h=eT(e.phi1,e.phi2,A/c),p=eT(e.phi1,e.phi2,(A+1)/c),m=p-h,g=4/3*Math.tan(m*ZE/4),v=[Math.cos(h*ZE)-g*Math.sin(h*ZE),Math.sin(h*ZE)+g*Math.cos(h*ZE)],y=v[0],b=v[1],w=[Math.cos(p*ZE),Math.sin(p*ZE)],x=w[0],C=w[1],S=[x+g*Math.sin(p*ZE),C-g*Math.cos(p*ZE)],k=S[0],_=S[1];l[A]={relative:e.relative,type:cT.CURVE_TO};var B=function(t,n){var r=qE([t*e.rX,n*e.rY],e.xRot),i=r[0],o=r[1];return[e.cX+i,e.cY+o]};r=B(y,b),l[A].x1=r[0],l[A].y1=r[1],i=B(k,_),l[A].x2=i[0],l[A].y2=i[1],o=B(x,C),l[A].x=o[0],l[A].y=o[1],e.relative&&(l[A].x1-=d,l[A].y1-=f,l[A].x2-=d,l[A].y2-=f,l[A].x-=d,l[A].y-=f),d=(a=[l[A].x,l[A].y])[0],f=a[1]}return l}(e,e.relative?0:t,e.relative?0:n):e}))},e.ANNOTATE_ARCS=function(){return i((function(e,t,n){return e.relative&&(t=0,n=0),cT.ARC===e.type&&XE(e,t,n),e}))},e.CLONE=a,e.CALCULATE_BOUNDS=function(){var e=function(e){var t={};for(var n in e)t[n]=e[n];return t},o=t(),a=r(),s=n(),u=i((function(t,n,r){var i=s(a(o(e(t))));function c(e){e>u.maxX&&(u.maxX=e),e<u.minX&&(u.minX=e)}function l(e){e>u.maxY&&(u.maxY=e),e<u.minY&&(u.minY=e)}if(i.type&cT.DRAWING_COMMANDS&&(c(n),l(r)),i.type&cT.HORIZ_LINE_TO&&c(i.x),i.type&cT.VERT_LINE_TO&&l(i.y),i.type&cT.LINE_TO&&(c(i.x),l(i.y)),i.type&cT.CURVE_TO){c(i.x),l(i.y);for(var d=0,f=nT(n,i.x1,i.x2,i.x);d<f.length;d++)0<(D=f[d])&&1>D&&c(rT(n,i.x1,i.x2,i.x,D));for(var A=0,h=nT(r,i.y1,i.y2,i.y);A<h.length;A++)0<(D=h[A])&&1>D&&l(rT(r,i.y1,i.y2,i.y,D))}if(i.type&cT.ARC){c(i.x),l(i.y),XE(i,n,r);for(var p=i.xRot/180*Math.PI,m=Math.cos(p)*i.rX,g=Math.sin(p)*i.rX,v=-Math.sin(p)*i.rY,y=Math.cos(p)*i.rY,b=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],w=b[0],x=b[1],C=function(e){var t=e[0],n=e[1],r=180*Math.atan2(n,t)/Math.PI;return r<w?r+360:r},S=0,k=YE(v,-m,0).map(C);S<k.length;S++)(D=k[S])>w&&D<x&&c(tT(i.cX,m,v,D));for(var _=0,B=YE(y,-g,0).map(C);_<B.length;_++){var D;(D=B[_])>w&&D<x&&l(tT(i.cY,g,y,D))}}return t}));return u.minX=1/0,u.maxX=-1/0,u.minY=1/0,u.maxY=-1/0,u}}(JE||(JE={}));var iT,oT=function(){function e(){}return e.prototype.round=function(e){return this.transform(JE.ROUND(e))},e.prototype.toAbs=function(){return this.transform(JE.TO_ABS())},e.prototype.toRel=function(){return this.transform(JE.TO_REL())},e.prototype.normalizeHVZ=function(e,t,n){return this.transform(JE.NORMALIZE_HVZ(e,t,n))},e.prototype.normalizeST=function(){return this.transform(JE.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(JE.QT_TO_C())},e.prototype.aToC=function(){return this.transform(JE.A_TO_C())},e.prototype.sanitize=function(e){return this.transform(JE.SANITIZE(e))},e.prototype.translate=function(e,t){return this.transform(JE.TRANSLATE(e,t))},e.prototype.scale=function(e,t){return this.transform(JE.SCALE(e,t))},e.prototype.rotate=function(e,t,n){return this.transform(JE.ROTATE(e,t,n))},e.prototype.matrix=function(e,t,n,r,i,o){return this.transform(JE.MATRIX(e,t,n,r,i,o))},e.prototype.skewX=function(e){return this.transform(JE.SKEW_X(e))},e.prototype.skewY=function(e){return this.transform(JE.SKEW_Y(e))},e.prototype.xSymmetry=function(e){return this.transform(JE.X_AXIS_SYMMETRY(e))},e.prototype.ySymmetry=function(e){return this.transform(JE.Y_AXIS_SYMMETRY(e))},e.prototype.annotateArcs=function(){return this.transform(JE.ANNOTATE_ARCS())},e}(),aT=function(e){return" "===e||"\t"===e||"\r"===e||"\n"===e},sT=function(e){return"0".charCodeAt(0)<=e.charCodeAt(0)&&e.charCodeAt(0)<="9".charCodeAt(0)},uT=function(e){function t(){var t=e.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return GE(t,e),t.prototype.finish=function(e){if(void 0===e&&(e=[]),this.parse(" ",e),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,t){var n=this;void 0===t&&(t=[]);for(var r=function(e){t.push(e),n.curArgs.length=0,n.canParseCommandOrComma=!0},i=0;i<e.length;i++){var o=e[i],a=!(this.curCommandType!==cT.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),s=sT(o)&&("0"===this.curNumber&&"0"===o||a);if(!sT(o)||s)if("e"!==o&&"E"!==o)if("-"!==o&&"+"!==o||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==o||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===cT.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(u),this.curArgs.length===lT[this.curCommandType]&&(cT.HORIZ_LINE_TO===this.curCommandType?r({type:cT.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):cT.VERT_LINE_TO===this.curCommandType?r({type:cT.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===cT.MOVE_TO||this.curCommandType===cT.LINE_TO||this.curCommandType===cT.SMOOTH_QUAD_TO?(r({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),cT.MOVE_TO===this.curCommandType&&(this.curCommandType=cT.LINE_TO)):this.curCommandType===cT.CURVE_TO?r({type:cT.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===cT.SMOOTH_CURVE_TO?r({type:cT.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===cT.QUAD_TO?r({type:cT.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===cT.ARC&&r({type:cT.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!aT(o))if(","===o&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==o&&"-"!==o&&"."!==o)if(s)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==o&&"Z"!==o)if("h"===o||"H"===o)this.curCommandType=cT.HORIZ_LINE_TO,this.curCommandRelative="h"===o;else if("v"===o||"V"===o)this.curCommandType=cT.VERT_LINE_TO,this.curCommandRelative="v"===o;else if("m"===o||"M"===o)this.curCommandType=cT.MOVE_TO,this.curCommandRelative="m"===o;else if("l"===o||"L"===o)this.curCommandType=cT.LINE_TO,this.curCommandRelative="l"===o;else if("c"===o||"C"===o)this.curCommandType=cT.CURVE_TO,this.curCommandRelative="c"===o;else if("s"===o||"S"===o)this.curCommandType=cT.SMOOTH_CURVE_TO,this.curCommandRelative="s"===o;else if("q"===o||"Q"===o)this.curCommandType=cT.QUAD_TO,this.curCommandRelative="q"===o;else if("t"===o||"T"===o)this.curCommandType=cT.SMOOTH_QUAD_TO,this.curCommandRelative="t"===o;else{if("a"!==o&&"A"!==o)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+".");this.curCommandType=cT.ARC,this.curCommandRelative="a"===o}else t.push({type:cT.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal="."===o}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return t},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(t,n){void 0===n&&(n=[]);for(var r=0,i=Object.getPrototypeOf(this).parse.call(this,t);r<i.length;r++){var o=i[r],a=e(o);Array.isArray(a)?n.push.apply(n,a):n.push(a)}return n}}})},t}(oT),cT=function(e){function t(n){var r=e.call(this)||this;return r.commands="string"==typeof n?t.parse(n):n,r}return GE(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=JE.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var t=[],n=0,r=this.commands;n<r.length;n++){var i=e(r[n]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return this.commands=t,this},t.encode=function(e){return KE(e)},t.parse=function(e){var t=new uT,n=[];return t.parse(e,n),t.finish(n),n},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(oT),lT=((iT={})[cT.MOVE_TO]=2,iT[cT.LINE_TO]=2,iT[cT.HORIZ_LINE_TO]=1,iT[cT.VERT_LINE_TO]=1,iT[cT.CLOSE_PATH]=0,iT[cT.QUAD_TO]=4,iT[cT.SMOOTH_QUAD_TO]=2,iT[cT.CURVE_TO]=6,iT[cT.SMOOTH_CURVE_TO]=4,iT[cT.ARC]=7,iT),dT=Lf,fT=xh,AT=kA,hT=GC,pT=RegExp.prototype,mT=function(e){var t=e.flags;return void 0!==t||"flags"in pT||fT(e,"flags")||!AT(pT,e)?t:dT(hT,e)},gT=Kp.PROPER,vT=jm,yT=xp,bT=jC,wT=Bf,xT=mT,CT="toString",ST=RegExp.prototype,kT=ST[CT],_T=wT((function(){return"/a/b"!=kT.call({source:"a",flags:"b"})})),BT=gT&&kT.name!=CT;function DT(e){return DT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DT(e)}function MT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(_T||BT)&&vT(RegExp.prototype,CT,(function(){var e=yT(this),t=bT(e.source),n=bT(xT(e));return"/"+t+"/"+n}),{unsafe:!0});var ET=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],TT=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function IT(e,t,n,r,i){if("string"===typeof e&&(e=document.getElementById(e)),!e||"object"!==DT(e)||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=e.getContext("2d");try{return o.getImageData(t,n,r,i)}catch(KE){throw new Error("unable to access image data: "+KE)}}function OT(e,t,n,r,i,o){if(!(isNaN(o)||o<1)){o|=0;var a=IT(e,t,n,r,i);a=LT(a,t,n,r,i,o),e.getContext("2d").putImageData(a,t,n)}}function LT(e,t,n,r,i,o){for(var a,s=e.data,u=2*o+1,c=r-1,l=i-1,d=o+1,f=d*(d+1)/2,A=new FT,h=A,p=1;p<u;p++)h=h.next=new FT,p===d&&(a=h);h.next=A;for(var m=null,g=null,v=0,y=0,b=ET[o],w=TT[o],x=0;x<i;x++){h=A;for(var C=s[y],S=s[y+1],k=s[y+2],_=s[y+3],B=0;B<d;B++)h.r=C,h.g=S,h.b=k,h.a=_,h=h.next;for(var D=0,M=0,E=0,T=0,I=d*C,O=d*S,L=d*k,F=d*_,P=f*C,N=f*S,U=f*k,H=f*_,R=1;R<d;R++){var V=y+((c<R?c:R)<<2),Q=s[V],j=s[V+1],z=s[V+2],G=s[V+3],K=d-R;P+=(h.r=Q)*K,N+=(h.g=j)*K,U+=(h.b=z)*K,H+=(h.a=G)*K,D+=Q,M+=j,E+=z,T+=G,h=h.next}m=A,g=a;for(var q=0;q<r;q++){var W=H*b>>w;if(s[y+3]=W,0!==W){var $=255/W;s[y]=(P*b>>w)*$,s[y+1]=(N*b>>w)*$,s[y+2]=(U*b>>w)*$}else s[y]=s[y+1]=s[y+2]=0;P-=I,N-=O,U-=L,H-=F,I-=m.r,O-=m.g,L-=m.b,F-=m.a;var X=q+o+1;X=v+(X<c?X:c)<<2,D+=m.r=s[X],M+=m.g=s[X+1],E+=m.b=s[X+2],T+=m.a=s[X+3],P+=D,N+=M,U+=E,H+=T,m=m.next;var Y=g,J=Y.r,Z=Y.g,ee=Y.b,te=Y.a;I+=J,O+=Z,L+=ee,F+=te,D-=J,M-=Z,E-=ee,T-=te,g=g.next,y+=4}v+=r}for(var ne=0;ne<r;ne++){y=ne<<2;var re=s[y],ie=s[y+1],oe=s[y+2],ae=s[y+3],se=d*re,ue=d*ie,ce=d*oe,le=d*ae,de=f*re,fe=f*ie,Ae=f*oe,he=f*ae;h=A;for(var pe=0;pe<d;pe++)h.r=re,h.g=ie,h.b=oe,h.a=ae,h=h.next;for(var me=r,ge=0,ve=0,ye=0,be=0,we=1;we<=o;we++){y=me+ne<<2;var xe=d-we;de+=(h.r=re=s[y])*xe,fe+=(h.g=ie=s[y+1])*xe,Ae+=(h.b=oe=s[y+2])*xe,he+=(h.a=ae=s[y+3])*xe,be+=re,ge+=ie,ve+=oe,ye+=ae,h=h.next,we<l&&(me+=r)}y=ne,m=A,g=a;for(var Ce=0;Ce<i;Ce++){var Se=y<<2;s[Se+3]=ae=he*b>>w,ae>0?(ae=255/ae,s[Se]=(de*b>>w)*ae,s[Se+1]=(fe*b>>w)*ae,s[Se+2]=(Ae*b>>w)*ae):s[Se]=s[Se+1]=s[Se+2]=0,de-=se,fe-=ue,Ae-=ce,he-=le,se-=m.r,ue-=m.g,ce-=m.b,le-=m.a,Se=ne+((Se=Ce+d)<l?Se:l)*r<<2,de+=be+=m.r=s[Se],fe+=ge+=m.g=s[Se+1],Ae+=ve+=m.b=s[Se+2],he+=ye+=m.a=s[Se+3],m=m.next,se+=re=g.r,ue+=ie=g.g,ce+=oe=g.b,le+=ae=g.a,be-=re,ge-=ie,ve-=oe,ye-=ae,g=g.next,y+=r}}return e}var FT=function e(){MT(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function PT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.DOMParser,n={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:function(e,t){return new OffscreenCanvas(e,t)},createImage:function(e){return RC(a.mark((function t(){var n,r,i;return a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.blob();case 5:return r=t.sent,t.next=8,createImageBitmap(r);case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))()}};return"undefined"===typeof DOMParser&&"undefined"!==typeof t||Reflect.deleteProperty(n,"DOMParser"),n}function NT(e){var t=e.DOMParser,n=e.canvas,r=e.fetch;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:r,createCanvas:n.createCanvas,createImage:n.loadImage}}var UT=Object.freeze({__proto__:null,offscreen:PT,node:NT});function HT(e){return e.replace(/(?!\u3000)\s+/gm," ")}function RT(e){return e.replace(/^[\n \t]+/,"")}function VT(e){return e.replace(/[\n \t]+$/,"")}function QT(e){var t=(e||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return t.map(parseFloat)}var jT=/^[A-Z-]+$/;function zT(e){return jT.test(e)?e.toLowerCase():e}function GT(e){var t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e)||[];return t[2]||t[3]||t[4]}function KT(e){if(!e.startsWith("rgb"))return e;var t=3,n=e.replace(/\d+(\.\d+)?/g,(function(e,n){return t--&&n?String(Math.round(parseFloat(e))):e}));return n}var qT=/(\[[^\]]+\])/g,WT=/(#[^\s+>~.[:]+)/g,$T=/(\.[^\s+>~.[:]+)/g,XT=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,YT=/(:[\w-]+\([^)]*\))/gi,JT=/(:[^\s+>~.[:]+)/g,ZT=/([^\s+>~.[:]+)/g;function eI(e,t){var n=t.exec(e);return n?[e.replace(t," "),n.length]:[e,0]}function tI(e){var t=[0,0,0],n=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0,i=eI(n,qT),o=g(i,2);n=o[0],r=o[1],t[1]+=r;var a=eI(n,WT),s=g(a,2);n=s[0],r=s[1],t[0]+=r;var u=eI(n,$T),c=g(u,2);n=c[0],r=c[1],t[1]+=r;var l=eI(n,XT),d=g(l,2);n=d[0],r=d[1],t[2]+=r;var f=eI(n,YT),A=g(f,2);n=A[0],r=A[1],t[1]+=r;var h=eI(n,JT),p=g(h,2);n=p[0],r=p[1],t[1]+=r,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," ");var m=eI(n,ZT),v=g(m,2);return n=v[0],r=v[1],t[2]+=r,t.join("")}var nI=1e-8;function rI(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function iI(e,t){return(e[0]*t[0]+e[1]*t[1])/(rI(e)*rI(t))}function oI(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(iI(e,t))}function aI(e){return e*e*e}function sI(e){return 3*e*e*(1-e)}function uI(e){return 3*e*(1-e)*(1-e)}function cI(e){return(1-e)*(1-e)*(1-e)}function lI(e){return e*e}function dI(e){return 2*e*(1-e)}function fI(e){return(1-e)*(1-e)}var AI=function(){function e(t,n,r){v(this,e),this.document=t,this.name=n,this.value=r,this.isNormalizedColor=!1}return A(e,[{key:"split",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",n=this.document,r=this.name;return HT(this.getString()).trim().split(t).map((function(t){return new e(n,r,t)}))}},{key:"hasValue",value:function(e){var t=this.value;return null!==t&&""!==t&&(e||0!==t)&&"undefined"!==typeof t}},{key:"isString",value:function(e){var t=this.value,n="string"===typeof t;return n&&e?e.test(t):n}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getValue",value:function(e){return"undefined"===typeof e||this.hasValue()?this.value:e}},{key:"getNumber",value:function(e){if(!this.hasValue())return"undefined"===typeof e?0:parseFloat(e);var t=this.value,n=parseFloat(t);return this.isString(/%$/)&&(n/=100),n}},{key:"getString",value:function(e){return"undefined"===typeof e||this.hasValue()?"undefined"===typeof this.value?"":String(this.value):String(e)}},{key:"getColor",value:function(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=KT(t),this.value=t),t}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9.-]/g,"")}},{key:"getPixels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var n="boolean"===typeof e?[void 0,e]:[e],r=g(n,2),i=r[0],o=r[1],a=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(a.computeSize("x"),a.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(a.computeSize("x"),a.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*a.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*a.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&o:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*a.computeSize(i);default:var s=this.getNumber();return t&&s<1?s*a.computeSize(i):s}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}},{key:"getFillStyleDefinition",value:function(e,t){var n=this.getDefinition();if(!n)return null;if("function"===typeof n.createGradient)return n.createGradient(this.document.ctx,e,t);if("function"===typeof n.createPattern){if(n.getHrefAttribute().hasValue()){var r=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),r.hasValue()&&n.getAttribute("patternTransform",!0).setValue(r.value)}return n.createPattern(this.document.ctx,e,t)}return null}},{key:"getTextBaseline",value:function(){return this.hasValue()?e.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(t){for(var n=this.getColor(),r=n.length,i=0,o=0;o<r;o++)if(","===n[o]&&i++,3===i)break;if(t.hasValue()&&this.isString()&&3!==i){var a=new xE(n);a.ok&&(a.alpha=t.getNumber(),n=a.toRGBA())}return new e(this.document,this.name,n)}}],[{key:"empty",value:function(t){return new e(t,"EMPTY","")}}]),e}();AI.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var hI=function(){function e(){v(this,e),this.viewPorts=[]}return A(e,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(e,t){this.viewPorts.push({width:e,height:t})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var e=this.viewPorts;return e[e.length-1]}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}},{key:"computeSize",value:function(e){return"number"===typeof e?e:"x"===e?this.width:"y"===e?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}]),e}(),pI=function(){function e(t,n){v(this,e),this.x=t,this.y=n}return A(e,[{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"applyTransform",value:function(e){var t=this.x,n=this.y,r=t*e[0]+n*e[2]+e[4],i=t*e[1]+n*e[3]+e[5];this.x=r,this.y=i}}],[{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=QT(t),i=g(r,2),o=i[0],a=void 0===o?n:o,s=i[1],u=void 0===s?n:s;return new e(a,u)}},{key:"parseScale",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=QT(t),i=g(r,2),o=i[0],a=void 0===o?n:o,s=i[1],u=void 0===s?a:s;return new e(a,u)}},{key:"parsePath",value:function(t){for(var n=QT(t),r=n.length,i=[],o=0;o<r;o+=2)i.push(new e(n[o],n[o+1]));return i}}]),e}(),mI=function(){function e(t){v(this,e),this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return A(e,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){if(!this.working){var e=this.screen,t=this.onClick,n=this.onMouseMove,r=e.ctx.canvas;r.onclick=t,r.onmousemove=n,this.working=!0}}},{key:"stop",value:function(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}},{key:"hasEvents",value:function(){return this.working&&this.events.length>0}},{key:"runEvents",value:function(){if(this.working){var e=this.screen,t=this.events,n=this.eventElements,r=e.ctx.canvas.style;r&&(r.cursor=""),t.forEach((function(e,t){var r=e.run,i=n[t];while(i)r(i),i=i.parent})),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function(e,t){if(this.working&&t){var n=this.events,r=this.eventElements;n.forEach((function(n,i){var o=n.x,a=n.y;!r[i]&&t.isPointInPath&&t.isPointInPath(o,a)&&(r[i]=e)}))}}},{key:"checkBoundingBox",value:function(e,t){if(this.working&&t){var n=this.events,r=this.eventElements;n.forEach((function(n,i){var o=n.x,a=n.y;!r[i]&&t.isPointInBox(o,a)&&(r[i]=e)}))}}},{key:"mapXY",value:function(e,t){var n=this.screen,r=n.window,i=n.ctx,o=new pI(e,t),a=i.canvas;while(a)o.x-=a.offsetLeft,o.y-=a.offsetTop,a=a.offsetParent;return r.scrollX&&(o.x+=r.scrollX),r.scrollY&&(o.y+=r.scrollY),o}},{key:"onClick",value:function(e){var t=this.mapXY(e.clientX,e.clientY),n=t.x,r=t.y;this.events.push({type:"onclick",x:n,y:r,run:function(e){e.onClick&&e.onClick()}})}},{key:"onMouseMove",value:function(e){var t=this.mapXY(e.clientX,e.clientY),n=t.x,r=t.y;this.events.push({type:"onmousemove",x:n,y:r,run:function(e){e.onMouseMove&&e.onMouseMove()}})}}]),e}(),gI="undefined"!==typeof window?window:null,vI="undefined"!==typeof fetch?fetch.bind(void 0):null,yI=function(){function e(t){v(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.fetch,i=void 0===r?vI:r,o=n.window,a=void 0===o?gI:o;this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new hI,this.mouse=new mI(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=a,this.fetch=i}return A(e,[{key:"wait",value:function(e){this.waits.push(e)}},{key:"ready",value:function(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var e=this.waits.every((function(e){return e()}));return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}},{key:"setDefaults",value:function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}},{key:"setViewBox",value:function(e){var t=e.document,n=e.ctx,r=e.aspectRatio,i=e.width,o=e.desiredWidth,a=e.height,s=e.desiredHeight,u=e.minX,c=void 0===u?0:u,l=e.minY,d=void 0===l?0:l,f=e.refX,A=e.refY,h=e.clip,p=void 0!==h&&h,m=e.clipX,v=void 0===m?0:m,y=e.clipY,b=void 0===y?0:y,w=HT(r).replace(/^defer\s/,""),x=w.split(" "),C=g(x,2),S=C[0],k=C[1],_=S||"xMidYMid",B=k||"meet",D=i/o,M=a/s,E=Math.min(D,M),T=Math.max(D,M),I=o,O=s;"meet"===B&&(I*=E,O*=E),"slice"===B&&(I*=T,O*=T);var L=new AI(t,"refX",f),F=new AI(t,"refY",A),P=L.hasValue()&&F.hasValue();if(P&&n.translate(-E*L.getPixels("x"),-E*F.getPixels("y")),p){var N=E*v,U=E*b;n.beginPath(),n.moveTo(N,U),n.lineTo(i,U),n.lineTo(i,a),n.lineTo(N,a),n.closePath(),n.clip()}if(!P){var H="meet"===B&&E===M,R="slice"===B&&T===M,V="meet"===B&&E===D,Q="slice"===B&&T===D;_.startsWith("xMid")&&(H||R)&&n.translate(i/2-I/2,0),_.endsWith("YMid")&&(V||Q)&&n.translate(0,a/2-O/2),_.startsWith("xMax")&&(H||R)&&n.translate(i-I,0),_.endsWith("YMax")&&(V||Q)&&n.translate(0,a-O)}switch(!0){case"none"===_:n.scale(D,M);break;case"meet"===B:n.scale(E,E);break;case"slice"===B:n.scale(T,T);break}n.translate(-c,-d)}},{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enableRedraw,i=void 0!==r&&r,o=n.ignoreMouse,a=void 0!==o&&o,s=n.ignoreAnimation,u=void 0!==s&&s,c=n.ignoreDimensions,l=void 0!==c&&c,d=n.ignoreClear,f=void 0!==d&&d,A=n.forceRedraw,h=n.scaleWidth,p=n.scaleHeight,m=n.offsetX,g=n.offsetY,v=this.FRAMERATE,y=this.mouse,b=1e3/v;if(this.frameDuration=b,this.readyPromise=new Promise((function(e){t.resolveReady=e})),this.isReady()&&this.render(e,l,f,h,p,m,g),i){var w=Date.now(),x=w,C=0,S=function n(){w=Date.now(),C=w-x,C>=b&&(x=w-C%b,t.shouldUpdate(u,A)&&(t.render(e,l,f,h,p,m,g),y.runEvents())),t.intervalId=zM.exports(n)};a||y.start(),this.intervalId=zM.exports(S)}}},{key:"stop",value:function(){this.intervalId&&(zM.exports.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(e,t){if(!e){var n=this.frameDuration,r=this.animations.reduce((function(e,t){return t.update(n)||e}),!1);if(r)return!0}return!("function"!==typeof t||!t())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}},{key:"render",value:function(e,t,n,r,i,o,a){var s=this.CLIENT_WIDTH,u=this.CLIENT_HEIGHT,c=this.viewPort,l=this.ctx,d=this.isFirstRender,f=l.canvas;c.clear(),f.width&&f.height?c.setCurrent(f.width,f.height):c.setCurrent(s,u);var A=e.getStyle("width"),h=e.getStyle("height");!t&&(d||"number"!==typeof r&&"number"!==typeof i)&&(A.hasValue()&&(f.width=A.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),h.hasValue()&&(f.height=h.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var p=f.clientWidth||f.width,m=f.clientHeight||f.height;if(t&&A.hasValue()&&h.hasValue()&&(p=A.getPixels("x"),m=h.getPixels("y")),c.setCurrent(p,m),"number"===typeof o&&e.getAttribute("x",!0).setValue(o),"number"===typeof a&&e.getAttribute("y",!0).setValue(a),"number"===typeof r||"number"===typeof i){var g=QT(e.getAttribute("viewBox").getString()),v=0,y=0;if("number"===typeof r){var b=e.getStyle("width");b.hasValue()?v=b.getPixels("x")/r:isNaN(g[2])||(v=g[2]/r)}if("number"===typeof i){var w=e.getStyle("height");w.hasValue()?y=w.getPixels("y")/i:isNaN(g[3])||(y=g[3]/i)}v||(v=y),y||(y=v),e.getAttribute("width",!0).setValue(r),e.getAttribute("height",!0).setValue(i);var x=e.getStyle("transform",!0,!0);x.setValue("".concat(x.getString()," scale(").concat(1/v,", ").concat(1/y,")"))}n||l.clearRect(0,0,p,m),e.render(l),d&&(this.isFirstRender=!1)}}]),e}();yI.defaultWindow=gI,yI.defaultFetch=vI;var bI=yI.defaultFetch,wI="undefined"!==typeof DOMParser?DOMParser:null,xI=function(){function e(){v(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fetch,r=void 0===n?bI:n,i=t.DOMParser,o=void 0===i?wI:i;this.fetch=r,this.DOMParser=o}return A(e,[{key:"parse",value:function(e){var t=this;return RC(a.mark((function n(){return a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.startsWith("<")){n.next=2;break}return n.abrupt("return",t.parseFromString(e));case 2:return n.abrupt("return",t.load(e));case 3:case"end":return n.stop()}}),n)})))()}},{key:"parseFromString",value:function(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch(n){return this.checkDocument(t.parseFromString(e,"text/xml"))}}},{key:"checkDocument",value:function(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}},{key:"load",value:function(e){var t=this;return RC(a.mark((function n(){var r,i;return a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetch(e);case 2:return r=n.sent,n.next=5,r.text();case 5:return i=n.sent,n.abrupt("return",t.parseFromString(i));case 7:case"end":return n.stop()}}),n)})))()}}]),e}(),CI=function(){function e(t,n){v(this,e),this.type="translate",this.point=null,this.point=pI.parse(n)}return A(e,[{key:"apply",value:function(e){var t=this.point,n=t.x,r=t.y;e.translate(n||0,r||0)}},{key:"unapply",value:function(e){var t=this.point,n=t.x,r=t.y;e.translate(-1*n||0,-1*r||0)}},{key:"applyToPoint",value:function(e){var t=this.point,n=t.x,r=t.y;e.applyTransform([1,0,0,1,n||0,r||0])}}]),e}(),SI=function(){function e(t,n,r){v(this,e),this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=QT(n);this.angle=new AI(t,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}return A(e,[{key:"apply",value:function(e){var t=this.cx,n=this.cy,r=this.originX,i=this.originY,o=this.angle,a=t+r.getPixels("x"),s=n+i.getPixels("y");e.translate(a,s),e.rotate(o.getRadians()),e.translate(-a,-s)}},{key:"unapply",value:function(e){var t=this.cx,n=this.cy,r=this.originX,i=this.originY,o=this.angle,a=t+r.getPixels("x"),s=n+i.getPixels("y");e.translate(a,s),e.rotate(-1*o.getRadians()),e.translate(-a,-s)}},{key:"applyToPoint",value:function(e){var t=this.cx,n=this.cy,r=this.angle,i=r.getRadians();e.applyTransform([1,0,0,1,t||0,n||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-t||0,-n||0])}}]),e}(),kI=function(){function e(t,n,r){v(this,e),this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=pI.parseScale(n);0!==i.x&&0!==i.y||(i.x=nI,i.y=nI),this.scale=i,this.originX=r[0],this.originY=r[1]}return A(e,[{key:"apply",value:function(e){var t=this.scale,n=t.x,r=t.y,i=this.originX,o=this.originY,a=i.getPixels("x"),s=o.getPixels("y");e.translate(a,s),e.scale(n,r||n),e.translate(-a,-s)}},{key:"unapply",value:function(e){var t=this.scale,n=t.x,r=t.y,i=this.originX,o=this.originY,a=i.getPixels("x"),s=o.getPixels("y");e.translate(a,s),e.scale(1/n,1/r||n),e.translate(-a,-s)}},{key:"applyToPoint",value:function(e){var t=this.scale,n=t.x,r=t.y;e.applyTransform([n||0,0,0,r||0,0,0])}}]),e}(),_I=function(){function e(t,n,r){v(this,e),this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=QT(n),this.originX=r[0],this.originY=r[1]}return A(e,[{key:"apply",value:function(e){var t=this.originX,n=this.originY,r=this.matrix,i=t.getPixels("x"),o=n.getPixels("y");e.translate(i,o),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e.translate(-i,-o)}},{key:"unapply",value:function(e){var t=this.originX,n=this.originY,r=this.matrix,i=r[0],o=r[2],a=r[4],s=r[1],u=r[3],c=r[5],l=0,d=0,f=1,A=1/(i*(u*f-c*d)-o*(s*f-c*l)+a*(s*d-u*l)),h=t.getPixels("x"),p=n.getPixels("y");e.translate(h,p),e.transform(A*(u*f-c*d),A*(c*l-s*f),A*(a*d-o*f),A*(i*f-a*l),A*(o*c-a*u),A*(a*s-i*c)),e.translate(-h,-p)}},{key:"applyToPoint",value:function(e){e.applyTransform(this.matrix)}}]),e}(),BI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="skew",o.angle=null,o.angle=new AI(e,"angle",r),o}return n}(_I),DI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="skewX",o.matrix=[1,0,Math.tan(o.angle.getRadians()),1,0,0],o}return n}(BI),MI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="skewY",o.matrix=[1,Math.tan(o.angle.getRadians()),0,1,0,0],o}return n}(BI);function EI(e){return HT(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function TI(e){var t=e.split("("),n=g(t,2),r=n[0],i=n[1];return[r.trim(),i.trim().replace(")","")]}var II=function(){function e(t,n,r){var i=this;v(this,e),this.document=t,this.transforms=[];var o=EI(n);o.forEach((function(t){if("none"!==t){var n=TI(t),o=g(n,2),a=o[0],s=o[1],u=e.transformTypes[a];"undefined"!==typeof u&&i.transforms.push(new u(i.document,s,r))}}))}return A(e,[{key:"apply",value:function(e){for(var t=this.transforms,n=t.length,r=0;r<n;r++)t[r].apply(e)}},{key:"unapply",value:function(e){for(var t=this.transforms,n=t.length,r=n-1;r>=0;r--)t[r].unapply(e)}},{key:"applyToPoint",value:function(e){for(var t=this.transforms,n=t.length,r=0;r<n;r++)t[r].applyToPoint(e)}}],[{key:"fromElement",value:function(t,n){var r=n.getStyle("transform",!1,!0),i=n.getStyle("transform-origin",!1,!0).split(),o=g(i,2),a=o[0],s=o[1],u=void 0===s?a:s,c=[a,u];return r.hasValue()?new e(t,r.getString(),c):null}}]),e}();II.transformTypes={translate:CI,rotate:SI,scale:kI,matrix:_I,skewX:DI,skewY:MI};var OI=function(){function e(t,n){var r=this;v(this,e);var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=n,this.captureTextNodes=i,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],n&&1===n.nodeType){if(Array.from(n.attributes).forEach((function(e){var n=zT(e.nodeName);r.attributes[n]=new AI(t,n,e.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var o=this.getAttribute("style").getString().split(";").map((function(e){return e.trim()}));o.forEach((function(e){if(e){var n=e.split(":").map((function(e){return e.trim()})),i=g(n,2),o=i[0],a=i[1];r.styles[o]=new AI(t,o,a)}}))}var a=t.definitions,s=this.getAttribute("id");s.hasValue()&&(a[s.getString()]||(a[s.getString()]=this)),Array.from(n.childNodes).forEach((function(e){if(1===e.nodeType)r.addChild(e);else if(i&&(3===e.nodeType||4===e.nodeType)){var n=t.createTextNode(e);n.getText().length>0&&r.addChild(n)}}))}}return A(e,[{key:"getAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.attributes[e];if(!n&&t){var r=new AI(this.document,e,"");return this.attributes[e]=r,r}return n||AI.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var e in this.attributes)if("href"===e||e.endsWith(":href"))return this.attributes[e];return AI.empty(this.document)}},{key:"getStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.styles[e];if(r)return r;var i=this.getAttribute(e);if(null!==i&&void 0!==i&&i.hasValue())return this.styles[e]=i,i;if(!n){var o=this.parent;if(o){var a=o.getStyle(e);if(null!==a&&void 0!==a&&a.hasValue())return a}}if(t){var s=new AI(this.document,e,"");return this.styles[e]=s,s}return r||AI.empty(this.document)}},{key:"render",value:function(e){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if("none"!==this.getStyle("filter").getValue("none")){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}},{key:"setContext",value:function(e){}},{key:"applyEffects",value:function(e){var t=II.fromElement(this.document,this);t&&t.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var r=n.getDefinition();r&&r.apply(e)}}},{key:"clearContext",value:function(e){}},{key:"renderChildren",value:function(e){this.children.forEach((function(t){t.render(e)}))}},{key:"addChild",value:function(t){var n=t instanceof e?t:this.document.createElement(t);n.parent=this,e.ignoreChildTypes.includes(n.type)||this.children.push(n)}},{key:"matchesSelector",value:function(e){var t,n=this.node;if("function"===typeof n.matches)return n.matches(e);var r=null===(t=n.getAttribute)||void 0===t?void 0:t.call(n,"class");return!(!r||""===r)&&r.split(" ").some((function(t){return".".concat(t)===e}))}},{key:"addStylesFromStyleDefinition",value:function(){var e=this.document,t=e.styles,n=e.stylesSpecificity;for(var r in t)if(!r.startsWith("@")&&this.matchesSelector(r)){var i=t[r],o=n[r];if(i)for(var a in i){var s=this.stylesSpecificity[a];"undefined"===typeof s&&(s="000"),o>=s&&(this.styles[a]=i[a],this.stylesSpecificity[a]=o)}}}},{key:"removeStyles",value:function(e,t){var n=t.reduce((function(t,n){var r=e.getStyle(n);if(!r.hasValue())return t;var i=r.getString();return r.setValue(""),[].concat(h(t),[[n,i]])}),[]);return n}},{key:"restoreStyles",value:function(e,t){t.forEach((function(t){var n=g(t,2),r=n[0],i=n[1];e.getStyle(r,!0).setValue(i)}))}},{key:"isFirstChild",value:function(){var e;return 0===(null===(e=this.parent)||void 0===e?void 0:e.children.indexOf(this))}}]),e}();OI.ignoreChildTypes=["title"];var LI=function(e){d(n,e);var t=f(n);function n(e,r,i){return v(this,n),t.call(this,e,r,i)}return n}(OI);function FI(e){var t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function PI(e){return"undefined"===typeof r?e:e.trim().split(",").map(FI).join(",")}function NI(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function UI(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}var HI=function(){function e(t,n,r,i,o,a){v(this,e);var s=a?"string"===typeof a?e.parse(a):a:{};this.fontFamily=o||s.fontFamily,this.fontSize=i||s.fontSize,this.fontStyle=t||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=n||s.fontVariant}return A(e,[{key:"toString",value:function(){return[NI(this.fontStyle),this.fontVariant,UI(this.fontWeight),this.fontSize,PI(this.fontFamily)].join(" ").trim()}}],[{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",i="",o="",a="",s="",u=HT(t).trim().split(" "),c={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return u.forEach((function(t){switch(!0){case!c.fontStyle&&e.styles.includes(t):"inherit"!==t&&(r=t),c.fontStyle=!0;break;case!c.fontVariant&&e.variants.includes(t):"inherit"!==t&&(i=t),c.fontStyle=!0,c.fontVariant=!0;break;case!c.fontWeight&&e.weights.includes(t):"inherit"!==t&&(o=t),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0;break;case!c.fontSize:if("inherit"!==t){var n=t.split("/"),u=g(n,1);a=u[0]}c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0,c.fontSize=!0;break;default:"inherit"!==t&&(s+=t)}})),new e(r,i,o,a,s,n)}}]),e}();HI.styles="normal|italic|oblique|inherit",HI.variants="normal|small-caps|inherit",HI.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var RI=function(){function e(){v(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=n,this.x2=r,this.y2=i,this.addPoint(t,n),this.addPoint(r,i)}return A(e,[{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}},{key:"addPoint",value:function(e,t){"undefined"!==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"undefined"!==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}},{key:"addX",value:function(e){this.addPoint(e,null)}},{key:"addY",value:function(e){this.addPoint(null,e)}},{key:"addBoundingBox",value:function(e){if(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;this.addPoint(t,n),this.addPoint(r,i)}}},{key:"sumCubic",value:function(e,t,n,r,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*r+Math.pow(e,3)*i}},{key:"bezierCurveAdd",value:function(e,t,n,r,i){var o=6*t-12*n+6*r,a=-3*t+9*n-9*r+3*i,s=3*n-3*t;if(0!==a){var u=Math.pow(o,2)-4*s*a;if(!(u<0)){var c=(-o+Math.sqrt(u))/(2*a);0<c&&c<1&&(e?this.addX(this.sumCubic(c,t,n,r,i)):this.addY(this.sumCubic(c,t,n,r,i)));var l=(-o-Math.sqrt(u))/(2*a);0<l&&l<1&&(e?this.addX(this.sumCubic(l,t,n,r,i)):this.addY(this.sumCubic(l,t,n,r,i)))}}else{if(0===o)return;var d=-s/o;0<d&&d<1&&(e?this.addX(this.sumCubic(d,t,n,r,i)):this.addY(this.sumCubic(d,t,n,r,i)))}}},{key:"addBezierCurve",value:function(e,t,n,r,i,o,a,s){this.addPoint(e,t),this.addPoint(a,s),this.bezierCurveAdd(!0,e,n,i,a),this.bezierCurveAdd(!1,t,r,o,s)}},{key:"addQuadraticCurve",value:function(e,t,n,r,i,o){var a=e+2/3*(n-e),s=t+2/3*(r-t),u=a+1/3*(i-e),c=s+1/3*(o-t);this.addBezierCurve(e,t,a,u,s,c,i,o)}},{key:"isPointInBox",value:function(e,t){var n=this.x1,r=this.y1,i=this.x2,o=this.y2;return n<=e&&e<=i&&r<=t&&t<=o}}]),e}(),VI=function(e){d(n,e);var t=f(n);function n(e){var r;return v(this,n),r=t.call(this,e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),r.control=null,r.start=null,r.current=null,r.command=null,r.commands=r.commands,r.i=-1,r.previousCommand=null,r.points=[],r.angles=[],r}return A(n,[{key:"reset",value:function(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new pI(0,0),this.control=new pI(0,0),this.current=new pI(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){var e=this.i,t=this.commands;return e>=t.length-1}},{key:"next",value:function(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}},{key:"getPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",n=new pI(this.command[e],this.command[t]);return this.makeAbsolute(n)}},{key:"getAsControlPoint",value:function(e,t){var n=this.getPoint(e,t);return this.control=n,n}},{key:"getAsCurrentPoint",value:function(e,t){var n=this.getPoint(e,t);return this.current=n,n}},{key:"getReflectedControlPoint",value:function(){var e=this.previousCommand.type;if(e!==cT.CURVE_TO&&e!==cT.SMOOTH_CURVE_TO&&e!==cT.QUAD_TO&&e!==cT.SMOOTH_QUAD_TO)return this.current;var t=this.current,n=t.x,r=t.y,i=this.control,o=i.x,a=i.y,s=new pI(2*n-o,2*r-a);return s}},{key:"makeAbsolute",value:function(e){if(this.command.relative){var t=this.current,n=t.x,r=t.y;e.x+=n,e.y+=r}return e}},{key:"addMarker",value:function(e,t,n){var r=this.points,i=this.angles;n&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=r[r.length-1].angleTo(n)),this.addMarkerAngle(e,t?t.angleTo(e):null)}},{key:"addMarkerAngle",value:function(e,t){this.points.push(e),this.angles.push(t)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var e=this.angles,t=e.length,n=0;n<t;n++)if(!e[n])for(var r=n+1;r<t;r++)if(e[r]){e[n]=e[r];break}return e}}]),n}(cT),QI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.modifiedEmSizeStack=!1,e}return A(n,[{key:"calculateOpacity",value:function(){var e=1,t=this;while(t){var n=t.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),t=t.parent}return e}},{key:"setContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=this.getStyle("fill"),r=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),o=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var a=n.getFillStyleDefinition(this,r);a&&(e.fillStyle=a)}else if(n.hasValue()){"currentColor"===n.getString()&&n.setValue(this.getStyle("color").getColor());var s=n.getColor();"inherit"!==s&&(e.fillStyle="none"===s?"rgba(0,0,0,0)":s)}if(r.hasValue()){var u=new AI(this.document,"fill",e.fillStyle).addOpacity(r).getColor();e.fillStyle=u}if(i.isUrlDefinition()){var c=i.getFillStyleDefinition(this,o);c&&(e.strokeStyle=c)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor());var l=i.getString();"inherit"!==l&&(e.strokeStyle="none"===l?"rgba(0,0,0,0)":l)}if(o.hasValue()){var d=new AI(this.document,"stroke",e.strokeStyle).addOpacity(o).getString();e.strokeStyle=d}var f=this.getStyle("stroke-width");if(f.hasValue()){var A=f.getPixels();e.lineWidth=A||nI}var h=this.getStyle("stroke-linecap"),p=this.getStyle("stroke-linejoin"),m=this.getStyle("stroke-miterlimit"),g=this.getStyle("stroke-dasharray"),v=this.getStyle("stroke-dashoffset");if(h.hasValue()&&(e.lineCap=h.getString()),p.hasValue()&&(e.lineJoin=p.getString()),m.hasValue()&&(e.miterLimit=m.getNumber()),g.hasValue()&&"none"!==g.getString()){var y=QT(g.getString());"undefined"!==typeof e.setLineDash?e.setLineDash(y):"undefined"!==typeof e.webkitLineDash?e.webkitLineDash=y:"undefined"===typeof e.mozDash||1===y.length&&0===y[0]||(e.mozDash=y);var b=v.getPixels();"undefined"!==typeof e.lineDashOffset?e.lineDashOffset=b:"undefined"!==typeof e.webkitLineDashOffset?e.webkitLineDashOffset=b:"undefined"!==typeof e.mozDashOffset&&(e.mozDashOffset=b)}}if(this.modifiedEmSizeStack=!1,"undefined"!==typeof e.font){var w=this.getStyle("font"),x=this.getStyle("font-style"),C=this.getStyle("font-variant"),S=this.getStyle("font-weight"),k=this.getStyle("font-size"),_=this.getStyle("font-family"),B=new HI(x.getString(),C.getString(),S.getString(),k.hasValue()?"".concat(k.getPixels(!0),"px"):"",_.getString(),HI.parse(w.getString(),e.font));x.setValue(B.fontStyle),C.setValue(B.fontVariant),S.setValue(B.fontWeight),k.setValue(B.fontSize),_.setValue(B.fontFamily),e.font=B.toString(),k.isPixels()&&(this.document.emSize=k.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function(e){c(l(n.prototype),"clearContext",this).call(this,e),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),n}(OI),jI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="path",o.pathParser=null,o.pathParser=new VI(o.getAttribute("d").getString()),o}return A(n,[{key:"path",value:function(e){var t=this.pathParser,n=new RI;t.reset(),e&&e.beginPath();while(!t.isEnd())switch(t.next().type){case VI.MOVE_TO:this.pathM(e,n);break;case VI.LINE_TO:this.pathL(e,n);break;case VI.HORIZ_LINE_TO:this.pathH(e,n);break;case VI.VERT_LINE_TO:this.pathV(e,n);break;case VI.CURVE_TO:this.pathC(e,n);break;case VI.SMOOTH_CURVE_TO:this.pathS(e,n);break;case VI.QUAD_TO:this.pathQ(e,n);break;case VI.SMOOTH_QUAD_TO:this.pathT(e,n);break;case VI.ARC:this.pathA(e,n);break;case VI.CLOSE_PATH:this.pathZ(e,n);break}return n}},{key:"getBoundingBox",value:function(e){return this.path()}},{key:"getMarkers",value:function(){var e=this.pathParser,t=e.getMarkerPoints(),n=e.getMarkerAngles(),r=t.map((function(e,t){return[e,n[t]]}));return r}},{key:"renderChildren",value:function(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");""!==e.fillStyle&&("inherit"!==t.getString("inherit")?e.fill(t.getString()):e.fill()),""!==e.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var r=n.length-1,i=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),a=this.getStyle("marker-end");if(i.isUrlDefinition()){var s=i.getDefinition(),u=g(n[0],2),c=u[0],l=u[1];s.render(e,c,l)}if(o.isUrlDefinition())for(var d=o.getDefinition(),f=1;f<r;f++){var A=g(n[f],2),h=A[0],p=A[1];d.render(e,h,p)}if(a.isUrlDefinition()){var m=a.getDefinition(),v=g(n[r],2),y=v[0],b=v[1];m.render(e,y,b)}}}},{key:"pathM",value:function(e,t){var r=this.pathParser,i=n.pathM(r),o=i.point,a=o.x,s=o.y;r.addMarker(o),t.addPoint(a,s),e&&e.moveTo(a,s)}},{key:"pathL",value:function(e,t){var r=this.pathParser,i=n.pathL(r),o=i.current,a=i.point,s=a.x,u=a.y;r.addMarker(a,o),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathH",value:function(e,t){var r=this.pathParser,i=n.pathH(r),o=i.current,a=i.point,s=a.x,u=a.y;r.addMarker(a,o),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathV",value:function(e,t){var r=this.pathParser,i=n.pathV(r),o=i.current,a=i.point,s=a.x,u=a.y;r.addMarker(a,o),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathC",value:function(e,t){var r=this.pathParser,i=n.pathC(r),o=i.current,a=i.point,s=i.controlPoint,u=i.currentPoint;r.addMarker(u,s,a),t.addBezierCurve(o.x,o.y,a.x,a.y,s.x,s.y,u.x,u.y),e&&e.bezierCurveTo(a.x,a.y,s.x,s.y,u.x,u.y)}},{key:"pathS",value:function(e,t){var r=this.pathParser,i=n.pathS(r),o=i.current,a=i.point,s=i.controlPoint,u=i.currentPoint;r.addMarker(u,s,a),t.addBezierCurve(o.x,o.y,a.x,a.y,s.x,s.y,u.x,u.y),e&&e.bezierCurveTo(a.x,a.y,s.x,s.y,u.x,u.y)}},{key:"pathQ",value:function(e,t){var r=this.pathParser,i=n.pathQ(r),o=i.current,a=i.controlPoint,s=i.currentPoint;r.addMarker(s,a,a),t.addQuadraticCurve(o.x,o.y,a.x,a.y,s.x,s.y),e&&e.quadraticCurveTo(a.x,a.y,s.x,s.y)}},{key:"pathT",value:function(e,t){var r=this.pathParser,i=n.pathT(r),o=i.current,a=i.controlPoint,s=i.currentPoint;r.addMarker(s,a,a),t.addQuadraticCurve(o.x,o.y,a.x,a.y,s.x,s.y),e&&e.quadraticCurveTo(a.x,a.y,s.x,s.y)}},{key:"pathA",value:function(e,t){var r=this.pathParser,i=n.pathA(r),o=i.currentPoint,a=i.rX,s=i.rY,u=i.sweepFlag,c=i.xAxisRotation,l=i.centp,d=i.a1,f=i.ad,A=1-u?1:-1,h=d+A*(f/2),p=new pI(l.x+a*Math.cos(h),l.y+s*Math.sin(h));if(r.addMarkerAngle(p,h-A*Math.PI/2),r.addMarkerAngle(o,h-A*Math.PI),t.addPoint(o.x,o.y),e&&!isNaN(d)&&!isNaN(f)){var m=a>s?a:s,g=a>s?1:a/s,v=a>s?s/a:1;e.translate(l.x,l.y),e.rotate(c),e.scale(g,v),e.arc(0,0,m,d,d+f,Boolean(1-u)),e.scale(1/g,1/v),e.rotate(-c),e.translate(-l.x,-l.y)}}},{key:"pathZ",value:function(e,t){n.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}],[{key:"pathM",value:function(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}},{key:"pathL",value:function(e){var t=e.current,n=e.getAsCurrentPoint();return{current:t,point:n}}},{key:"pathH",value:function(e){var t=e.current,n=e.command,r=new pI((n.relative?t.x:0)+n.x,t.y);return e.current=r,{current:t,point:r}}},{key:"pathV",value:function(e){var t=e.current,n=e.command,r=new pI(t.x,(n.relative?t.y:0)+n.y);return e.current=r,{current:t,point:r}}},{key:"pathC",value:function(e){var t=e.current,n=e.getPoint("x1","y1"),r=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:r,currentPoint:i}}},{key:"pathS",value:function(e){var t=e.current,n=e.getReflectedControlPoint(),r=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:r,currentPoint:i}}},{key:"pathQ",value:function(e){var t=e.current,n=e.getAsControlPoint("x1","y1"),r=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:r}}},{key:"pathT",value:function(e){var t=e.current,n=e.getReflectedControlPoint();e.control=n;var r=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:r}}},{key:"pathA",value:function(e){var t=e.current,n=e.command,r=n.rX,i=n.rY,o=n.xRot,a=n.lArcFlag,s=n.sweepFlag,u=o*(Math.PI/180),c=e.getAsCurrentPoint(),l=new pI(Math.cos(u)*(t.x-c.x)/2+Math.sin(u)*(t.y-c.y)/2,-Math.sin(u)*(t.x-c.x)/2+Math.cos(u)*(t.y-c.y)/2),d=Math.pow(l.x,2)/Math.pow(r,2)+Math.pow(l.y,2)/Math.pow(i,2);d>1&&(r*=Math.sqrt(d),i*=Math.sqrt(d));var f=(a===s?-1:1)*Math.sqrt((Math.pow(r,2)*Math.pow(i,2)-Math.pow(r,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(r,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(f)&&(f=0);var A=new pI(f*r*l.y/i,f*-i*l.x/r),h=new pI((t.x+c.x)/2+Math.cos(u)*A.x-Math.sin(u)*A.y,(t.y+c.y)/2+Math.sin(u)*A.x+Math.cos(u)*A.y),p=oI([1,0],[(l.x-A.x)/r,(l.y-A.y)/i]),m=[(l.x-A.x)/r,(l.y-A.y)/i],g=[(-l.x-A.x)/r,(-l.y-A.y)/i],v=oI(m,g);return iI(m,g)<=-1&&(v=Math.PI),iI(m,g)>=1&&(v=0),{currentPoint:c,rX:r,rY:i,sweepFlag:s,xAxisRotation:u,centp:h,a1:p,ad:v}}},{key:"pathZ",value:function(e){e.current=e.start}}]),n}(QI),zI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="glyph",o.horizAdvX=o.getAttribute("horiz-adv-x").getNumber(),o.unicode=o.getAttribute("unicode").getString(),o.arabicForm=o.getAttribute("arabic-form").getString(),o}return n}(jI),GI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,(this instanceof n?this.constructor:void 0)===n||i),o.type="text",o.x=0,o.y=0,o.measureCache=-1,o}return A(n,[{key:"setContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(l(n.prototype),"setContext",this).call(this,e,t);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(e.textBaseline=r)}},{key:"initializeCoordinates",value:function(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}},{key:"getBoundingBox",value:function(e){var t=this;if("text"!==this.type)return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var n=null;return this.children.forEach((function(r,i){var o=t.getChildBoundingBox(e,t,t,i);n?n.addBoundingBox(o):n=o})),n}},{key:"getFontSize",value:function(){var e=this.document,t=this.parent,n=HI.parse(e.ctx.font).fontSize,r=t.getStyle("font-size").getNumber(n);return r}},{key:"getTElementBoundingBox",value:function(e){var t=this.getFontSize();return new RI(this.x,this.y-t,this.x+this.measureText(e),this.y)}},{key:"getGlyph",value:function(e,t,n){var r=t[n],i=null;if(e.isArabic){var o=t.length,a=t[n-1],s=t[n+1],u="isolated";if((0===n||" "===a)&&n<o-1&&" "!==s&&(u="terminal"),n>0&&" "!==a&&n<o-1&&" "!==s&&(u="medial"),n>0&&" "!==a&&(n===o-1||" "===s)&&(u="initial"),"undefined"!==typeof e.glyphs[r]){var c=e.glyphs[r];i=c instanceof zI?c:c[u]}}else i=e.glyphs[r];return i||(i=e.missingGlyph),i}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(e){var t=e||this.node,n=Array.from(t.parentNode.childNodes),r=n.indexOf(t),i=n.length-1,o=HT(t.textContent||"");return 0===r&&(o=RT(o)),r===i&&(o=VT(o)),o}},{key:"renderChildren",value:function(e){var t=this;if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((function(n,r){t.renderChild(e,t,t,r)}));var n=this.document.screen.mouse;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(e))}else this.renderTElementChildren(e)}},{key:"renderTElementChildren",value:function(e){var t=this.document,n=this.parent,r=this.getText(),i=n.getStyle("font-family").getDefinition();if(i)for(var o=i.fontFace.unitsPerEm,a=HI.parse(t.ctx.font),s=n.getStyle("font-size").getNumber(a.fontSize),u=n.getStyle("font-style").getString(a.fontStyle),c=s/o,l=i.isRTL?r.split("").reverse().join(""):r,d=QT(n.getAttribute("dx").getString()),f=l.length,A=0;A<f;A++){var h=this.getGlyph(i,l,A);e.translate(this.x,this.y),e.scale(c,-c);var p=e.lineWidth;e.lineWidth=e.lineWidth*o/s,"italic"===u&&e.transform(1,0,.4,1,0,0),h.render(e),"italic"===u&&e.transform(1,0,-.4,1,0,0),e.lineWidth=p,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=s*(h.horizAdvX||i.horizAdvX)/o,"undefined"===typeof d[A]||isNaN(d[A])||(this.x+=d[A])}else{var m=this.x,g=this.y;e.fillStyle&&e.fillText(r,m,g),e.strokeStyle&&e.strokeText(r,m,g)}}},{key:"applyAnchoring",value:function(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),n=!1,r=0;r="start"===t&&!n||"end"===t&&n?e.x-this.minX:"end"===t&&!n||"start"===t&&n?e.x-this.maxX:e.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}},{key:"adjustChildCoordinatesRecursive",value:function(e){var t=this;this.children.forEach((function(n,r){t.adjustChildCoordinatesRecursiveCore(e,t,t,r)})),this.applyAnchoring()}},{key:"adjustChildCoordinatesRecursiveCore",value:function(e,t,n,r){var i=n.children[r];i.children.length>0?i.children.forEach((function(n,r){t.adjustChildCoordinatesRecursiveCore(e,t,i,r)})):this.adjustChildCoordinates(e,t,n,r)}},{key:"adjustChildCoordinates",value:function(e,t,n,r){var i=n.children[r];if("function"!==typeof i.measureText)return i;e.save(),i.setContext(e,!0);var o=i.getAttribute("x"),a=i.getAttribute("y"),s=i.getAttribute("dx"),u=i.getAttribute("dy"),c=i.getStyle("font-family").getDefinition(),l=Boolean(c)&&c.isRTL;0===r&&(o.hasValue()||o.setValue(i.getInheritedAttribute("x")),a.hasValue()||a.setValue(i.getInheritedAttribute("y")),s.hasValue()||s.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var d=i.measureText(e);return l&&(t.x-=d),o.hasValue()?(t.applyAnchoring(),i.x=o.getPixels("x"),s.hasValue()&&(i.x+=s.getPixels("x"))):(s.hasValue()&&(t.x+=s.getPixels("x")),i.x=t.x),t.x=i.x,l||(t.x+=d),a.hasValue()?(i.y=a.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(t.y+=u.getPixels("y")),i.y=t.y),t.y=i.y,t.leafTexts.push(i),t.minX=Math.min(t.minX,i.x,i.x+d),t.maxX=Math.max(t.maxX,i.x,i.x+d),i.clearContext(e),e.restore(),i}},{key:"getChildBoundingBox",value:function(e,t,n,r){var i=n.children[r];if("function"!==typeof i.getBoundingBox)return null;var o=i.getBoundingBox(e);return o?(i.children.forEach((function(n,r){var a=t.getChildBoundingBox(e,t,i,r);o.addBoundingBox(a)})),o):null}},{key:"renderChild",value:function(e,t,n,r){var i=n.children[r];i.render(e),i.children.forEach((function(n,r){t.renderChild(e,t,i,r)}))}},{key:"measureText",value:function(e){var t=this.measureCache;if(~t)return t;var n=this.getText(),r=this.measureTargetText(e,n);return this.measureCache=r,r}},{key:"measureTargetText",value:function(e,t){if(!t.length)return 0;var n=this.parent,r=n.getStyle("font-family").getDefinition();if(r){for(var i=this.getFontSize(),o=r.isRTL?t.split("").reverse().join(""):t,a=QT(n.getAttribute("dx").getString()),s=o.length,u=0,c=0;c<s;c++){var l=this.getGlyph(r,o,c);u+=(l.horizAdvX||r.horizAdvX)*i/r.fontFace.unitsPerEm,"undefined"===typeof a[c]||isNaN(a[c])||(u+=a[c])}return u}if(!e.measureText)return 10*t.length;e.save(),this.setContext(e,!0);var d=e.measureText(t),f=d.width;return this.clearContext(e),e.restore(),f}},{key:"getInheritedAttribute",value:function(e){var t=this;while(t instanceof n&&t.isFirstChild()){var r=t.parent.getAttribute(e);if(r.hasValue(!0))return r.getValue("0");t=t.parent}return null}}]),n}(QI),KI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,(this instanceof n?this.constructor:void 0)===n||i),o.type="tspan",o.text=o.children.length>0?"":o.getTextFromNode(),o}return A(n,[{key:"getText",value:function(){return this.text}}]),n}(GI),qI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="textNode",e}return n}(KI),WI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="svg",e.root=!1,e}return A(n,[{key:"setContext",value:function(e){var t,r=this.document,i=r.screen,o=r.window,a=e.canvas;if(i.setDefaults(e),a.style&&"undefined"!==typeof e.font&&o&&"undefined"!==typeof o.getComputedStyle){e.font=o.getComputedStyle(a).getPropertyValue("font");var s=new AI(r,"fontSize",HI.parse(e.font).fontSize);s.hasValue()&&(r.rootEmSize=s.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var u=i.viewPort,d=u.width,f=u.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var A=this.getAttribute("refX"),h=this.getAttribute("refY"),p=this.getAttribute("viewBox"),m=p.hasValue()?QT(p.getString()):null,g=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),v=0,y=0,b=0,w=0;m&&(v=m[0],y=m[1]),this.root||(d=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y"),"marker"===this.type&&(b=v,w=y,v=0,y=0)),i.viewPort.setCurrent(d,f),!this.node||this.parent&&"foreignObject"!==(null===(t=this.node.parentNode)||void 0===t?void 0:t.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),c(l(n.prototype),"setContext",this).call(this,e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),m&&(d=m[2],f=m[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:d,height:i.viewPort.height,desiredHeight:f,minX:v,minY:y,refX:A.getValue(),refY:h.getValue(),clip:g,clipX:b,clipY:w}),m&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(d,f))}},{key:"clearContext",value:function(e){c(l(n.prototype),"clearContext",this).call(this,e),this.document.screen.viewPort.removeCurrent()}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),a=this.getAttribute("style"),s=r.getNumber(0),u=i.getNumber(0);if(n)if("string"===typeof n)this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(r.setValue(e),i.setValue(t),o.hasValue()||o.setValue("0 0 ".concat(s||e," ").concat(u||t)),a.hasValue()){var l=this.getStyle("width"),d=this.getStyle("height");l.hasValue()&&l.setValue("".concat(e,"px")),d.hasValue()&&d.setValue("".concat(t,"px"))}}}]),n}(QI),$I=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="rect",e}return A(n,[{key:"path",value:function(e){var t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),a=this.getAttribute("ry"),s=o.getPixels("x"),u=a.getPixels("y");if(o.hasValue()&&!a.hasValue()&&(u=s),a.hasValue()&&!o.hasValue()&&(s=u),s=Math.min(s,r/2),u=Math.min(u,i/2),e){var c=(Math.sqrt(2)-1)/3*4;e.beginPath(),i>0&&r>0&&(e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.bezierCurveTo(t+r-s+c*s,n,t+r,n+u-c*u,t+r,n+u),e.lineTo(t+r,n+i-u),e.bezierCurveTo(t+r,n+i-u+c*u,t+r-s+c*s,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.bezierCurveTo(t+s-c*s,n+i,t,n+i-u+c*u,t,n+i-u),e.lineTo(t,n+u),e.bezierCurveTo(t,n+u-c*u,t+s-c*s,n,t+s,n),e.closePath())}return new RI(t,n,t+r,n+i)}},{key:"getMarkers",value:function(){return null}}]),n}(jI),XI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="circle",e}return A(n,[{key:"path",value:function(e){var t=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return e&&r>0&&(e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.closePath()),new RI(t-r,n-r,t+r,n+r)}},{key:"getMarkers",value:function(){return null}}]),n}(jI),YI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="ellipse",e}return A(n,[{key:"path",value:function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return e&&n>0&&r>0&&(e.beginPath(),e.moveTo(i+n,o),e.bezierCurveTo(i+n,o+t*r,i+t*n,o+r,i,o+r),e.bezierCurveTo(i-t*n,o+r,i-n,o+t*r,i-n,o),e.bezierCurveTo(i-n,o-t*r,i-t*n,o-r,i,o-r),e.bezierCurveTo(i+t*n,o-r,i+n,o-t*r,i+n,o),e.closePath()),new RI(i-n,o-r,i+n,o+r)}},{key:"getMarkers",value:function(){return null}}]),n}(jI),JI=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="line",e}return A(n,[{key:"getPoints",value:function(){return[new pI(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new pI(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(e){var t=this.getPoints(),n=g(t,2),r=n[0],i=r.x,o=r.y,a=n[1],s=a.x,u=a.y;return e&&(e.beginPath(),e.moveTo(i,o),e.lineTo(s,u)),new RI(i,o,s,u)}},{key:"getMarkers",value:function(){var e=this.getPoints(),t=g(e,2),n=t[0],r=t[1],i=n.angleTo(r);return[[n,i],[r,i]]}}]),n}(jI),ZI=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="polyline",o.points=[],o.points=pI.parsePath(o.getAttribute("points").getString()),o}return A(n,[{key:"path",value:function(e){var t=this.points,n=g(t,1),r=n[0],i=r.x,o=r.y,a=new RI(i,o);return e&&(e.beginPath(),e.moveTo(i,o)),t.forEach((function(t){var n=t.x,r=t.y;a.addPoint(n,r),e&&e.lineTo(n,r)})),a}},{key:"getMarkers",value:function(){var e=this.points,t=e.length-1,n=[];return e.forEach((function(r,i){i!==t&&n.push([r,r.angleTo(e[i+1])])})),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}}]),n}(jI),eO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="polygon",e}return A(n,[{key:"path",value:function(e){var t=c(l(n.prototype),"path",this).call(this,e),r=g(this.points,1),i=r[0],o=i.x,a=i.y;return e&&(e.lineTo(o,a),e.closePath()),t}}]),n}(ZI),tO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="pattern",e}return A(n,[{key:"createPattern",value:function(e,t,n){var r=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new WI(this.document,null);o.attributes.viewBox=new AI(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new AI(this.document,"width","".concat(r,"px")),o.attributes.height=new AI(this.document,"height","".concat(i,"px")),o.attributes.transform=new AI(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;var a=this.document.createCanvas(r,i),s=a.getContext("2d"),u=this.getAttribute("x"),c=this.getAttribute("y");u.hasValue()&&c.hasValue()&&s.translate(u.getPixels("x",!0),c.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var l=-1;l<=1;l++)for(var d=-1;d<=1;d++)s.save(),o.attributes.x=new AI(this.document,"x",l*a.width),o.attributes.y=new AI(this.document,"y",d*a.height),o.render(s),s.restore();var f=e.createPattern(a,"repeat");return f}}]),n}(OI),nO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="marker",e}return A(n,[{key:"render",value:function(e,t,n){if(t){var r=t.x,i=t.y,o=this.getAttribute("orient").getString("auto"),a=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(r,i),"auto"===o&&e.rotate(n),"strokeWidth"===a&&e.scale(e.lineWidth,e.lineWidth),e.save();var s=new WI(this.document,null);s.type=this.type,s.attributes.viewBox=new AI(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.refX=new AI(this.document,"refX",this.getAttribute("refX").getValue()),s.attributes.refY=new AI(this.document,"refY",this.getAttribute("refY").getValue()),s.attributes.width=new AI(this.document,"width",this.getAttribute("markerWidth").getValue()),s.attributes.height=new AI(this.document,"height",this.getAttribute("markerHeight").getValue()),s.attributes.overflow=new AI(this.document,"overflow",this.getAttribute("overflow").getValue()),s.attributes.fill=new AI(this.document,"fill",this.getAttribute("fill").getColor("black")),s.attributes.stroke=new AI(this.document,"stroke",this.getAttribute("stroke").getValue("none")),s.children=this.children,s.render(e),e.restore(),"strokeWidth"===a&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"===o&&e.rotate(-n),e.translate(-r,-i)}}}]),n}(OI),rO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="defs",e}return A(n,[{key:"render",value:function(){}}]),n}(OI),iO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="g",e}return A(n,[{key:"getBoundingBox",value:function(e){var t=new RI;return this.children.forEach((function(n){t.addBoundingBox(n.getBoundingBox(e))})),t}}]),n}(QI),oO=function(e){d(n,e);var t=f(n);function n(e,r,i){var a;v(this,n),a=t.call(this,e,r,i),a.attributesToInherit=["gradientUnits"],a.stops=[];var s=o(a),u=s.stops,c=s.children;return c.forEach((function(e){"stop"===e.type&&u.push(e)})),a}return A(n,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(e,t,n){var r=this,i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var o=i,a=o.stops,s=this.getGradient(e,t);if(!s)return this.addParentOpacity(n,a[a.length-1].color);if(a.forEach((function(e){s.addColorStop(e.offset,r.addParentOpacity(n,e.color))})),this.getAttribute("gradientTransform").hasValue()){var u=this.document,c=u.screen,l=c.MAX_VIRTUAL_PIXELS,d=c.viewPort,f=g(d.viewPorts,1),A=f[0],h=new $I(u,null);h.attributes.x=new AI(u,"x",-l/3),h.attributes.y=new AI(u,"y",-l/3),h.attributes.width=new AI(u,"width",l),h.attributes.height=new AI(u,"height",l);var p=new iO(u,null);p.attributes.transform=new AI(u,"transform",this.getAttribute("gradientTransform").getValue()),p.children=[h];var m=new WI(u,null);m.attributes.x=new AI(u,"x",0),m.attributes.y=new AI(u,"y",0),m.attributes.width=new AI(u,"width",A.width),m.attributes.height=new AI(u,"height",A.height),m.children=[p];var v=u.createCanvas(A.width,A.height),y=v.getContext("2d");return y.fillStyle=s,m.render(y),y.createPattern(v,"no-repeat")}return s}},{key:"inheritStopContainer",value:function(e){var t=this;this.attributesToInherit.forEach((function(n){!t.getAttribute(n).hasValue()&&e.getAttribute(n).hasValue()&&t.getAttribute(n,!0).setValue(e.getAttribute(n).getValue())}))}},{key:"addParentOpacity",value:function(e,t){if(e.hasValue()){var n=new AI(this.document,"color",t);return n.addOpacity(e).getColor()}return t}}]),n}(OI),aO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="linearGradient",o.attributesToInherit.push("x1","y1","x2","y2"),o}return A(n,[{key:"getGradient",value:function(e,t){var n="objectBoundingBox"===this.getGradientUnits(),r=n?t.getBoundingBox(e):null;if(n&&!r)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=n?r.x+r.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=n?r.y+r.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=n?r.x+r.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),s=n?r.y+r.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===a&&o===s?null:e.createLinearGradient(i,o,a,s)}}]),n}(oO),sO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="radialGradient",o.attributesToInherit.push("cx","cy","r","fx","fy","fr"),o}return A(n,[{key:"getGradient",value:function(e,t){var n="objectBoundingBox"===this.getGradientUnits(),r=t.getBoundingBox(e);if(n&&!r)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=n?r.x+r.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=n?r.y+r.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),a=i,s=o;this.getAttribute("fx").hasValue()&&(a=n?r.x+r.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(s=n?r.y+r.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=n?(r.width+r.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return e.createRadialGradient(a,s,c,i,o,u)}}]),n}(oO),uO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;v(this,n),o=t.call(this,e,r,i),o.type="stop";var a=Math.max(0,Math.min(1,o.getAttribute("offset").getNumber())),s=o.getStyle("stop-opacity"),u=o.getStyle("stop-color",!0);return""===u.getString()&&u.setValue("#000"),s.hasValue()&&(u=u.addOpacity(s)),o.offset=a,o.color=u.getColor(),o}return n}(OI),cO=function(e){d(n,e);var t=f(n);function n(e,r,i){var a;v(this,n),a=t.call(this,e,r,i),a.type="animate",a.duration=0,a.initialValue=null,a.initialUnits="",a.removed=!1,a.frozen=!1,e.screen.animations.push(o(a)),a.begin=a.getAttribute("begin").getMilliseconds(),a.maxDuration=a.begin+a.getAttribute("dur").getMilliseconds(),a.from=a.getAttribute("from"),a.to=a.getAttribute("to"),a.values=new AI(e,"values",null);var s=a.getAttribute("values");return s.hasValue()&&a.values.setValue(s.getString().split(";")),a}return A(n,[{key:"getProperty",value:function(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return"CSS"===e?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}},{key:"calcValue",value:function(){var e=this.initialUnits,t=this.getProgress(),n=t.progress,r=t.from,i=t.to,o=r.getNumber()+(i.getNumber()-r.getNumber())*n;return"%"===e&&(o*=100),"".concat(o).concat(e)}},{key:"update",value:function(e){var t=this.parent,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var r=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==r||this.frozen){if("remove"===r&&!this.removed)return this.removed=!0,n.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=n.getString();return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var o=this.calcValue(),a=this.getAttribute("type");if(a.hasValue()){var s=a.getString();o="".concat(s,"(").concat(o,")")}n.setValue(o),i=!0}return i}},{key:"getProgress",value:function(){var e=this.document,t=this.values,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var r=n.progress*(t.getValue().length-1),i=Math.floor(r),o=Math.ceil(r);n.from=new AI(e,"from",parseFloat(t.getValue()[i])),n.to=new AI(e,"to",parseFloat(t.getValue()[o])),n.progress=(r-i)/(o-i)}else n.from=this.from,n.to=this.to;return n}}]),n}(OI),lO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="animateColor",e}return A(n,[{key:"calcValue",value:function(){var e=this.getProgress(),t=e.progress,n=e.from,r=e.to,i=new xE(n.getColor()),o=new xE(r.getColor());if(i.ok&&o.ok){var a=i.r+(o.r-i.r)*t,s=i.g+(o.g-i.g)*t,u=i.b+(o.b-i.b)*t;return"rgb(".concat(Math.floor(a),", ").concat(Math.floor(s),", ").concat(Math.floor(u),")")}return this.getAttribute("from").getColor()}}]),n}(cO),dO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="animateTransform",e}return A(n,[{key:"calcValue",value:function(){var e=this.getProgress(),t=e.progress,n=e.from,r=e.to,i=QT(n.getString()),o=QT(r.getString()),a=i.map((function(e,n){var r=o[n];return e+(r-e)*t})).join(" ");return a}}]),n}(cO),fO=function(e){d(n,e);var t=f(n);function n(e,r,i){var a;v(this,n),a=t.call(this,e,r,i),a.type="font",a.glyphs={},a.horizAdvX=a.getAttribute("horiz-adv-x").getNumber();var s,c=e.definitions,l=o(a),d=l.children,f=u(d);try{for(f.s();!(s=f.n()).done;){var A=s.value;switch(A.type){case"font-face":a.fontFace=A;var h=A.getStyle("font-family");h.hasValue()&&(c[h.getString()]=o(a));break;case"missing-glyph":a.missingGlyph=A;break;case"glyph":var p=A;p.arabicForm?(a.isRTL=!0,a.isArabic=!0,"undefined"===typeof a.glyphs[p.unicode]&&(a.glyphs[p.unicode]={}),a.glyphs[p.unicode][p.arabicForm]=p):a.glyphs[p.unicode]=p;break}}}catch(m){f.e(m)}finally{f.f()}return a}return A(n,[{key:"render",value:function(){}}]),n}(OI),AO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="font-face",o.ascent=o.getAttribute("ascent").getNumber(),o.descent=o.getAttribute("descent").getNumber(),o.unitsPerEm=o.getAttribute("units-per-em").getNumber(),o}return n}(OI),hO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="missing-glyph",e.horizAdvX=0,e}return n}(jI),pO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="tref",e}return A(n,[{key:"getText",value:function(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}]),n}(GI),mO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;v(this,n),o=t.call(this,e,r,i),o.type="a";var a=r.childNodes,s=a[0],u=a.length>0&&Array.from(a).every((function(e){return 3===e.nodeType}));return o.hasText=u,o.text=u?o.getTextFromNode(s):"",o}return A(n,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(e){if(this.hasText){c(l(n.prototype),"renderChildren",this).call(this,e);var t=this.document,r=this.x,i=this.y,o=t.screen.mouse,a=new AI(t,"fontSize",HI.parse(t.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new RI(r,i-a.getPixels("y"),r+this.measureText(e),i))}else if(this.children.length>0){var s=new iO(this.document,null);s.children=this.children,s.parent=this,s.render(e)}}},{key:"onClick",value:function(){var e=this.document.window;e&&e.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}]),n}(GI);function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach((function(t){ID(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;v(this,n),o=t.call(this,e,r,i),o.type="textPath",o.textWidth=0,o.textHeight=0,o.pathLength=-1,o.glyphInfo=null,o.letterSpacingCache=[],o.measuresCache=new Map([["",0]]);var a=o.getHrefAttribute().getDefinition();return o.text=o.getTextFromNode(),o.dataArray=o.parsePathData(a),o}return A(n,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(e){var t=this.dataArray;e&&e.beginPath(),t.forEach((function(t){var n=t.type,r=t.points;switch(n){case VI.LINE_TO:e&&e.lineTo(r[0],r[1]);break;case VI.MOVE_TO:e&&e.moveTo(r[0],r[1]);break;case VI.CURVE_TO:e&&e.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case VI.QUAD_TO:e&&e.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case VI.ARC:var i=g(r,8),o=i[0],a=i[1],s=i[2],u=i[3],c=i[4],l=i[5],d=i[6],f=i[7],A=s>u?s:u,h=s>u?1:s/u,p=s>u?u/s:1;e&&(e.translate(o,a),e.rotate(d),e.scale(h,p),e.arc(0,0,A,c,c+l,Boolean(1-f)),e.scale(1/h,1/p),e.rotate(-d),e.translate(-o,-a));break;case VI.CLOSE_PATH:e&&e.closePath();break}}))}},{key:"renderChildren",value:function(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),r=this.glyphInfo,i=e.fillStyle;"underline"===t&&e.beginPath(),r.forEach((function(r,i){var o=r.p0,a=r.p1,s=r.rotation,u=r.text;e.save(),e.translate(o.x,o.y),e.rotate(s),e.fillStyle&&e.fillText(u,0,0),e.strokeStyle&&e.strokeText(u,0,0),e.restore(),"underline"===t&&(0===i&&e.moveTo(o.x,o.y+n/8),e.lineTo(a.x,a.y+n/5))})),"underline"===t&&(e.lineWidth=n/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}},{key:"getLetterSpacingAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[e]||0}},{key:"findSegmentToFitChar",value:function(e,t,n,r,i,o,a,s,u){var c=o,l=this.measureText(e,s);" "===s&&"justify"===t&&n<r&&(l+=(r-n)/i),u>-1&&(c+=this.getLetterSpacingAt(u));var d=this.textHeight/20,f=this.getEquidistantPointOnPath(c,d,0),A=this.getEquidistantPointOnPath(c+l,d,0),h={p0:f,p1:A},p=f&&A?Math.atan2(A.y-f.y,A.x-f.x):0;if(a){var m=Math.cos(Math.PI/2+p)*a,g=Math.cos(-p)*a;h.p0=vO(vO({},f),{},{x:f.x+m,y:f.y+g}),h.p1=vO(vO({},A),{},{x:A.x+m,y:A.y+g})}return c+=l,{offset:c,segment:h,rotation:p}}},{key:"measureText",value:function(e,t){var n=this.measuresCache,r=t||this.getText();if(n.has(r))return n.get(r);var i=this.measureTargetText(e,r);return n.set(r,i),i}},{key:"setTextData",value:function(e){var t=this;if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,o=this.parent.getAttribute("dx").split().map((function(e){return e.getPixels("x")})),a=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),c=this.parent.getStyle("letter-spacing"),l=0;u.hasValue()&&"inherit"!==u.getValue()?u.hasValue()&&"initial"!==u.getValue()&&"unset"!==u.getValue()&&(l=u.getPixels()):l=c.getPixels();var d=[],f=n.length;this.letterSpacingCache=d;for(var A=0;A<f;A++)d.push("undefined"!==typeof o[A]?o[A]:l);var h=d.reduce((function(e,t,n){return 0===n?0:e+t||0}),0),p=this.measureText(e),m=Math.max(p+h,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),v=this.getStyle("startOffset").getNumber(0)*g,y=0;"middle"!==s&&"center"!==s||(y=-m/2),"end"!==s&&"right"!==s||(y=-m),y+=v,r.forEach((function(n,o){var u=t.findSegmentToFitChar(e,s,m,g,i,y,a,n,o),c=u.offset,l=u.segment,d=u.rotation;y=c,l.p0&&l.p1&&t.glyphInfo.push({text:r[o],p0:l.p0,p1:l.p1,rotation:d})}))}}},{key:"parsePathData",value:function(e){if(this.pathLength=-1,!e)return[];var t=[],n=e.pathParser;n.reset();while(!n.isEnd()){var r=n.current,i=r?r.x:0,o=r?r.y:0,a=n.next(),s=a.type,u=[];switch(a.type){case VI.MOVE_TO:this.pathM(n,u);break;case VI.LINE_TO:s=this.pathL(n,u);break;case VI.HORIZ_LINE_TO:s=this.pathH(n,u);break;case VI.VERT_LINE_TO:s=this.pathV(n,u);break;case VI.CURVE_TO:this.pathC(n,u);break;case VI.SMOOTH_CURVE_TO:s=this.pathS(n,u);break;case VI.QUAD_TO:this.pathQ(n,u);break;case VI.SMOOTH_QUAD_TO:s=this.pathT(n,u);break;case VI.ARC:u=this.pathA(n);break;case VI.CLOSE_PATH:jI.pathZ(n);break}a.type!==VI.CLOSE_PATH?t.push({type:s,points:u,start:{x:i,y:o},pathLength:this.calcLength(i,o,s,u)}):t.push({type:VI.CLOSE_PATH,points:[],pathLength:0})}return t}},{key:"pathM",value:function(e,t){var n=jI.pathM(e).point,r=n.x,i=n.y;t.push(r,i)}},{key:"pathL",value:function(e,t){var n=jI.pathL(e).point,r=n.x,i=n.y;return t.push(r,i),VI.LINE_TO}},{key:"pathH",value:function(e,t){var n=jI.pathH(e).point,r=n.x,i=n.y;return t.push(r,i),VI.LINE_TO}},{key:"pathV",value:function(e,t){var n=jI.pathV(e).point,r=n.x,i=n.y;return t.push(r,i),VI.LINE_TO}},{key:"pathC",value:function(e,t){var n=jI.pathC(e),r=n.point,i=n.controlPoint,o=n.currentPoint;t.push(r.x,r.y,i.x,i.y,o.x,o.y)}},{key:"pathS",value:function(e,t){var n=jI.pathS(e),r=n.point,i=n.controlPoint,o=n.currentPoint;return t.push(r.x,r.y,i.x,i.y,o.x,o.y),VI.CURVE_TO}},{key:"pathQ",value:function(e,t){var n=jI.pathQ(e),r=n.controlPoint,i=n.currentPoint;t.push(r.x,r.y,i.x,i.y)}},{key:"pathT",value:function(e,t){var n=jI.pathT(e),r=n.controlPoint,i=n.currentPoint;return t.push(r.x,r.y,i.x,i.y),VI.QUAD_TO}},{key:"pathA",value:function(e){var t=jI.pathA(e),n=t.rX,r=t.rY,i=t.sweepFlag,o=t.xAxisRotation,a=t.centp,s=t.a1,u=t.ad;return 0===i&&u>0&&(u-=2*Math.PI),1===i&&u<0&&(u+=2*Math.PI),[a.x,a.y,n,r,s,u,o,i]}},{key:"calcLength",value:function(e,t,n,r){var i=0,o=null,a=null,s=0;switch(n){case VI.LINE_TO:return this.getLineLength(e,t,r[0],r[1]);case VI.CURVE_TO:for(i=0,o=this.getPointOnCubicBezier(0,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),s=.01;s<=1;s+=.01)a=this.getPointOnCubicBezier(s,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case VI.QUAD_TO:for(i=0,o=this.getPointOnQuadraticBezier(0,e,t,r[0],r[1],r[2],r[3]),s=.01;s<=1;s+=.01)a=this.getPointOnQuadraticBezier(s,e,t,r[0],r[1],r[2],r[3]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case VI.ARC:i=0;var u=r[4],c=r[5],l=r[4]+c,d=Math.PI/180;if(Math.abs(u-l)<d&&(d=Math.abs(u-l)),o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),c<0)for(s=u-d;s>l;s-=d)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(s=u+d;s<l;s+=d)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),i}return 0}},{key:"getPointOnLine",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,s=(i-n)/(r-t+nI),u=Math.sqrt(e*e/(1+s*s));r<t&&(u*=-1);var c=s*u,l=null;if(r===t)l={x:o,y:a+c};else if((a-n)/(o-t+nI)===s)l={x:o+u,y:a+c};else{var d=0,f=0,A=this.getLineLength(t,n,r,i);if(A<nI)return null;var h=(o-t)*(r-t)+(a-n)*(i-n);h/=A*A,d=t+h*(r-t),f=n+h*(i-n);var p=this.getLineLength(o,a,d,f),m=Math.sqrt(e*e-p*p);u=Math.sqrt(m*m/(1+s*s)),r<t&&(u*=-1),c=s*u,l={x:d+u,y:f+c}}return l}},{key:"getPointOnPath",value:function(e){var t=this.getPathLength(),n=0,r=null;if(e<-5e-5||e-5e-5>t)return null;var i,o=this.dataArray,a=u(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!s||!(s.pathLength<5e-5||n+s.pathLength+5e-5<e)){var c=e-n,l=0;switch(s.type){case VI.LINE_TO:r=this.getPointOnLine(c,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case VI.ARC:var d=s.points[4],f=s.points[5],A=s.points[4]+f;if(l=d+c/s.pathLength*f,f<0&&l<A||f>=0&&l>A)break;r=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],l,s.points[6]);break;case VI.CURVE_TO:l=c/s.pathLength,l>1&&(l=1),r=this.getPointOnCubicBezier(l,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case VI.QUAD_TO:l=c/s.pathLength,l>1&&(l=1),r=this.getPointOnQuadraticBezier(l,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(r)return r;break}n+=s.pathLength}}catch(h){a.e(h)}finally{a.f()}return null}},{key:"getLineLength",value:function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}},{key:"getPathLength",value:function(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((function(e,t){return t.pathLength>0?e+t.pathLength:e}),0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(e,t,n,r,i,o,a,s,u){var c=s*aI(e)+o*sI(e)+r*uI(e)+t*cI(e),l=u*aI(e)+a*sI(e)+i*uI(e)+n*cI(e);return{x:c,y:l}}},{key:"getPointOnQuadraticBezier",value:function(e,t,n,r,i,o,a){var s=o*lI(e)+r*dI(e)+t*fI(e),u=a*lI(e)+i*dI(e)+n*fI(e);return{x:s,y:u}}},{key:"getPointOnEllipticalArc",value:function(e,t,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),u={x:n*Math.cos(i),y:r*Math.sin(i)};return{x:e+(u.x*a-u.y*s),y:t+(u.x*s+u.y*a)}}},{key:"buildEquidistantCache",value:function(e,t){var n=this.getPathLength(),r=t||.25,i=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==r){this.equidistantCache={step:i,precision:r,points:[]};for(var o=0,a=0;a<=n;a+=r){var s=this.getPointOnPath(a),u=this.getPointOnPath(a+r);s&&u&&(o+=this.getLineLength(s.x,s.y,u.x,u.y),o>=i&&(this.equidistantCache.points.push({x:s.x,y:s.y,distance:a}),o-=i))}}}},{key:"getEquidistantPointOnPath",value:function(e,t,n){if(this.buildEquidistantCache(t,n),e<0||e-this.getPathLength()>5e-5)return null;var r=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[r]||null}}]),n}(GI),bO=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i,wO=function(e){d(n,e);var t=f(n);function n(e,r,a){var s;v(this,n),s=t.call(this,e,r,a),s.type="image",s.loaded=!1;var u=s.getHrefAttribute().getString();if(!u)return i(s);var c=u.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(u);return e.images.push(o(s)),c?s.loadSvg(u):s.loadImage(u),s.isSvg=c,s}return A(n,[{key:"loadImage",value:function(e){var t=this;return RC(a.mark((function n(){var r;return a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.document.createImage(e);case 3:r=n.sent,t.image=r,n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error('Error while loading image "'.concat(e,'":'),n.t0);case 10:t.loaded=!0;case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},{key:"loadSvg",value:function(e){var t=this;return RC(a.mark((function n(){var r,i,o,s;return a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=bO.exec(e),!r){n.next=6;break}i=r[5],"base64"===r[4]?t.image=atob(i):t.image=decodeURIComponent(i),n.next=19;break;case 6:return n.prev=6,n.next=9,t.document.fetch(e);case 9:return o=n.sent,n.next=12,o.text();case 12:s=n.sent,t.image=s,n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](6),console.error('Error while loading image "'.concat(e,'":'),n.t0);case 19:t.loaded=!0;case 20:case"end":return n.stop()}}),n,null,[[6,16]])})))()}},{key:"renderChildren",value:function(e){var t=this.document,n=this.image,r=this.loaded,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(r&&n&&a&&s){if(e.save(),e.translate(i,o),this.isSvg){var u=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:a,scaleHeight:s});u.document.documentElement.parent=this,u.render()}else{var c=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:c.width,height:s,desiredHeight:c.height}),this.loaded&&("undefined"===typeof c.complete||c.complete)&&e.drawImage(c,0,0)}e.restore()}}},{key:"getBoundingBox",value:function(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new RI(e,t,e+n,t+r)}}]),n}(QI),xO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="symbol",e}return A(n,[{key:"render",value:function(e){}}]),n}(QI),CO=function(){function e(t){v(this,e),this.document=t,this.loaded=!1,t.fonts.push(this)}return A(e,[{key:"load",value:function(e,t){var n=this;return RC(a.mark((function r(){var i,o,s;return a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,i=n.document,r.next=4,i.canvg.parser.load(t);case 4:o=r.sent,s=o.getElementsByTagName("font"),Array.from(s).forEach((function(t){var n=i.createElement(t);i.definitions[e]=n})),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),console.error('Error while loading font "'.concat(t,'":'),r.t0);case 12:n.loaded=!0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}]),e}(),SO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;v(this,n),o=t.call(this,e,r,i),o.type="style";var a=HT(Array.from(r.childNodes).map((function(e){return e.textContent})).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),s=a.split("}");return s.forEach((function(t){var n=t.trim();if(n){var r=n.split("{"),i=r[0].split(","),o=r[1].split(";");i.forEach((function(t){var n=t.trim();if(n){var r=e.styles[n]||{};if(o.forEach((function(t){var n=t.indexOf(":"),i=t.substr(0,n).trim(),o=t.substr(n+1,t.length-n).trim();i&&o&&(r[i]=new AI(e,i,o))})),e.styles[n]=r,e.stylesSpecificity[n]=tI(n),"@font-face"===n){var i=r["font-family"].getString().replace(/"|'/g,""),a=r.src.getString().split(",");a.forEach((function(t){if(t.indexOf('format("svg")')>0){var n=GT(t);n&&new CO(e).load(i,n)}}))}}}))}})),o}return n}(OI);SO.parseExternalUrl=GT;var kO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="use",e}return A(n,[{key:"setContext",value:function(e){c(l(n.prototype),"setContext",this).call(this,e);var t=this.getAttribute("x"),r=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),r.hasValue()&&e.translate(0,r.getPixels("y"))}},{key:"path",value:function(e){var t=this.element;t&&t.path(e)}},{key:"renderChildren",value:function(e){var t=this.document,n=this.element;if(n){var r=n;if("symbol"===n.type&&(r=new WI(t,null),r.attributes.viewBox=new AI(t,"viewBox",n.getAttribute("viewBox").getString()),r.attributes.preserveAspectRatio=new AI(t,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),r.attributes.overflow=new AI(t,"overflow",n.getAttribute("overflow").getString()),r.children=n.children,n.styles.opacity=new AI(t,"opacity",this.calculateOpacity())),"svg"===r.type){var i=this.getStyle("width",!1,!0),o=this.getStyle("height",!1,!0);i.hasValue()&&(r.attributes.width=new AI(t,"width",i.getString())),o.hasValue()&&(r.attributes.height=new AI(t,"height",o.getString()))}var a=r.parent;r.parent=this,r.render(e),r.parent=a}}},{key:"getBoundingBox",value:function(e){var t=this.element;return t?t.getBoundingBox(e):null}},{key:"elementTransform",value:function(){var e=this.document,t=this.element;return II.fromElement(e,t)}},{key:"element",get:function(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}]),n}(QI);function _O(e,t,n,r,i,o){return e[n*r*4+4*t+o]}function BO(e,t,n,r,i,o,a){e[n*r*4+4*t+o]=a}function DO(e,t,n){var r=e[t];return r*n}function MO(e,t,n,r){return t+Math.cos(e)*n+Math.sin(e)*r}var EO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;v(this,n),o=t.call(this,e,r,i),o.type="feColorMatrix";var a=QT(o.getAttribute("values").getString());switch(o.getAttribute("type").getString("matrix")){case"saturate":var s=a[0];a=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var u=a[0]*Math.PI/180;a=[MO(u,.213,.787,-.213),MO(u,.715,-.715,-.715),MO(u,.072,-.072,.928),0,0,MO(u,.213,-.213,.143),MO(u,.715,.285,.14),MO(u,.072,-.072,-.283),0,0,MO(u,.213,-.213,-.787),MO(u,.715,-.715,.715),MO(u,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}return o.matrix=a,o.includeOpacity=o.getAttribute("includeOpacity").hasValue(),o}return A(n,[{key:"apply",value:function(e,t,n,r,i){for(var o=this.includeOpacity,a=this.matrix,s=e.getImageData(0,0,r,i),u=0;u<i;u++)for(var c=0;c<r;c++){var l=_O(s.data,c,u,r,i,0),d=_O(s.data,c,u,r,i,1),f=_O(s.data,c,u,r,i,2),A=_O(s.data,c,u,r,i,3),h=DO(a,0,l)+DO(a,1,d)+DO(a,2,f)+DO(a,3,A)+DO(a,4,1),p=DO(a,5,l)+DO(a,6,d)+DO(a,7,f)+DO(a,8,A)+DO(a,9,1),m=DO(a,10,l)+DO(a,11,d)+DO(a,12,f)+DO(a,13,A)+DO(a,14,1),g=DO(a,15,l)+DO(a,16,d)+DO(a,17,f)+DO(a,18,A)+DO(a,19,1);o&&(h=0,p=0,m=0,g*=A/255),BO(s.data,c,u,r,i,0,h),BO(s.data,c,u,r,i,1,p),BO(s.data,c,u,r,i,2,m),BO(s.data,c,u,r,i,3,g)}e.clearRect(0,0,r,i),e.putImageData(s,0,0)}}]),n}(OI),TO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="mask",e}return A(n,[{key:"apply",value:function(e,t){var r=this.document,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!a&&!s){var u=new RI;this.children.forEach((function(t){u.addBoundingBox(t.getBoundingBox(e))})),i=Math.floor(u.x1),o=Math.floor(u.y1),a=Math.floor(u.width),s=Math.floor(u.height)}var c=this.removeStyles(t,n.ignoreStyles),l=r.createCanvas(i+a,o+s),d=l.getContext("2d");r.screen.setDefaults(d),this.renderChildren(d),new EO(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+a,o+s);var f=r.createCanvas(i+a,o+s),A=f.getContext("2d");r.screen.setDefaults(A),t.render(A),A.globalCompositeOperation="destination-in",A.fillStyle=d.createPattern(l,"no-repeat"),A.fillRect(0,0,i+a,o+s),e.fillStyle=A.createPattern(f,"no-repeat"),e.fillRect(0,0,i+a,o+s),this.restoreStyles(t,c)}},{key:"render",value:function(e){}}]),n}(OI);TO.ignoreStyles=["mask","transform","clip-path"];var IO=function(){},OO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="clipPath",e}return A(n,[{key:"apply",value:function(e){var t=this.document,n=Reflect.getPrototypeOf(e),r=e.beginPath,i=e.closePath;n&&(n.beginPath=IO,n.closePath=IO),Reflect.apply(r,e,[]),this.children.forEach((function(r){if("undefined"!==typeof r.path){var o="undefined"!==typeof r.elementTransform?r.elementTransform():null;o||(o=II.fromElement(t,r)),o&&o.apply(e),r.path(e),n&&(n.closePath=i),o&&o.unapply(e)}})),Reflect.apply(i,e,[]),e.clip(),n&&(n.beginPath=r,n.closePath=i)}},{key:"render",value:function(e){}}]),n}(OI),LO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="filter",e}return A(n,[{key:"apply",value:function(e,t){var r=this.document,i=this.children,o=t.getBoundingBox(e);if(o){var a=0,s=0;i.forEach((function(e){var t=e.extraFilterDistance||0;a=Math.max(a,t),s=Math.max(s,t)}));var u=Math.floor(o.width),c=Math.floor(o.height),l=u+2*a,d=c+2*s;if(!(l<1||d<1)){var f=Math.floor(o.x),A=Math.floor(o.y),h=this.removeStyles(t,n.ignoreStyles),p=r.createCanvas(l,d),m=p.getContext("2d");r.screen.setDefaults(m),m.translate(-f+a,-A+s),t.render(m),i.forEach((function(e){"function"===typeof e.apply&&e.apply(m,0,0,l,d)})),e.drawImage(p,0,0,l,d,f-a,A-s,l,d),this.restoreStyles(t,h)}}}},{key:"render",value:function(e){}}]),n}(OI);LO.ignoreStyles=["filter","transform","clip-path"];var FO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="feDropShadow",o.addStylesFromStyleDefinition(),o}return A(n,[{key:"apply",value:function(e,t,n,r,i){}}]),n}(OI),PO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="feMorphology",e}return A(n,[{key:"apply",value:function(e,t,n,r,i){}}]),n}(OI),NO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="feComposite",e}return A(n,[{key:"apply",value:function(e,t,n,r,i){}}]),n}(OI),UO=function(e){d(n,e);var t=f(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,r,i),o.type="feGaussianBlur",o.blurRadius=Math.floor(o.getAttribute("stdDeviation").getNumber()),o.extraFilterDistance=o.blurRadius,o}return A(n,[{key:"apply",value:function(e,t,n,r,i){var o=this.document,a=this.blurRadius,s=o.window?o.window.document.body:null,u=e.canvas;u.id=o.getUniqueId(),s&&(u.style.display="none",s.appendChild(u)),OT(u,t,n,r,i,a),s&&s.removeChild(u)}}]),n}(OI),HO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="title",e}return n}(OI),RO=function(e){d(n,e);var t=f(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),e.type="desc",e}return n}(OI),VO={svg:WI,rect:$I,circle:XI,ellipse:YI,line:JI,polyline:ZI,polygon:eO,path:jI,pattern:tO,marker:nO,defs:rO,linearGradient:aO,radialGradient:sO,stop:uO,animate:cO,animateColor:lO,animateTransform:dO,font:fO,"font-face":AO,"missing-glyph":hO,glyph:zI,text:GI,tspan:KI,tref:pO,a:mO,textPath:yO,image:wO,g:iO,symbol:xO,style:SO,use:kO,mask:TO,clipPath:OO,filter:LO,feDropShadow:FO,feMorphology:PO,feComposite:NO,feColorMatrix:EO,feGaussianBlur:UO,title:HO,desc:RO};function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){ID(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zO(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function GO(e){return KO.apply(this,arguments)}function KO(){return KO=RC(a.mark((function e(t){var n,r,i=arguments;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=document.createElement("img"),n&&(r.crossOrigin="Anonymous"),e.abrupt("return",new Promise((function(e,n){r.onload=function(){e(r)},r.onerror=function(e,t,r,i,o){n(o)},r.src=t})));case 4:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}var qO=function(){function e(t){v(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rootEmSize,i=void 0===r?12:r,o=n.emSize,a=void 0===o?12:o,s=n.createCanvas,u=void 0===s?e.createCanvas:s,c=n.createImage,l=void 0===c?e.createImage:c,d=n.anonymousCrossOrigin;this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=i,this.emSize=a,this.createCanvas=u,this.createImage=this.bindCreateImage(l,d),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return A(e,[{key:"bindCreateImage",value:function(e,t){return"boolean"===typeof t?function(n,r){return e(n,"boolean"===typeof r?r:t)}:e}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var e=this.emSizeStack;return e[e.length-1]},set:function(e){var t=this.emSizeStack;t.push(e)}},{key:"popEmSize",value:function(){var e=this.emSizeStack;e.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every((function(e){return e.loaded}))}},{key:"isFontsLoaded",value:function(){return this.fonts.every((function(e){return e.loaded}))}},{key:"createDocumentElement",value:function(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}},{key:"createElement",value:function(t){var n=t.nodeName.replace(/^[^:]+:/,""),r=e.elementTypes[n];return"undefined"!==typeof r?new r(this,t):new LI(this,t)}},{key:"createTextNode",value:function(e){return new qI(this,e)}},{key:"setViewBox",value:function(e){this.screen.setViewBox(jO({document:this},e))}}]),e}();function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WO(Object(n),!0).forEach((function(t){ID(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qO.createCanvas=zO,qO.createImage=GO,qO.elementTypes=VO;var XO=function(){function e(t,n){v(this,e);var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new xI(r),this.screen=new yI(t,r),this.options=r;var i=new qO(this,r),o=i.createDocumentElement(n);this.document=i,this.documentElement=o}return A(e,[{key:"fork",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.from(t,n,$O($O({},this.options),r))}},{key:"forkString",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromString(t,n,$O($O({},this.options),r))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:function(){var e=arguments,t=this;return RC(a.mark((function n(){var r;return a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},t.start($O({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),n.next=4,t.ready();case 4:t.stop();case 5:case"end":return n.stop()}}),n)})))()}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.documentElement,n=this.screen,r=this.options;n.start(t,$O($O({enableRedraw:!0},r),e))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(e,t,n)}}],[{key:"from",value:function(t,n){var r=arguments;return RC(a.mark((function i(){var o,s,u;return a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=r.length>2&&void 0!==r[2]?r[2]:{},s=new xI(o),i.next=4,s.parse(n);case 4:return u=i.sent,i.abrupt("return",new e(t,u,o));case 6:case"end":return i.stop()}}),i)})))()}},{key:"fromString",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new xI(r),o=i.parseFromString(n);return new e(t,o,r)}}]),e}(),YO=Object.freeze({__proto__:null,AElement:mO,AnimateColorElement:lO,AnimateElement:cO,AnimateTransformElement:dO,BoundingBox:RI,CB1:aI,CB2:sI,CB3:uI,CB4:cI,Canvg:XO,CircleElement:XI,ClipPathElement:OO,DefsElement:rO,DescElement:RO,Document:qO,Element:OI,EllipseElement:YI,FeColorMatrixElement:EO,FeCompositeElement:NO,FeDropShadowElement:FO,FeGaussianBlurElement:UO,FeMorphologyElement:PO,FilterElement:LO,Font:HI,FontElement:fO,FontFaceElement:AO,GElement:iO,GlyphElement:zI,GradientElement:oO,ImageElement:wO,LineElement:JI,LinearGradientElement:aO,MarkerElement:nO,MaskElement:TO,Matrix:_I,MissingGlyphElement:hO,Mouse:mI,PSEUDO_ZERO:nI,Parser:xI,PathElement:jI,PathParser:VI,PatternElement:tO,Point:pI,PolygonElement:eO,PolylineElement:ZI,Property:AI,QB1:lI,QB2:dI,QB3:fI,RadialGradientElement:sO,RectElement:$I,RenderedElement:QI,Rotate:SI,SVGElement:WI,SVGFontLoader:CO,Scale:kI,Screen:yI,Skew:BI,SkewX:DI,SkewY:MI,StopElement:uO,StyleElement:SO,SymbolElement:xO,TRefElement:pO,TSpanElement:KI,TextElement:GI,TextPathElement:yO,TitleElement:HO,Transform:II,Translate:CI,UnknownElement:LI,UseElement:kO,ViewPort:hI,compressSpaces:HT,default:XO,getSelectorSpecificity:tI,normalizeAttributeName:zT,normalizeColor:KT,parseExternalUrl:GT,presets:UT,toNumbers:QT,trimLeft:RT,trimRight:VT,vectorMagnitude:rI,vectorsAngle:oI,vectorsRatio:iI});e.exports=bf}).call(this,n("c8ba"),n("4362"))},f403:function(e,t,n){},f62d:function(e){e.exports=JSON.parse('[{"type":"input","layoutType":"inline","text":"唯一标识","bindKey":"ctrlId","disabled":true,"default":"@[connId]","desc":"","helpUrl":""},{"type":"group","text":"基本信息","desc":"用于设置连线的基本属性","openGroup":true,"children":[{"type":"input","layoutType":"inline","text":"名称","bindKey":"title","placeholder":"请输入","desc":"用于设置连线的名称，注意：此名称不会显示在线条上","default":""},{"type":"select","layoutType":"inline","text":"连线类型","bindKey":"linkType","dictionary":[{"label":"贝塞尔曲线","value":"Bezier"},{"label":"直线","value":"Straight"},{"label":"流程图","value":"Flowchart"},{"label":"状态机","value":"StateMachine"}],"desc":"用于设置连线的类型","default":"Flowchart"},{"type":"inputNumber","layoutType":"inline","text":"曲线值","bindKey":"BezierCurviness","placeholder":"请输入","desc":"curviness默认为150，定义了贝塞尔控制点与锚点之间以像素为单位的距离。这并不意味着连接器将在距离曲线的这个距离处通过一个点。它暗示了你希望曲线如何移动。更多请自行查询","display":"@[linkType==\'Bezier\']","default":"150"},{"type":"inputNumber","layoutType":"inline","text":"存根","bindKey":"StraightStub","placeholder":"请输入","desc":"stub默认为0，定义了任何正值将导致在连接到连接的另一端的直段之前从端点发出该长度的存根。更多请自行查询","display":"@[linkType==\'Straight\']","default":"0"},{"type":"inputNumber","layoutType":"inline","text":"间隙","bindKey":"StraightGap","placeholder":"请输入","desc":"gap默认为0，定义了端点与存根起点或连接到另一个端点的段之间的间隔。更多请自行查询","display":"@[linkType==\'Straight\']","default":"0"},{"type":"inputNumber","layoutType":"inline","text":"存根","bindKey":"FlowchartStub","placeholder":"请输入","desc":"stub默认为30，定义了从端点发出的初始存根的最小长度，以像素为单位。更多请自行查询","display":"@[linkType==\'Flowchart\']","default":"30"},{"type":"inputNumber","layoutType":"inline","text":"间隙","bindKey":"FlowchartGap","placeholder":"请输入","desc":"gap默认为2，定义了指定连接器的末端和它所连接的元素之间的间隙。更多请自行查询","display":"@[linkType==\'Flowchart\']","default":"2"},{"type":"inputNumber","layoutType":"inline","text":"圆角半径","bindKey":"FlowchartCornerRadius","placeholder":"请输入","desc":"cornerRadius默认为8，定义了该参数的正值将产生弯角段。更多请自行查询","display":"@[linkType==\'Flowchart\']","default":"8"},{"type":"inputNumber","layoutType":"inline","text":"中点","bindKey":"FlowchartMidpoint","placeholder":"请输入","desc":"midpoint默认为0.5，定义了这是两个元素之间的距离，流程图连接器的最长部分将被绘制。此参数对于您可以编程控制绘图，并且可能希望避免页面上的某些其他元素的情况非常有用。更多请自行查询","display":"@[linkType==\'Flowchart\']","default":"0.5"},{"type":"inputNumber","layoutType":"inline","text":"曲线值","bindKey":"StateMachineCurviness","placeholder":"请输入","desc":"curviness默认为10，定义了控制点与锚点之间以像素为单位的距离。这并不意味着连接器将在距离曲线的这个距离处通过一个点。它暗示了你希望曲线如何移动。更多请自行查询","display":"@[linkType==\'StateMachine\']","default":"10"},{"type":"inputNumber","layoutType":"inline","text":"连线距离","bindKey":"StateMachineMargin","placeholder":"请输入","desc":"margin默认为5，定义连接器从元素开始/结束的距离。更多请自行查询","display":"@[linkType==\'StateMachine\']","default":"5"},{"type":"inputNumber","layoutType":"inline","text":"最小距离","bindKey":"StateMachineProximityLimit","placeholder":"请输入","desc":"proximityLimit默认为80，在连接器将自身绘制为直线而不是二次贝塞尔曲线之前，连接器两端之间的最小距离。更多请自行查询","display":"@[linkType==\'StateMachine\']","default":"80"},{"type":"colorPicker","layoutType":"inline","text":"默认颜色","placeholder":"请选择颜色","default":{"hex8":"#1890ffFF"},"desc":"设置线条的默认状态下的填充颜色","bindKey":"PaintStyleStroke"},{"type":"inputNumber","layoutType":"inline","text":"默认宽度","bindKey":"PaintStyleStrokeWidth","placeholder":"请输入","desc":"设置线条的默认状态下的宽度","default":2},{"type":"colorPicker","layoutType":"inline","text":"悬浮颜色","placeholder":"请选择颜色","default":{"hex8":"#FF0000FF"},"desc":"设置线条的鼠标悬浮状态下的填充颜色","bindKey":"HoverPaintStyleStroke"},{"type":"inputNumber","layoutType":"inline","text":"悬浮宽度","bindKey":"HoverPaintStyleStrokeWidth","placeholder":"请输入","desc":"设置线条的鼠标悬浮状态下的宽度","default":3}]},{"type":"table","text":"叠加内容设置","desc":"用于设置连线上要显示的内容","bindKey":"overlayList","tabText":"内容[index]","default":[{"overlayId":"arrow","type":"Arrow","location":"1","arrowSize":"10,10"}],"children":[{"type":"input","layoutType":"inline","text":"唯一标识","bindKey":"overlayId","placeholder":"请输入","desc":"用于设置连线的唯一标识ID","default":""},{"type":"select","layoutType":"inline","text":"内容类型","bindKey":"type","dictionary":[{"label":"箭头","value":"Arrow"},{"label":"三角箭头","value":"PlainArrow"},{"label":"方块","value":"Diamond"},{"label":"文字标签","value":"Label"},{"label":"自定义","value":"Custom"}],"desc":"用于设置内容的类型","default":"Arrow"},{"type":"input","layoutType":"inline","text":"坐标位置","bindKey":"location","placeholder":"请输入","desc":"用于设置内容在连线上的位置，范围为[0...1]的小数，它表示沿连接器内刻的路径的一定比例的旅行量。默认值0.5就是这种形式，它意味着连接器上覆盖层的默认位置是路径中间的一个点。如果大于1的整数，表示从起点开始沿连接器移动的像素的绝对数量。如果小于零的整数，表示从端点开始沿连接器向后移动的像素的绝对数量。例如：0.5 代表中心，0.5,0 代表中心左上角开始，所以支持2种格式：X或者X,Y","default":"1"},{"type":"input","layoutType":"inline","text":"显示文本","bindKey":"labelText","placeholder":"请输入","display":"@[type==\'Label\']","desc":"用于设置显示的文字内容"},{"type":"inputNumberDouble","layoutType":"inline","text":"宽高","bindKey":"arrowSize","desc":"用于设置箭头的宽高","ctrlAttrObject":{"lock":true,"prefix":["W","H"]},"display":"@[type!=\'Label\'&&type!=\'Custom\']","default":"10,10"},{"type":"radio","layoutType":"inline","text":"方向","bindKey":"direction","dictionary":[{"label":"向前","value":1},{"label":"向后","value":-1}],"desc":"用于设置内容的方向，特别是对箭头有用","default":1},{"type":"actionSelect","layoutType":"block","text":"内容自定义函数","bindKey":"contentFunction","desc":"内容的自定义事件，函数接收参数为格式为{...自定义的,component：内容对象,overlaySetData:设置的对象}","multiple":false,"display":"@[type==\'Custom\']"},{"type":"actionSelect","layoutType":"block","text":"点击自定义函数","bindKey":"clickFunction","desc":"点击内容的自定义响应事件，函数接收参数为格式为{...自定义的,event, overlay：内容对象,overlaySetData:设置的对象}","multiple":true},{"type":"group","text":"样式设置","desc":"用于设置label的基础样式和字体样式","display":"@[type==\'Label\']","children":[{"type":"input","layoutType":"inline","text":"字体font","bindKey":"font","placeholder":"请输入","desc":"用于设置显示的文字内容的字体样式，详细可参考css的font，例如：12px sans-serif","default":"12px sans-serif"},{"type":"colorPicker","layoutType":"inline","text":"填充颜色","placeholder":"请选择颜色","default":{"hex8":"#FFFFFFFF"},"desc":"设置label的背景颜色","bindKey":"fillStyle"},{"type":"colorPicker","layoutType":"inline","text":"字体颜色","placeholder":"请选择颜色","default":{"hex8":"#000000FF"},"desc":"设置label的字体颜色","bindKey":"color"},{"type":"inputNumberUnit","layoutType":"inline","text":"边距","bindKey":"padding","placeholder":"请输入","desc":"标签的边距","dictionary":[{"label":"px","value":"px"},{"label":"%","value":"%"},{"label":"em","value":"em"},{"label":"vw","value":"vw"}]},{"type":"inputNumber","layoutType":"inline","text":"边框宽度","bindKey":"borderWidth","placeholder":"请输入","desc":"标签的边框宽度，默认0","default":"0"},{"type":"colorPicker","layoutType":"inline","text":"边框颜色","placeholder":"请选择颜色","desc":"设置label的边框颜色","bindKey":"borderStyle"}]}]}]')},fc39:function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},fd0f:function(e,t,n){}}]);
//# sourceMappingURL=develop.068ad1ec.js.map